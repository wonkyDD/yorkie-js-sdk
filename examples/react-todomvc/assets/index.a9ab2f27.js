(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ku={},Id={exports:{}},Bn={},Jr={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),Lp=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Vp=Symbol.for("react.memo"),zp=Symbol.for("react.lazy"),pf=Symbol.iterator;function Wp(e){return e===null||typeof e!="object"?null:(e=pf&&e[pf]||e["@@iterator"],typeof e=="function"?e:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pd=Object.assign,Ad={};function _s(e,n,i){this.props=e,this.context=n,this.refs=Ad,this.updater=i||Od}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=_s.prototype;function Ul(e,n,i){this.props=e,this.context=n,this.refs=Ad,this.updater=i||Od}var Jl=Ul.prototype=new Cd;Jl.constructor=Ul;Pd(Jl,_s.prototype);Jl.isPureReactComponent=!0;var gf=Array.isArray,Dd=Object.prototype.hasOwnProperty,$l={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,n,i){var o,l={},d=null,p=null;if(n!=null)for(o in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(d=""+n.key),n)Dd.call(n,o)&&!xd.hasOwnProperty(o)&&(l[o]=n[o]);var y=arguments.length-2;if(y===1)l.children=i;else if(1<y){for(var v=Array(y),g=0;g<y;g++)v[g]=arguments[g+2];l.children=v}if(e&&e.defaultProps)for(o in y=e.defaultProps,y)l[o]===void 0&&(l[o]=y[o]);return{$$typeof:Ao,type:e,key:d,ref:p,props:l,_owner:$l.current}}function Kp(e,n){return{$$typeof:Ao,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function jl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function Yp(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var yf=/\/+/g;function wu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Yp(""+e.key):n.toString(36)}function ha(e,n,i,o,l){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(d){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Ao:case Lp:p=!0}}if(p)return p=e,l=l(p),e=o===""?"."+wu(p,0):o,gf(l)?(i="",e!=null&&(i=e.replace(yf,"$&/")+"/"),ha(l,n,i,"",function(g){return g})):l!=null&&(jl(l)&&(l=Kp(l,i+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(yf,"$&/")+"/")+e)),n.push(l)),1;if(p=0,o=o===""?".":o+":",gf(e))for(var y=0;y<e.length;y++){d=e[y];var v=o+wu(d,y);p+=ha(d,n,i,v,l)}else if(v=Wp(e),typeof v=="function")for(e=v.call(e),y=0;!(d=e.next()).done;)d=d.value,v=o+wu(d,y++),p+=ha(d,n,i,v,l);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function Ho(e,n,i){if(e==null)return e;var o=[],l=0;return ha(e,o,"","",function(d){return n.call(i,d,l++)}),o}function qp(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},ma={transition:null},Gp={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:ma,ReactCurrentOwner:$l};_e.Children={map:Ho,forEach:function(e,n,i){Ho(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return Ho(e,function(){n++}),n},toArray:function(e){return Ho(e,function(n){return n})||[]},only:function(e){if(!jl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=_s;_e.Fragment=Mp;_e.Profiler=Fp;_e.PureComponent=Ul;_e.StrictMode=Bp;_e.Suspense=jp;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;_e.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Pd({},e.props),l=e.key,d=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,p=$l.current),n.key!==void 0&&(l=""+n.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(v in n)Dd.call(n,v)&&!xd.hasOwnProperty(v)&&(o[v]=n[v]===void 0&&y!==void 0?y[v]:n[v])}var v=arguments.length-2;if(v===1)o.children=i;else if(1<v){y=Array(v);for(var g=0;g<v;g++)y[g]=arguments[g+2];o.children=y}return{$$typeof:Ao,type:e.type,key:l,ref:d,props:o,_owner:p}};_e.createContext=function(e){return e={$$typeof:Jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Up,_context:e},e.Consumer=e};_e.createElement=_d;_e.createFactory=function(e){var n=_d.bind(null,e);return n.type=e,n};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:$p,render:e}};_e.isValidElement=jl;_e.lazy=function(e){return{$$typeof:zp,_payload:{_status:-1,_result:e},_init:qp}};_e.memo=function(e,n){return{$$typeof:Vp,type:e,compare:n===void 0?null:n}};_e.startTransition=function(e){var n=ma.transition;ma.transition={};try{e()}finally{ma.transition=n}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(e,n){return ln.current.useCallback(e,n)};_e.useContext=function(e){return ln.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};_e.useEffect=function(e,n){return ln.current.useEffect(e,n)};_e.useId=function(){return ln.current.useId()};_e.useImperativeHandle=function(e,n,i){return ln.current.useImperativeHandle(e,n,i)};_e.useInsertionEffect=function(e,n){return ln.current.useInsertionEffect(e,n)};_e.useLayoutEffect=function(e,n){return ln.current.useLayoutEffect(e,n)};_e.useMemo=function(e,n){return ln.current.useMemo(e,n)};_e.useReducer=function(e,n,i){return ln.current.useReducer(e,n,i)};_e.useRef=function(e){return ln.current.useRef(e)};_e.useState=function(e){return ln.current.useState(e)};_e.useSyncExternalStore=function(e,n,i){return ln.current.useSyncExternalStore(e,n,i)};_e.useTransition=function(){return ln.current.useTransition()};_e.version="18.2.0";(function(e){e.exports=_e})(Jr);var Rd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(K,ce){var Y=K.length;K.push(ce);e:for(;0<Y;){var me=Y-1>>>1,ue=K[me];if(0<l(ue,ce))K[me]=ce,K[Y]=ue,Y=me;else break e}}function i(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ce=K[0],Y=K.pop();if(Y!==ce){K[0]=Y;e:for(var me=0,ue=K.length,ve=ue>>>1;me<ve;){var Ie=2*(me+1)-1,Ne=K[Ie],Be=Ie+1,ze=K[Be];if(0>l(Ne,Y))Be<ue&&0>l(ze,Ne)?(K[me]=ze,K[Be]=Y,me=Be):(K[me]=Ne,K[Ie]=Y,me=Ie);else if(Be<ue&&0>l(ze,Y))K[me]=ze,K[Be]=Y,me=Be;else break e}}return ce}function l(K,ce){var Y=K.sortIndex-ce.sortIndex;return Y!==0?Y:K.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var p=Date,y=p.now();e.unstable_now=function(){return p.now()-y}}var v=[],g=[],k=1,S=null,C=3,A=!1,M=!1,B=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var ce=i(g);ce!==null;){if(ce.callback===null)o(g);else if(ce.startTime<=K)o(g),ce.sortIndex=ce.expirationTime,n(v,ce);else break;ce=i(g)}}function R(K){if(B=!1,I(K),!M)if(i(v)!==null)M=!0,ne(D);else{var ce=i(g);ce!==null&&te(R,ce.startTime-K)}}function D(K,ce){M=!1,B&&(B=!1,T(F),F=-1),A=!0;var Y=C;try{for(I(ce),S=i(v);S!==null&&(!(S.expirationTime>ce)||K&&!q());){var me=S.callback;if(typeof me=="function"){S.callback=null,C=S.priorityLevel;var ue=me(S.expirationTime<=ce);ce=e.unstable_now(),typeof ue=="function"?S.callback=ue:S===i(v)&&o(v),I(ce)}else o(v);S=i(v)}if(S!==null)var ve=!0;else{var Ie=i(g);Ie!==null&&te(R,Ie.startTime-ce),ve=!1}return ve}finally{S=null,C=Y,A=!1}}var E=!1,$=null,F=-1,b=5,z=-1;function q(){return!(e.unstable_now()-z<b)}function Z(){if($!==null){var K=e.unstable_now();z=K;var ce=!0;try{ce=$(!0,K)}finally{ce?V():(E=!1,$=null)}}else E=!1}var V;if(typeof N=="function")V=function(){N(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=Z,V=function(){re.postMessage(null)}}else V=function(){x(Z,0)};function ne(K){$=K,E||(E=!0,V())}function te(K,ce){F=x(function(){K(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){M||A||(M=!0,ne(D))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return i(v)},e.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var Y=C;C=ce;try{return K()}finally{C=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=C;C=K;try{return ce()}finally{C=Y}},e.unstable_scheduleCallback=function(K,ce,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,K){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,K={id:k++,callback:ce,priorityLevel:K,startTime:Y,expirationTime:ue,sortIndex:-1},Y>me?(K.sortIndex=Y,n(g,K),i(v)===null&&K===i(g)&&(B?(T(F),F=-1):B=!0,te(R,Y-me))):(K.sortIndex=ue,n(v,K),M||A||(M=!0,ne(D))),K},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(K){var ce=C;return function(){var Y=C;C=ce;try{return K.apply(this,arguments)}finally{C=Y}}}})(bd);(function(e){e.exports=bd})(Rd);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld=Jr.exports,Mn=Rd.exports;function se(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Md=new Set,co={};function zi(e,n){Ns(e,n),Ns(e+"Capture",n)}function Ns(e,n){for(co[e]=n,e=0;e<n.length;e++)Md.add(n[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,Hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vf={},Tf={};function Xp(e){return Yu.call(Tf,e)?!0:Yu.call(vf,e)?!1:Hp.test(e)?Tf[e]=!0:(vf[e]=!0,!1)}function Qp(e,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zp(e,n,i,o){if(n===null||typeof n>"u"||Qp(e,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function cn(e,n,i,o,l,d,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=p}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ft[n]=new cn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Vl,zl);Ft[n]=new cn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Vl,zl);Ft[n]=new cn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Vl,zl);Ft[n]=new cn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wl(e,n,i,o){var l=Ft.hasOwnProperty(n)?Ft[n]:null;(l!==null?l.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Zp(n,i,l,o)&&(i=null),o||l===null?Xp(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(n=l.attributeName,o=l.attributeNamespace,i===null?e.removeAttribute(n):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,o?e.setAttributeNS(o,n,i):e.setAttribute(n,i))))}var Kr=Ld.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),os=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Yl=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),Ud=Symbol.for("react.offscreen"),wf=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Su;function Xs(e){if(Su===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Su=n&&n[1]||""}return`
`+Su+e}var Eu=!1;function ku(e,n){if(!e||Eu)return"";Eu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(g){var o=g}Reflect.construct(e,[],n)}else{try{n.call()}catch(g){o=g}e.call(n.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var l=g.stack.split(`
`),d=o.stack.split(`
`),p=l.length-1,y=d.length-1;1<=p&&0<=y&&l[p]!==d[y];)y--;for(;1<=p&&0<=y;p--,y--)if(l[p]!==d[y]){if(p!==1||y!==1)do if(p--,y--,0>y||l[p]!==d[y]){var v=`
`+l[p].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=p&&0<=y);break}}}finally{Eu=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Xs(e):""}function eg(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=ku(e.type,!1),e;case 11:return e=ku(e.type.render,!1),e;case 1:return e=ku(e.type,!0),e;default:return""}}function Xu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case as:return"Fragment";case os:return"Portal";case qu:return"Profiler";case Kl:return"StrictMode";case Gu:return"Suspense";case Hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fd:return(e.displayName||"Context")+".Consumer";case Bd:return(e._context.displayName||"Context")+".Provider";case Yl:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return n=e.displayName||null,n!==null?n:Xu(e.type)||"Memo";case ri:n=e._payload,e=e._init;try{return Xu(e(n))}catch{}}return null}function tg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xu(n);case 8:return n===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ng(e){var n=Jd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(p){o=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qo(e){e._valueTracker||(e._valueTracker=ng(e))}function $d(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Jd(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qu(e,n){var i=n.checked;return rt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:e._wrapperState.initialChecked})}function Sf(e,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=yi(n.value!=null?n.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function jd(e,n){n=n.checked,n!=null&&Wl(e,"checked",n,!1)}function Zu(e,n){jd(e,n);var i=yi(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?el(e,n.type,i):n.hasOwnProperty("defaultValue")&&el(e,n.type,yi(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ef(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function el(e,n,i){(n!=="number"||Ia(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Qs=Array.isArray;function vs(e,n,i,o){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&o&&(e[i].defaultSelected=!0)}else{for(i=""+yi(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function tl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(se(91));return rt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kf(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(se(92));if(Qs(i)){if(1<i.length)throw Error(se(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:yi(i)}}function Vd(e,n){var i=yi(n.value),o=yi(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Nf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?zd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,Wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,l){MSApp.execUnsafeLocalFunction(function(){return e(n,i,o,l)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function fo(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rg=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(e){rg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),to[n]=to[e]})});function Kd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||to.hasOwnProperty(e)&&to[e]?(""+n).trim():n+"px"}function Yd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,l=Kd(i,n[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,l):e[i]=l}}var ig=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(e,n){if(n){if(ig[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(se(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(se(61))}if(n.style!=null&&typeof n.style!="object")throw Error(se(62))}}function il(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Ts=null,ws=null;function If(e){if(e=xo(e)){if(typeof ol!="function")throw Error(se(280));var n=e.stateNode;n&&(n=Za(n),ol(e.stateNode,e.type,n))}}function qd(e){Ts?ws?ws.push(e):ws=[e]:Ts=e}function Gd(){if(Ts){var e=Ts,n=ws;if(ws=Ts=null,If(e),n)for(e=0;e<n.length;e++)If(n[e])}}function Hd(e,n){return e(n)}function Xd(){}var Nu=!1;function Qd(e,n,i){if(Nu)return e(n,i);Nu=!0;try{return Hd(e,n,i)}finally{Nu=!1,(Ts!==null||ws!==null)&&(Xd(),Gd())}}function ho(e,n){var i=e.stateNode;if(i===null)return null;var o=Za(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(se(231,n,typeof i));return i}var al=!1;if(jr)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){al=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{al=!1}function sg(e,n,i,o,l,d,p,y,v){var g=Array.prototype.slice.call(arguments,3);try{n.apply(i,g)}catch(k){this.onError(k)}}var no=!1,Oa=null,Pa=!1,ul=null,og={onError:function(e){no=!0,Oa=e}};function ag(e,n,i,o,l,d,p,y,v){no=!1,Oa=null,sg.apply(og,arguments)}function ug(e,n,i,o,l,d,p,y,v){if(ag.apply(this,arguments),no){if(no){var g=Oa;no=!1,Oa=null}else throw Error(se(198));Pa||(Pa=!0,ul=g)}}function Wi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Zd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Of(e){if(Wi(e)!==e)throw Error(se(188))}function lg(e){var n=e.alternate;if(!n){if(n=Wi(e),n===null)throw Error(se(188));return n!==e?null:e}for(var i=e,o=n;;){var l=i.return;if(l===null)break;var d=l.alternate;if(d===null){if(o=l.return,o!==null){i=o;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===i)return Of(l),e;if(d===o)return Of(l),n;d=d.sibling}throw Error(se(188))}if(i.return!==o.return)i=l,o=d;else{for(var p=!1,y=l.child;y;){if(y===i){p=!0,i=l,o=d;break}if(y===o){p=!0,o=l,i=d;break}y=y.sibling}if(!p){for(y=d.child;y;){if(y===i){p=!0,i=d,o=l;break}if(y===o){p=!0,o=d,i=l;break}y=y.sibling}if(!p)throw Error(se(189))}}if(i.alternate!==o)throw Error(se(190))}if(i.tag!==3)throw Error(se(188));return i.stateNode.current===i?e:n}function eh(e){return e=lg(e),e!==null?th(e):null}function th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=th(e);if(n!==null)return n;e=e.sibling}return null}var nh=Mn.unstable_scheduleCallback,Pf=Mn.unstable_cancelCallback,cg=Mn.unstable_shouldYield,fg=Mn.unstable_requestPaint,dt=Mn.unstable_now,dg=Mn.unstable_getCurrentPriorityLevel,Hl=Mn.unstable_ImmediatePriority,rh=Mn.unstable_UserBlockingPriority,Aa=Mn.unstable_NormalPriority,hg=Mn.unstable_LowPriority,ih=Mn.unstable_IdlePriority,Ga=null,Ir=null;function mg(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:yg,pg=Math.log,gg=Math.LN2;function yg(e){return e>>>=0,e===0?32:31-(pg(e)/gg|0)|0}var ea=64,ta=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,l=e.suspendedLanes,d=e.pingedLanes,p=i&268435455;if(p!==0){var y=p&~l;y!==0?o=Zs(y):(d&=p,d!==0&&(o=Zs(d)))}else p=i&~l,p!==0?o=Zs(p):d!==0&&(o=Zs(d));if(o===0)return 0;if(n!==0&&n!==o&&(n&l)===0&&(l=o&-o,d=n&-n,l>=d||l===16&&(d&4194240)!==0))return n;if((o&4)!==0&&(o|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)i=31-hr(n),l=1<<i,o|=e[i],n&=~l;return o}function vg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tg(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-hr(d),y=1<<p,v=l[p];v===-1?((y&i)===0||(y&o)!==0)&&(l[p]=vg(y,n)):v<=n&&(e.expiredLanes|=y),d&=~y}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sh(){var e=ea;return ea<<=1,(ea&4194240)===0&&(ea=64),e}function Iu(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Co(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-hr(n),e[n]=i}function wg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-hr(i),d=1<<l;n[l]=0,o[l]=-1,e[l]=-1,i&=~d}}function Xl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-hr(i),l=1<<o;l&n|e[o]&n&&(e[o]|=n),i&=~l}}var Fe=0;function oh(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ah,Ql,uh,lh,ch,cl=!1,na=[],li=null,ci=null,fi=null,mo=new Map,po=new Map,si=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,n){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function Ws(e,n,i,o,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[l]},n!==null&&(n=xo(n),n!==null&&Ql(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function Eg(e,n,i,o,l){switch(n){case"focusin":return li=Ws(li,e,n,i,o,l),!0;case"dragenter":return ci=Ws(ci,e,n,i,o,l),!0;case"mouseover":return fi=Ws(fi,e,n,i,o,l),!0;case"pointerover":var d=l.pointerId;return mo.set(d,Ws(mo.get(d)||null,e,n,i,o,l)),!0;case"gotpointercapture":return d=l.pointerId,po.set(d,Ws(po.get(d)||null,e,n,i,o,l)),!0}return!1}function fh(e){var n=bi(e.target);if(n!==null){var i=Wi(n);if(i!==null){if(n=i.tag,n===13){if(n=Zd(i),n!==null){e.blockedOn=n,ch(e.priority,function(){uh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=fl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);sl=o,i.target.dispatchEvent(o),sl=null}else return n=xo(i),n!==null&&Ql(n),e.blockedOn=i,!1;n.shift()}return!0}function Cf(e,n,i){pa(e)&&i.delete(n)}function kg(){cl=!1,li!==null&&pa(li)&&(li=null),ci!==null&&pa(ci)&&(ci=null),fi!==null&&pa(fi)&&(fi=null),mo.forEach(Cf),po.forEach(Cf)}function Ks(e,n){e.blockedOn===n&&(e.blockedOn=null,cl||(cl=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,kg)))}function go(e){function n(l){return Ks(l,e)}if(0<na.length){Ks(na[0],e);for(var i=1;i<na.length;i++){var o=na[i];o.blockedOn===e&&(o.blockedOn=null)}}for(li!==null&&Ks(li,e),ci!==null&&Ks(ci,e),fi!==null&&Ks(fi,e),mo.forEach(n),po.forEach(n),i=0;i<si.length;i++)o=si[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<si.length&&(i=si[0],i.blockedOn===null);)fh(i),i.blockedOn===null&&si.shift()}var Ss=Kr.ReactCurrentBatchConfig,Da=!0;function Ng(e,n,i,o){var l=Fe,d=Ss.transition;Ss.transition=null;try{Fe=1,Zl(e,n,i,o)}finally{Fe=l,Ss.transition=d}}function Ig(e,n,i,o){var l=Fe,d=Ss.transition;Ss.transition=null;try{Fe=4,Zl(e,n,i,o)}finally{Fe=l,Ss.transition=d}}function Zl(e,n,i,o){if(Da){var l=fl(e,n,i,o);if(l===null)Lu(e,n,o,xa,i),Af(e,o);else if(Eg(l,e,n,i,o))o.stopPropagation();else if(Af(e,o),n&4&&-1<Sg.indexOf(e)){for(;l!==null;){var d=xo(l);if(d!==null&&ah(d),d=fl(e,n,i,o),d===null&&Lu(e,n,o,xa,i),d===l)break;l=d}l!==null&&o.stopPropagation()}else Lu(e,n,o,null,i)}}var xa=null;function fl(e,n,i,o){if(xa=null,e=Gl(o),e=bi(e),e!==null)if(n=Wi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Zd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return xa=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case Hl:return 1;case rh:return 4;case Aa:case hg:return 16;case ih:return 536870912;default:return 16}default:return 16}}var ai=null,ec=null,ga=null;function hh(){if(ga)return ga;var e,n=ec,i=n.length,o,l="value"in ai?ai.value:ai.textContent,d=l.length;for(e=0;e<i&&n[e]===l[e];e++);var p=i-e;for(o=1;o<=p&&n[i-o]===l[d-o];o++);return ga=l.slice(e,1<o?1-o:void 0)}function ya(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function Df(){return!1}function Fn(e){function n(i,o,l,d,p){this._reactName=i,this._targetInst=l,this.type=o,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ra:Df,this.isPropagationStopped=Df,this}return rt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),n}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Fn(Rs),Do=rt({},Rs,{view:0,detail:0}),Og=Fn(Do),Ou,Pu,Ys,Ha=rt({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(Ou=e.screenX-Ys.screenX,Pu=e.screenY-Ys.screenY):Pu=Ou=0,Ys=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),xf=Fn(Ha),Pg=rt({},Ha,{dataTransfer:0}),Ag=Fn(Pg),Cg=rt({},Do,{relatedTarget:0}),Au=Fn(Cg),Dg=rt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=Fn(Dg),_g=rt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rg=Fn(_g),bg=rt({},Rs,{data:0}),_f=Fn(bg),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Bg[e])?!!n[e]:!1}function nc(){return Fg}var Ug=rt({},Do,{key:function(e){if(e.key){var n=Lg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jg=Fn(Ug),$g=rt({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Fn($g),jg=rt({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Vg=Fn(jg),zg=rt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=Fn(zg),Kg=rt({},Ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=Fn(Kg),qg=[9,13,27,32],rc=jr&&"CompositionEvent"in window,ro=null;jr&&"documentMode"in document&&(ro=document.documentMode);var Gg=jr&&"TextEvent"in window&&!ro,mh=jr&&(!rc||ro&&8<ro&&11>=ro),bf=String.fromCharCode(32),Lf=!1;function ph(e,n){switch(e){case"keyup":return qg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function Hg(e,n){switch(e){case"compositionend":return gh(n);case"keypress":return n.which!==32?null:(Lf=!0,bf);case"textInput":return e=n.data,e===bf&&Lf?null:e;default:return null}}function Xg(e,n){if(us)return e==="compositionend"||!rc&&ph(e,n)?(e=hh(),ga=ec=ai=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mh&&n.locale!=="ko"?null:n.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qg[e.type]:n==="textarea"}function yh(e,n,i,o){qd(o),n=_a(n,"onChange"),0<n.length&&(i=new tc("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var io=null,yo=null;function Zg(e){Ah(e,0)}function Xa(e){var n=fs(e);if($d(n))return e}function ey(e,n){if(e==="change")return n}var vh=!1;if(jr){var Cu;if(jr){var Du="oninput"in document;if(!Du){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),Du=typeof Bf.oninput=="function"}Cu=Du}else Cu=!1;vh=Cu&&(!document.documentMode||9<document.documentMode)}function Ff(){io&&(io.detachEvent("onpropertychange",Th),yo=io=null)}function Th(e){if(e.propertyName==="value"&&Xa(yo)){var n=[];yh(n,yo,e,Gl(e)),Qd(Zg,n)}}function ty(e,n,i){e==="focusin"?(Ff(),io=n,yo=i,io.attachEvent("onpropertychange",Th)):e==="focusout"&&Ff()}function ny(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xa(yo)}function ry(e,n){if(e==="click")return Xa(n)}function iy(e,n){if(e==="input"||e==="change")return Xa(n)}function sy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pr=typeof Object.is=="function"?Object.is:sy;function vo(e,n){if(pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var l=i[o];if(!Yu.call(n,l)||!pr(e[l],n[l]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jf(e,n){var i=Uf(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Uf(i)}}function wh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sh(){for(var e=window,n=Ia();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ia(e.document)}return n}function ic(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function oy(e){var n=Sh(),i=e.focusedElem,o=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&wh(i.ownerDocument.documentElement,i)){if(o!==null&&ic(i)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,d=Math.min(o.start,l);o=o.end===void 0?d:Math.min(o.end,l),!e.extend&&d>o&&(l=o,o=d,d=l),l=Jf(i,d);var p=Jf(i,o);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),e.removeAllRanges(),d>o?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ay=jr&&"documentMode"in document&&11>=document.documentMode,ls=null,dl=null,so=null,hl=!1;function $f(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;hl||ls==null||ls!==Ia(o)||(o=ls,"selectionStart"in o&&ic(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&vo(so,o)||(so=o,o=_a(dl,"onSelect"),0<o.length&&(n=new tc("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=ls)))}function ia(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var cs={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},xu={},Eh={};jr&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Qa(e){if(xu[e])return xu[e];if(!cs[e])return e;var n=cs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Eh)return xu[e]=n[i];return e}var kh=Qa("animationend"),Nh=Qa("animationiteration"),Ih=Qa("animationstart"),Oh=Qa("transitionend"),Ph=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,n){Ph.set(e,n),zi(n,[e])}for(var _u=0;_u<jf.length;_u++){var Ru=jf[_u],uy=Ru.toLowerCase(),ly=Ru[0].toUpperCase()+Ru.slice(1);Ti(uy,"on"+ly)}Ti(kh,"onAnimationEnd");Ti(Nh,"onAnimationIteration");Ti(Ih,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(Oh,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Vf(e,n,i){var o=e.type||"unknown-event";e.currentTarget=i,ug(o,n,void 0,e),e.currentTarget=null}function Ah(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],l=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var p=o.length-1;0<=p;p--){var y=o[p],v=y.instance,g=y.currentTarget;if(y=y.listener,v!==d&&l.isPropagationStopped())break e;Vf(l,y,g),d=v}else for(p=0;p<o.length;p++){if(y=o[p],v=y.instance,g=y.currentTarget,y=y.listener,v!==d&&l.isPropagationStopped())break e;Vf(l,y,g),d=v}}}if(Pa)throw e=ul,Pa=!1,ul=null,e}function qe(e,n){var i=n[vl];i===void 0&&(i=n[vl]=new Set);var o=e+"__bubble";i.has(o)||(Ch(n,e,2,!1),i.add(o))}function bu(e,n,i){var o=0;n&&(o|=4),Ch(i,e,o,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function To(e){if(!e[sa]){e[sa]=!0,Md.forEach(function(i){i!=="selectionchange"&&(cy.has(i)||bu(i,!1,e),bu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,bu("selectionchange",!1,n))}}function Ch(e,n,i,o){switch(dh(n)){case 1:var l=Ng;break;case 4:l=Ig;break;default:l=Zl}i=l.bind(null,n,i,e),l=void 0,!al||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function Lu(e,n,i,o,l){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var y=o.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(p===4)for(p=o.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;p=p.return}for(;y!==null;){if(p=bi(y),p===null)return;if(v=p.tag,v===5||v===6){o=d=p;continue e}y=y.parentNode}}o=o.return}Qd(function(){var g=d,k=Gl(i),S=[];e:{var C=Ph.get(e);if(C!==void 0){var A=tc,M=e;switch(e){case"keypress":if(ya(i)===0)break e;case"keydown":case"keyup":A=Jg;break;case"focusin":M="focus",A=Au;break;case"focusout":M="blur",A=Au;break;case"beforeblur":case"afterblur":A=Au;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Vg;break;case kh:case Nh:case Ih:A=xg;break;case Oh:A=Wg;break;case"scroll":A=Og;break;case"wheel":A=Yg;break;case"copy":case"cut":case"paste":A=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Rf}var B=(n&4)!==0,x=!B&&e==="scroll",T=B?C!==null?C+"Capture":null:C;B=[];for(var N=g,I;N!==null;){I=N;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,T!==null&&(R=ho(N,T),R!=null&&B.push(wo(N,R,I)))),x)break;N=N.return}0<B.length&&(C=new A(C,M,null,i,k),S.push({event:C,listeners:B}))}}if((n&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",C&&i!==sl&&(M=i.relatedTarget||i.fromElement)&&(bi(M)||M[Vr]))break e;if((A||C)&&(C=k.window===k?k:(C=k.ownerDocument)?C.defaultView||C.parentWindow:window,A?(M=i.relatedTarget||i.toElement,A=g,M=M?bi(M):null,M!==null&&(x=Wi(M),M!==x||M.tag!==5&&M.tag!==6)&&(M=null)):(A=null,M=g),A!==M)){if(B=xf,R="onMouseLeave",T="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(B=Rf,R="onPointerLeave",T="onPointerEnter",N="pointer"),x=A==null?C:fs(A),I=M==null?C:fs(M),C=new B(R,N+"leave",A,i,k),C.target=x,C.relatedTarget=I,R=null,bi(k)===g&&(B=new B(T,N+"enter",M,i,k),B.target=I,B.relatedTarget=x,R=B),x=R,A&&M)t:{for(B=A,T=M,N=0,I=B;I;I=ss(I))N++;for(I=0,R=T;R;R=ss(R))I++;for(;0<N-I;)B=ss(B),N--;for(;0<I-N;)T=ss(T),I--;for(;N--;){if(B===T||T!==null&&B===T.alternate)break t;B=ss(B),T=ss(T)}B=null}else B=null;A!==null&&zf(S,C,A,B,!1),M!==null&&x!==null&&zf(S,x,M,B,!0)}}e:{if(C=g?fs(g):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var D=ey;else if(Mf(C))if(vh)D=iy;else{D=ny;var E=ty}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(D=ry);if(D&&(D=D(e,g))){yh(S,D,i,k);break e}E&&E(e,C,g),e==="focusout"&&(E=C._wrapperState)&&E.controlled&&C.type==="number"&&el(C,"number",C.value)}switch(E=g?fs(g):window,e){case"focusin":(Mf(E)||E.contentEditable==="true")&&(ls=E,dl=g,so=null);break;case"focusout":so=dl=ls=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,$f(S,i,k);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":$f(S,i,k)}var $;if(rc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else us?ph(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(mh&&i.locale!=="ko"&&(us||F!=="onCompositionStart"?F==="onCompositionEnd"&&us&&($=hh()):(ai=k,ec="value"in ai?ai.value:ai.textContent,us=!0)),E=_a(g,F),0<E.length&&(F=new _f(F,e,null,i,k),S.push({event:F,listeners:E}),$?F.data=$:($=gh(i),$!==null&&(F.data=$)))),($=Gg?Hg(e,i):Xg(e,i))&&(g=_a(g,"onBeforeInput"),0<g.length&&(k=new _f("onBeforeInput","beforeinput",null,i,k),S.push({event:k,listeners:g}),k.data=$))}Ah(S,n)})}function wo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function _a(e,n){for(var i=n+"Capture",o=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=ho(e,i),d!=null&&o.unshift(wo(e,d,l)),d=ho(e,n),d!=null&&o.push(wo(e,d,l))),e=e.return}return o}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,n,i,o,l){for(var d=n._reactName,p=[];i!==null&&i!==o;){var y=i,v=y.alternate,g=y.stateNode;if(v!==null&&v===o)break;y.tag===5&&g!==null&&(y=g,l?(v=ho(i,d),v!=null&&p.unshift(wo(i,v,y))):l||(v=ho(i,d),v!=null&&p.push(wo(i,v,y)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var fy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(fy,`
`).replace(dy,"")}function oa(e,n,i){if(n=Wf(n),Wf(e)!==n&&i)throw Error(se(425))}function Ra(){}var ml=null,pl=null;function gl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,my=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(e){return Kf.resolve(null).then(e).catch(py)}:yl;function py(e){setTimeout(function(){throw e})}function Mu(e,n){var i=n,o=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(o===0){e.removeChild(l),go(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=l}while(i);go(n)}function di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Yf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Nr="__reactFiber$"+bs,So="__reactProps$"+bs,Vr="__reactContainer$"+bs,vl="__reactEvents$"+bs,gy="__reactListeners$"+bs,yy="__reactHandles$"+bs;function bi(e){var n=e[Nr];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vr]||i[Nr]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Yf(e);e!==null;){if(i=e[Nr])return i;e=Yf(e)}return n}e=i,i=e.parentNode}return null}function xo(e){return e=e[Nr]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function Za(e){return e[So]||null}var Tl=[],ds=-1;function wi(e){return{current:e}}function Ge(e){0>ds||(e.current=Tl[ds],Tl[ds]=null,ds--)}function Ve(e,n){ds++,Tl[ds]=e.current,e.current=n}var vi={},Qt=wi(vi),Sn=wi(!1),Ui=vi;function Is(e,n){var i=e.type.contextTypes;if(!i)return vi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in i)l[d]=n[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),l}function En(e){return e=e.childContextTypes,e!=null}function ba(){Ge(Sn),Ge(Qt)}function qf(e,n,i){if(Qt.current!==vi)throw Error(se(168));Ve(Qt,n),Ve(Sn,i)}function Dh(e,n,i){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var l in o)if(!(l in n))throw Error(se(108,tg(e)||"Unknown",l));return rt({},i,o)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,Ui=Qt.current,Ve(Qt,e),Ve(Sn,Sn.current),!0}function Gf(e,n,i){var o=e.stateNode;if(!o)throw Error(se(169));i?(e=Dh(e,n,Ui),o.__reactInternalMemoizedMergedChildContext=e,Ge(Sn),Ge(Qt),Ve(Qt,e)):Ge(Sn),Ve(Sn,i)}var Br=null,eu=!1,Bu=!1;function xh(e){Br===null?Br=[e]:Br.push(e)}function vy(e){eu=!0,xh(e)}function Si(){if(!Bu&&Br!==null){Bu=!0;var e=0,n=Fe;try{var i=Br;for(Fe=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Br=null,eu=!1}catch(l){throw Br!==null&&(Br=Br.slice(e+1)),nh(Hl,Si),l}finally{Fe=n,Bu=!1}}return null}var hs=[],ms=0,Ma=null,Ba=0,Qn=[],Zn=0,Ji=null,Fr=1,Ur="";function _i(e,n){hs[ms++]=Ba,hs[ms++]=Ma,Ma=e,Ba=n}function _h(e,n,i){Qn[Zn++]=Fr,Qn[Zn++]=Ur,Qn[Zn++]=Ji,Ji=e;var o=Fr;e=Ur;var l=32-hr(o)-1;o&=~(1<<l),i+=1;var d=32-hr(n)+l;if(30<d){var p=l-l%5;d=(o&(1<<p)-1).toString(32),o>>=p,l-=p,Fr=1<<32-hr(n)+l|i<<l|o,Ur=d+e}else Fr=1<<d|i<<l|o,Ur=e}function sc(e){e.return!==null&&(_i(e,1),_h(e,1,0))}function oc(e){for(;e===Ma;)Ma=hs[--ms],hs[ms]=null,Ba=hs[--ms],hs[ms]=null;for(;e===Ji;)Ji=Qn[--Zn],Qn[Zn]=null,Ur=Qn[--Zn],Qn[Zn]=null,Fr=Qn[--Zn],Qn[Zn]=null}var Ln=null,bn=null,Qe=!1,dr=null;function Rh(e,n){var i=er(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Hf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ln=e,bn=di(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ln=e,bn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Ji!==null?{id:Fr,overflow:Ur}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=er(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Ln=e,bn=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(Qe){var n=bn;if(n){var i=n;if(!Hf(e,n)){if(wl(e))throw Error(se(418));n=di(i.nextSibling);var o=Ln;n&&Hf(e,n)?Rh(o,i):(e.flags=e.flags&-4097|2,Qe=!1,Ln=e)}}else{if(wl(e))throw Error(se(418));e.flags=e.flags&-4097|2,Qe=!1,Ln=e}}}function Xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ln=e}function aa(e){if(e!==Ln)return!1;if(!Qe)return Xf(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!gl(e.type,e.memoizedProps)),n&&(n=bn)){if(wl(e))throw bh(),Error(se(418));for(;n;)Rh(e,n),n=di(n.nextSibling)}if(Xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){bn=di(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}bn=null}}else bn=Ln?di(e.stateNode.nextSibling):null;return!0}function bh(){for(var e=bn;e;)e=di(e.nextSibling)}function Os(){bn=Ln=null,Qe=!1}function ac(e){dr===null?dr=[e]:dr.push(e)}var Ty=Kr.ReactCurrentBatchConfig;function cr(e,n){if(e&&e.defaultProps){n=rt({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}var Fa=wi(null),Ua=null,ps=null,uc=null;function lc(){uc=ps=Ua=null}function cc(e){var n=Fa.current;Ge(Fa),e._currentValue=n}function El(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Es(e,n){Ua=e,uc=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(wn=!0),e.firstContext=null)}function nr(e){var n=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:n,next:null},ps===null){if(Ua===null)throw Error(se(308));ps=e,Ua.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return n}var Li=null;function fc(e){Li===null?Li=[e]:Li.push(e)}function Lh(e,n,i,o){var l=n.interleaved;return l===null?(i.next=i,fc(n)):(i.next=l.next,l.next=i),n.interleaved=i,zr(e,o)}function zr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ii=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $r(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function hi(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Me&2)!==0){var l=o.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),o.pending=n,zr(e,i)}return l=o.interleaved,l===null?(n.next=n,fc(o)):(n.next=l.next,l.next=n),o.interleaved=n,zr(e,i)}function va(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Xl(e,i)}}function Qf(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var l=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?l=d=p:d=d.next=p,i=i.next}while(i!==null);d===null?l=d=n:d=d.next=n}else l=d=n;i={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ja(e,n,i,o){var l=e.updateQueue;ii=!1;var d=l.firstBaseUpdate,p=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var v=y,g=v.next;v.next=null,p===null?d=g:p.next=g,p=v;var k=e.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==p&&(y===null?k.firstBaseUpdate=g:y.next=g,k.lastBaseUpdate=v))}if(d!==null){var S=l.baseState;p=0,k=g=v=null,y=d;do{var C=y.lane,A=y.eventTime;if((o&C)===C){k!==null&&(k=k.next={eventTime:A,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var M=e,B=y;switch(C=n,A=i,B.tag){case 1:if(M=B.payload,typeof M=="function"){S=M.call(A,S,C);break e}S=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=B.payload,C=typeof M=="function"?M.call(A,S,C):M,C==null)break e;S=rt({},S,C);break e;case 2:ii=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,C=l.effects,C===null?l.effects=[y]:C.push(y))}else A={eventTime:A,lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(g=k=A,v=S):k=k.next=A,p|=C;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;C=y,y=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}}while(1);if(k===null&&(v=S),l.baseState=v,l.firstBaseUpdate=g,l.lastBaseUpdate=k,n=l.shared.interleaved,n!==null){l=n;do p|=l.lane,l=l.next;while(l!==n)}else d===null&&(l.shared.lanes=0);ji|=p,e.lanes=p,e.memoizedState=S}}function Zf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],l=o.callback;if(l!==null){if(o.callback=null,o=i,typeof l!="function")throw Error(se(191,l));l.call(o)}}}var Bh=new Ld.Component().refs;function kl(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:rt({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tu={isMounted:function(e){return(e=e._reactInternals)?Wi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var o=un(),l=pi(e),d=$r(o,l);d.payload=n,i!=null&&(d.callback=i),n=hi(e,d,l),n!==null&&(mr(n,e,l,o),va(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=un(),l=pi(e),d=$r(o,l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=hi(e,d,l),n!==null&&(mr(n,e,l,o),va(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=un(),o=pi(e),l=$r(i,o);l.tag=2,n!=null&&(l.callback=n),n=hi(e,l,o),n!==null&&(mr(n,e,o,i),va(n,e,o))}};function ed(e,n,i,o,l,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,p):n.prototype&&n.prototype.isPureReactComponent?!vo(i,o)||!vo(l,d):!0}function Fh(e,n,i){var o=!1,l=vi,d=n.contextType;return typeof d=="object"&&d!==null?d=nr(d):(l=En(n)?Ui:Qt.current,o=n.contextTypes,d=(o=o!=null)?Is(e,l):vi),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=tu,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),n}function td(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&tu.enqueueReplaceState(n,n.state,null)}function Nl(e,n,i,o){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs=Bh,dc(e);var d=n.contextType;typeof d=="object"&&d!==null?l.context=nr(d):(d=En(n)?Ui:Qt.current,l.context=Is(e,d)),l.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(kl(e,n,d,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&tu.enqueueReplaceState(l,l.state,null),Ja(e,i,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(se(309));var o=i.stateNode}if(!o)throw Error(se(147,e));var l=o,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(p){var y=l.refs;y===Bh&&(y=l.refs={}),p===null?delete y[d]:y[d]=p},n._stringRef=d,n)}if(typeof e!="string")throw Error(se(284));if(!i._owner)throw Error(se(290,e))}return e}function ua(e,n){throw e=Object.prototype.toString.call(n),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nd(e){var n=e._init;return n(e._payload)}function Uh(e){function n(T,N){if(e){var I=T.deletions;I===null?(T.deletions=[N],T.flags|=16):I.push(N)}}function i(T,N){if(!e)return null;for(;N!==null;)n(T,N),N=N.sibling;return null}function o(T,N){for(T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function l(T,N){return T=gi(T,N),T.index=0,T.sibling=null,T}function d(T,N,I){return T.index=I,e?(I=T.alternate,I!==null?(I=I.index,I<N?(T.flags|=2,N):I):(T.flags|=2,N)):(T.flags|=1048576,N)}function p(T){return e&&T.alternate===null&&(T.flags|=2),T}function y(T,N,I,R){return N===null||N.tag!==6?(N=zu(I,T.mode,R),N.return=T,N):(N=l(N,I),N.return=T,N)}function v(T,N,I,R){var D=I.type;return D===as?k(T,N,I.props.children,R,I.key):N!==null&&(N.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ri&&nd(D)===N.type)?(R=l(N,I.props),R.ref=qs(T,N,I),R.return=T,R):(R=Na(I.type,I.key,I.props,null,T.mode,R),R.ref=qs(T,N,I),R.return=T,R)}function g(T,N,I,R){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Wu(I,T.mode,R),N.return=T,N):(N=l(N,I.children||[]),N.return=T,N)}function k(T,N,I,R,D){return N===null||N.tag!==7?(N=Fi(I,T.mode,R,D),N.return=T,N):(N=l(N,I),N.return=T,N)}function S(T,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return N=zu(""+N,T.mode,I),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xo:return I=Na(N.type,N.key,N.props,null,T.mode,I),I.ref=qs(T,null,N),I.return=T,I;case os:return N=Wu(N,T.mode,I),N.return=T,N;case ri:var R=N._init;return S(T,R(N._payload),I)}if(Qs(N)||Vs(N))return N=Fi(N,T.mode,I,null),N.return=T,N;ua(T,N)}return null}function C(T,N,I,R){var D=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:y(T,N,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xo:return I.key===D?v(T,N,I,R):null;case os:return I.key===D?g(T,N,I,R):null;case ri:return D=I._init,C(T,N,D(I._payload),R)}if(Qs(I)||Vs(I))return D!==null?null:k(T,N,I,R,null);ua(T,I)}return null}function A(T,N,I,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(I)||null,y(N,T,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xo:return T=T.get(R.key===null?I:R.key)||null,v(N,T,R,D);case os:return T=T.get(R.key===null?I:R.key)||null,g(N,T,R,D);case ri:var E=R._init;return A(T,N,I,E(R._payload),D)}if(Qs(R)||Vs(R))return T=T.get(I)||null,k(N,T,R,D,null);ua(N,R)}return null}function M(T,N,I,R){for(var D=null,E=null,$=N,F=N=0,b=null;$!==null&&F<I.length;F++){$.index>F?(b=$,$=null):b=$.sibling;var z=C(T,$,I[F],R);if(z===null){$===null&&($=b);break}e&&$&&z.alternate===null&&n(T,$),N=d(z,N,F),E===null?D=z:E.sibling=z,E=z,$=b}if(F===I.length)return i(T,$),Qe&&_i(T,F),D;if($===null){for(;F<I.length;F++)$=S(T,I[F],R),$!==null&&(N=d($,N,F),E===null?D=$:E.sibling=$,E=$);return Qe&&_i(T,F),D}for($=o(T,$);F<I.length;F++)b=A($,T,F,I[F],R),b!==null&&(e&&b.alternate!==null&&$.delete(b.key===null?F:b.key),N=d(b,N,F),E===null?D=b:E.sibling=b,E=b);return e&&$.forEach(function(q){return n(T,q)}),Qe&&_i(T,F),D}function B(T,N,I,R){var D=Vs(I);if(typeof D!="function")throw Error(se(150));if(I=D.call(I),I==null)throw Error(se(151));for(var E=D=null,$=N,F=N=0,b=null,z=I.next();$!==null&&!z.done;F++,z=I.next()){$.index>F?(b=$,$=null):b=$.sibling;var q=C(T,$,z.value,R);if(q===null){$===null&&($=b);break}e&&$&&q.alternate===null&&n(T,$),N=d(q,N,F),E===null?D=q:E.sibling=q,E=q,$=b}if(z.done)return i(T,$),Qe&&_i(T,F),D;if($===null){for(;!z.done;F++,z=I.next())z=S(T,z.value,R),z!==null&&(N=d(z,N,F),E===null?D=z:E.sibling=z,E=z);return Qe&&_i(T,F),D}for($=o(T,$);!z.done;F++,z=I.next())z=A($,T,F,z.value,R),z!==null&&(e&&z.alternate!==null&&$.delete(z.key===null?F:z.key),N=d(z,N,F),E===null?D=z:E.sibling=z,E=z);return e&&$.forEach(function(Z){return n(T,Z)}),Qe&&_i(T,F),D}function x(T,N,I,R){if(typeof I=="object"&&I!==null&&I.type===as&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Xo:e:{for(var D=I.key,E=N;E!==null;){if(E.key===D){if(D=I.type,D===as){if(E.tag===7){i(T,E.sibling),N=l(E,I.props.children),N.return=T,T=N;break e}}else if(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ri&&nd(D)===E.type){i(T,E.sibling),N=l(E,I.props),N.ref=qs(T,E,I),N.return=T,T=N;break e}i(T,E);break}else n(T,E);E=E.sibling}I.type===as?(N=Fi(I.props.children,T.mode,R,I.key),N.return=T,T=N):(R=Na(I.type,I.key,I.props,null,T.mode,R),R.ref=qs(T,N,I),R.return=T,T=R)}return p(T);case os:e:{for(E=I.key;N!==null;){if(N.key===E)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){i(T,N.sibling),N=l(N,I.children||[]),N.return=T,T=N;break e}else{i(T,N);break}else n(T,N);N=N.sibling}N=Wu(I,T.mode,R),N.return=T,T=N}return p(T);case ri:return E=I._init,x(T,N,E(I._payload),R)}if(Qs(I))return M(T,N,I,R);if(Vs(I))return B(T,N,I,R);ua(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,N!==null&&N.tag===6?(i(T,N.sibling),N=l(N,I),N.return=T,T=N):(i(T,N),N=zu(I,T.mode,R),N.return=T,T=N),p(T)):i(T,N)}return x}var Ps=Uh(!0),Jh=Uh(!1),_o={},Or=wi(_o),Eo=wi(_o),ko=wi(_o);function Mi(e){if(e===_o)throw Error(se(174));return e}function hc(e,n){switch(Ve(ko,n),Ve(Eo,e),Ve(Or,_o),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:nl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=nl(n,e)}Ge(Or),Ve(Or,n)}function As(){Ge(Or),Ge(Eo),Ge(ko)}function $h(e){Mi(ko.current);var n=Mi(Or.current),i=nl(n,e.type);n!==i&&(Ve(Eo,e),Ve(Or,i))}function mc(e){Eo.current===e&&(Ge(Or),Ge(Eo))}var tt=wi(0);function $a(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fu=[];function pc(){for(var e=0;e<Fu.length;e++)Fu[e]._workInProgressVersionPrimary=null;Fu.length=0}var Ta=Kr.ReactCurrentDispatcher,Uu=Kr.ReactCurrentBatchConfig,$i=0,nt=null,kt=null,Ct=null,ja=!1,oo=!1,No=0,wy=0;function Gt(){throw Error(se(321))}function gc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!pr(e[i],n[i]))return!1;return!0}function yc(e,n,i,o,l,d){if($i=d,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ta.current=e===null||e.memoizedState===null?Ny:Iy,e=i(o,l),oo){d=0;do{if(oo=!1,No=0,25<=d)throw Error(se(301));d+=1,Ct=kt=null,n.updateQueue=null,Ta.current=Oy,e=i(o,l)}while(oo)}if(Ta.current=Va,n=kt!==null&&kt.next!==null,$i=0,Ct=kt=nt=null,ja=!1,n)throw Error(se(300));return e}function vc(){var e=No!==0;return No=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function rr(){if(kt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var n=Ct===null?nt.memoizedState:Ct.next;if(n!==null)Ct=n,kt=e;else{if(e===null)throw Error(se(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Io(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=rr(),i=n.queue;if(i===null)throw Error(se(311));i.lastRenderedReducer=e;var o=kt,l=o.baseQueue,d=i.pending;if(d!==null){if(l!==null){var p=l.next;l.next=d.next,d.next=p}o.baseQueue=l=d,i.pending=null}if(l!==null){d=l.next,o=o.baseState;var y=p=null,v=null,g=d;do{var k=g.lane;if(($i&k)===k)v!==null&&(v=v.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var S={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};v===null?(y=v=S,p=o):v=v.next=S,nt.lanes|=k,ji|=k}g=g.next}while(g!==null&&g!==d);v===null?p=o:v.next=y,pr(o,n.memoizedState)||(wn=!0),n.memoizedState=o,n.baseState=p,n.baseQueue=v,i.lastRenderedState=o}if(e=i.interleaved,e!==null){l=e;do d=l.lane,nt.lanes|=d,ji|=d,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function $u(e){var n=rr(),i=n.queue;if(i===null)throw Error(se(311));i.lastRenderedReducer=e;var o=i.dispatch,l=i.pending,d=n.memoizedState;if(l!==null){i.pending=null;var p=l=l.next;do d=e(d,p.action),p=p.next;while(p!==l);pr(d,n.memoizedState)||(wn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,o]}function jh(){}function Vh(e,n){var i=nt,o=rr(),l=n(),d=!pr(o.memoizedState,l);if(d&&(o.memoizedState=l,wn=!0),o=o.queue,Tc(Kh.bind(null,i,o,e),[e]),o.getSnapshot!==n||d||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,Oo(9,Wh.bind(null,i,o,l,n),void 0,null),Dt===null)throw Error(se(349));($i&30)!==0||zh(i,n,l)}return l}function zh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=nt.updateQueue,n===null?(n={lastEffect:null,stores:null},nt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Wh(e,n,i,o){n.value=i,n.getSnapshot=o,Yh(n)&&qh(e)}function Kh(e,n,i){return i(function(){Yh(n)&&qh(e)})}function Yh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!pr(e,i)}catch{return!0}}function qh(e){var n=zr(e,1);n!==null&&mr(n,e,1,-1)}function rd(e){var n=kr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},n.queue=e,e=e.dispatch=ky.bind(null,nt,e),[n.memoizedState,e]}function Oo(e,n,i,o){return e={tag:e,create:n,destroy:i,deps:o,next:null},n=nt.updateQueue,n===null?(n={lastEffect:null,stores:null},nt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e)),e}function Gh(){return rr().memoizedState}function wa(e,n,i,o){var l=kr();nt.flags|=e,l.memoizedState=Oo(1|n,i,void 0,o===void 0?null:o)}function nu(e,n,i,o){var l=rr();o=o===void 0?null:o;var d=void 0;if(kt!==null){var p=kt.memoizedState;if(d=p.destroy,o!==null&&gc(o,p.deps)){l.memoizedState=Oo(n,i,d,o);return}}nt.flags|=e,l.memoizedState=Oo(1|n,i,d,o)}function id(e,n){return wa(8390656,8,e,n)}function Tc(e,n){return nu(2048,8,e,n)}function Hh(e,n){return nu(4,2,e,n)}function Xh(e,n){return nu(4,4,e,n)}function Qh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zh(e,n,i){return i=i!=null?i.concat([e]):null,nu(4,4,Qh.bind(null,n,e),i)}function wc(){}function em(e,n){var i=rr();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&gc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function tm(e,n){var i=rr();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&gc(n,o[1])?o[0]:(e=e(),i.memoizedState=[e,n],e)}function nm(e,n,i){return($i&21)===0?(e.baseState&&(e.baseState=!1,wn=!0),e.memoizedState=i):(pr(i,n)||(i=sh(),nt.lanes|=i,ji|=i,e.baseState=!0),n)}function Sy(e,n){var i=Fe;Fe=i!==0&&4>i?i:4,e(!0);var o=Uu.transition;Uu.transition={};try{e(!1),n()}finally{Fe=i,Uu.transition=o}}function rm(){return rr().memoizedState}function Ey(e,n,i){var o=pi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},im(e))sm(n,i);else if(i=Lh(e,n,i,o),i!==null){var l=un();mr(i,e,o,l),om(i,n,o)}}function ky(e,n,i){var o=pi(e),l={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(im(e))sm(n,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,y=d(p,i);if(l.hasEagerState=!0,l.eagerState=y,pr(y,p)){var v=n.interleaved;v===null?(l.next=l,fc(n)):(l.next=v.next,v.next=l),n.interleaved=l;return}}catch{}finally{}i=Lh(e,n,l,o),i!==null&&(l=un(),mr(i,e,o,l),om(i,n,o))}}function im(e){var n=e.alternate;return e===nt||n!==null&&n===nt}function sm(e,n){oo=ja=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function om(e,n,i){if((i&4194240)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Xl(e,i)}}var Va={readContext:nr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Ny={readContext:nr,useCallback:function(e,n){return kr().memoizedState=[e,n===void 0?null:n],e},useContext:nr,useEffect:id,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,wa(4194308,4,Qh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return wa(4194308,4,e,n)},useInsertionEffect:function(e,n){return wa(4,2,e,n)},useMemo:function(e,n){var i=kr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var o=kr();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Ey.bind(null,nt,e),[o.memoizedState,e]},useRef:function(e){var n=kr();return e={current:e},n.memoizedState=e},useState:rd,useDebugValue:wc,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=rd(!1),n=e[0];return e=Sy.bind(null,e[1]),kr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var o=nt,l=kr();if(Qe){if(i===void 0)throw Error(se(407));i=i()}else{if(i=n(),Dt===null)throw Error(se(349));($i&30)!==0||zh(o,n,i)}l.memoizedState=i;var d={value:i,getSnapshot:n};return l.queue=d,id(Kh.bind(null,o,d,e),[e]),o.flags|=2048,Oo(9,Wh.bind(null,o,d,i,n),void 0,null),i},useId:function(){var e=kr(),n=Dt.identifierPrefix;if(Qe){var i=Ur,o=Fr;i=(o&~(1<<32-hr(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=No++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=wy++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Iy={readContext:nr,useCallback:em,useContext:nr,useEffect:Tc,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Xh,useMemo:tm,useReducer:Ju,useRef:Gh,useState:function(){return Ju(Io)},useDebugValue:wc,useDeferredValue:function(e){var n=rr();return nm(n,kt.memoizedState,e)},useTransition:function(){var e=Ju(Io)[0],n=rr().memoizedState;return[e,n]},useMutableSource:jh,useSyncExternalStore:Vh,useId:rm,unstable_isNewReconciler:!1},Oy={readContext:nr,useCallback:em,useContext:nr,useEffect:Tc,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Xh,useMemo:tm,useReducer:$u,useRef:Gh,useState:function(){return $u(Io)},useDebugValue:wc,useDeferredValue:function(e){var n=rr();return kt===null?n.memoizedState=e:nm(n,kt.memoizedState,e)},useTransition:function(){var e=$u(Io)[0],n=rr().memoizedState;return[e,n]},useMutableSource:jh,useSyncExternalStore:Vh,useId:rm,unstable_isNewReconciler:!1};function Cs(e,n){try{var i="",o=n;do i+=eg(o),o=o.return;while(o);var l=i}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:l,digest:null}}function ju(e,n,i){return{value:e,source:null,stack:i!=null?i:null,digest:n!=null?n:null}}function Il(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Py=typeof WeakMap=="function"?WeakMap:Map;function am(e,n,i){i=$r(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){Wa||(Wa=!0,Ll=o),Il(e,n)},i}function um(e,n,i){i=$r(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=n.value;i.payload=function(){return o(l)},i.callback=function(){Il(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Il(e,n),typeof o!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),i}function sd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Py;var l=new Set;o.set(n,l)}else l=o.get(n),l===void 0&&(l=new Set,o.set(n,l));l.has(i)||(l.add(i),e=$y.bind(null,e,n,i),n.then(e,e))}function od(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ad(e,n,i,o,l){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=$r(-1,1),n.tag=2,hi(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Ay=Kr.ReactCurrentOwner,wn=!1;function an(e,n,i,o){n.child=e===null?Jh(n,null,i,o):Ps(n,e.child,i,o)}function ud(e,n,i,o,l){i=i.render;var d=n.ref;return Es(n,l),o=yc(e,n,i,o,d,l),i=vc(),e!==null&&!wn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Wr(e,n,l)):(Qe&&i&&sc(n),n.flags|=1,an(e,n,o,l),n.child)}function ld(e,n,i,o,l){if(e===null){var d=i.type;return typeof d=="function"&&!Ac(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,lm(e,n,d,o,l)):(e=Na(i.type,null,o,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&l)===0){var p=d.memoizedProps;if(i=i.compare,i=i!==null?i:vo,i(p,o)&&e.ref===n.ref)return Wr(e,n,l)}return n.flags|=1,e=gi(d,o),e.ref=n.ref,e.return=n,n.child=e}function lm(e,n,i,o,l){if(e!==null){var d=e.memoizedProps;if(vo(d,o)&&e.ref===n.ref)if(wn=!1,n.pendingProps=o=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(wn=!0);else return n.lanes=e.lanes,Wr(e,n,l)}return Ol(e,n,i,o,l)}function cm(e,n,i){var o=n.pendingProps,l=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ys,Rn),Rn|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(ys,Rn),Rn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,Ve(ys,Rn),Rn|=o}else d!==null?(o=d.baseLanes|i,n.memoizedState=null):o=i,Ve(ys,Rn),Rn|=o;return an(e,n,l,i),n.child}function fm(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Ol(e,n,i,o,l){var d=En(i)?Ui:Qt.current;return d=Is(n,d),Es(n,l),i=yc(e,n,i,o,d,l),o=vc(),e!==null&&!wn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Wr(e,n,l)):(Qe&&o&&sc(n),n.flags|=1,an(e,n,i,l),n.child)}function cd(e,n,i,o,l){if(En(i)){var d=!0;La(n)}else d=!1;if(Es(n,l),n.stateNode===null)Sa(e,n),Fh(n,i,o),Nl(n,i,o,l),o=!0;else if(e===null){var p=n.stateNode,y=n.memoizedProps;p.props=y;var v=p.context,g=i.contextType;typeof g=="object"&&g!==null?g=nr(g):(g=En(i)?Ui:Qt.current,g=Is(n,g));var k=i.getDerivedStateFromProps,S=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function";S||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==o||v!==g)&&td(n,p,o,g),ii=!1;var C=n.memoizedState;p.state=C,Ja(n,o,p,l),v=n.memoizedState,y!==o||C!==v||Sn.current||ii?(typeof k=="function"&&(kl(n,i,k,o),v=n.memoizedState),(y=ii||ed(n,i,y,o,C,v,g))?(S||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=v),p.props=o,p.state=v,p.context=g,o=y):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,Mh(e,n),y=n.memoizedProps,g=n.type===n.elementType?y:cr(n.type,y),p.props=g,S=n.pendingProps,C=p.context,v=i.contextType,typeof v=="object"&&v!==null?v=nr(v):(v=En(i)?Ui:Qt.current,v=Is(n,v));var A=i.getDerivedStateFromProps;(k=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==S||C!==v)&&td(n,p,o,v),ii=!1,C=n.memoizedState,p.state=C,Ja(n,o,p,l);var M=n.memoizedState;y!==S||C!==M||Sn.current||ii?(typeof A=="function"&&(kl(n,i,A,o),M=n.memoizedState),(g=ii||ed(n,i,g,o,C,M,v)||!1)?(k||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,M,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,M,v)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=M),p.props=o,p.state=M,p.context=v,o=g):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),o=!1)}return Pl(e,n,i,o,d,l)}function Pl(e,n,i,o,l,d){fm(e,n);var p=(n.flags&128)!==0;if(!o&&!p)return l&&Gf(n,i,!1),Wr(e,n,d);o=n.stateNode,Ay.current=n;var y=p&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&p?(n.child=Ps(n,e.child,null,d),n.child=Ps(n,null,y,d)):an(e,n,y,d),n.memoizedState=o.state,l&&Gf(n,i,!0),n.child}function dm(e){var n=e.stateNode;n.pendingContext?qf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&qf(e,n.context,!1),hc(e,n.containerInfo)}function fd(e,n,i,o,l){return Os(),ac(l),n.flags|=256,an(e,n,i,o),n.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function hm(e,n,i){var o=n.pendingProps,l=tt.current,d=!1,p=(n.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ve(tt,l&1),e===null)return Sl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(p=o.children,e=o.fallback,d?(o=n.mode,d=n.child,p={mode:"hidden",children:p},(o&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=su(p,o,0,null),e=Fi(e,o,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Cl(i),n.memoizedState=Al,e):Sc(n,p));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return Cy(e,n,p,o,y,l,i);if(d){d=o.fallback,p=n.mode,l=e.child,y=l.sibling;var v={mode:"hidden",children:o.children};return(p&1)===0&&n.child!==l?(o=n.child,o.childLanes=0,o.pendingProps=v,n.deletions=null):(o=gi(l,v),o.subtreeFlags=l.subtreeFlags&14680064),y!==null?d=gi(y,d):(d=Fi(d,p,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,p=e.child.memoizedState,p=p===null?Cl(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~i,n.memoizedState=Al,o}return d=e.child,e=d.sibling,o=gi(d,{mode:"visible",children:o.children}),(n.mode&1)===0&&(o.lanes=i),o.return=n,o.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=o,n.memoizedState=null,o}function Sc(e,n){return n=su({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function la(e,n,i,o){return o!==null&&ac(o),Ps(n,e.child,null,i),e=Sc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cy(e,n,i,o,l,d,p){if(i)return n.flags&256?(n.flags&=-257,o=ju(Error(se(422))),la(e,n,p,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=o.fallback,l=n.mode,o=su({mode:"visible",children:o.children},l,0,null),d=Fi(d,l,p,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,(n.mode&1)!==0&&Ps(n,e.child,null,p),n.child.memoizedState=Cl(p),n.memoizedState=Al,d);if((n.mode&1)===0)return la(e,n,p,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var y=o.dgst;return o=y,d=Error(se(419)),o=ju(d,o,void 0),la(e,n,p,o)}if(y=(p&e.childLanes)!==0,wn||y){if(o=Dt,o!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|p))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,zr(e,l),mr(o,e,l,-1))}return Pc(),o=ju(Error(se(421))),la(e,n,p,o)}return l.data==="$?"?(n.flags|=128,n.child=e.child,n=jy.bind(null,e),l._reactRetry=n,null):(e=d.treeContext,bn=di(l.nextSibling),Ln=n,Qe=!0,dr=null,e!==null&&(Qn[Zn++]=Fr,Qn[Zn++]=Ur,Qn[Zn++]=Ji,Fr=e.id,Ur=e.overflow,Ji=n),n=Sc(n,o.children),n.flags|=4096,n)}function dd(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),El(e.return,n,i)}function Vu(e,n,i,o,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:l}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=l)}function mm(e,n,i){var o=n.pendingProps,l=o.revealOrder,d=o.tail;if(an(e,n,o.children,i),o=tt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,i,n);else if(e.tag===19)dd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ve(tt,o),(n.mode&1)===0)n.memoizedState=null;else switch(l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&$a(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),Vu(n,!1,l,i,d);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&$a(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}Vu(n,!0,i,null,d);break;case"together":Vu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Sa(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ji|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(se(153));if(n.child!==null){for(e=n.child,i=gi(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=gi(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Dy(e,n,i){switch(n.tag){case 3:dm(n),Os();break;case 5:$h(n);break;case 1:En(n.type)&&La(n);break;case 4:hc(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,l=n.memoizedProps.value;Ve(Fa,o._currentValue),o._currentValue=l;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Ve(tt,tt.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?hm(e,n,i):(Ve(tt,tt.current&1),e=Wr(e,n,i),e!==null?e.sibling:null);Ve(tt,tt.current&1);break;case 19:if(o=(i&n.childLanes)!==0,(e.flags&128)!==0){if(o)return mm(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ve(tt,tt.current),o)break;return null;case 22:case 23:return n.lanes=0,cm(e,n,i)}return Wr(e,n,i)}var pm,Dl,gm,ym;pm=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Dl=function(){};gm=function(e,n,i,o){var l=e.memoizedProps;if(l!==o){e=n.stateNode,Mi(Or.current);var d=null;switch(i){case"input":l=Qu(e,l),o=Qu(e,o),d=[];break;case"select":l=rt({},l,{value:void 0}),o=rt({},o,{value:void 0}),d=[];break;case"textarea":l=tl(e,l),o=tl(e,o),d=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ra)}rl(i,o);var p;i=null;for(g in l)if(!o.hasOwnProperty(g)&&l.hasOwnProperty(g)&&l[g]!=null)if(g==="style"){var y=l[g];for(p in y)y.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(co.hasOwnProperty(g)?d||(d=[]):(d=d||[]).push(g,null));for(g in o){var v=o[g];if(y=l!=null?l[g]:void 0,o.hasOwnProperty(g)&&v!==y&&(v!=null||y!=null))if(g==="style")if(y){for(p in y)!y.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in v)v.hasOwnProperty(p)&&y[p]!==v[p]&&(i||(i={}),i[p]=v[p])}else i||(d||(d=[]),d.push(g,i)),i=v;else g==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(d=d||[]).push(g,v)):g==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(g,""+v):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(co.hasOwnProperty(g)?(v!=null&&g==="onScroll"&&qe("scroll",e),d||y===v||(d=[])):(d=d||[]).push(g,v))}i&&(d=d||[]).push("style",i);var g=d;(n.updateQueue=g)&&(n.flags|=4)}};ym=function(e,n,i,o){i!==o&&(n.flags|=4)};function Gs(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function xy(e,n,i){var o=n.pendingProps;switch(oc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:return En(n.type)&&ba(),Ht(n),null;case 3:return o=n.stateNode,As(),Ge(Sn),Ge(Qt),pc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(aa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dr!==null&&(Fl(dr),dr=null))),Dl(e,n),Ht(n),null;case 5:mc(n);var l=Mi(ko.current);if(i=n.type,e!==null&&n.stateNode!=null)gm(e,n,i,o,l),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(se(166));return Ht(n),null}if(e=Mi(Or.current),aa(n)){o=n.stateNode,i=n.type;var d=n.memoizedProps;switch(o[Nr]=n,o[So]=d,e=(n.mode&1)!==0,i){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(l=0;l<eo.length;l++)qe(eo[l],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":Sf(o,d),qe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},qe("invalid",o);break;case"textarea":kf(o,d),qe("invalid",o)}rl(i,d),l=null;for(var p in d)if(d.hasOwnProperty(p)){var y=d[p];p==="children"?typeof y=="string"?o.textContent!==y&&(d.suppressHydrationWarning!==!0&&oa(o.textContent,y,e),l=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&oa(o.textContent,y,e),l=["children",""+y]):co.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&qe("scroll",o)}switch(i){case"input":Qo(o),Ef(o,d,!0);break;case"textarea":Qo(o),Nf(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ra)}o=l,n.updateQueue=o,o!==null&&(n.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(i,{is:o.is}):(e=p.createElement(i),i==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,i),e[Nr]=n,e[So]=o,pm(e,n,!1,!1),n.stateNode=e;e:{switch(p=il(i,o),i){case"dialog":qe("cancel",e),qe("close",e),l=o;break;case"iframe":case"object":case"embed":qe("load",e),l=o;break;case"video":case"audio":for(l=0;l<eo.length;l++)qe(eo[l],e);l=o;break;case"source":qe("error",e),l=o;break;case"img":case"image":case"link":qe("error",e),qe("load",e),l=o;break;case"details":qe("toggle",e),l=o;break;case"input":Sf(e,o),l=Qu(e,o),qe("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=rt({},o,{value:void 0}),qe("invalid",e);break;case"textarea":kf(e,o),l=tl(e,o),qe("invalid",e);break;default:l=o}rl(i,l),y=l;for(d in y)if(y.hasOwnProperty(d)){var v=y[d];d==="style"?Yd(e,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Wd(e,v)):d==="children"?typeof v=="string"?(i!=="textarea"||v!=="")&&fo(e,v):typeof v=="number"&&fo(e,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(co.hasOwnProperty(d)?v!=null&&d==="onScroll"&&qe("scroll",e):v!=null&&Wl(e,d,v,p))}switch(i){case"input":Qo(e),Ef(e,o,!1);break;case"textarea":Qo(e),Nf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+yi(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?vs(e,!!o.multiple,d,!1):o.defaultValue!=null&&vs(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ra)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ht(n),null;case 6:if(e&&n.stateNode!=null)ym(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(se(166));if(i=Mi(ko.current),Mi(Or.current),aa(n)){if(o=n.stateNode,i=n.memoizedProps,o[Nr]=n,(d=o.nodeValue!==i)&&(e=Ln,e!==null))switch(e.tag){case 3:oa(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(o.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Nr]=n,n.stateNode=o}return Ht(n),null;case 13:if(Ge(tt),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&bn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)bh(),Os(),n.flags|=98560,d=!1;else if(d=aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(se(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(se(317));d[Nr]=n}else Os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ht(n),d=!1}else dr!==null&&(Fl(dr),dr=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(tt.current&1)!==0?Nt===0&&(Nt=3):Pc())),n.updateQueue!==null&&(n.flags|=4),Ht(n),null);case 4:return As(),Dl(e,n),e===null&&To(n.stateNode.containerInfo),Ht(n),null;case 10:return cc(n.type._context),Ht(n),null;case 17:return En(n.type)&&ba(),Ht(n),null;case 19:if(Ge(tt),d=n.memoizedState,d===null)return Ht(n),null;if(o=(n.flags&128)!==0,p=d.rendering,p===null)if(o)Gs(d,!1);else{if(Nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=$a(e),p!==null){for(n.flags|=128,Gs(d,!1),o=p.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)d=i,e=o,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(tt,tt.current&1|2),n.child}e=e.sibling}d.tail!==null&&dt()>Ds&&(n.flags|=128,o=!0,Gs(d,!1),n.lanes=4194304)}else{if(!o)if(e=$a(p),e!==null){if(n.flags|=128,o=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Gs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Qe)return Ht(n),null}else 2*dt()-d.renderingStartTime>Ds&&i!==1073741824&&(n.flags|=128,o=!0,Gs(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(i=d.last,i!==null?i.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=dt(),n.sibling=null,i=tt.current,Ve(tt,o?i&1|2:i&1),n):(Ht(n),null);case 22:case 23:return Oc(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&(n.mode&1)!==0?(Rn&1073741824)!==0&&(Ht(n),n.subtreeFlags&6&&(n.flags|=8192)):Ht(n),null;case 24:return null;case 25:return null}throw Error(se(156,n.tag))}function _y(e,n){switch(oc(n),n.tag){case 1:return En(n.type)&&ba(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return As(),Ge(Sn),Ge(Qt),pc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return mc(n),null;case 13:if(Ge(tt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(se(340));Os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(tt),null;case 4:return As(),null;case 10:return cc(n.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var ca=!1,Xt=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,de=null;function gs(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){at(e,n,o)}else i.current=null}function xl(e,n,i){try{i()}catch(o){at(e,n,o)}}var hd=!1;function by(e,n){if(ml=Da,e=Sh(),ic(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var l=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var p=0,y=-1,v=-1,g=0,k=0,S=e,C=null;t:for(;;){for(var A;S!==i||l!==0&&S.nodeType!==3||(y=p+l),S!==d||o!==0&&S.nodeType!==3||(v=p+o),S.nodeType===3&&(p+=S.nodeValue.length),(A=S.firstChild)!==null;)C=S,S=A;for(;;){if(S===e)break t;if(C===i&&++g===l&&(y=p),C===d&&++k===o&&(v=p),(A=S.nextSibling)!==null)break;S=C,C=S.parentNode}S=A}i=y===-1||v===-1?null:{start:y,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(pl={focusedElem:e,selectionRange:i},Da=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var M=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var B=M.memoizedProps,x=M.memoizedState,T=n.stateNode,N=T.getSnapshotBeforeUpdate(n.elementType===n.type?B:cr(n.type,B),x);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(R){at(n,n.return,R)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return M=hd,hd=!1,M}function ao(e,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&xl(n,i,d)}l=l.next}while(l!==o)}}function ru(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function _l(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function vm(e){var n=e.alternate;n!==null&&(e.alternate=null,vm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Nr],delete n[So],delete n[vl],delete n[gy],delete n[yy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tm(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ra));else if(o!==4&&(e=e.child,e!==null))for(Rl(e,n,i),e=e.sibling;e!==null;)Rl(e,n,i),e=e.sibling}function bl(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(bl(e,n,i),e=e.sibling;e!==null;)bl(e,n,i),e=e.sibling}var Mt=null,fr=!1;function ni(e,n,i){for(i=i.child;i!==null;)wm(e,n,i),i=i.sibling}function wm(e,n,i){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Ga,i)}catch{}switch(i.tag){case 5:Xt||gs(i,n);case 6:var o=Mt,l=fr;Mt=null,ni(e,n,i),Mt=o,fr=l,Mt!==null&&(fr?(e=Mt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Mt.removeChild(i.stateNode));break;case 18:Mt!==null&&(fr?(e=Mt,i=i.stateNode,e.nodeType===8?Mu(e.parentNode,i):e.nodeType===1&&Mu(e,i),go(e)):Mu(Mt,i.stateNode));break;case 4:o=Mt,l=fr,Mt=i.stateNode.containerInfo,fr=!0,ni(e,n,i),Mt=o,fr=l;break;case 0:case 11:case 14:case 15:if(!Xt&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var d=l,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&xl(i,n,p),l=l.next}while(l!==o)}ni(e,n,i);break;case 1:if(!Xt&&(gs(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(y){at(i,n,y)}ni(e,n,i);break;case 21:ni(e,n,i);break;case 22:i.mode&1?(Xt=(o=Xt)||i.memoizedState!==null,ni(e,n,i),Xt=o):ni(e,n,i);break;default:ni(e,n,i)}}function pd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ry),n.forEach(function(o){var l=Vy.bind(null,e,o);i.has(o)||(i.add(o),o.then(l,l))})}}function lr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];try{var d=e,p=n,y=p;e:for(;y!==null;){switch(y.tag){case 5:Mt=y.stateNode,fr=!1;break e;case 3:Mt=y.stateNode.containerInfo,fr=!0;break e;case 4:Mt=y.stateNode.containerInfo,fr=!0;break e}y=y.return}if(Mt===null)throw Error(se(160));wm(d,p,l),Mt=null,fr=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(g){at(l,n,g)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Sm(n,e),n=n.sibling}function Sm(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lr(n,e),Er(e),o&4){try{ao(3,e,e.return),ru(3,e)}catch(B){at(e,e.return,B)}try{ao(5,e,e.return)}catch(B){at(e,e.return,B)}}break;case 1:lr(n,e),Er(e),o&512&&i!==null&&gs(i,i.return);break;case 5:if(lr(n,e),Er(e),o&512&&i!==null&&gs(i,i.return),e.flags&32){var l=e.stateNode;try{fo(l,"")}catch(B){at(e,e.return,B)}}if(o&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,p=i!==null?i.memoizedProps:d,y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&jd(l,d),il(y,p);var g=il(y,d);for(p=0;p<v.length;p+=2){var k=v[p],S=v[p+1];k==="style"?Yd(l,S):k==="dangerouslySetInnerHTML"?Wd(l,S):k==="children"?fo(l,S):Wl(l,k,S,g)}switch(y){case"input":Zu(l,d);break;case"textarea":Vd(l,d);break;case"select":var C=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var A=d.value;A!=null?vs(l,!!d.multiple,A,!1):C!==!!d.multiple&&(d.defaultValue!=null?vs(l,!!d.multiple,d.defaultValue,!0):vs(l,!!d.multiple,d.multiple?[]:"",!1))}l[So]=d}catch(B){at(e,e.return,B)}}break;case 6:if(lr(n,e),Er(e),o&4){if(e.stateNode===null)throw Error(se(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(B){at(e,e.return,B)}}break;case 3:if(lr(n,e),Er(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{go(n.containerInfo)}catch(B){at(e,e.return,B)}break;case 4:lr(n,e),Er(e);break;case 13:lr(n,e),Er(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(Nc=dt())),o&4&&pd(e);break;case 22:if(k=i!==null&&i.memoizedState!==null,e.mode&1?(Xt=(g=Xt)||k,lr(n,e),Xt=g):lr(n,e),Er(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!k&&(e.mode&1)!==0)for(de=e,k=e.child;k!==null;){for(S=de=k;de!==null;){switch(C=de,A=C.child,C.tag){case 0:case 11:case 14:case 15:ao(4,C,C.return);break;case 1:gs(C,C.return);var M=C.stateNode;if(typeof M.componentWillUnmount=="function"){o=C,i=C.return;try{n=o,M.props=n.memoizedProps,M.state=n.memoizedState,M.componentWillUnmount()}catch(B){at(o,i,B)}}break;case 5:gs(C,C.return);break;case 22:if(C.memoizedState!==null){yd(S);continue}}A!==null?(A.return=C,de=A):yd(S)}k=k.sibling}e:for(k=null,S=e;;){if(S.tag===5){if(k===null){k=S;try{l=S.stateNode,g?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=S.stateNode,v=S.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Kd("display",p))}catch(B){at(e,e.return,B)}}}else if(S.tag===6){if(k===null)try{S.stateNode.nodeValue=g?"":S.memoizedProps}catch(B){at(e,e.return,B)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;k===S&&(k=null),S=S.return}k===S&&(k=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:lr(n,e),Er(e),o&4&&pd(e);break;case 21:break;default:lr(n,e),Er(e)}}function Er(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Tm(i)){var o=i;break e}i=i.return}throw Error(se(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(fo(l,""),o.flags&=-33);var d=md(e);bl(e,d,l);break;case 3:case 4:var p=o.stateNode.containerInfo,y=md(e);Rl(e,y,p);break;default:throw Error(se(161))}}catch(v){at(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ly(e,n,i){de=e,Em(e)}function Em(e,n,i){for(var o=(e.mode&1)!==0;de!==null;){var l=de,d=l.child;if(l.tag===22&&o){var p=l.memoizedState!==null||ca;if(!p){var y=l.alternate,v=y!==null&&y.memoizedState!==null||Xt;y=ca;var g=Xt;if(ca=p,(Xt=v)&&!g)for(de=l;de!==null;)p=de,v=p.child,p.tag===22&&p.memoizedState!==null?vd(l):v!==null?(v.return=p,de=v):vd(l);for(;d!==null;)de=d,Em(d),d=d.sibling;de=l,ca=y,Xt=g}gd(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,de=d):gd(e)}}function gd(e){for(;de!==null;){var n=de;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Xt||ru(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Xt)if(i===null)o.componentDidMount();else{var l=n.elementType===n.type?i.memoizedProps:cr(n.type,i.memoizedProps);o.componentDidUpdate(l,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Zf(n,d,o);break;case 3:var p=n.updateQueue;if(p!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Zf(n,p,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&i.focus();break;case"img":v.src&&(i.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var g=n.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var S=k.dehydrated;S!==null&&go(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Xt||n.flags&512&&_l(n)}catch(C){at(n,n.return,C)}}if(n===e){de=null;break}if(i=n.sibling,i!==null){i.return=n.return,de=i;break}de=n.return}}function yd(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var i=n.sibling;if(i!==null){i.return=n.return,de=i;break}de=n.return}}function vd(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{ru(4,n)}catch(v){at(n,i,v)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var l=n.return;try{o.componentDidMount()}catch(v){at(n,l,v)}}var d=n.return;try{_l(n)}catch(v){at(n,d,v)}break;case 5:var p=n.return;try{_l(n)}catch(v){at(n,p,v)}}}catch(v){at(n,n.return,v)}if(n===e){de=null;break}var y=n.sibling;if(y!==null){y.return=n.return,de=y;break}de=n.return}}var My=Math.ceil,za=Kr.ReactCurrentDispatcher,Ec=Kr.ReactCurrentOwner,tr=Kr.ReactCurrentBatchConfig,Me=0,Dt=null,vt=null,Bt=0,Rn=0,ys=wi(0),Nt=0,Po=null,ji=0,iu=0,kc=0,uo=null,Tn=null,Nc=0,Ds=1/0,Mr=null,Wa=!1,Ll=null,mi=null,fa=!1,ui=null,Ka=0,lo=0,Ml=null,Ea=-1,ka=0;function un(){return(Me&6)!==0?dt():Ea!==-1?Ea:Ea=dt()}function pi(e){return(e.mode&1)===0?1:(Me&2)!==0&&Bt!==0?Bt&-Bt:Ty.transition!==null?(ka===0&&(ka=sh()),ka):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e)}function mr(e,n,i,o){if(50<lo)throw lo=0,Ml=null,Error(se(185));Co(e,i,o),((Me&2)===0||e!==Dt)&&(e===Dt&&((Me&2)===0&&(iu|=i),Nt===4&&oi(e,Bt)),kn(e,o),i===1&&Me===0&&(n.mode&1)===0&&(Ds=dt()+500,eu&&Si()))}function kn(e,n){var i=e.callbackNode;Tg(e,n);var o=Ca(e,e===Dt?Bt:0);if(o===0)i!==null&&Pf(i),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(i!=null&&Pf(i),n===1)e.tag===0?vy(Td.bind(null,e)):xh(Td.bind(null,e)),my(function(){(Me&6)===0&&Si()}),i=null;else{switch(oh(o)){case 1:i=Hl;break;case 4:i=rh;break;case 16:i=Aa;break;case 536870912:i=ih;break;default:i=Aa}i=Dm(i,km.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function km(e,n){if(Ea=-1,ka=0,(Me&6)!==0)throw Error(se(327));var i=e.callbackNode;if(ks()&&e.callbackNode!==i)return null;var o=Ca(e,e===Dt?Bt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||n)n=Ya(e,o);else{n=o;var l=Me;Me|=2;var d=Im();(Dt!==e||Bt!==n)&&(Mr=null,Ds=dt()+500,Bi(e,n));do try{Uy();break}catch(y){Nm(e,y)}while(1);lc(),za.current=d,Me=l,vt!==null?n=0:(Dt=null,Bt=0,n=Nt)}if(n!==0){if(n===2&&(l=ll(e),l!==0&&(o=l,n=Bl(e,l))),n===1)throw i=Po,Bi(e,0),oi(e,o),kn(e,dt()),i;if(n===6)oi(e,o);else{if(l=e.current.alternate,(o&30)===0&&!By(l)&&(n=Ya(e,o),n===2&&(d=ll(e),d!==0&&(o=d,n=Bl(e,d))),n===1))throw i=Po,Bi(e,0),oi(e,o),kn(e,dt()),i;switch(e.finishedWork=l,e.finishedLanes=o,n){case 0:case 1:throw Error(se(345));case 2:Ri(e,Tn,Mr);break;case 3:if(oi(e,o),(o&130023424)===o&&(n=Nc+500-dt(),10<n)){if(Ca(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){un(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=yl(Ri.bind(null,e,Tn,Mr),n);break}Ri(e,Tn,Mr);break;case 4:if(oi(e,o),(o&4194240)===o)break;for(n=e.eventTimes,l=-1;0<o;){var p=31-hr(o);d=1<<p,p=n[p],p>l&&(l=p),o&=~d}if(o=l,o=dt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*My(o/1960))-o,10<o){e.timeoutHandle=yl(Ri.bind(null,e,Tn,Mr),o);break}Ri(e,Tn,Mr);break;case 5:Ri(e,Tn,Mr);break;default:throw Error(se(329))}}}return kn(e,dt()),e.callbackNode===i?km.bind(null,e):null}function Bl(e,n){var i=uo;return e.current.memoizedState.isDehydrated&&(Bi(e,n).flags|=256),e=Ya(e,n),e!==2&&(n=Tn,Tn=i,n!==null&&Fl(n)),e}function Fl(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function By(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var l=i[o],d=l.getSnapshot;l=l.value;try{if(!pr(d(),l))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(e,n){for(n&=~kc,n&=~iu,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-hr(n),o=1<<i;e[i]=-1,n&=~o}}function Td(e){if((Me&6)!==0)throw Error(se(327));ks();var n=Ca(e,0);if((n&1)===0)return kn(e,dt()),null;var i=Ya(e,n);if(e.tag!==0&&i===2){var o=ll(e);o!==0&&(n=o,i=Bl(e,o))}if(i===1)throw i=Po,Bi(e,0),oi(e,n),kn(e,dt()),i;if(i===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ri(e,Tn,Mr),kn(e,dt()),null}function Ic(e,n){var i=Me;Me|=1;try{return e(n)}finally{Me=i,Me===0&&(Ds=dt()+500,eu&&Si())}}function Vi(e){ui!==null&&ui.tag===0&&(Me&6)===0&&ks();var n=Me;Me|=1;var i=tr.transition,o=Fe;try{if(tr.transition=null,Fe=1,e)return e()}finally{Fe=o,tr.transition=i,Me=n,(Me&6)===0&&Si()}}function Oc(){Rn=ys.current,Ge(ys)}function Bi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,hy(i)),vt!==null)for(i=vt.return;i!==null;){var o=i;switch(oc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ba();break;case 3:As(),Ge(Sn),Ge(Qt),pc();break;case 5:mc(o);break;case 4:As();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:cc(o.type._context);break;case 22:case 23:Oc()}i=i.return}if(Dt=e,vt=e=gi(e.current,null),Bt=Rn=n,Nt=0,Po=null,kc=iu=ji=0,Tn=uo=null,Li!==null){for(n=0;n<Li.length;n++)if(i=Li[n],o=i.interleaved,o!==null){i.interleaved=null;var l=o.next,d=i.pending;if(d!==null){var p=d.next;d.next=l,o.next=p}i.pending=o}Li=null}return e}function Nm(e,n){do{var i=vt;try{if(lc(),Ta.current=Va,ja){for(var o=nt.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ja=!1}if($i=0,Ct=kt=nt=null,oo=!1,No=0,Ec.current=null,i===null||i.return===null){Nt=1,Po=n,vt=null;break}e:{var d=e,p=i.return,y=i,v=n;if(n=Bt,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var g=v,k=y,S=k.tag;if((k.mode&1)===0&&(S===0||S===11||S===15)){var C=k.alternate;C?(k.updateQueue=C.updateQueue,k.memoizedState=C.memoizedState,k.lanes=C.lanes):(k.updateQueue=null,k.memoizedState=null)}var A=od(p);if(A!==null){A.flags&=-257,ad(A,p,y,d,n),A.mode&1&&sd(d,g,n),n=A,v=g;var M=n.updateQueue;if(M===null){var B=new Set;B.add(v),n.updateQueue=B}else M.add(v);break e}else{if((n&1)===0){sd(d,g,n),Pc();break e}v=Error(se(426))}}else if(Qe&&y.mode&1){var x=od(p);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),ad(x,p,y,d,n),ac(Cs(v,y));break e}}d=v=Cs(v,y),Nt!==4&&(Nt=2),uo===null?uo=[d]:uo.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var T=am(d,v,n);Qf(d,T);break e;case 1:y=v;var N=d.type,I=d.stateNode;if((d.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(mi===null||!mi.has(I)))){d.flags|=65536,n&=-n,d.lanes|=n;var R=um(d,y,n);Qf(d,R);break e}}d=d.return}while(d!==null)}Pm(i)}catch(D){n=D,vt===i&&i!==null&&(vt=i=i.return);continue}break}while(1)}function Im(){var e=za.current;return za.current=Va,e===null?Va:e}function Pc(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Dt===null||(ji&268435455)===0&&(iu&268435455)===0||oi(Dt,Bt)}function Ya(e,n){var i=Me;Me|=2;var o=Im();(Dt!==e||Bt!==n)&&(Mr=null,Bi(e,n));do try{Fy();break}catch(l){Nm(e,l)}while(1);if(lc(),Me=i,za.current=o,vt!==null)throw Error(se(261));return Dt=null,Bt=0,Nt}function Fy(){for(;vt!==null;)Om(vt)}function Uy(){for(;vt!==null&&!cg();)Om(vt)}function Om(e){var n=Cm(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,n===null?Pm(e):vt=n,Ec.current=null}function Pm(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=xy(i,n,Rn),i!==null){vt=i;return}}else{if(i=_y(i,n),i!==null){i.flags&=32767,vt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,vt=null;return}}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);Nt===0&&(Nt=5)}function Ri(e,n,i){var o=Fe,l=tr.transition;try{tr.transition=null,Fe=1,Jy(e,n,i,o)}finally{tr.transition=l,Fe=o}return null}function Jy(e,n,i,o){do ks();while(ui!==null);if((Me&6)!==0)throw Error(se(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(wg(e,d),e===Dt&&(vt=Dt=null,Bt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||fa||(fa=!0,Dm(Aa,function(){return ks(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=tr.transition,tr.transition=null;var p=Fe;Fe=1;var y=Me;Me|=4,Ec.current=null,by(e,i),Sm(i,e),oy(pl),Da=!!ml,pl=ml=null,e.current=i,Ly(i),fg(),Me=y,Fe=p,tr.transition=d}else e.current=i;if(fa&&(fa=!1,ui=e,Ka=l),d=e.pendingLanes,d===0&&(mi=null),mg(i.stateNode),kn(e,dt()),n!==null)for(o=e.onRecoverableError,i=0;i<n.length;i++)l=n[i],o(l.value,{componentStack:l.stack,digest:l.digest});if(Wa)throw Wa=!1,e=Ll,Ll=null,e;return(Ka&1)!==0&&e.tag!==0&&ks(),d=e.pendingLanes,(d&1)!==0?e===Ml?lo++:(lo=0,Ml=e):lo=0,Si(),null}function ks(){if(ui!==null){var e=oh(Ka),n=tr.transition,i=Fe;try{if(tr.transition=null,Fe=16>e?16:e,ui===null)var o=!1;else{if(e=ui,ui=null,Ka=0,(Me&6)!==0)throw Error(se(331));var l=Me;for(Me|=4,de=e.current;de!==null;){var d=de,p=d.child;if((de.flags&16)!==0){var y=d.deletions;if(y!==null){for(var v=0;v<y.length;v++){var g=y[v];for(de=g;de!==null;){var k=de;switch(k.tag){case 0:case 11:case 15:ao(8,k,d)}var S=k.child;if(S!==null)S.return=k,de=S;else for(;de!==null;){k=de;var C=k.sibling,A=k.return;if(vm(k),k===g){de=null;break}if(C!==null){C.return=A,de=C;break}de=A}}}var M=d.alternate;if(M!==null){var B=M.child;if(B!==null){M.child=null;do{var x=B.sibling;B.sibling=null,B=x}while(B!==null)}}de=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,de=p;else e:for(;de!==null;){if(d=de,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ao(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,de=T;break e}de=d.return}}var N=e.current;for(de=N;de!==null;){p=de;var I=p.child;if((p.subtreeFlags&2064)!==0&&I!==null)I.return=p,de=I;else e:for(p=N;de!==null;){if(y=de,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ru(9,y)}}catch(D){at(y,y.return,D)}if(y===p){de=null;break e}var R=y.sibling;if(R!==null){R.return=y.return,de=R;break e}de=y.return}}if(Me=l,Si(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Ga,e)}catch{}o=!0}return o}finally{Fe=i,tr.transition=n}}return!1}function wd(e,n,i){n=Cs(i,n),n=am(e,n,1),e=hi(e,n,1),n=un(),e!==null&&(Co(e,1,n),kn(e,n))}function at(e,n,i){if(e.tag===3)wd(e,e,i);else for(;n!==null;){if(n.tag===3){wd(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mi===null||!mi.has(o))){e=Cs(i,e),e=um(n,e,1),n=hi(n,e,1),e=un(),n!==null&&(Co(n,1,e),kn(n,e));break}}n=n.return}}function $y(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),n=un(),e.pingedLanes|=e.suspendedLanes&i,Dt===e&&(Bt&i)===i&&(Nt===4||Nt===3&&(Bt&130023424)===Bt&&500>dt()-Nc?Bi(e,0):kc|=i),kn(e,n)}function Am(e,n){n===0&&((e.mode&1)===0?n=1:(n=ta,ta<<=1,(ta&130023424)===0&&(ta=4194304)));var i=un();e=zr(e,n),e!==null&&(Co(e,n,i),kn(e,i))}function jy(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Am(e,i)}function Vy(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(se(314))}o!==null&&o.delete(n),Am(e,i)}var Cm;Cm=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Sn.current)wn=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return wn=!1,Dy(e,n,i);wn=(e.flags&131072)!==0}else wn=!1,Qe&&(n.flags&1048576)!==0&&_h(n,Ba,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Sa(e,n),e=n.pendingProps;var l=Is(n,Qt.current);Es(n,i),l=yc(null,n,o,e,l,i);var d=vc();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,En(o)?(d=!0,La(n)):d=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,dc(n),l.updater=tu,n.stateNode=l,l._reactInternals=n,Nl(n,o,e,i),n=Pl(null,n,o,!0,d,i)):(n.tag=0,Qe&&d&&sc(n),an(null,n,l,i),n=n.child),n;case 16:o=n.elementType;e:{switch(Sa(e,n),e=n.pendingProps,l=o._init,o=l(o._payload),n.type=o,l=n.tag=Wy(o),e=cr(o,e),l){case 0:n=Ol(null,n,o,e,i);break e;case 1:n=cd(null,n,o,e,i);break e;case 11:n=ud(null,n,o,e,i);break e;case 14:n=ld(null,n,o,cr(o.type,e),i);break e}throw Error(se(306,o,""))}return n;case 0:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:cr(o,l),Ol(e,n,o,l,i);case 1:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:cr(o,l),cd(e,n,o,l,i);case 3:e:{if(dm(n),e===null)throw Error(se(387));o=n.pendingProps,d=n.memoizedState,l=d.element,Mh(e,n),Ja(n,o,null,i);var p=n.memoizedState;if(o=p.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){l=Cs(Error(se(423)),n),n=fd(e,n,o,i,l);break e}else if(o!==l){l=Cs(Error(se(424)),n),n=fd(e,n,o,i,l);break e}else for(bn=di(n.stateNode.containerInfo.firstChild),Ln=n,Qe=!0,dr=null,i=Jh(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Os(),o===l){n=Wr(e,n,i);break e}an(e,n,o,i)}n=n.child}return n;case 5:return $h(n),e===null&&Sl(n),o=n.type,l=n.pendingProps,d=e!==null?e.memoizedProps:null,p=l.children,gl(o,l)?p=null:d!==null&&gl(o,d)&&(n.flags|=32),fm(e,n),an(e,n,p,i),n.child;case 6:return e===null&&Sl(n),null;case 13:return hm(e,n,i);case 4:return hc(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ps(n,null,o,i):an(e,n,o,i),n.child;case 11:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:cr(o,l),ud(e,n,o,l,i);case 7:return an(e,n,n.pendingProps,i),n.child;case 8:return an(e,n,n.pendingProps.children,i),n.child;case 12:return an(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,l=n.pendingProps,d=n.memoizedProps,p=l.value,Ve(Fa,o._currentValue),o._currentValue=p,d!==null)if(pr(d.value,p)){if(d.children===l.children&&!Sn.current){n=Wr(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var y=d.dependencies;if(y!==null){p=d.child;for(var v=y.firstContext;v!==null;){if(v.context===o){if(d.tag===1){v=$r(-1,i&-i),v.tag=2;var g=d.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?v.next=v:(v.next=k.next,k.next=v),g.pending=v}}d.lanes|=i,v=d.alternate,v!==null&&(v.lanes|=i),El(d.return,i,n),y.lanes|=i;break}v=v.next}}else if(d.tag===10)p=d.type===n.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(se(341));p.lanes|=i,y=p.alternate,y!==null&&(y.lanes|=i),El(p,i,n),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===n){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}an(e,n,l.children,i),n=n.child}return n;case 9:return l=n.type,o=n.pendingProps.children,Es(n,i),l=nr(l),o=o(l),n.flags|=1,an(e,n,o,i),n.child;case 14:return o=n.type,l=cr(o,n.pendingProps),l=cr(o.type,l),ld(e,n,o,l,i);case 15:return lm(e,n,n.type,n.pendingProps,i);case 17:return o=n.type,l=n.pendingProps,l=n.elementType===o?l:cr(o,l),Sa(e,n),n.tag=1,En(o)?(e=!0,La(n)):e=!1,Es(n,i),Fh(n,o,l),Nl(n,o,l,i),Pl(null,n,o,!0,e,i);case 19:return mm(e,n,i);case 22:return cm(e,n,i)}throw Error(se(156,n.tag))};function Dm(e,n){return nh(e,n)}function zy(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,n,i,o){return new zy(e,n,i,o)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wy(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yl)return 11;if(e===ql)return 14}return 2}function gi(e,n){var i=e.alternate;return i===null?(i=er(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Na(e,n,i,o,l,d){var p=2;if(o=e,typeof e=="function")Ac(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case as:return Fi(i.children,l,d,n);case Kl:p=8,l|=8;break;case qu:return e=er(12,i,n,l|2),e.elementType=qu,e.lanes=d,e;case Gu:return e=er(13,i,n,l),e.elementType=Gu,e.lanes=d,e;case Hu:return e=er(19,i,n,l),e.elementType=Hu,e.lanes=d,e;case Ud:return su(i,l,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bd:p=10;break e;case Fd:p=9;break e;case Yl:p=11;break e;case ql:p=14;break e;case ri:p=16,o=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return n=er(p,i,n,l),n.elementType=e,n.type=o,n.lanes=d,n}function Fi(e,n,i,o){return e=er(7,e,o,n),e.lanes=i,e}function su(e,n,i,o){return e=er(22,e,o,n),e.elementType=Ud,e.lanes=i,e.stateNode={isHidden:!1},e}function zu(e,n,i){return e=er(6,e,null,n),e.lanes=i,e}function Wu(e,n,i){return n=er(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ky(e,n,i,o,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Cc(e,n,i,o,l,d,p,y,v){return e=new Ky(e,n,i,y,v),n===1?(n=1,d===!0&&(n|=8)):n=0,d=er(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(d),e}function Yy(e,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:o==null?null:""+o,children:e,containerInfo:n,implementation:i}}function xm(e){if(!e)return vi;e=e._reactInternals;e:{if(Wi(e)!==e||e.tag!==1)throw Error(se(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(En(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(se(171))}if(e.tag===1){var i=e.type;if(En(i))return Dh(e,i,n)}return n}function _m(e,n,i,o,l,d,p,y,v){return e=Cc(i,o,!0,e,l,d,p,y,v),e.context=xm(null),i=e.current,o=un(),l=pi(i),d=$r(o,l),d.callback=n!=null?n:null,hi(i,d,l),e.current.lanes=l,Co(e,l,o),kn(e,o),e}function ou(e,n,i,o){var l=n.current,d=un(),p=pi(l);return i=xm(i),n.context===null?n.context=i:n.pendingContext=i,n=$r(d,p),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=hi(l,n,p),e!==null&&(mr(e,l,p,d),va(e,l,p)),p}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Dc(e,n){Sd(e,n),(e=e.alternate)&&Sd(e,n)}function qy(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}au.prototype.render=xc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(se(409));ou(e,n,null,null)};au.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vi(function(){ou(null,e,null,null)}),n[Vr]=null}};function au(e){this._internalRoot=e}au.prototype.unstable_scheduleHydration=function(e){if(e){var n=lh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<si.length&&n!==0&&n<si[i].priority;i++);si.splice(i,0,e),i===0&&fh(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function Gy(e,n,i,o,l){if(l){if(typeof o=="function"){var d=o;o=function(){var g=qa(p);d.call(g)}}var p=_m(n,o,e,0,null,!1,!1,"",Ed);return e._reactRootContainer=p,e[Vr]=p.current,To(e.nodeType===8?e.parentNode:e),Vi(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var y=o;o=function(){var g=qa(v);y.call(g)}}var v=Cc(e,0,!1,null,null,!1,!1,"",Ed);return e._reactRootContainer=v,e[Vr]=v.current,To(e.nodeType===8?e.parentNode:e),Vi(function(){ou(n,v,i,o)}),v}function lu(e,n,i,o,l){var d=i._reactRootContainer;if(d){var p=d;if(typeof l=="function"){var y=l;l=function(){var v=qa(p);y.call(v)}}ou(n,p,e,l)}else p=Gy(i,n,e,l,o);return qa(p)}ah=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Zs(n.pendingLanes);i!==0&&(Xl(n,i|1),kn(n,dt()),(Me&6)===0&&(Ds=dt()+500,Si()))}break;case 13:Vi(function(){var o=zr(e,1);if(o!==null){var l=un();mr(o,e,1,l)}}),Dc(e,1)}};Ql=function(e){if(e.tag===13){var n=zr(e,134217728);if(n!==null){var i=un();mr(n,e,134217728,i)}Dc(e,134217728)}};uh=function(e){if(e.tag===13){var n=pi(e),i=zr(e,n);if(i!==null){var o=un();mr(i,e,n,o)}Dc(e,n)}};lh=function(){return Fe};ch=function(e,n){var i=Fe;try{return Fe=e,n()}finally{Fe=i}};ol=function(e,n,i){switch(n){case"input":if(Zu(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var l=Za(o);if(!l)throw Error(se(90));$d(o),Zu(o,l)}}}break;case"textarea":Vd(e,i);break;case"select":n=i.value,n!=null&&vs(e,!!i.multiple,n,!1)}};Hd=Ic;Xd=Vi;var Hy={usingClientEntryPoint:!1,Events:[xo,fs,Za,qd,Gd,Ic]},Hs={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Xy={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eh(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||qy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{Ga=da.inject(Xy),Ir=da}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy;Bn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(n))throw Error(se(200));return Yy(e,n,null,i)};Bn.createRoot=function(e,n){if(!_c(e))throw Error(se(299));var i=!1,o="",l=Rm;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=Cc(e,1,!1,null,null,i,!1,o,l),e[Vr]=n.current,To(e.nodeType===8?e.parentNode:e),new xc(n)};Bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=eh(n),e=e===null?null:e.stateNode,e};Bn.flushSync=function(e){return Vi(e)};Bn.hydrate=function(e,n,i){if(!uu(n))throw Error(se(200));return lu(null,e,n,!0,i)};Bn.hydrateRoot=function(e,n,i){if(!_c(e))throw Error(se(405));var o=i!=null&&i.hydratedSources||null,l=!1,d="",p=Rm;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),n=_m(n,null,e,1,i!=null?i:null,l,!1,d,p),e[Vr]=n.current,To(e),o)for(e=0;e<o.length;e++)i=o[e],l=i._getVersion,l=l(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,l]:n.mutableSourceEagerHydrationData.push(i,l);return new au(n)};Bn.render=function(e,n,i){if(!uu(n))throw Error(se(200));return lu(null,e,n,!1,i)};Bn.unmountComponentAtNode=function(e){if(!uu(e))throw Error(se(40));return e._reactRootContainer?(Vi(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};Bn.unstable_batchedUpdates=Ic;Bn.unstable_renderSubtreeIntoContainer=function(e,n,i,o){if(!uu(i))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return lu(e,n,i,!1,o)};Bn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}n(),e.exports=Bn})(Id);var kd=Id.exports;Ku.createRoot=kd.createRoot,Ku.hydrateRoot=kd.hydrateRoot;var bm={exports:{}};/*!
 * 
 * yorkie-js-sdk for building collaborative editing applications.
 *  - Version: v0.4.17
 *  - Date: 2024-04-23T07:02Z
 *  - Homepage: https://yorkie.dev
 *
 * Copyright 2020 The Yorkie Authors. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e,n){(function(o,l){e.exports=l()})(Rp,()=>(()=>{var i={646:(p,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0});const{proto3:g,StringValue:k,Timestamp:S}=v(532),C=g.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),A=g.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),M=g.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:Q},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Rt}}]),B=g.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:en},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:x,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:fe},{no:6,name:"is_removed",kind:"scalar",T:8}]),x=g.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:N,repeated:!0},{no:4,name:"presence_change",kind:"message",T:_t}]),T=g.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),N=g.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:I,oneof:"body"},{no:2,name:"add",kind:"message",T:R,oneof:"body"},{no:3,name:"move",kind:"message",T:D,oneof:"body"},{no:4,name:"remove",kind:"message",T:E,oneof:"body"},{no:5,name:"edit",kind:"message",T:$,oneof:"body"},{no:6,name:"select",kind:"message",T:F,oneof:"body"},{no:7,name:"style",kind:"message",T:b,oneof:"body"},{no:8,name:"increase",kind:"message",T:z,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:q,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Z,oneof:"body"}]),I=g.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:V},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Set"}),R=g.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"value",kind:"message",T:V},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Add"}),D=g.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Move"}),E=g.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Remove"}),$=g.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ht},{no:3,name:"to",kind:"message",T:ht},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:fe},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),F=g.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ht},{no:3,name:"to",kind:"message",T:ht},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Select"}),b=g.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ht},{no:3,name:"to",kind:"message",T:ht},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}}],{localName:"Operation_Style"}),z=g.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"value",kind:"message",T:V},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Increase"}),q=g.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:xt},{no:3,name:"to",kind:"message",T:xt},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"contents",kind:"message",T:ze,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_TreeEdit"}),Z=g.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:xt},{no:3,name:"to",kind:"message",T:xt},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0}],{localName:"Operation_TreeStyle"}),V=g.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"moved_at",kind:"message",T:fe},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"type",kind:"enum",T:g.getEnumType(C)},{no:5,name:"value",kind:"scalar",T:12}]),Q=g.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:re,oneof:"body"},{no:2,name:"json_array",kind:"message",T:ne,oneof:"body"},{no:3,name:"primitive",kind:"message",T:te,oneof:"body"},{no:5,name:"text",kind:"message",T:K,oneof:"body"},{no:6,name:"counter",kind:"message",T:ce,oneof:"body"},{no:7,name:"tree",kind:"message",T:Y,oneof:"body"}]),re=g.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:me,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONObject"}),ne=g.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:ue,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONArray"}),te=g.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:g.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Primitive"}),K=g.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Ie,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Text"}),ce=g.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:g.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Counter"}),Y=g.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:Be,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Tree"}),me=g.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Q}]),ue=g.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:ue},{no:2,name:"element",kind:"message",T:Q}]),ve=g.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:fe}]),Ie=g.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Ne},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"ins_prev_id",kind:"message",T:Ne},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),Ne=g.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),Be=g.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:We},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:fe},{no:5,name:"ins_prev_id",kind:"message",T:We},{no:6,name:"ins_next_id",kind:"message",T:We},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),ze=g.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:Be,repeated:!0}]),We=g.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),xt=g.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:We},{no:2,name:"left_sibling_id",kind:"message",T:We}]),Ut=g.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:S}]),wt=g.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:S},{no:9,name:"updated_at",kind:"message",T:S}]),Ee=g.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:k},{no:2,name:"auth_webhook_url",kind:"message",T:k},{no:3,name:"auth_webhook_methods",kind:"message",T:fn},{no:4,name:"client_deactivate_threshold",kind:"message",T:k}]),fn=g.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),Zt=g.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:S},{no:5,name:"accessed_at",kind:"message",T:S},{no:6,name:"updated_at",kind:"message",T:S}]),_t=g.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:g.getEnumType(Jt)},{no:2,name:"presence",kind:"message",T:Rt}]),Jt=g.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Rt=g.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),en=g.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),ht=g.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),fe=g.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Un=g.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),dn=g.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:g.getEnumType(A)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Un}]);y.ValueType=C,y.DocEventType=A,y.Snapshot=M,y.ChangePack=B,y.Change=x,y.ChangeID=T,y.Operation=N,y.Operation_Set=I,y.Operation_Add=R,y.Operation_Move=D,y.Operation_Remove=E,y.Operation_Edit=$,y.Operation_Select=F,y.Operation_Style=b,y.Operation_Increase=z,y.Operation_TreeEdit=q,y.Operation_TreeStyle=Z,y.JSONElementSimple=V,y.JSONElement=Q,y.JSONElement_JSONObject=re,y.JSONElement_JSONArray=ne,y.JSONElement_Primitive=te,y.JSONElement_Text=K,y.JSONElement_Counter=ce,y.JSONElement_Tree=Y,y.RHTNode=me,y.RGANode=ue,y.NodeAttr=ve,y.TextNode=Ie,y.TextNodeID=Ne,y.TreeNode=Be,y.TreeNodes=ze,y.TreeNodeID=We,y.TreePos=xt,y.User=Ut,y.Project=wt,y.UpdatableProjectFields=Ee,y.UpdatableProjectFields_AuthWebhookMethods=fn,y.DocumentSummary=Zt,y.PresenceChange=_t,y.PresenceChange_ChangeType=Jt,y.Presence=Rt,y.Checkpoint=en,y.TextNodePos=ht,y.TimeTicket=fe,y.DocEventBody=Un,y.DocEvent=dn},295:(p,y,v)=>{const{ActivateClientRequest:g,ActivateClientResponse:k,AttachDocumentRequest:S,AttachDocumentResponse:C,BroadcastRequest:A,BroadcastResponse:M,DeactivateClientRequest:B,DeactivateClientResponse:x,DetachDocumentRequest:T,DetachDocumentResponse:N,PushPullChangesRequest:I,PushPullChangesResponse:R,RemoveDocumentRequest:D,RemoveDocumentResponse:E,WatchDocumentRequest:$,WatchDocumentResponse:F}=v(176),{MethodKind:b}=v(532),z={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:g,O:k,kind:b.Unary},deactivateClient:{name:"DeactivateClient",I:B,O:x,kind:b.Unary},attachDocument:{name:"AttachDocument",I:S,O:C,kind:b.Unary},detachDocument:{name:"DetachDocument",I:T,O:N,kind:b.Unary},removeDocument:{name:"RemoveDocument",I:D,O:E,kind:b.Unary},pushPullChanges:{name:"PushPullChanges",I,O:R,kind:b.Unary},watchDocument:{name:"WatchDocument",I:$,O:F,kind:b.ServerStreaming},broadcast:{name:"Broadcast",I:A,O:M,kind:b.Unary}}};y.V=z},176:(p,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0});const{proto3:g}=v(532),{ChangePack:k,DocEvent:S}=v(646),C=g.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),A=g.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),M=g.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),B=g.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),x=g.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:k}]),T=g.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:k}]),N=g.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),I=g.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:k}]),R=g.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),D=g.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:E,oneof:"body"},{no:2,name:"event",kind:"message",T:S,oneof:"body"}]),E=g.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),$=g.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k}]),F=g.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:k}]),b=g.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k},{no:4,name:"push_only",kind:"scalar",T:8}]),z=g.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:k}]),q=g.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),Z=g.makeMessageType("yorkie.v1.BroadcastResponse",[]);y.ActivateClientRequest=C,y.ActivateClientResponse=A,y.DeactivateClientRequest=M,y.DeactivateClientResponse=B,y.AttachDocumentRequest=x,y.AttachDocumentResponse=T,y.DetachDocumentRequest=N,y.DetachDocumentResponse=I,y.WatchDocumentRequest=R,y.WatchDocumentResponse=D,y.WatchDocumentResponse_Initialization=E,y.RemoveDocumentRequest=$,y.RemoveDocumentResponse=F,y.PushPullChangesRequest=b,y.PushPullChangesResponse=z,y.BroadcastRequest=q,y.BroadcastResponse=Z},79:(p,y,v)=>{v.d(y,{Lt:()=>A,TD:()=>C,oP:()=>M});var g=v(818),k=v(120),S=v(210),C;(function(B){B[B.Varint=0]="Varint",B[B.Bit64=1]="Bit64",B[B.LengthDelimited=2]="LengthDelimited",B[B.StartGroup=3]="StartGroup",B[B.EndGroup=4]="EndGroup",B[B.Bit32=5]="Bit32"})(C||(C={}));class A{constructor(x){this.stack=[],this.textEncoder=x!=null?x:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let x=0;for(let I=0;I<this.chunks.length;I++)x+=this.chunks[I].length;let T=new Uint8Array(x),N=0;for(let I=0;I<this.chunks.length;I++)T.set(this.chunks[I],N),N+=this.chunks[I].length;return this.chunks=[],T}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let x=this.finish(),T=this.stack.pop();if(!T)throw new Error("invalid state, fork stack empty");return this.chunks=T.chunks,this.buf=T.buf,this.uint32(x.byteLength),this.raw(x)}tag(x,T){return this.uint32((x<<3|T)>>>0)}raw(x){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(x),this}uint32(x){for((0,k.fp)(x);x>127;)this.buf.push(x&127|128),x=x>>>7;return this.buf.push(x),this}int32(x){return(0,k.ug)(x),(0,g.fC)(x,this.buf),this}bool(x){return this.buf.push(x?1:0),this}bytes(x){return this.uint32(x.byteLength),this.raw(x)}string(x){let T=this.textEncoder.encode(x);return this.uint32(T.byteLength),this.raw(T)}float(x){(0,k.E_)(x);let T=new Uint8Array(4);return new DataView(T.buffer).setFloat32(0,x,!0),this.raw(T)}double(x){let T=new Uint8Array(8);return new DataView(T.buffer).setFloat64(0,x,!0),this.raw(T)}fixed32(x){(0,k.fp)(x);let T=new Uint8Array(4);return new DataView(T.buffer).setUint32(0,x,!0),this.raw(T)}sfixed32(x){(0,k.ug)(x);let T=new Uint8Array(4);return new DataView(T.buffer).setInt32(0,x,!0),this.raw(T)}sint32(x){return(0,k.ug)(x),x=(x<<1^x>>31)>>>0,(0,g.fC)(x,this.buf),this}sfixed64(x){let T=new Uint8Array(8),N=new DataView(T.buffer),I=S.q.enc(x);return N.setInt32(0,I.lo,!0),N.setInt32(4,I.hi,!0),this.raw(T)}fixed64(x){let T=new Uint8Array(8),N=new DataView(T.buffer),I=S.q.uEnc(x);return N.setInt32(0,I.lo,!0),N.setInt32(4,I.hi,!0),this.raw(T)}int64(x){let T=S.q.enc(x);return(0,g._y)(T.lo,T.hi,this.buf),this}sint64(x){let T=S.q.enc(x),N=T.hi>>31,I=T.lo<<1^N,R=(T.hi<<1|T.lo>>>31)^N;return(0,g._y)(I,R,this.buf),this}uint64(x){let T=S.q.uEnc(x);return(0,g._y)(T.lo,T.hi,this.buf),this}}class M{constructor(x,T){this.varint64=g.sg,this.uint32=g.jI,this.buf=x,this.len=x.length,this.pos=0,this.view=new DataView(x.buffer,x.byteOffset,x.byteLength),this.textDecoder=T!=null?T:new TextDecoder}tag(){let x=this.uint32(),T=x>>>3,N=x&7;if(T<=0||N<0||N>5)throw new Error("illegal tag: field no "+T+" wire type "+N);return[T,N]}skip(x){let T=this.pos;switch(x){case C.Varint:for(;this.buf[this.pos++]&128;);break;case C.Bit64:this.pos+=4;case C.Bit32:this.pos+=4;break;case C.LengthDelimited:let N=this.uint32();this.pos+=N;break;case C.StartGroup:let I;for(;(I=this.tag()[1])!==C.EndGroup;)this.skip(I);break;default:throw new Error("cant skip wire type "+x)}return this.assertBounds(),this.buf.subarray(T,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let x=this.uint32();return x>>>1^-(x&1)}int64(){return S.q.dec(...this.varint64())}uint64(){return S.q.uDec(...this.varint64())}sint64(){let[x,T]=this.varint64(),N=-(x&1);return x=(x>>>1|(T&1)<<31)^N,T=T>>>1^N,S.q.dec(x,T)}bool(){let[x,T]=this.varint64();return x!==0||T!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return S.q.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return S.q.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let x=this.uint32(),T=this.pos;return this.pos+=x,this.assertBounds(),this.buf.subarray(T,T+x)}string(){return this.textDecoder.decode(this.bytes())}}},465:(p,y,v)=>{v.d(y,{p:()=>k,w:()=>g});var g;(function(S){S[S.DOUBLE=1]="DOUBLE",S[S.FLOAT=2]="FLOAT",S[S.INT64=3]="INT64",S[S.UINT64=4]="UINT64",S[S.INT32=5]="INT32",S[S.FIXED64=6]="FIXED64",S[S.FIXED32=7]="FIXED32",S[S.BOOL=8]="BOOL",S[S.STRING=9]="STRING",S[S.BYTES=12]="BYTES",S[S.UINT32=13]="UINT32",S[S.SFIXED32=15]="SFIXED32",S[S.SFIXED64=16]="SFIXED64",S[S.SINT32=17]="SINT32",S[S.SINT64=18]="SINT64"})(g||(g={}));var k;(function(S){S[S.BIGINT=0]="BIGINT",S[S.STRING=1]="STRING"})(k||(k={}))},733:(p,y,v)=>{v.d(y,{I:()=>S});var g=v(561),k=v(850);class S extends g.v{constructor(A){super(),this.typeUrl="",this.value=new Uint8Array(0),k.w.util.initPartial(A,this)}toJson(A){var M;if(this.typeUrl==="")return{};const B=this.typeUrlToName(this.typeUrl),x=(M=A==null?void 0:A.typeRegistry)===null||M===void 0?void 0:M.findMessage(B);if(!x)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let N=x.fromBinary(this.value).toJson(A);return(B.startsWith("google.protobuf.")||N===null||Array.isArray(N)||typeof N!="object")&&(N={value:N}),N["@type"]=this.typeUrl,N}fromJson(A,M){var B;if(A===null||Array.isArray(A)||typeof A!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${A===null?"null":Array.isArray(A)?"array":typeof A}`);if(Object.keys(A).length==0)return this;const x=A["@type"];if(typeof x!="string"||x=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const T=this.typeUrlToName(x),N=(B=M==null?void 0:M.typeRegistry)===null||B===void 0?void 0:B.findMessage(T);if(!N)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${x} is not in the type registry`);let I;if(T.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(A,"value"))I=N.fromJson(A.value,M);else{const R=Object.assign({},A);delete R["@type"],I=N.fromJson(R,M)}return this.packFrom(I),this}packFrom(A){this.value=A.toBinary(),this.typeUrl=this.typeNameToUrl(A.getType().typeName)}unpackTo(A){return this.is(A.getType())?(A.fromBinary(this.value),!0):!1}unpack(A){if(this.typeUrl==="")return;const M=A.findMessage(this.typeUrlToName(this.typeUrl));if(!!M)return M.fromBinary(this.value)}is(A){if(this.typeUrl==="")return!1;const M=this.typeUrlToName(this.typeUrl);let B="";return typeof A=="string"?B=A:B=A.typeName,M===B}typeNameToUrl(A){return`type.googleapis.com/${A}`}typeUrlToName(A){if(!A.length)throw new Error(`invalid type url: ${A}`);const M=A.lastIndexOf("/"),B=M>=0?A.substring(M+1):A;if(!B.length)throw new Error(`invalid type url: ${A}`);return B}static pack(A){const M=new S;return M.packFrom(A),M}static fromBinary(A,M){return new S().fromBinary(A,M)}static fromJson(A,M){return new S().fromJson(A,M)}static fromJsonString(A,M){return new S().fromJsonString(A,M)}static equals(A,M){return k.w.util.equals(S,A,M)}}S.runtime=k.w,S.typeName="google.protobuf.Any",S.fields=k.w.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}])},818:(p,y,v)=>{v.d(y,{Ak:()=>A,CZ:()=>C,Fd:()=>M,_y:()=>k,fC:()=>I,jI:()=>R,sg:()=>g});function g(){let D=0,E=0;for(let F=0;F<28;F+=7){let b=this.buf[this.pos++];if(D|=(b&127)<<F,(b&128)==0)return this.assertBounds(),[D,E]}let $=this.buf[this.pos++];if(D|=($&15)<<28,E=($&112)>>4,($&128)==0)return this.assertBounds(),[D,E];for(let F=3;F<=31;F+=7){let b=this.buf[this.pos++];if(E|=(b&127)<<F,(b&128)==0)return this.assertBounds(),[D,E]}throw new Error("invalid varint")}function k(D,E,$){for(let z=0;z<28;z=z+7){const q=D>>>z,Z=!(q>>>7==0&&E==0),V=(Z?q|128:q)&255;if($.push(V),!Z)return}const F=D>>>28&15|(E&7)<<4,b=E>>3!=0;if($.push((b?F|128:F)&255),!!b){for(let z=3;z<31;z=z+7){const q=E>>>z,Z=q>>>7!=0,V=(Z?q|128:q)&255;if($.push(V),!Z)return}$.push(E>>>31&1)}}const S=4294967296;function C(D){const E=D[0]==="-";E&&(D=D.slice(1));const $=1e6;let F=0,b=0;function z(q,Z){const V=Number(D.slice(q,Z));b*=$,F=F*$+V,F>=S&&(b=b+(F/S|0),F=F%S)}return z(-24,-18),z(-18,-12),z(-12,-6),z(-6),E?T(F,b):x(F,b)}function A(D,E){let $=x(D,E);const F=$.hi&2147483648;F&&($=T($.lo,$.hi));const b=M($.lo,$.hi);return F?"-"+b:b}function M(D,E){if({lo:D,hi:E}=B(D,E),E<=2097151)return String(S*E+D);const $=D&16777215,F=(D>>>24|E<<8)&16777215,b=E>>16&65535;let z=$+F*6777216+b*6710656,q=F+b*8147497,Z=b*2;const V=1e7;return z>=V&&(q+=Math.floor(z/V),z%=V),q>=V&&(Z+=Math.floor(q/V),q%=V),Z.toString()+N(q)+N(z)}function B(D,E){return{lo:D>>>0,hi:E>>>0}}function x(D,E){return{lo:D|0,hi:E|0}}function T(D,E){return E=~E,D?D=~D+1:E+=1,x(D,E)}const N=D=>{const E=String(D);return"0000000".slice(E.length)+E};function I(D,E){if(D>=0){for(;D>127;)E.push(D&127|128),D=D>>>7;E.push(D)}else{for(let $=0;$<9;$++)E.push(D&127|128),D=D>>7;E.push(1)}}function R(){let D=this.buf[this.pos++],E=D&127;if((D&128)==0)return this.assertBounds(),E;if(D=this.buf[this.pos++],E|=(D&127)<<7,(D&128)==0)return this.assertBounds(),E;if(D=this.buf[this.pos++],E|=(D&127)<<14,(D&128)==0)return this.assertBounds(),E;if(D=this.buf[this.pos++],E|=(D&127)<<21,(D&128)==0)return this.assertBounds(),E;D=this.buf[this.pos++],E|=(D&15)<<28;for(let $=5;(D&128)!==0&&$<10;$++)D=this.buf[this.pos++];if((D&128)!=0)throw new Error("invalid varint");return this.assertBounds(),E>>>0}},532:(p,y,v)=>{v.r(y),v.d(y,{Any:()=>Bs.I,Api:()=>Hn,BinaryReader:()=>q.oP,BinaryWriter:()=>q.Lt,BoolValue:()=>Pe,BytesValue:()=>rn,CodeGeneratorRequest:()=>St,CodeGeneratorResponse:()=>gn,CodeGeneratorResponse_Feature:()=>Tr,CodeGeneratorResponse_File:()=>it,DescriptorProto:()=>Ne,DescriptorProto_ExtensionRange:()=>Be,DescriptorProto_ReservedRange:()=>ze,DoubleValue:()=>bt,Duration:()=>Vt,Edition:()=>ue,Empty:()=>je,Enum:()=>ar,EnumDescriptorProto:()=>_t,EnumDescriptorProto_EnumReservedRange:()=>Jt,EnumOptions:()=>tn,EnumValue:()=>Gn,EnumValueDescriptorProto:()=>Rt,EnumValueOptions:()=>jn,ExtensionRangeOptions:()=>We,ExtensionRangeOptions_Declaration:()=>Ut,ExtensionRangeOptions_VerificationState:()=>xt,FeatureSet:()=>Ke,FeatureSetDefaults:()=>zn,FeatureSetDefaults_FeatureSetEditionDefault:()=>Wn,FeatureSet_EnumType:()=>qr,FeatureSet_FieldPresence:()=>Pr,FeatureSet_JsonFormat:()=>Ii,FeatureSet_MessageEncoding:()=>On,FeatureSet_RepeatedFieldEncoding:()=>yr,FeatureSet_Utf8Validation:()=>Ni,Field:()=>Yn,FieldDescriptorProto:()=>wt,FieldDescriptorProto_Label:()=>fn,FieldDescriptorProto_Type:()=>Ee,FieldMask:()=>mn,FieldOptions:()=>Jn,FieldOptions_CType:()=>Yr,FieldOptions_EditionDefault:()=>Nn,FieldOptions_JSType:()=>gr,FieldOptions_OptionRetention:()=>Ei,FieldOptions_OptionTargetType:()=>ki,Field_Cardinality:()=>qn,Field_Kind:()=>Kt,FileDescriptorProto:()=>Ie,FileDescriptorSet:()=>ve,FileOptions:()=>fe,FileOptions_OptimizeMode:()=>Un,FloatValue:()=>ct,GeneratedCodeInfo:()=>Ae,GeneratedCodeInfo_Annotation:()=>Ue,GeneratedCodeInfo_Annotation_Semantic:()=>Gr,Int32Value:()=>Ot,Int64Value:()=>nn,ListValue:()=>zt,LongType:()=>S.p,Message:()=>Y.v,MessageOptions:()=>dn,Method:()=>yn,MethodDescriptorProto:()=>ht,MethodIdempotency:()=>me.w,MethodKind:()=>me.t,MethodOptions:()=>Vn,MethodOptions_IdempotencyLevel:()=>ir,Mixin:()=>vn,NullValue:()=>Rr,OneofDescriptorProto:()=>Zt,OneofOptions:()=>$n,Option:()=>Oe,ScalarType:()=>S.w,ServiceDescriptorProto:()=>en,ServiceOptions:()=>mt,SourceCodeInfo:()=>G,SourceCodeInfo_Location:()=>Ze,SourceContext:()=>Pt,StringValue:()=>Xe,Struct:()=>pn,Syntax:()=>At,Timestamp:()=>jt,Type:()=>or,UInt32Value:()=>Je,UInt64Value:()=>Wt,UninterpretedOption:()=>pt,UninterpretedOption_NamePart:()=>In,Value:()=>He,Version:()=>Lt,WireType:()=>q.TD,codegenInfo:()=>ce,createDescriptorSet:()=>Yi,createRegistry:()=>Cn,createRegistryFromDescriptors:()=>Ye,proto2:()=>E,proto3:()=>g.w,protoBase64:()=>z.W,protoDelimited:()=>re,protoDouble:()=>F,protoInt64:()=>b.q,toPlainMessage:()=>Qr});var g=v(850),k=v(493),S=v(465),C=v(744);function A(){return Object.assign(Object.assign({},(0,C.gY)()),{writeMessage(h,u,f){const P=h.getType();let _;try{for(_ of P.fields.byNumber()){let J,j=_.repeated,ee=_.localName;if(_.oneof){const W=h[_.oneof.localName];if(W.case!==ee)continue;J=W.value}else if(J=h[ee],J===void 0&&!_.oneof&&!_.opt)throw new Error(`cannot encode field ${P.typeName}.${_.name} to binary: required field not set`);switch(_.kind){case"scalar":case"enum":let W=_.kind=="enum"?S.w.INT32:_.T;if(j)if(_.packed)(0,C.Jj)(u,W,_.no,J);else for(const oe of J)(0,C.NN)(u,W,_.no,oe,!0);else J!==void 0&&(0,C.NN)(u,W,_.no,J,!0);break;case"message":if(j)for(const oe of J)(0,C.oQ)(u,f,_,oe);else(0,C.oQ)(u,f,_,J);break;case"map":for(const[oe,ae]of Object.entries(J))(0,C.gQ)(u,f,_,oe,ae);break}}}catch(J){let j=_?`cannot encode field ${P.typeName}.${_==null?void 0:_.name} to binary`:`cannot encode message ${P.typeName} to binary`,ee=J instanceof Error?J.message:String(J);throw new Error(j+(ee.length>0?`: ${ee}`:""))}return f.writeUnknownFields&&this.writeUnknownFields(h,u),u}})}var M=v(433),B=v(501),x=v(215),T=v(504),N=v(432),I=v(120),R=v(814);function D(){return(0,R.b)((h,u)=>function(P,_,J){if(P.kind=="map"){const j={};switch(P.V.kind){case"scalar":for(const[W,oe]of Object.entries(_)){const ae=u(P.V.T,oe,!0);(0,I.hu)(ae!==void 0),j[W.toString()]=ae}break;case"message":for(const[W,oe]of Object.entries(_))j[W.toString()]=oe.toJson(J);break;case"enum":const ee=P.V.T;for(const[W,oe]of Object.entries(_)){(0,I.hu)(oe===void 0||typeof oe=="number");const ae=h(ee,oe,!0,J.enumAsInteger);(0,I.hu)(ae!==void 0),j[W.toString()]=ae}break}return J.emitDefaultValues||Object.keys(j).length>0?j:void 0}else if(P.repeated){const j=[];switch(P.kind){case"scalar":for(let ee=0;ee<_.length;ee++)j.push(u(P.T,_[ee],!0));break;case"enum":for(let ee=0;ee<_.length;ee++)j.push(h(P.T,_[ee],!0,J.enumAsInteger));break;case"message":for(let ee=0;ee<_.length;ee++)j.push(_[ee].toJson(J));break}return J.emitDefaultValues||j.length>0?j:void 0}else{if(_===void 0){if(!P.oneof&&!P.opt)throw"required field not set";return}switch(P.kind){case"scalar":return u(P.T,_,!0);case"enum":return h(P.T,_,!0,J.enumAsInteger);case"message":return(0,N.E)(P.T,_).toJson(J)}}})}const E=(0,k.F)("proto2",D(),A(),Object.assign(Object.assign({},(0,M.f)()),{newFieldList(h){return new B.i(h,$)},initFields(h){for(const u of h.getType().fields.byMember()){const f=u.localName,P=h;if(u.repeated){P[f]=[];continue}switch(u.kind){case"oneof":P[f]={case:void 0};break;case"map":P[f]={};break}}}}));function $(h){var u,f,P,_,J;const j=[];let ee;for(const W of typeof h=="function"?h():h){const oe=W;if(oe.localName=(0,T.Rz)(W.name,W.oneof!==void 0),oe.jsonName=(u=W.jsonName)!==null&&u!==void 0?u:(0,T.x1)(W.name),oe.repeated=(f=W.repeated)!==null&&f!==void 0?f:!1,W.kind=="scalar"&&(oe.L=(P=W.L)!==null&&P!==void 0?P:S.p.BIGINT),W.oneof!==void 0){const ae=typeof W.oneof=="string"?W.oneof:W.oneof.name;(!ee||ee.name!=ae)&&(ee=new x.o(ae)),oe.oneof=ee,ee.addField(oe)}W.kind=="message"&&(oe.delimited=(_=W.delimited)!==null&&_!==void 0?_:!1),oe.packed=(J=W.packed)!==null&&J!==void 0?J:!1,j.push(oe)}return j}const F={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var b=v(210),z=v(236),q=v(79),Z=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=h[Symbol.asyncIterator],f;return u?u.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},P("next"),P("throw"),P("return"),f[Symbol.asyncIterator]=function(){return this},f);function P(J){f[J]=h[J]&&function(j){return new Promise(function(ee,W){j=h[J](j),_(ee,W,j.done,j.value)})}}function _(J,j,ee,W){Promise.resolve(W).then(function(oe){J({value:oe,done:ee})},j)}},V=function(h){return this instanceof V?(this.v=h,this):new V(h)},Q=function(h,u,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=f.apply(h,u||[]),_,J=[];return _={},ee("next"),ee("throw"),ee("return",j),_[Symbol.asyncIterator]=function(){return this},_;function j(Re){return function(on){return Promise.resolve(on).then(Re,pe)}}function ee(Re,on){P[Re]&&(_[Re]=function(Yt){return new Promise(function(Ai,wr){J.push([Re,Yt,Ai,wr])>1||W(Re,Yt)})},on&&(_[Re]=on(_[Re])))}function W(Re,on){try{oe(P[Re](on))}catch(Yt){$e(J[0][3],Yt)}}function oe(Re){Re.value instanceof V?Promise.resolve(Re.value.v).then(ae,pe):$e(J[0][2],Re)}function ae(Re){W("next",Re)}function pe(Re){W("throw",Re)}function $e(Re,on){Re(on),J.shift(),J.length&&W(J[0][0],J[0][1])}};const re={enc(h,u){const f=(0,C.gY)().makeWriteOptions(u);return f.writerFactory().bytes(h.toBinary(f)).finish()},dec(h,u,f){const P=(0,C.gY)().makeReadOptions(f);return h.fromBinary(P.readerFactory(u).bytes(),P)},decStream(h,u){return Q(this,arguments,function*(){var P,_,J,j;function ee($e,Re){const on=new Uint8Array($e.byteLength+Re.byteLength);return on.set($e),on.set(Re,$e.length),on}let W=new Uint8Array(0);try{for(var oe=!0,ae=Z(u),pe;pe=yield V(ae.next()),P=pe.done,!P;oe=!0)for(j=pe.value,oe=!1,W=ee(W,j);;){const Re=re.peekSize(W);if(Re.eof||Re.offset+Re.size>W.byteLength)break;yield yield V(re.dec(h,W)),W=W.subarray(Re.offset+Re.size)}}catch($e){_={error:$e}}finally{try{!oe&&!P&&(J=ae.return)&&(yield V(J.call(ae)))}finally{if(_)throw _.error}}if(W.byteLength>0)throw new Error("incomplete data")})},peekSize(h){const u={eof:!0,size:null,offset:null};for(let f=0;f<10;f++){if(f>h.byteLength)return u;if((h[f]&128)==0){const P=new q.oP(h);let _;try{_=P.uint32()}catch(J){if(J instanceof RangeError)return u;throw J}return{eof:!1,size:_,offset:P.pos}}}throw new Error("invalid varint")}};var ne=v(781);function te(h){switch(h.typeName){case"google.protobuf.Any":{const u=h.fields.find(P=>P.number==1&&P.fieldKind=="scalar"&&P.scalar===S.w.STRING),f=h.fields.find(P=>P.number==2&&P.fieldKind=="scalar"&&P.scalar===S.w.BYTES);if(u&&f)return{typeName:h.typeName,typeUrl:u,value:f};break}case"google.protobuf.Timestamp":{const u=h.fields.find(P=>P.number==1&&P.fieldKind=="scalar"&&P.scalar===S.w.INT64),f=h.fields.find(P=>P.number==2&&P.fieldKind=="scalar"&&P.scalar===S.w.INT32);if(u&&f)return{typeName:h.typeName,seconds:u,nanos:f};break}case"google.protobuf.Duration":{const u=h.fields.find(P=>P.number==1&&P.fieldKind=="scalar"&&P.scalar===S.w.INT64),f=h.fields.find(P=>P.number==2&&P.fieldKind=="scalar"&&P.scalar===S.w.INT32);if(u&&f)return{typeName:h.typeName,seconds:u,nanos:f};break}case"google.protobuf.Struct":{const u=h.fields.find(f=>f.number==1&&!f.repeated);if((u==null?void 0:u.fieldKind)!=="map"||u.mapValue.kind!=="message"||u.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,fields:u}}case"google.protobuf.Value":{const u=h.oneofs.find(W=>W.name==="kind"),f=h.fields.find(W=>W.number==1&&W.oneof===u);if((f==null?void 0:f.fieldKind)!=="enum"||f.enum.typeName!=="google.protobuf.NullValue")return;const P=h.fields.find(W=>W.number==2&&W.fieldKind=="scalar"&&W.scalar===S.w.DOUBLE&&W.oneof===u),_=h.fields.find(W=>W.number==3&&W.fieldKind=="scalar"&&W.scalar===S.w.STRING&&W.oneof===u),J=h.fields.find(W=>W.number==4&&W.fieldKind=="scalar"&&W.scalar===S.w.BOOL&&W.oneof===u),j=h.fields.find(W=>W.number==5&&W.oneof===u);if((j==null?void 0:j.fieldKind)!=="message"||j.message.typeName!=="google.protobuf.Struct")return;const ee=h.fields.find(W=>W.number==6&&W.oneof===u);if((ee==null?void 0:ee.fieldKind)!=="message"||ee.message.typeName!=="google.protobuf.ListValue")return;if(u&&P&&_&&J)return{typeName:h.typeName,kind:u,nullValue:f,numberValue:P,stringValue:_,boolValue:J,structValue:j,listValue:ee};break}case"google.protobuf.ListValue":{const u=h.fields.find(f=>f.number==1&&f.repeated);if((u==null?void 0:u.fieldKind)!="message"||u.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,values:u}}case"google.protobuf.FieldMask":{const u=h.fields.find(f=>f.number==1&&f.fieldKind=="scalar"&&f.scalar===S.w.STRING&&f.repeated);if(u)return{typeName:h.typeName,paths:u};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const u=h.fields.find(f=>f.number==1&&f.name=="value");if(!u||u.fieldKind!=="scalar")break;return{typeName:h.typeName,value:u}}}}const K="@bufbuild/protobuf",ce={packageName:"@bufbuild/protobuf",localName:T.r1,reifyWkt:te,getUnwrappedFieldType:N.w,scalarDefaultValue:ne.kY,safeIdentifier:T.GD,safeObjectProperty:T.ll,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:K},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:K},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:K},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:K},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:K},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:K},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:K},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:K},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:K},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:K},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:K},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:K},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:K},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:K},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:K},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:K}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Y=v(561),me=v(328),ue;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(ue||(ue={})),E.util.setEnumType(ue,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class ve extends Y.v{constructor(u){super(),this.file=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new ve().fromBinary(u,f)}static fromJson(u,f){return new ve().fromJson(u,f)}static fromJsonString(u,f){return new ve().fromJsonString(u,f)}static equals(u,f){return E.util.equals(ve,u,f)}}ve.runtime=E,ve.typeName="google.protobuf.FileDescriptorSet",ve.fields=E.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Ie,repeated:!0}]);class Ie extends Y.v{constructor(u){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ie().fromBinary(u,f)}static fromJson(u,f){return new Ie().fromJson(u,f)}static fromJsonString(u,f){return new Ie().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ie,u,f)}}Ie.runtime=E,Ie.typeName="google.protobuf.FileDescriptorProto",Ie.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:Ne,repeated:!0},{no:5,name:"enum_type",kind:"message",T:_t,repeated:!0},{no:6,name:"service",kind:"message",T:en,repeated:!0},{no:7,name:"extension",kind:"message",T:wt,repeated:!0},{no:8,name:"options",kind:"message",T:fe,opt:!0},{no:9,name:"source_code_info",kind:"message",T:G,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0}]);class Ne extends Y.v{constructor(u){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ne().fromBinary(u,f)}static fromJson(u,f){return new Ne().fromJson(u,f)}static fromJsonString(u,f){return new Ne().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ne,u,f)}}Ne.runtime=E,Ne.typeName="google.protobuf.DescriptorProto",Ne.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:wt,repeated:!0},{no:6,name:"extension",kind:"message",T:wt,repeated:!0},{no:3,name:"nested_type",kind:"message",T:Ne,repeated:!0},{no:4,name:"enum_type",kind:"message",T:_t,repeated:!0},{no:5,name:"extension_range",kind:"message",T:Be,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Zt,repeated:!0},{no:7,name:"options",kind:"message",T:dn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ze,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Be extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Be().fromBinary(u,f)}static fromJson(u,f){return new Be().fromJson(u,f)}static fromJsonString(u,f){return new Be().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Be,u,f)}}Be.runtime=E,Be.typeName="google.protobuf.DescriptorProto.ExtensionRange",Be.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:We,opt:!0}]);class ze extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new ze().fromBinary(u,f)}static fromJson(u,f){return new ze().fromJson(u,f)}static fromJsonString(u,f){return new ze().fromJsonString(u,f)}static equals(u,f){return E.util.equals(ze,u,f)}}ze.runtime=E,ze.typeName="google.protobuf.DescriptorProto.ReservedRange",ze.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class We extends Y.v{constructor(u){super(),this.uninterpretedOption=[],this.declaration=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new We().fromBinary(u,f)}static fromJson(u,f){return new We().fromJson(u,f)}static fromJsonString(u,f){return new We().fromJsonString(u,f)}static equals(u,f){return E.util.equals(We,u,f)}}We.runtime=E,We.typeName="google.protobuf.ExtensionRangeOptions",We.fields=E.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0},{no:2,name:"declaration",kind:"message",T:Ut,repeated:!0},{no:50,name:"features",kind:"message",T:Ke,opt:!0},{no:3,name:"verification",kind:"enum",T:E.getEnumType(xt),opt:!0,default:xt.UNVERIFIED}]);var xt;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(xt||(xt={})),E.util.setEnumType(xt,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Ut extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Ut().fromBinary(u,f)}static fromJson(u,f){return new Ut().fromJson(u,f)}static fromJsonString(u,f){return new Ut().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ut,u,f)}}Ut.runtime=E,Ut.typeName="google.protobuf.ExtensionRangeOptions.Declaration",Ut.fields=E.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class wt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new wt().fromBinary(u,f)}static fromJson(u,f){return new wt().fromJson(u,f)}static fromJsonString(u,f){return new wt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(wt,u,f)}}wt.runtime=E,wt.typeName="google.protobuf.FieldDescriptorProto",wt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:E.getEnumType(fn),opt:!0},{no:5,name:"type",kind:"enum",T:E.getEnumType(Ee),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:Jn,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var Ee;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(Ee||(Ee={})),E.util.setEnumType(Ee,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var fn;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(fn||(fn={})),E.util.setEnumType(fn,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Zt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Zt().fromBinary(u,f)}static fromJson(u,f){return new Zt().fromJson(u,f)}static fromJsonString(u,f){return new Zt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Zt,u,f)}}Zt.runtime=E,Zt.typeName="google.protobuf.OneofDescriptorProto",Zt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:$n,opt:!0}]);class _t extends Y.v{constructor(u){super(),this.value=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new _t().fromBinary(u,f)}static fromJson(u,f){return new _t().fromJson(u,f)}static fromJsonString(u,f){return new _t().fromJsonString(u,f)}static equals(u,f){return E.util.equals(_t,u,f)}}_t.runtime=E,_t.typeName="google.protobuf.EnumDescriptorProto",_t.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Rt,repeated:!0},{no:3,name:"options",kind:"message",T:tn,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Jt,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Jt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Jt().fromBinary(u,f)}static fromJson(u,f){return new Jt().fromJson(u,f)}static fromJsonString(u,f){return new Jt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Jt,u,f)}}Jt.runtime=E,Jt.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Jt.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Rt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Rt().fromBinary(u,f)}static fromJson(u,f){return new Rt().fromJson(u,f)}static fromJsonString(u,f){return new Rt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Rt,u,f)}}Rt.runtime=E,Rt.typeName="google.protobuf.EnumValueDescriptorProto",Rt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:jn,opt:!0}]);class en extends Y.v{constructor(u){super(),this.method=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new en().fromBinary(u,f)}static fromJson(u,f){return new en().fromJson(u,f)}static fromJsonString(u,f){return new en().fromJsonString(u,f)}static equals(u,f){return E.util.equals(en,u,f)}}en.runtime=E,en.typeName="google.protobuf.ServiceDescriptorProto",en.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:ht,repeated:!0},{no:3,name:"options",kind:"message",T:mt,opt:!0}]);class ht extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new ht().fromBinary(u,f)}static fromJson(u,f){return new ht().fromJson(u,f)}static fromJsonString(u,f){return new ht().fromJsonString(u,f)}static equals(u,f){return E.util.equals(ht,u,f)}}ht.runtime=E,ht.typeName="google.protobuf.MethodDescriptorProto",ht.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:Vn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class fe extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new fe().fromBinary(u,f)}static fromJson(u,f){return new fe().fromJson(u,f)}static fromJsonString(u,f){return new fe().fromJsonString(u,f)}static equals(u,f){return E.util.equals(fe,u,f)}}fe.runtime=E,fe.typeName="google.protobuf.FileOptions",fe.fields=E.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:E.getEnumType(Un),opt:!0,default:Un.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);var Un;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Un||(Un={})),E.util.setEnumType(Un,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class dn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new dn().fromBinary(u,f)}static fromJson(u,f){return new dn().fromJson(u,f)}static fromJsonString(u,f){return new dn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(dn,u,f)}}dn.runtime=E,dn.typeName="google.protobuf.MessageOptions",dn.fields=E.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);class Jn extends Y.v{constructor(u){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Jn().fromBinary(u,f)}static fromJson(u,f){return new Jn().fromJson(u,f)}static fromJsonString(u,f){return new Jn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Jn,u,f)}}Jn.runtime=E,Jn.typeName="google.protobuf.FieldOptions",Jn.fields=E.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:E.getEnumType(Yr),opt:!0,default:Yr.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:E.getEnumType(gr),opt:!0,default:gr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:E.getEnumType(Ei),opt:!0},{no:19,name:"targets",kind:"enum",T:E.getEnumType(ki),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:Nn,repeated:!0},{no:21,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);var Yr;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Yr||(Yr={})),E.util.setEnumType(Yr,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var gr;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(gr||(gr={})),E.util.setEnumType(gr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var Ei;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Ei||(Ei={})),E.util.setEnumType(Ei,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var ki;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(ki||(ki={})),E.util.setEnumType(ki,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class Nn extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Nn().fromBinary(u,f)}static fromJson(u,f){return new Nn().fromJson(u,f)}static fromJsonString(u,f){return new Nn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Nn,u,f)}}Nn.runtime=E,Nn.typeName="google.protobuf.FieldOptions.EditionDefault",Nn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class $n extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new $n().fromBinary(u,f)}static fromJson(u,f){return new $n().fromJson(u,f)}static fromJsonString(u,f){return new $n().fromJsonString(u,f)}static equals(u,f){return E.util.equals($n,u,f)}}$n.runtime=E,$n.typeName="google.protobuf.OneofOptions",$n.fields=E.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);class tn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new tn().fromBinary(u,f)}static fromJson(u,f){return new tn().fromJson(u,f)}static fromJsonString(u,f){return new tn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(tn,u,f)}}tn.runtime=E,tn.typeName="google.protobuf.EnumOptions",tn.fields=E.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);class jn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new jn().fromBinary(u,f)}static fromJson(u,f){return new jn().fromJson(u,f)}static fromJsonString(u,f){return new jn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(jn,u,f)}}jn.runtime=E,jn.typeName="google.protobuf.EnumValueOptions",jn.fields=E.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:Ke,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);class mt extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new mt().fromBinary(u,f)}static fromJson(u,f){return new mt().fromJson(u,f)}static fromJsonString(u,f){return new mt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(mt,u,f)}}mt.runtime=E,mt.typeName="google.protobuf.ServiceOptions",mt.fields=E.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:Ke,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);class Vn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Vn().fromBinary(u,f)}static fromJson(u,f){return new Vn().fromJson(u,f)}static fromJsonString(u,f){return new Vn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Vn,u,f)}}Vn.runtime=E,Vn.typeName="google.protobuf.MethodOptions",Vn.fields=E.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:E.getEnumType(ir),opt:!0,default:ir.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:pt,repeated:!0}]);var ir;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(ir||(ir={})),E.util.setEnumType(ir,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class pt extends Y.v{constructor(u){super(),this.name=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new pt().fromBinary(u,f)}static fromJson(u,f){return new pt().fromJson(u,f)}static fromJsonString(u,f){return new pt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(pt,u,f)}}pt.runtime=E,pt.typeName="google.protobuf.UninterpretedOption",pt.fields=E.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:In,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class In extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new In().fromBinary(u,f)}static fromJson(u,f){return new In().fromJson(u,f)}static fromJsonString(u,f){return new In().fromJsonString(u,f)}static equals(u,f){return E.util.equals(In,u,f)}}In.runtime=E,In.typeName="google.protobuf.UninterpretedOption.NamePart",In.fields=E.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class Ke extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Ke().fromBinary(u,f)}static fromJson(u,f){return new Ke().fromJson(u,f)}static fromJsonString(u,f){return new Ke().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ke,u,f)}}Ke.runtime=E,Ke.typeName="google.protobuf.FeatureSet",Ke.fields=E.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:E.getEnumType(Pr),opt:!0},{no:2,name:"enum_type",kind:"enum",T:E.getEnumType(qr),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:E.getEnumType(yr),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:E.getEnumType(Ni),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:E.getEnumType(On),opt:!0},{no:6,name:"json_format",kind:"enum",T:E.getEnumType(Ii),opt:!0}]);var Pr;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Pr||(Pr={})),E.util.setEnumType(Pr,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var qr;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(qr||(qr={})),E.util.setEnumType(qr,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var yr;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(yr||(yr={})),E.util.setEnumType(yr,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var Ni;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.NONE=1]="NONE",h[h.VERIFY=2]="VERIFY"})(Ni||(Ni={})),E.util.setEnumType(Ni,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var On;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(On||(On={})),E.util.setEnumType(On,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var Ii;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Ii||(Ii={})),E.util.setEnumType(Ii,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class zn extends Y.v{constructor(u){super(),this.defaults=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new zn().fromBinary(u,f)}static fromJson(u,f){return new zn().fromJson(u,f)}static fromJsonString(u,f){return new zn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(zn,u,f)}}zn.runtime=E,zn.typeName="google.protobuf.FeatureSetDefaults",zn.fields=E.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Wn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:E.getEnumType(ue),opt:!0}]);class Wn extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Wn().fromBinary(u,f)}static fromJson(u,f){return new Wn().fromJson(u,f)}static fromJsonString(u,f){return new Wn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Wn,u,f)}}Wn.runtime=E,Wn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Wn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:2,name:"features",kind:"message",T:Ke,opt:!0}]);class G extends Y.v{constructor(u){super(),this.location=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new G().fromBinary(u,f)}static fromJson(u,f){return new G().fromJson(u,f)}static fromJsonString(u,f){return new G().fromJsonString(u,f)}static equals(u,f){return E.util.equals(G,u,f)}}G.runtime=E,G.typeName="google.protobuf.SourceCodeInfo",G.fields=E.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Ze,repeated:!0}]);class Ze extends Y.v{constructor(u){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ze().fromBinary(u,f)}static fromJson(u,f){return new Ze().fromJson(u,f)}static fromJsonString(u,f){return new Ze().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ze,u,f)}}Ze.runtime=E,Ze.typeName="google.protobuf.SourceCodeInfo.Location",Ze.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Ae extends Y.v{constructor(u){super(),this.annotation=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ae().fromBinary(u,f)}static fromJson(u,f){return new Ae().fromJson(u,f)}static fromJsonString(u,f){return new Ae().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ae,u,f)}}Ae.runtime=E,Ae.typeName="google.protobuf.GeneratedCodeInfo",Ae.fields=E.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Ue,repeated:!0}]);class Ue extends Y.v{constructor(u){super(),this.path=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ue().fromBinary(u,f)}static fromJson(u,f){return new Ue().fromJson(u,f)}static fromJsonString(u,f){return new Ue().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ue,u,f)}}Ue.runtime=E,Ue.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Ue.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:E.getEnumType(Gr),opt:!0}]);var Gr;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Gr||(Gr={})),E.util.setEnumType(Gr,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function Ro(h,u){const f=h.values.find(P=>P.name===u);return(0,I.hu)(f,`cannot parse ${h.name} default value: ${u}`),f.number}function bo(h,u){switch(h){case S.w.STRING:return u;case S.w.BYTES:{const f=Ar(u);if(f===!1)throw new Error(`cannot parse ${S.w[h]} default value: ${u}`);return f}case S.w.INT64:case S.w.SFIXED64:case S.w.SINT64:return b.q.parse(u);case S.w.UINT64:case S.w.FIXED64:return b.q.uParse(u);case S.w.DOUBLE:case S.w.FLOAT:switch(u){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(u)}case S.w.BOOL:return u==="true";case S.w.INT32:case S.w.UINT32:case S.w.SINT32:case S.w.FIXED32:case S.w.SFIXED32:return parseInt(u,10)}}function Ar(h){const u=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(P){if(this.tail.length>=P){const _=this.tail.substring(0,P);return this.tail=this.tail.substring(P),_}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":u.push(f.c.charCodeAt(0));break;case"b":u.push(8);break;case"f":u.push(12);break;case"n":u.push(10);break;case"r":u.push(13);break;case"t":u.push(9);break;case"v":u.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const P=f.c,_=f.take(2);if(_===!1)return!1;const J=parseInt(P+_,8);if(isNaN(J))return!1;u.push(J);break}case"x":{const P=f.c,_=f.take(2);if(_===!1)return!1;const J=parseInt(P+_,16);if(isNaN(J))return!1;u.push(J);break}case"u":{const P=f.c,_=f.take(4);if(_===!1)return!1;const J=parseInt(P+_,16);if(isNaN(J))return!1;const j=new Uint8Array(4);new DataView(j.buffer).setInt32(0,J,!0),u.push(j[0],j[1],j[2],j[3]);break}case"U":{const P=f.c,_=f.take(8);if(_===!1)return!1;const J=b.q.uEnc(P+_),j=new Uint8Array(8),ee=new DataView(j.buffer);ee.setInt32(0,J.lo,!0),ee.setInt32(4,J.hi,!0),u.push(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7]);break}}break;default:u.push(f.c.charCodeAt(0))}return new Uint8Array(u)}const hn=zn.fromBinary(z.W.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function be(h){const u=h.minimumEdition,f=h.maximumEdition;if(u===void 0||f===void 0||h.defaults.some(_=>_.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const P=new Map;return(_,...J)=>{var j,ee;let W=P.get(_);if(W===void 0){if(_<u)throw new Error(`Edition ${ue[_]} is earlier than the minimum supported edition ${ue[u]}`);if(f<_)throw new Error(`Edition ${ue[_]} is later than the maximum supported edition ${ue[f]}`);let ae;for(const pe of h.defaults){const $e=(j=pe.edition)!==null&&j!==void 0?j:0;$e>_||ae!==void 0&&ae.e>$e||(ae={e:$e,f:(ee=pe.features)!==null&&ee!==void 0?ee:new Ke})}if(ae===void 0)throw new Error(`No valid default found for edition ${ue[_]}`);W=ae.f.toBinary(),P.set(_,W)}const oe=Ke.fromBinary(W);for(const ae of J)ae!==void 0&&oe.fromBinary(ae.toBinary());if(!Ki(oe))throw new Error(`Invalid FeatureSet for edition ${ue[_]}`);return oe}}function Ki(h){for(const u of Ke.fields.list()){const f=h[u.localName];if(f===void 0||u.kind=="enum"&&f===0)return!1}return!0}function Yi(h,u){var f;const P={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:be((f=u==null?void 0:u.featureSetDefaults)!==null&&f!==void 0?f:hn)},J=(h instanceof ve?h.file:h instanceof Uint8Array?ve.fromBinary(h).file:h).map(j=>Pn(j,P));return Object.assign({files:J},P)}function Pn(h,u){var f,P;(0,I.hu)(h.name,"invalid FileDescriptorProto: missing name");const _=Object.assign(Object.assign({kind:"file",proto:h,deprecated:(P=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&P!==void 0?P:!1},Bo(h.syntax,h.edition)),{name:h.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return lt(this.proto.sourceCodeInfo,[It.FileDescriptorProto_Syntax])},getPackageComments(){return lt(this.proto.sourceCodeInfo,[It.FileDescriptorProto_Package])},getFeatures(){var J;return u.resolveFeatures(this.edition,(J=this.proto.options)===null||J===void 0?void 0:J.features)}});u.mapEntries.clear();for(const J of h.enumType)Cr(J,_,void 0,u);for(const J of h.messageType)Ms(J,_,void 0,u);for(const J of h.service)Lo(J,_,u);qi(_,u);for(const J of u.mapEntries.values())Ls(J,u);for(const J of _.messages)Ls(J,u),qi(J,u);return u.mapEntries.clear(),_}function qi(h,u){switch(h.kind){case"file":for(const f of h.proto.extension){const P=Dr(f,h,void 0,u);h.extensions.push(P),u.extensions.set(P.typeName,P)}break;case"message":for(const f of h.proto.extension){const P=Dr(f,h.file,h,u);h.nestedExtensions.push(P),u.extensions.set(P.typeName,P)}for(const f of h.nestedMessages)qi(f,u);break}}function Ls(h,u){const f=h.proto.oneofDecl.map(_=>An(_,h,u)),P=new Set;for(const _ of h.proto.field){const J=$t(_,f),j=Kn(_,h.file,h,J,u);h.fields.push(j),J===void 0?h.members.push(j):(J.fields.push(j),P.has(J)||(P.add(J),h.members.push(J)))}for(const _ of f.filter(J=>P.has(J)))h.oneofs.push(_);for(const _ of h.nestedMessages)Ls(_,u)}function Cr(h,u,f,P){var _,J,j;(0,I.hu)(h.name,"invalid EnumDescriptorProto: missing name");const ee={kind:"enum",proto:h,deprecated:(J=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&J!==void 0?J:!1,file:u,parent:f,name:h.name,typeName:Hr(h,f,u),values:[],sharedPrefix:(0,T.Sm)(h.name,h.value.map(W=>{var oe;return(oe=W.name)!==null&&oe!==void 0?oe:""})),toString(){return`enum ${this.typeName}`},getComments(){const W=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[It.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return lt(u.proto.sourceCodeInfo,W)},getFeatures(){var W,oe,ae;const pe=(oe=(W=this.parent)===null||W===void 0?void 0:W.getFeatures())!==null&&oe!==void 0?oe:this.file.getFeatures();return P.resolveFeatures(this.file.edition,pe,(ae=this.proto.options)===null||ae===void 0?void 0:ae.features)}};P.enums.set(ee.typeName,ee),h.value.forEach(W=>{var oe,ae;(0,I.hu)(W.name,"invalid EnumValueDescriptorProto: missing name"),(0,I.hu)(W.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),ee.values.push({kind:"enum_value",proto:W,deprecated:(ae=(oe=W.options)===null||oe===void 0?void 0:oe.deprecated)!==null&&ae!==void 0?ae:!1,parent:ee,name:W.name,number:W.number,toString(){return`enum value ${ee.typeName}.${this.name}`},declarationString(){var pe;let $e=`${this.name} = ${this.number}`;return((pe=this.proto.options)===null||pe===void 0?void 0:pe.deprecated)===!0&&($e+=" [deprecated = true]"),$e},getComments(){const pe=[...this.parent.getComments().sourcePath,It.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return lt(u.proto.sourceCodeInfo,pe)},getFeatures(){var pe;return P.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}})}),((j=f==null?void 0:f.nestedEnums)!==null&&j!==void 0?j:u.enums).push(ee)}function Ms(h,u,f,P){var _,J,j,ee;(0,I.hu)(h.name,"invalid DescriptorProto: missing name");const W={kind:"message",proto:h,deprecated:(J=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&J!==void 0?J:!1,file:u,parent:f,name:h.name,typeName:Hr(h,f,u),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const oe=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[It.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return lt(u.proto.sourceCodeInfo,oe)},getFeatures(){var oe,ae,pe;const $e=(ae=(oe=this.parent)===null||oe===void 0?void 0:oe.getFeatures())!==null&&ae!==void 0?ae:this.file.getFeatures();return P.resolveFeatures(this.file.edition,$e,(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}};((j=h.options)===null||j===void 0?void 0:j.mapEntry)===!0?P.mapEntries.set(W.typeName,W):(((ee=f==null?void 0:f.nestedMessages)!==null&&ee!==void 0?ee:u.messages).push(W),P.messages.set(W.typeName,W));for(const oe of h.enumType)Cr(oe,u,W,P);for(const oe of h.nestedType)Ms(oe,u,W,P)}function Lo(h,u,f){var P,_;(0,I.hu)(h.name,"invalid ServiceDescriptorProto: missing name");const J={kind:"service",proto:h,deprecated:(_=(P=h.options)===null||P===void 0?void 0:P.deprecated)!==null&&_!==void 0?_:!1,file:u,name:h.name,typeName:Hr(h,void 0,u),methods:[],toString(){return`service ${this.typeName}`},getComments(){const j=[It.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return lt(u.proto.sourceCodeInfo,j)},getFeatures(){var j;return f.resolveFeatures(this.file.edition,this.file.getFeatures(),(j=this.proto.options)===null||j===void 0?void 0:j.features)}};u.services.push(J),f.services.set(J.typeName,J);for(const j of h.method)J.methods.push(Mo(j,J,f))}function Mo(h,u,f){var P,_,J;(0,I.hu)(h.name,"invalid MethodDescriptorProto: missing name"),(0,I.hu)(h.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,I.hu)(h.outputType,"invalid MethodDescriptorProto: missing output_type");let j;h.clientStreaming===!0&&h.serverStreaming===!0?j=me.t.BiDiStreaming:h.clientStreaming===!0?j=me.t.ClientStreaming:h.serverStreaming===!0?j=me.t.ServerStreaming:j=me.t.Unary;let ee;switch((P=h.options)===null||P===void 0?void 0:P.idempotencyLevel){case ir.IDEMPOTENT:ee=me.w.Idempotent;break;case ir.NO_SIDE_EFFECTS:ee=me.w.NoSideEffects;break;case ir.IDEMPOTENCY_UNKNOWN:case void 0:ee=void 0;break}const W=f.messages.get(xr(h.inputType)),oe=f.messages.get(xr(h.outputType));(0,I.hu)(W,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),(0,I.hu)(oe,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ae=h.name;return{kind:"rpc",proto:h,deprecated:(J=(_=h.options)===null||_===void 0?void 0:_.deprecated)!==null&&J!==void 0?J:!1,parent:u,name:ae,methodKind:j,input:W,output:oe,idempotency:ee,toString(){return`rpc ${u.typeName}.${ae}`},getComments(){const pe=[...this.parent.getComments().sourcePath,It.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return lt(u.file.proto.sourceCodeInfo,pe)},getFeatures(){var pe;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}}}function An(h,u,f){return(0,I.hu)(h.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:h,deprecated:!1,parent:u,fields:[],name:h.name,toString(){return`oneof ${u.typeName}.${this.name}`},getComments(){const P=[...this.parent.getComments().sourcePath,It.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return lt(u.file.proto.sourceCodeInfo,P)},getFeatures(){var P;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(P=this.proto.options)===null||P===void 0?void 0:P.features)}}}function Kn(h,u,f,P,_){var J,j,ee;(0,I.hu)(h.name,"invalid FieldDescriptorProto: missing name"),(0,I.hu)(h.number,"invalid FieldDescriptorProto: missing number"),(0,I.hu)(h.type,"invalid FieldDescriptorProto: missing type");const W={proto:h,deprecated:(j=(J=h.options)===null||J===void 0?void 0:J.deprecated)!==null&&j!==void 0?j:!1,name:h.name,number:h.number,parent:f,oneof:P,optional:ie(h,u.syntax),packedByDefault:ut(u,h,_.resolveFeatures),packed:xe(u,f,h,_.resolveFeatures),jsonName:h.jsonName===(0,T.x1)(h.name)?void 0:h.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:Xr,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const ae=[...this.parent.getComments().sourcePath,It.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return lt(u.proto.sourceCodeInfo,ae)},getFeatures(){var ae;return _.resolveFeatures(u.edition,this.parent.getFeatures(),(ae=this.proto.options)===null||ae===void 0?void 0:ae.features)}},oe=h.label===fn.REPEATED;switch(h.type){case Ee.MESSAGE:case Ee.GROUP:{(0,I.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ae=_.mapEntries.get(xr(h.typeName));if(ae!==void 0)return(0,I.hu)(oe,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},W),{kind:"field",fieldKind:"map",repeated:!1}),Fo(ae));const pe=_.messages.get(xr(h.typeName));return(0,I.hu)(pe!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"message",repeated:oe,message:pe})}case Ee.ENUM:{(0,I.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ae=_.enums.get(xr(h.typeName));return(0,I.hu)(ae!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"enum",getDefaultValue:_r,repeated:oe,enum:ae})}default:{const ae=Le[h.type];return(0,I.hu)(ae,`invalid FieldDescriptorProto: unknown type ${h.type}`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"scalar",getDefaultValue:_r,repeated:oe,scalar:ae,longType:((ee=h.options)===null||ee===void 0?void 0:ee.jstype)==gr.JS_STRING?S.p.STRING:S.p.BIGINT})}}}function Dr(h,u,f,P){(0,I.hu)(h.extendee,"invalid FieldDescriptorProto: missing extendee");const _=Kn(h,u,null,void 0,P),J=P.messages.get(xr(h.extendee));return(0,I.hu)(J,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),Object.assign(Object.assign({},_),{kind:"extension",typeName:Hr(h,f,u),parent:f,file:u,extendee:J,toString(){return`extension ${this.typeName}`},getComments(){const j=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_Extension,this.parent.proto.extension.indexOf(h)]:[It.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(h)];return lt(u.proto.sourceCodeInfo,j)},getFeatures(){var j,ee;return P.resolveFeatures(this.file.edition,((j=this.parent)!==null&&j!==void 0?j:this.file).getFeatures(),(ee=this.proto.options)===null||ee===void 0?void 0:ee.features)}})}function Bo(h,u){let f,P;switch(h){case void 0:case"proto2":P="proto2",f=ue.EDITION_PROTO2;break;case"proto3":P="proto3",f=ue.EDITION_PROTO3;break;case"editions":switch(P="editions",u){case void 0:case ue.EDITION_1_TEST_ONLY:case ue.EDITION_2_TEST_ONLY:case ue.EDITION_99997_TEST_ONLY:case ue.EDITION_99998_TEST_ONLY:case ue.EDITION_99999_TEST_ONLY:case ue.EDITION_UNKNOWN:f=ue.EDITION_UNKNOWN;break;default:f=u;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${h}`)}if(h==="editions"&&u===ue.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${h} cannot have edition ${String(u)}`);return{syntax:P,edition:f}}function Hr(h,u,f){(0,I.hu)(h.name,`invalid ${h.getType().typeName}: missing name`);let P;return u?P=`${u.typeName}.${h.name}`:f.proto.package!==void 0?P=`${f.proto.package}.${h.name}`:P=`${h.name}`,P}function xr(h){return h.startsWith(".")?h.substring(1):h}function Fo(h){var u,f;(0,I.hu)((u=h.proto.options)===null||u===void 0?void 0:u.mapEntry,`invalid DescriptorProto: expected ${h.toString()} to be a map entry`),(0,I.hu)(h.fields.length===2,`invalid DescriptorProto: map entry ${h.toString()} has ${h.fields.length} fields`);const P=h.fields.find(j=>j.proto.number===1);(0,I.hu)(P,`invalid DescriptorProto: map entry ${h.toString()} is missing key field`);const _=P.scalar;(0,I.hu)(_!==void 0&&_!==S.w.BYTES&&_!==S.w.FLOAT&&_!==S.w.DOUBLE,`invalid DescriptorProto: map entry ${h.toString()} has unexpected key type ${(f=P.proto.type)!==null&&f!==void 0?f:-1}`);const J=h.fields.find(j=>j.proto.number===2);switch((0,I.hu)(J,`invalid DescriptorProto: map entry ${h.toString()} is missing value field`),J.fieldKind){case"scalar":return{mapKey:_,mapValue:Object.assign(Object.assign({},J),{kind:"scalar"})};case"message":return{mapKey:_,mapValue:Object.assign(Object.assign({},J),{kind:"message"})};case"enum":return{mapKey:_,mapValue:Object.assign(Object.assign({},J),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function $t(h,u){var f;const P=h.oneofIndex;if(P===void 0)return;let _;return h.proto3Optional!==!0&&(_=u[P],(0,I.hu)(_,`invalid FieldDescriptorProto: oneof #${P} for field #${(f=h.number)!==null&&f!==void 0?f:-1} not found`)),_}function ie(h,u){switch(u){case"proto2":return h.oneofIndex===void 0&&h.label===fn.OPTIONAL;case"proto3":return h.proto3Optional===!0;case"editions":return!1}}function ut(h,u,f){const{repeatedFieldEncoding:P}=f(h.edition);if(P!=yr.PACKED)return!1;switch(u.type){case Ee.STRING:case Ee.BYTES:case Ee.GROUP:case Ee.MESSAGE:return!1;default:return!0}}function xe(h,u,f,P){var _,J,j,ee,W,oe;switch(f.type){case Ee.STRING:case Ee.BYTES:case Ee.GROUP:case Ee.MESSAGE:return!1;default:switch(h.edition){case ue.EDITION_PROTO2:return(J=(_=f.options)===null||_===void 0?void 0:_.packed)!==null&&J!==void 0?J:!1;case ue.EDITION_PROTO3:return(ee=(j=f.options)===null||j===void 0?void 0:j.packed)!==null&&ee!==void 0?ee:!0;default:{const{repeatedFieldEncoding:ae}=P(h.edition,(W=u==null?void 0:u.getFeatures())!==null&&W!==void 0?W:h.getFeatures(),(oe=f.options)===null||oe===void 0?void 0:oe.features);return ae==yr.PACKED}}}}const Le={[Ee.DOUBLE]:S.w.DOUBLE,[Ee.FLOAT]:S.w.FLOAT,[Ee.INT64]:S.w.INT64,[Ee.UINT64]:S.w.UINT64,[Ee.INT32]:S.w.INT32,[Ee.FIXED64]:S.w.FIXED64,[Ee.FIXED32]:S.w.FIXED32,[Ee.BOOL]:S.w.BOOL,[Ee.STRING]:S.w.STRING,[Ee.GROUP]:void 0,[Ee.MESSAGE]:void 0,[Ee.BYTES]:S.w.BYTES,[Ee.UINT32]:S.w.UINT32,[Ee.ENUM]:void 0,[Ee.SFIXED32]:S.w.SFIXED32,[Ee.SFIXED64]:S.w.SFIXED64,[Ee.SINT32]:S.w.SINT32,[Ee.SINT64]:S.w.SINT64};function lt(h,u){if(!h)return{leadingDetached:[],sourcePath:u};for(const f of h.location)if(f.path.length===u.length&&!f.path.some((P,_)=>u[_]!==P))return{leadingDetached:f.leadingDetachedComments,leading:f.leadingComments,trailing:f.trailingComments,sourcePath:u};return{leadingDetached:[],sourcePath:u}}var It;(function(h){h[h.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",h[h.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",h[h.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",h[h.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",h[h.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",h[h.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",h[h.DescriptorProto_Field=2]="DescriptorProto_Field",h[h.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",h[h.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",h[h.DescriptorProto_Extension=6]="DescriptorProto_Extension",h[h.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",h[h.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",h[h.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(It||(It={}));function Xr(){var h,u,f;const P=[];this.repeated&&P.push("repeated"),this.optional&&P.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===fn.REQUIRED&&P.push("required");let J;switch(this.fieldKind){case"scalar":J=S.w[this.scalar].toLowerCase();break;case"enum":J=this.enum.typeName;break;case"message":J=this.message.typeName;break;case"map":{const W=S.w[this.mapKey].toLowerCase();let oe;switch(this.mapValue.kind){case"scalar":oe=S.w[this.mapValue.scalar].toLowerCase();break;case"enum":oe=this.mapValue.enum.typeName;break;case"message":oe=this.mapValue.message.typeName;break}J=`map<${W}, ${oe}>`;break}}P.push(`${J} ${this.name} = ${this.number}`);const j=[];((h=this.proto.options)===null||h===void 0?void 0:h.packed)!==void 0&&j.push(`packed = ${this.proto.options.packed.toString()}`);let ee=this.proto.defaultValue;return ee!==void 0&&((this.proto.type==Ee.BYTES||this.proto.type==Ee.STRING)&&(ee='"'+ee.replace('"','\\"')+'"'),j.push(`default = ${ee}`)),this.jsonName!==void 0&&j.push(`json_name = "${this.jsonName}"`),((u=this.proto.options)===null||u===void 0?void 0:u.jstype)!==void 0&&j.push(`jstype = ${gr[this.proto.options.jstype]}`),((f=this.proto.options)===null||f===void 0?void 0:f.deprecated)===!0&&j.push("deprecated = true"),j.length>0&&P.push("["+j.join(", ")+"]"),P.join(" ")}function _r(){const h=this.proto.defaultValue;if(h!==void 0)switch(this.fieldKind){case"enum":return Ro(this.enum,h);case"scalar":return bo(this.scalar,h);default:return}}function Cn(...h){const u={},f={},P={},_={add(J){if("fields"in J){if(!this.findMessage(J.typeName)){u[J.typeName]=J;for(const j of J.fields.list())j.kind=="message"?this.add(j.T):j.kind=="map"&&j.V.kind=="message"?this.add(j.V.T):j.kind=="enum"&&this.add(j.T)}}else if("methods"in J){if(!this.findService(J.typeName)){P[J.typeName]=J;for(const j of Object.values(J.methods))this.add(j.I),this.add(j.O)}}else f[J.typeName]=J},findMessage(J){return u[J]},findEnum(J){return f[J]},findService(J){return P[J]}};for(const J of h)_.add(J);return _}class jt extends Y.v{constructor(u){super(),this.seconds=b.q.zero,this.nanos=0,g.w.util.initPartial(u,this)}fromJson(u,f){if(typeof u!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${g.w.json.debug(u)}`);const P=u.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!P)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const _=Date.parse(P[1]+"-"+P[2]+"-"+P[3]+"T"+P[4]+":"+P[5]+":"+P[6]+(P[8]?P[8]:"Z"));if(Number.isNaN(_))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(_<Date.parse("0001-01-01T00:00:00Z")||_>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=b.q.parse(_/1e3),this.nanos=0,P[7]&&(this.nanos=parseInt("1"+P[7]+"0".repeat(9-P[7].length))-1e9),this}toJson(u){const f=Number(this.seconds)*1e3;if(f<Date.parse("0001-01-01T00:00:00Z")||f>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let P="Z";if(this.nanos>0){const _=(this.nanos+1e9).toString().substring(1);_.substring(3)==="000000"?P="."+_.substring(0,3)+"Z":_.substring(6)==="000"?P="."+_.substring(0,6)+"Z":P="."+_+"Z"}return new Date(f).toISOString().replace(".000Z",P)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return jt.fromDate(new Date)}static fromDate(u){const f=u.getTime();return new jt({seconds:b.q.parse(Math.floor(f/1e3)),nanos:f%1e3*1e6})}static fromBinary(u,f){return new jt().fromBinary(u,f)}static fromJson(u,f){return new jt().fromJson(u,f)}static fromJsonString(u,f){return new jt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(jt,u,f)}}jt.runtime=g.w,jt.typeName="google.protobuf.Timestamp",jt.fields=g.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Vt extends Y.v{constructor(u){super(),this.seconds=b.q.zero,this.nanos=0,g.w.util.initPartial(u,this)}fromJson(u,f){if(typeof u!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${g.w.json.debug(u)}`);const P=u.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(P===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${g.w.json.debug(u)}`);const _=Number(P[1]);if(_>315576e6||_<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${g.w.json.debug(u)}`);if(this.seconds=b.q.parse(_),typeof P[2]=="string"){const J=P[2]+"0".repeat(9-P[2].length);this.nanos=parseInt(J),(_<0||Object.is(_,-0))&&(this.nanos=-this.nanos)}return this}toJson(u){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let f=this.seconds.toString();if(this.nanos!==0){let P=Math.abs(this.nanos).toString();P="0".repeat(9-P.length)+P,P.substring(3)==="000000"?P=P.substring(0,3):P.substring(6)==="000"&&(P=P.substring(0,6)),f+="."+P,this.nanos<0&&Number(this.seconds)==0&&(f="-"+f)}return f+"s"}static fromBinary(u,f){return new Vt().fromBinary(u,f)}static fromJson(u,f){return new Vt().fromJson(u,f)}static fromJsonString(u,f){return new Vt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Vt,u,f)}}Vt.runtime=g.w,Vt.typeName="google.protobuf.Duration",Vt.fields=g.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Bs=v(733);class je extends Y.v{constructor(u){super(),g.w.util.initPartial(u,this)}static fromBinary(u,f){return new je().fromBinary(u,f)}static fromJson(u,f){return new je().fromJson(u,f)}static fromJsonString(u,f){return new je().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(je,u,f)}}je.runtime=g.w,je.typeName="google.protobuf.Empty",je.fields=g.w.util.newFieldList(()=>[]);class mn extends Y.v{constructor(u){super(),this.paths=[],g.w.util.initPartial(u,this)}toJson(u){function f(P){let _=!1;const J=[];for(let j=0;j<P.length;j++){let ee=P.charAt(j);switch(ee){case"_":_=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":J.push(ee),_=!1;break;default:_&&(_=!1,ee=ee.toUpperCase()),J.push(ee);break}}return J.join("")}return this.paths.map(P=>{if(P.match(/_[0-9]?_/g)||P.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+P+'" is irreversible');return f(P)}).join(",")}fromJson(u,f){if(typeof u!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+g.w.json.debug(u));if(u==="")return this;function P(_){if(_.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const J=_.replace(/[A-Z]/g,j=>"_"+j.toLowerCase());return J[0]==="_"?J.substring(1):J}return this.paths=u.split(",").map(P),this}static fromBinary(u,f){return new mn().fromBinary(u,f)}static fromJson(u,f){return new mn().fromJson(u,f)}static fromJsonString(u,f){return new mn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(mn,u,f)}}mn.runtime=g.w,mn.typeName="google.protobuf.FieldMask",mn.fields=g.w.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var Rr;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(Rr||(Rr={})),g.w.util.setEnumType(Rr,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class pn extends Y.v{constructor(u){super(),this.fields={},g.w.util.initPartial(u,this)}toJson(u){const f={};for(const[P,_]of Object.entries(this.fields))f[P]=_.toJson(u);return f}fromJson(u,f){if(typeof u!="object"||u==null||Array.isArray(u))throw new Error("cannot decode google.protobuf.Struct from JSON "+g.w.json.debug(u));for(const[P,_]of Object.entries(u))this.fields[P]=He.fromJson(_);return this}static fromBinary(u,f){return new pn().fromBinary(u,f)}static fromJson(u,f){return new pn().fromJson(u,f)}static fromJsonString(u,f){return new pn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(pn,u,f)}}pn.runtime=g.w,pn.typeName="google.protobuf.Struct",pn.fields=g.w.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:He}}]);class He extends Y.v{constructor(u){super(),this.kind={case:void 0},g.w.util.initPartial(u,this)}toJson(u){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},u),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(u,f){switch(typeof u){case"number":this.kind={case:"numberValue",value:u};break;case"string":this.kind={case:"stringValue",value:u};break;case"boolean":this.kind={case:"boolValue",value:u};break;case"object":u===null?this.kind={case:"nullValue",value:Rr.NULL_VALUE}:Array.isArray(u)?this.kind={case:"listValue",value:zt.fromJson(u)}:this.kind={case:"structValue",value:pn.fromJson(u)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+g.w.json.debug(u))}return this}static fromBinary(u,f){return new He().fromBinary(u,f)}static fromJson(u,f){return new He().fromJson(u,f)}static fromJsonString(u,f){return new He().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(He,u,f)}}He.runtime=g.w,He.typeName="google.protobuf.Value",He.fields=g.w.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:g.w.getEnumType(Rr),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:pn,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:zt,oneof:"kind"}]);class zt extends Y.v{constructor(u){super(),this.values=[],g.w.util.initPartial(u,this)}toJson(u){return this.values.map(f=>f.toJson())}fromJson(u,f){if(!Array.isArray(u))throw new Error("cannot decode google.protobuf.ListValue from JSON "+g.w.json.debug(u));for(let P of u)this.values.push(He.fromJson(P));return this}static fromBinary(u,f){return new zt().fromBinary(u,f)}static fromJson(u,f){return new zt().fromJson(u,f)}static fromJsonString(u,f){return new zt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(zt,u,f)}}zt.runtime=g.w,zt.typeName="google.protobuf.ListValue",zt.fields=g.w.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:He,repeated:!0}]);var sr=v(609);class bt extends Y.v{constructor(u){super(),this.value=0,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.DOUBLE,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.DOUBLE,u)}catch(P){let _='cannot decode message google.protobuf.DoubleValue from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new bt().fromBinary(u,f)}static fromJson(u,f){return new bt().fromJson(u,f)}static fromJsonString(u,f){return new bt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(bt,u,f)}}bt.runtime=g.w,bt.typeName="google.protobuf.DoubleValue",bt.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),bt.fieldWrapper={wrapField(h){return new bt({value:h})},unwrapField(h){return h.value}};class ct extends Y.v{constructor(u){super(),this.value=0,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.FLOAT,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.FLOAT,u)}catch(P){let _='cannot decode message google.protobuf.FloatValue from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new ct().fromBinary(u,f)}static fromJson(u,f){return new ct().fromJson(u,f)}static fromJsonString(u,f){return new ct().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(ct,u,f)}}ct.runtime=g.w,ct.typeName="google.protobuf.FloatValue",ct.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),ct.fieldWrapper={wrapField(h){return new ct({value:h})},unwrapField(h){return h.value}};class nn extends Y.v{constructor(u){super(),this.value=b.q.zero,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.INT64,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.INT64,u)}catch(P){let _='cannot decode message google.protobuf.Int64Value from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new nn().fromBinary(u,f)}static fromJson(u,f){return new nn().fromJson(u,f)}static fromJsonString(u,f){return new nn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(nn,u,f)}}nn.runtime=g.w,nn.typeName="google.protobuf.Int64Value",nn.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),nn.fieldWrapper={wrapField(h){return new nn({value:h})},unwrapField(h){return h.value}};class Wt extends Y.v{constructor(u){super(),this.value=b.q.zero,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.UINT64,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.UINT64,u)}catch(P){let _='cannot decode message google.protobuf.UInt64Value from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new Wt().fromBinary(u,f)}static fromJson(u,f){return new Wt().fromJson(u,f)}static fromJsonString(u,f){return new Wt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Wt,u,f)}}Wt.runtime=g.w,Wt.typeName="google.protobuf.UInt64Value",Wt.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),Wt.fieldWrapper={wrapField(h){return new Wt({value:h})},unwrapField(h){return h.value}};class Ot extends Y.v{constructor(u){super(),this.value=0,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.INT32,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.INT32,u)}catch(P){let _='cannot decode message google.protobuf.Int32Value from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new Ot().fromBinary(u,f)}static fromJson(u,f){return new Ot().fromJson(u,f)}static fromJsonString(u,f){return new Ot().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Ot,u,f)}}Ot.runtime=g.w,Ot.typeName="google.protobuf.Int32Value",Ot.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),Ot.fieldWrapper={wrapField(h){return new Ot({value:h})},unwrapField(h){return h.value}};class Je extends Y.v{constructor(u){super(),this.value=0,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.UINT32,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.UINT32,u)}catch(P){let _='cannot decode message google.protobuf.UInt32Value from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new Je().fromBinary(u,f)}static fromJson(u,f){return new Je().fromJson(u,f)}static fromJsonString(u,f){return new Je().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Je,u,f)}}Je.runtime=g.w,Je.typeName="google.protobuf.UInt32Value",Je.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Je.fieldWrapper={wrapField(h){return new Je({value:h})},unwrapField(h){return h.value}};class Pe extends Y.v{constructor(u){super(),this.value=!1,g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.BOOL,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.BOOL,u)}catch(P){let _='cannot decode message google.protobuf.BoolValue from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new Pe().fromBinary(u,f)}static fromJson(u,f){return new Pe().fromJson(u,f)}static fromJsonString(u,f){return new Pe().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Pe,u,f)}}Pe.runtime=g.w,Pe.typeName="google.protobuf.BoolValue",Pe.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Pe.fieldWrapper={wrapField(h){return new Pe({value:h})},unwrapField(h){return h.value}};class Xe extends Y.v{constructor(u){super(),this.value="",g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.STRING,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.STRING,u)}catch(P){let _='cannot decode message google.protobuf.StringValue from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new Xe().fromBinary(u,f)}static fromJson(u,f){return new Xe().fromJson(u,f)}static fromJsonString(u,f){return new Xe().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Xe,u,f)}}Xe.runtime=g.w,Xe.typeName="google.protobuf.StringValue",Xe.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Xe.fieldWrapper={wrapField(h){return new Xe({value:h})},unwrapField(h){return h.value}};class rn extends Y.v{constructor(u){super(),this.value=new Uint8Array(0),g.w.util.initPartial(u,this)}toJson(u){return g.w.json.writeScalar(S.w.BYTES,this.value,!0)}fromJson(u,f){try{this.value=g.w.json.readScalar(S.w.BYTES,u)}catch(P){let _='cannot decode message google.protobuf.BytesValue from JSON"';throw P instanceof Error&&P.message.length>0&&(_+=`: ${P.message}`),new Error(_)}return this}static fromBinary(u,f){return new rn().fromBinary(u,f)}static fromJson(u,f){return new rn().fromJson(u,f)}static fromJsonString(u,f){return new rn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(rn,u,f)}}rn.runtime=g.w,rn.typeName="google.protobuf.BytesValue",rn.fields=g.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),rn.fieldWrapper={wrapField(h){return new rn({value:h})},unwrapField(h){return h.value}};const Oi=[Bs.I,Vt,je,mn,pn,He,zt,jt,Vt,bt,ct,nn,Ot,Je,Wt,Pe,Xe,rn],Te=[(0,sr.V3)(Rr)];function Ye(h,u=!0){const f=h instanceof Uint8Array||h instanceof ve?Yi(h):h,P={},_={},J={};if(u){for(const j of Oi)_[j.typeName]=j;for(const j of Te)P[j.typeName]=j}return{findEnum(j){const ee=P[j];if(ee)return ee;const W=f.enums.get(j);if(!W)return;const ae=(W.file.syntax=="proto3"?g.w:E).makeEnumType(j,W.values.map(pe=>({no:pe.number,name:pe.name,localName:(0,T.r1)(pe)})),{});return P[j]=ae,ae},findMessage(j){const ee=_[j];if(ee)return ee;const W=f.messages.get(j);if(!W)return;const oe=W.file.syntax=="proto3"?g.w:E,ae=[],pe=oe.makeMessageType(j,()=>ae,{localName:(0,T.r1)(W)});_[j]=pe;for(const $e of W.fields){const Re=Gi($e,this);ae.push(Re)}return pe},findService(j){const ee=J[j];if(ee)return ee;const W=f.services.get(j);if(!W)return;const oe={};for(const ae of W.methods){const pe=this.findMessage(ae.input.typeName),$e=this.findMessage(ae.output.typeName);(0,I.hu)(pe,`message "${ae.input.typeName}" for ${ae.toString()} not found`),(0,I.hu)($e,`output message "${ae.output.typeName}" for ${ae.toString()} not found`),oe[(0,T.r1)(ae)]={name:ae.name,I:pe,O:$e,kind:ae.methodKind,idempotency:ae.idempotency}}return J[j]={typeName:W.typeName,methods:oe}}}}function Gi(h,u){switch(h.fieldKind){case"map":return Pi(h,u);case"message":return vr(h,u);case"enum":{const f=br(h,u);return f.default=h.getDefaultValue(),f}case"scalar":{const f=sn(h);return f.default=h.getDefaultValue(),f}}}function Pi(h,u){const f={kind:"map",no:h.number,name:h.name,jsonName:h.jsonName,K:h.mapKey};if(h.mapValue.message){const P=u.findMessage(h.mapValue.message.typeName);return(0,I.hu)(P,`message "${h.mapValue.message.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"message",T:P}})}if(h.mapValue.enum){const P=u.findEnum(h.mapValue.enum.typeName);return(0,I.hu)(P,`enum "${h.mapValue.enum.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"enum",T:P}})}return Object.assign(Object.assign({},f),{V:{kind:"scalar",T:h.mapValue.scalar}})}function sn(h){const u=h.longType==S.p.STRING?{L:S.p.STRING}:{},f=Object.assign({kind:"scalar",no:h.number,name:h.name,jsonName:h.jsonName,T:h.scalar},u);return h.repeated?Object.assign(Object.assign({},f),{repeated:!0,packed:h.packed,oneof:void 0,T:h.scalar}):h.oneof?Object.assign(Object.assign({},f),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},f),{opt:!0}):f}function vr(h,u){const f=u.findMessage(h.message.typeName);(0,I.hu)(f,`message "${h.message.typeName}" for ${h.toString()} not found`);const P={kind:"message",no:h.number,name:h.name,jsonName:h.jsonName,T:f,delimited:h.proto.type==Ee.GROUP};return h.repeated?Object.assign(Object.assign({},P),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},P),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},P),{opt:!0}):P}function br(h,u){const f=u.findEnum(h.enum.typeName);(0,I.hu)(f,`enum "${h.enum.typeName}" for ${h.toString()} not found`);const P={kind:"enum",no:h.number,name:h.name,jsonName:h.jsonName,T:f};return h.repeated?Object.assign(Object.assign({},P),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},P),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},P),{opt:!0}):P}function Qr(h){if(!(h instanceof Y.v))return h;const u=h.getType(),f={};for(const P of u.fields.byMember()){const _=h[P.localName];let J;if(P.repeated)J=_.map(j=>Dn(j));else if(P.kind=="map"){J={};for(const[j,ee]of Object.entries(_))J[j]=Dn(ee)}else P.kind=="oneof"?J=P.findField(_.case)?{case:_.case,value:Dn(_.value)}:{case:void 0}:J=Dn(_);f[P.localName]=J}return f}function Dn(h){if(h===void 0)return h;if(h instanceof Y.v)return Qr(h);if(h instanceof Uint8Array){const u=new Uint8Array(h.byteLength);return u.set(h),u}return h}class Lt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Lt().fromBinary(u,f)}static fromJson(u,f){return new Lt().fromJson(u,f)}static fromJsonString(u,f){return new Lt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Lt,u,f)}}Lt.runtime=E,Lt.typeName="google.protobuf.compiler.Version",Lt.fields=E.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class St extends Y.v{constructor(u){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new St().fromBinary(u,f)}static fromJson(u,f){return new St().fromJson(u,f)}static fromJsonString(u,f){return new St().fromJsonString(u,f)}static equals(u,f){return E.util.equals(St,u,f)}}St.runtime=E,St.typeName="google.protobuf.compiler.CodeGeneratorRequest",St.fields=E.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Ie,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Ie,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Lt,opt:!0}]);class gn extends Y.v{constructor(u){super(),this.file=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new gn().fromBinary(u,f)}static fromJson(u,f){return new gn().fromJson(u,f)}static fromJsonString(u,f){return new gn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(gn,u,f)}}gn.runtime=E,gn.typeName="google.protobuf.compiler.CodeGeneratorResponse",gn.fields=E.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:it,repeated:!0}]);var Tr;(function(h){h[h.NONE=0]="NONE",h[h.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",h[h.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(Tr||(Tr={})),E.util.setEnumType(Tr,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class it extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new it().fromBinary(u,f)}static fromJson(u,f){return new it().fromJson(u,f)}static fromJsonString(u,f){return new it().fromJsonString(u,f)}static equals(u,f){return E.util.equals(it,u,f)}}it.runtime=E,it.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",it.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Ae,opt:!0}]);class Pt extends Y.v{constructor(u){super(),this.fileName="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new Pt().fromBinary(u,f)}static fromJson(u,f){return new Pt().fromJson(u,f)}static fromJsonString(u,f){return new Pt().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Pt,u,f)}}Pt.runtime=g.w,Pt.typeName="google.protobuf.SourceContext",Pt.fields=g.w.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var At;(function(h){h[h.PROTO2=0]="PROTO2",h[h.PROTO3=1]="PROTO3",h[h.EDITIONS=2]="EDITIONS"})(At||(At={})),g.w.util.setEnumType(At,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class or extends Y.v{constructor(u){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=At.PROTO2,this.edition="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new or().fromBinary(u,f)}static fromJson(u,f){return new or().fromJson(u,f)}static fromJsonString(u,f){return new or().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(or,u,f)}}or.runtime=g.w,or.typeName="google.protobuf.Type",or.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:Yn,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:Oe,repeated:!0},{no:5,name:"source_context",kind:"message",T:Pt},{no:6,name:"syntax",kind:"enum",T:g.w.getEnumType(At)},{no:7,name:"edition",kind:"scalar",T:9}]);class Yn extends Y.v{constructor(u){super(),this.kind=Kt.TYPE_UNKNOWN,this.cardinality=qn.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new Yn().fromBinary(u,f)}static fromJson(u,f){return new Yn().fromJson(u,f)}static fromJsonString(u,f){return new Yn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Yn,u,f)}}Yn.runtime=g.w,Yn.typeName="google.protobuf.Field",Yn.fields=g.w.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:g.w.getEnumType(Kt)},{no:2,name:"cardinality",kind:"enum",T:g.w.getEnumType(qn)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:Oe,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var Kt;(function(h){h[h.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",h[h.TYPE_DOUBLE=1]="TYPE_DOUBLE",h[h.TYPE_FLOAT=2]="TYPE_FLOAT",h[h.TYPE_INT64=3]="TYPE_INT64",h[h.TYPE_UINT64=4]="TYPE_UINT64",h[h.TYPE_INT32=5]="TYPE_INT32",h[h.TYPE_FIXED64=6]="TYPE_FIXED64",h[h.TYPE_FIXED32=7]="TYPE_FIXED32",h[h.TYPE_BOOL=8]="TYPE_BOOL",h[h.TYPE_STRING=9]="TYPE_STRING",h[h.TYPE_GROUP=10]="TYPE_GROUP",h[h.TYPE_MESSAGE=11]="TYPE_MESSAGE",h[h.TYPE_BYTES=12]="TYPE_BYTES",h[h.TYPE_UINT32=13]="TYPE_UINT32",h[h.TYPE_ENUM=14]="TYPE_ENUM",h[h.TYPE_SFIXED32=15]="TYPE_SFIXED32",h[h.TYPE_SFIXED64=16]="TYPE_SFIXED64",h[h.TYPE_SINT32=17]="TYPE_SINT32",h[h.TYPE_SINT64=18]="TYPE_SINT64"})(Kt||(Kt={})),g.w.util.setEnumType(Kt,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var qn;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.OPTIONAL=1]="OPTIONAL",h[h.REQUIRED=2]="REQUIRED",h[h.REPEATED=3]="REPEATED"})(qn||(qn={})),g.w.util.setEnumType(qn,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class ar extends Y.v{constructor(u){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=At.PROTO2,this.edition="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new ar().fromBinary(u,f)}static fromJson(u,f){return new ar().fromJson(u,f)}static fromJsonString(u,f){return new ar().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(ar,u,f)}}ar.runtime=g.w,ar.typeName="google.protobuf.Enum",ar.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Gn,repeated:!0},{no:3,name:"options",kind:"message",T:Oe,repeated:!0},{no:4,name:"source_context",kind:"message",T:Pt},{no:5,name:"syntax",kind:"enum",T:g.w.getEnumType(At)},{no:6,name:"edition",kind:"scalar",T:9}]);class Gn extends Y.v{constructor(u){super(),this.name="",this.number=0,this.options=[],g.w.util.initPartial(u,this)}static fromBinary(u,f){return new Gn().fromBinary(u,f)}static fromJson(u,f){return new Gn().fromJson(u,f)}static fromJsonString(u,f){return new Gn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Gn,u,f)}}Gn.runtime=g.w,Gn.typeName="google.protobuf.EnumValue",Gn.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:Oe,repeated:!0}]);class Oe extends Y.v{constructor(u){super(),this.name="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new Oe().fromBinary(u,f)}static fromJson(u,f){return new Oe().fromJson(u,f)}static fromJsonString(u,f){return new Oe().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Oe,u,f)}}Oe.runtime=g.w,Oe.typeName="google.protobuf.Option",Oe.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Bs.I}]);class Hn extends Y.v{constructor(u){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=At.PROTO2,g.w.util.initPartial(u,this)}static fromBinary(u,f){return new Hn().fromBinary(u,f)}static fromJson(u,f){return new Hn().fromJson(u,f)}static fromJsonString(u,f){return new Hn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(Hn,u,f)}}Hn.runtime=g.w,Hn.typeName="google.protobuf.Api",Hn.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:yn,repeated:!0},{no:3,name:"options",kind:"message",T:Oe,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Pt},{no:6,name:"mixins",kind:"message",T:vn,repeated:!0},{no:7,name:"syntax",kind:"enum",T:g.w.getEnumType(At)}]);class yn extends Y.v{constructor(u){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=At.PROTO2,g.w.util.initPartial(u,this)}static fromBinary(u,f){return new yn().fromBinary(u,f)}static fromJson(u,f){return new yn().fromJson(u,f)}static fromJsonString(u,f){return new yn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(yn,u,f)}}yn.runtime=g.w,yn.typeName="google.protobuf.Method",yn.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:Oe,repeated:!0},{no:7,name:"syntax",kind:"enum",T:g.w.getEnumType(At)}]);class vn extends Y.v{constructor(u){super(),this.name="",this.root="",g.w.util.initPartial(u,this)}static fromBinary(u,f){return new vn().fromBinary(u,f)}static fromJson(u,f){return new vn().fromJson(u,f)}static fromJsonString(u,f){return new vn().fromJsonString(u,f)}static equals(u,f){return g.w.util.equals(vn,u,f)}}vn.runtime=g.w,vn.typeName="google.protobuf.Mixin",vn.fields=g.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}])},561:(p,y,v)=>{v.d(y,{v:()=>g});class g{equals(S){return this.getType().runtime.util.equals(this.getType(),this,S)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(S,C){const A=this.getType(),M=A.runtime.bin,B=M.makeReadOptions(C);return M.readMessage(this,B.readerFactory(S),S.byteLength,B),this}fromJson(S,C){const A=this.getType(),M=A.runtime.json,B=M.makeReadOptions(C);return M.readMessage(A,S,B,this),this}fromJsonString(S,C){let A;try{A=JSON.parse(S)}catch(M){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${M instanceof Error?M.message:String(M)}`)}return this.fromJson(A,C)}toBinary(S){const C=this.getType(),A=C.runtime.bin,M=A.makeWriteOptions(S),B=M.writerFactory();return A.writeMessage(this,B,M),B.finish()}toJson(S){const C=this.getType(),A=C.runtime.json,M=A.makeWriteOptions(S);return A.writeMessage(this,M)}toJsonString(S){var C;const A=this.toJson(S);return JSON.stringify(A,null,(C=S==null?void 0:S.prettySpaces)!==null&&C!==void 0?C:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}},120:(p,y,v)=>{v.d(y,{E_:()=>T,fp:()=>x,hu:()=>g,ug:()=>B});function g(N,I){if(!N)throw new Error(I)}const k=34028234663852886e22,S=-34028234663852886e22,C=4294967295,A=2147483647,M=-2147483648;function B(N){if(typeof N!="number")throw new Error("invalid int 32: "+typeof N);if(!Number.isInteger(N)||N>A||N<M)throw new Error("invalid int 32: "+N)}function x(N){if(typeof N!="number")throw new Error("invalid uint 32: "+typeof N);if(!Number.isInteger(N)||N>C||N<0)throw new Error("invalid uint 32: "+N)}function T(N){if(typeof N!="number")throw new Error("invalid float 32: "+typeof N);if(!!Number.isFinite(N)&&(N>k||N<S))throw new Error("invalid float 32: "+N)}},744:(p,y,v)=>{v.d(y,{Jj:()=>Z,NN:()=>q,gQ:()=>b,gY:()=>R,oQ:()=>z});var g=v(79),k=v(561),S=v(465),C=v(432),A=v(781),M=v(120);const B=Symbol("@bufbuild/protobuf/unknown-fields"),x={readUnknownFields:!0,readerFactory:V=>new g.oP(V)},T={writeUnknownFields:!0,writerFactory:()=>new g.Lt};function N(V){return V?Object.assign(Object.assign({},x),V):x}function I(V){return V?Object.assign(Object.assign({},T),V):T}function R(){return{makeReadOptions:N,makeWriteOptions:I,listUnknownFields(V){var Q;return(Q=V[B])!==null&&Q!==void 0?Q:[]},discardUnknownFields(V){delete V[B]},writeUnknownFields(V,Q){const ne=V[B];if(ne)for(const te of ne)Q.tag(te.no,te.wireType).raw(te.data)},onUnknownField(V,Q,re,ne){const te=V;Array.isArray(te[B])||(te[B]=[]),te[B].push({no:Q,wireType:re,data:ne})},readMessage(V,Q,re,ne,te){const K=V.getType(),ce=te?Q.len:Q.pos+re;let Y,me;for(;Q.pos<ce&&([Y,me]=Q.tag(),me!=g.TD.EndGroup);){const ue=K.fields.find(Y);if(!ue){const Be=Q.skip(me);ne.readUnknownFields&&this.onUnknownField(V,Y,me,Be);continue}let ve=V,Ie=ue.repeated,Ne=ue.localName;switch(ue.oneof&&(ve=ve[ue.oneof.localName],ve.case!=Ne&&delete ve.value,ve.case=Ne,Ne="value"),ue.kind){case"scalar":case"enum":const Be=ue.kind=="enum"?S.w.INT32:ue.T;let ze=F;if(ue.kind=="scalar"&&ue.L>0&&(ze=$),Ie){let wt=ve[Ne];if(me==g.TD.LengthDelimited&&Be!=S.w.STRING&&Be!=S.w.BYTES){let Ee=Q.uint32()+Q.pos;for(;Q.pos<Ee;)wt.push(ze(Q,Be))}else wt.push(ze(Q,Be))}else ve[Ne]=ze(Q,Be);break;case"message":const We=ue.T;Ie?ve[Ne].push(D(Q,new We,ne,ue)):ve[Ne]instanceof k.v?D(Q,ve[Ne],ne,ue):(ve[Ne]=D(Q,new We,ne,ue),We.fieldWrapper&&!ue.oneof&&!ue.repeated&&(ve[Ne]=We.fieldWrapper.unwrapField(ve[Ne])));break;case"map":let[xt,Ut]=E(ue,Q,ne);ve[Ne][xt]=Ut;break}}if(te&&(me!=g.TD.EndGroup||Y!==re))throw new Error("invalid end group tag")}}}function D(V,Q,re,ne){const te=Q.getType().runtime.bin,K=ne==null?void 0:ne.delimited;return te.readMessage(Q,V,K?ne==null?void 0:ne.no:V.uint32(),re,K),Q}function E(V,Q,re){const ne=Q.uint32(),te=Q.pos+ne;let K,ce;for(;Q.pos<te;){let[Y]=Q.tag();switch(Y){case 1:K=F(Q,V.K);break;case 2:switch(V.V.kind){case"scalar":ce=F(Q,V.V.T);break;case"enum":ce=Q.int32();break;case"message":ce=D(Q,new V.V.T,re,void 0);break}break}}if(K===void 0){let Y=(0,A.kY)(V.K,S.p.BIGINT);K=V.K==S.w.BOOL?Y.toString():Y}if(typeof K!="string"&&typeof K!="number"&&(K=K.toString()),ce===void 0)switch(V.V.kind){case"scalar":ce=(0,A.kY)(V.V.T,S.p.BIGINT);break;case"enum":ce=0;break;case"message":ce=new V.V.T;break}return[K,ce]}function $(V,Q){const re=F(V,Q);return typeof re=="bigint"?re.toString():re}function F(V,Q){switch(Q){case S.w.STRING:return V.string();case S.w.BOOL:return V.bool();case S.w.DOUBLE:return V.double();case S.w.FLOAT:return V.float();case S.w.INT32:return V.int32();case S.w.INT64:return V.int64();case S.w.UINT64:return V.uint64();case S.w.FIXED64:return V.fixed64();case S.w.BYTES:return V.bytes();case S.w.FIXED32:return V.fixed32();case S.w.SFIXED32:return V.sfixed32();case S.w.SFIXED64:return V.sfixed64();case S.w.SINT64:return V.sint64();case S.w.UINT32:return V.uint32();case S.w.SINT32:return V.sint32()}}function b(V,Q,re,ne,te){V.tag(re.no,g.TD.LengthDelimited),V.fork();let K=ne;switch(re.K){case S.w.INT32:case S.w.FIXED32:case S.w.UINT32:case S.w.SFIXED32:case S.w.SINT32:K=Number.parseInt(ne);break;case S.w.BOOL:(0,M.hu)(ne=="true"||ne=="false"),K=ne=="true";break}switch(q(V,re.K,1,K,!0),re.V.kind){case"scalar":q(V,re.V.T,2,te,!0);break;case"enum":q(V,S.w.INT32,2,te,!0);break;case"message":V.tag(2,g.TD.LengthDelimited).bytes(te.toBinary(Q));break}V.join()}function z(V,Q,re,ne){if(ne!==void 0){const te=(0,C.E)(re.T,ne);re!=null&&re.delimited?V.tag(re.no,g.TD.StartGroup).raw(te.toBinary(Q)).tag(re.no,g.TD.EndGroup):V.tag(re.no,g.TD.LengthDelimited).bytes(te.toBinary(Q))}}function q(V,Q,re,ne,te){let[K,ce,Y]=(0,A.T1)(Q,ne);(!Y||te)&&V.tag(re,K)[ce](ne)}function Z(V,Q,re,ne){if(!ne.length)return;V.tag(re,g.TD.LengthDelimited).fork();let[,te]=(0,A.T1)(Q);for(let K=0;K<ne.length;K++)V[te](ne[K]);V.join()}},609:(p,y,v)=>{v.d(y,{V3:()=>S,be:()=>A,ut:()=>M,zg:()=>C});var g=v(120);const k=Symbol("@bufbuild/protobuf/enum-type");function S(x){const T=x[k];return(0,g.hu)(T,"missing enum type on enum object"),T}function C(x,T,N,I){x[k]=A(T,N.map(R=>({no:R.no,name:R.name,localName:x[R.no]})))}function A(x,T,N){const I=Object.create(null),R=Object.create(null),D=[];for(const E of T){const $=B(E);D.push($),I[E.name]=$,R[E.no]=$}return{typeName:x,values:D,findName(E){return I[E]},findNumber(E){return R[E]}}}function M(x,T,N){const I={};for(const R of T){const D=B(R);I[D.localName]=D.no,I[D.no]=D.localName}return C(I,x,T),I}function B(x){return"localName"in x?x:Object.assign(Object.assign({},x),{localName:x.name})}},501:(p,y,v)=>{v.d(y,{i:()=>g});class g{constructor(S,C){this._fields=S,this._normalizer=C}findJsonName(S){if(!this.jsonNames){const C={};for(const A of this.list())C[A.jsonName]=C[A.name]=A;this.jsonNames=C}return this.jsonNames[S]}find(S){if(!this.numbers){const C={};for(const A of this.list())C[A.no]=A;this.numbers=C}return this.numbers[S]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((S,C)=>S.no-C.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const S=this.members;let C;for(const A of this.list())A.oneof?A.oneof!==C&&(C=A.oneof,S.push(C)):S.push(A)}return this.members}}},432:(p,y,v)=>{v.d(y,{E:()=>S,w:()=>C});var g=v(561),k=v(465);function S(M,B){return B instanceof g.v||!M.fieldWrapper?B:M.fieldWrapper.wrapField(B)}function C(M){if(M.fieldKind==="message"&&!M.repeated&&M.oneof==null)return A[M.message.typeName]}const A={"google.protobuf.DoubleValue":k.w.DOUBLE,"google.protobuf.FloatValue":k.w.FLOAT,"google.protobuf.Int64Value":k.w.INT64,"google.protobuf.UInt64Value":k.w.UINT64,"google.protobuf.Int32Value":k.w.INT32,"google.protobuf.UInt32Value":k.w.UINT32,"google.protobuf.BoolValue":k.w.BOOL,"google.protobuf.StringValue":k.w.STRING,"google.protobuf.BytesValue":k.w.BYTES}},215:(p,y,v)=>{v.d(y,{o:()=>S});var g=v(504),k=v(120);class S{constructor(A){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=A,this.localName=(0,g.uA)(A)}addField(A){(0,k.hu)(A.oneof===this,`field ${A.name} not one of ${this.name}`),this.fields.push(A)}findField(A){if(!this._lookup){this._lookup=Object.create(null);for(let M=0;M<this.fields.length;M++)this._lookup[this.fields[M].localName]=this.fields[M]}return this._lookup[A]}}},814:(p,y,v)=>{v.d(y,{b:()=>N});var g=v(561),k=v(465),S=v(120),C=v(210),A=v(236);const M={ignoreUnknownFields:!1},B={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function x(F){return F?Object.assign(Object.assign({},M),F):M}function T(F){return F?Object.assign(Object.assign({},B),F):B}function N(F){const b=F(E,$);return{makeReadOptions:x,makeWriteOptions:T,readMessage(z,q,Z,V){if(q==null||Array.isArray(q)||typeof q!="object")throw new Error(`cannot decode message ${z.typeName} from JSON: ${this.debug(q)}`);V=V!=null?V:new z;const Q={};for(const[re,ne]of Object.entries(q)){const te=z.fields.findJsonName(re);if(!te){if(!Z.ignoreUnknownFields)throw new Error(`cannot decode message ${z.typeName} from JSON: key "${re}" is unknown`);continue}let K=te.localName,ce=V;if(te.oneof){if(ne===null&&te.kind=="scalar")continue;const Y=Q[te.oneof.localName];if(Y)throw new Error(`cannot decode message ${z.typeName} from JSON: multiple keys for oneof "${te.oneof.name}" present: "${Y}", "${re}"`);Q[te.oneof.localName]=re,ce=ce[te.oneof.localName]={case:K},K="value"}if(te.repeated){if(ne===null)continue;if(!Array.isArray(ne))throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`);const Y=ce[K];for(const me of ne){if(me===null)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(me)}`);let ue;switch(te.kind){case"message":ue=te.T.fromJson(me,Z);break;case"enum":if(ue=D(te.T,me,Z.ignoreUnknownFields),ue===void 0)continue;break;case"scalar":try{ue=R(te.T,me,te.L)}catch(ve){let Ie=`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(me)}`;throw ve instanceof Error&&ve.message.length>0&&(Ie+=`: ${ve.message}`),new Error(Ie)}break}Y.push(ue)}}else if(te.kind=="map"){if(ne===null)continue;if(Array.isArray(ne)||typeof ne!="object")throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`);const Y=ce[K];for(const[me,ue]of Object.entries(ne)){if(ue===null)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: map value null`);let ve;switch(te.V.kind){case"message":ve=te.V.T.fromJson(ue,Z);break;case"enum":if(ve=D(te.V.T,ue,Z.ignoreUnknownFields),ve===void 0)continue;break;case"scalar":try{ve=R(te.V.T,ue,k.p.BIGINT)}catch(Ie){let Ne=`cannot decode map value for field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw Ie instanceof Error&&Ie.message.length>0&&(Ne+=`: ${Ie.message}`),new Error(Ne)}break}try{Y[R(te.K,te.K==k.w.BOOL?me=="true"?!0:me=="false"?!1:me:me,k.p.BIGINT).toString()]=ve}catch(Ie){let Ne=`cannot decode map key for field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw Ie instanceof Error&&Ie.message.length>0&&(Ne+=`: ${Ie.message}`),new Error(Ne)}}}else switch(te.kind){case"message":const Y=te.T;if(ne===null&&Y.typeName!="google.protobuf.Value"){if(te.oneof)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: null is invalid for oneof field "${re}"`);continue}ce[K]instanceof g.v?ce[K].fromJson(ne,Z):(ce[K]=Y.fromJson(ne,Z),Y.fieldWrapper&&!te.oneof&&(ce[K]=Y.fieldWrapper.unwrapField(ce[K])));break;case"enum":const me=D(te.T,ne,Z.ignoreUnknownFields);me!==void 0&&(ce[K]=me);break;case"scalar":try{ce[K]=R(te.T,ne,te.L)}catch(ue){let ve=`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw ue instanceof Error&&ue.message.length>0&&(ve+=`: ${ue.message}`),new Error(ve)}break}}return V},writeMessage(z,q){const Z=z.getType(),V={};let Q;try{for(const re of Z.fields.byMember()){let ne;if(re.kind=="oneof"){const te=z[re.localName];if(te.value===void 0)continue;if(Q=re.findField(te.case),!Q)throw"oneof case not found: "+te.case;ne=b(Q,te.value,q)}else Q=re,ne=b(Q,z[Q.localName],q);ne!==void 0&&(V[q.useProtoFieldName?Q.name:Q.jsonName]=ne)}}catch(re){const ne=Q?`cannot encode field ${Z.typeName}.${Q.name} to JSON`:`cannot encode message ${Z.typeName} to JSON`,te=re instanceof Error?re.message:String(re);throw new Error(ne+(te.length>0?`: ${te}`:""))}return V},readScalar:R,writeScalar:$,debug:I}}function I(F){if(F===null)return"null";switch(typeof F){case"object":return Array.isArray(F)?"array":"object";case"string":return F.length>100?"string":`"${F.split('"').join('\\"')}"`;default:return String(F)}}function R(F,b,z){switch(F){case k.w.DOUBLE:case k.w.FLOAT:if(b===null)return 0;if(b==="NaN")return Number.NaN;if(b==="Infinity")return Number.POSITIVE_INFINITY;if(b==="-Infinity")return Number.NEGATIVE_INFINITY;if(b===""||typeof b=="string"&&b.trim().length!==b.length||typeof b!="string"&&typeof b!="number")break;const q=Number(b);if(Number.isNaN(q)||!Number.isFinite(q))break;return F==k.w.FLOAT&&(0,S.E_)(q),q;case k.w.INT32:case k.w.FIXED32:case k.w.SFIXED32:case k.w.SINT32:case k.w.UINT32:if(b===null)return 0;let Z;if(typeof b=="number"?Z=b:typeof b=="string"&&b.length>0&&b.trim().length===b.length&&(Z=Number(b)),Z===void 0)break;return F==k.w.UINT32?(0,S.fp)(Z):(0,S.ug)(Z),Z;case k.w.INT64:case k.w.SFIXED64:case k.w.SINT64:if(b===null)return C.q.zero;if(typeof b!="number"&&typeof b!="string")break;const V=C.q.parse(b);return z?V.toString():V;case k.w.FIXED64:case k.w.UINT64:if(b===null)return C.q.zero;if(typeof b!="number"&&typeof b!="string")break;const Q=C.q.uParse(b);return z?Q.toString():Q;case k.w.BOOL:if(b===null)return!1;if(typeof b!="boolean")break;return b;case k.w.STRING:if(b===null)return"";if(typeof b!="string")break;try{encodeURIComponent(b)}catch{throw new Error("invalid UTF8")}return b;case k.w.BYTES:if(b===null||b==="")return new Uint8Array(0);if(typeof b!="string")break;return A.W.dec(b)}throw new Error}function D(F,b,z){if(b===null)return 0;switch(typeof b){case"number":if(Number.isInteger(b))return b;break;case"string":const q=F.findName(b);if(q||z)return q==null?void 0:q.no;break}throw new Error(`cannot decode enum ${F.typeName} from JSON: ${I(b)}`)}function E(F,b,z,q){var Z;if(b===void 0)return b;if(b===0&&!z)return;if(q)return b;if(F.typeName=="google.protobuf.NullValue")return null;const V=F.findNumber(b);return(Z=V==null?void 0:V.name)!==null&&Z!==void 0?Z:b}function $(F,b,z){if(b!==void 0)switch(F){case k.w.INT32:case k.w.SFIXED32:case k.w.SINT32:case k.w.FIXED32:case k.w.UINT32:return(0,S.hu)(typeof b=="number"),b!=0||z?b:void 0;case k.w.FLOAT:case k.w.DOUBLE:return(0,S.hu)(typeof b=="number"),Number.isNaN(b)?"NaN":b===Number.POSITIVE_INFINITY?"Infinity":b===Number.NEGATIVE_INFINITY?"-Infinity":b!==0||z?b:void 0;case k.w.STRING:return(0,S.hu)(typeof b=="string"),b.length>0||z?b:void 0;case k.w.BOOL:return(0,S.hu)(typeof b=="boolean"),b||z?b:void 0;case k.w.UINT64:case k.w.FIXED64:case k.w.INT64:case k.w.SFIXED64:case k.w.SINT64:return(0,S.hu)(typeof b=="bigint"||typeof b=="string"||typeof b=="number"),z||b!=0?b.toString(10):void 0;case k.w.BYTES:return(0,S.hu)(b instanceof Uint8Array),z||b.byteLength>0?A.W.enc(b):void 0}}},504:(p,y,v)=>{v.d(y,{GD:()=>E,Rz:()=>k,Sm:()=>A,ll:()=>D,r1:()=>g,uA:()=>S,x1:()=>C});function g($){switch($.kind){case"field":return k($.name,$.oneof!==void 0);case"oneof":return S($.name);case"enum":case"message":case"service":{const F=$.file.proto.package,b=F===void 0?0:F.length+1,z=$.typeName.substring(b).replace(/\./g,"_");return D(E(z))}case"enum_value":{const F=$.parent.sharedPrefix;if(F===void 0)return $.name;const b=$.name.substring(F.length);return D(b)}case"rpc":{let F=$.name;return F.length==0?F:(F=F[0].toLowerCase()+F.substring(1),D(F))}}}function k($,F){const b=B($);return F?b:D(R(b))}function S($){return k($,!1)}const C=B;function A($,F){const b=M($)+"_";for(const z of F){if(!z.toLowerCase().startsWith(b))return;const q=z.substring(b.length);if(q.length==0||/^\d/.test(q))return}return b}function M($){return($.substring(0,1)+$.substring(1).replace(/[A-Z]/g,F=>"_"+F)).toLowerCase()}function B($){let F=!1;const b=[];for(let z=0;z<$.length;z++){let q=$.charAt(z);switch(q){case"_":F=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b.push(q),F=!1;break;default:F&&(F=!1,q=q.toUpperCase()),b.push(q);break}}return b.join("")}const x=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),T=new Set(["constructor","toString","toJSON","valueOf"]),N=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),I=$=>`${$}$`,R=$=>N.has($)?I($):$,D=$=>T.has($)?I($):$,E=$=>x.has($)?I($):$},493:(p,y,v)=>{v.d(y,{F:()=>C});var g=v(609),k=v(561);function S(A,M,B,x){var T;const N=(T=x==null?void 0:x.localName)!==null&&T!==void 0?T:M.substring(M.lastIndexOf(".")+1),I={[N]:function(R){A.util.initFields(this),A.util.initPartial(R,this)}}[N];return Object.setPrototypeOf(I.prototype,new k.v),Object.assign(I,{runtime:A,typeName:M,fields:A.util.newFieldList(B),fromBinary(R,D){return new I().fromBinary(R,D)},fromJson(R,D){return new I().fromJson(R,D)},fromJsonString(R,D){return new I().fromJsonString(R,D)},equals(R,D){return A.util.equals(I,R,D)}}),I}function C(A,M,B,x){return{syntax:A,json:M,bin:B,util:x,makeMessageType(T,N,I){return S(this,T,N,I)},makeEnum:g.ut,makeEnumType:g.be,getEnumType:g.V3}}},781:(p,y,v)=>{v.d(y,{AA:()=>C,T1:()=>M,kY:()=>A});var g=v(465),k=v(79),S=v(210);function C(B,x,T){if(x===T)return!0;if(B==g.w.BYTES){if(!(x instanceof Uint8Array)||!(T instanceof Uint8Array)||x.length!==T.length)return!1;for(let N=0;N<x.length;N++)if(x[N]!==T[N])return!1;return!0}switch(B){case g.w.UINT64:case g.w.FIXED64:case g.w.INT64:case g.w.SFIXED64:case g.w.SINT64:return x==T}return!1}function A(B,x){switch(B){case g.w.BOOL:return!1;case g.w.UINT64:case g.w.FIXED64:case g.w.INT64:case g.w.SFIXED64:case g.w.SINT64:return x==0?S.q.zero:"0";case g.w.DOUBLE:case g.w.FLOAT:return 0;case g.w.BYTES:return new Uint8Array(0);case g.w.STRING:return"";default:return 0}}function M(B,x){const T=x===void 0;let N=k.TD.Varint,I=x===0;switch(B){case g.w.STRING:I=T||!x.length,N=k.TD.LengthDelimited;break;case g.w.BOOL:I=x===!1;break;case g.w.DOUBLE:N=k.TD.Bit64;break;case g.w.FLOAT:N=k.TD.Bit32;break;case g.w.INT64:I=T||x==0;break;case g.w.UINT64:I=T||x==0;break;case g.w.FIXED64:I=T||x==0,N=k.TD.Bit64;break;case g.w.BYTES:I=T||!x.byteLength,N=k.TD.LengthDelimited;break;case g.w.FIXED32:N=k.TD.Bit32;break;case g.w.SFIXED32:N=k.TD.Bit32;break;case g.w.SFIXED64:I=T||x==0,N=k.TD.Bit64;break;case g.w.SINT64:I=T||x==0;break}const R=g.w[B].toLowerCase();return[N,R,T||I]}},433:(p,y,v)=>{v.d(y,{f:()=>A});var g=v(609),k=v(561),S=v(465),C=v(781);function A(){return{setEnumType:g.zg,initPartial(x,T){if(x===void 0)return;const N=T.getType();for(const I of N.fields.byMember()){const R=I.localName,D=T,E=x;if(E[R]!==void 0)switch(I.kind){case"oneof":const $=E[R].case;if($===void 0)continue;const F=I.findField($);let b=E[R].value;F&&F.kind=="message"&&!(b instanceof F.T)?b=new F.T(b):F&&F.kind==="scalar"&&F.T===S.w.BYTES&&(b=B(b)),D[R]={case:$,value:b};break;case"scalar":case"enum":let z=E[R];I.T===S.w.BYTES&&(z=I.repeated?z.map(B):B(z)),D[R]=z;break;case"map":switch(I.V.kind){case"scalar":case"enum":if(I.V.T===S.w.BYTES)for(const[V,Q]of Object.entries(E[R]))D[R][V]=B(Q);else Object.assign(D[R],E[R]);break;case"message":const Z=I.V.T;for(const V of Object.keys(E[R])){let Q=E[R][V];Z.fieldWrapper||(Q=new Z(Q)),D[R][V]=Q}break}break;case"message":const q=I.T;if(I.repeated)D[R]=E[R].map(Z=>Z instanceof q?Z:new q(Z));else if(E[R]!==void 0){const Z=E[R];q.fieldWrapper?q.typeName==="google.protobuf.BytesValue"?D[R]=B(Z):D[R]=Z:D[R]=Z instanceof q?Z:new q(Z)}break}}},equals(x,T,N){return T===N?!0:!T||!N?!1:x.fields.byMember().every(I=>{const R=T[I.localName],D=N[I.localName];if(I.repeated){if(R.length!==D.length)return!1;switch(I.kind){case"message":return R.every((E,$)=>I.T.equals(E,D[$]));case"scalar":return R.every((E,$)=>(0,C.AA)(I.T,E,D[$]));case"enum":return R.every((E,$)=>(0,C.AA)(S.w.INT32,E,D[$]))}throw new Error(`repeated cannot contain ${I.kind}`)}switch(I.kind){case"message":return I.T.equals(R,D);case"enum":return(0,C.AA)(S.w.INT32,R,D);case"scalar":return(0,C.AA)(I.T,R,D);case"oneof":if(R.case!==D.case)return!1;const E=I.findField(R.case);if(E===void 0)return!0;switch(E.kind){case"message":return E.T.equals(R.value,D.value);case"enum":return(0,C.AA)(S.w.INT32,R.value,D.value);case"scalar":return(0,C.AA)(E.T,R.value,D.value)}throw new Error(`oneof cannot contain ${E.kind}`);case"map":const $=Object.keys(R).concat(Object.keys(D));switch(I.V.kind){case"message":const F=I.V.T;return $.every(z=>F.equals(R[z],D[z]));case"enum":return $.every(z=>(0,C.AA)(S.w.INT32,R[z],D[z]));case"scalar":const b=I.V.T;return $.every(z=>(0,C.AA)(b,R[z],D[z]))}break}})},clone(x){const T=x.getType(),N=new T,I=N;for(const R of T.fields.byMember()){const D=x[R.localName];let E;if(R.repeated)E=D.map(M);else if(R.kind=="map"){E=I[R.localName];for(const[$,F]of Object.entries(D))E[$]=M(F)}else R.kind=="oneof"?E=R.findField(D.case)?{case:D.case,value:M(D.value)}:{case:void 0}:E=M(D);I[R.localName]=E}return N}}}function M(x){if(x===void 0)return x;if(x instanceof k.v)return x.clone();if(x instanceof Uint8Array){const T=new Uint8Array(x.byteLength);return T.set(x),T}return x}function B(x){return x instanceof Uint8Array?x:new Uint8Array(x)}},236:(p,y,v)=>{v.d(y,{W:()=>S});let g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),k=[];for(let C=0;C<g.length;C++)k[g[C].charCodeAt(0)]=C;k["-".charCodeAt(0)]=g.indexOf("+"),k["_".charCodeAt(0)]=g.indexOf("/");const S={dec(C){let A=C.length*3/4;C[C.length-2]=="="?A-=2:C[C.length-1]=="="&&(A-=1);let M=new Uint8Array(A),B=0,x=0,T,N=0;for(let I=0;I<C.length;I++){if(T=k[C.charCodeAt(I)],T===void 0)switch(C[I]){case"=":x=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(x){case 0:N=T,x=1;break;case 1:M[B++]=N<<2|(T&48)>>4,N=T,x=2;break;case 2:M[B++]=(N&15)<<4|(T&60)>>2,N=T,x=3;break;case 3:M[B++]=(N&3)<<6|T,x=0;break}}if(x==1)throw Error("invalid base64 string.");return M.subarray(0,B)},enc(C){let A="",M=0,B,x=0;for(let T=0;T<C.length;T++)switch(B=C[T],M){case 0:A+=g[B>>2],x=(B&3)<<4,M=1;break;case 1:A+=g[x|B>>4],x=(B&15)<<2,M=2;break;case 2:A+=g[x|B>>6],A+=g[B&63],M=0;break}return M&&(A+=g[x],A+="=",M==1&&(A+="=")),A}}},210:(p,y,v)=>{v.d(y,{q:()=>C});var g=v(120),k=v(818);function S(){const A=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof A.getBigInt64=="function"&&typeof A.getBigUint64=="function"&&typeof A.setBigInt64=="function"&&typeof A.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const T=BigInt("-9223372036854775808"),N=BigInt("9223372036854775807"),I=BigInt("0"),R=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(D){const E=typeof D=="bigint"?D:BigInt(D);if(E>N||E<T)throw new Error(`int64 invalid: ${D}`);return E},uParse(D){const E=typeof D=="bigint"?D:BigInt(D);if(E>R||E<I)throw new Error(`uint64 invalid: ${D}`);return E},enc(D){return A.setBigInt64(0,this.parse(D),!0),{lo:A.getInt32(0,!0),hi:A.getInt32(4,!0)}},uEnc(D){return A.setBigInt64(0,this.uParse(D),!0),{lo:A.getInt32(0,!0),hi:A.getInt32(4,!0)}},dec(D,E){return A.setInt32(0,D,!0),A.setInt32(4,E,!0),A.getBigInt64(0,!0)},uDec(D,E){return A.setInt32(0,D,!0),A.setInt32(4,E,!0),A.getBigUint64(0,!0)}}}const B=T=>(0,g.hu)(/^-?[0-9]+$/.test(T),`int64 invalid: ${T}`),x=T=>(0,g.hu)(/^[0-9]+$/.test(T),`uint64 invalid: ${T}`);return{zero:"0",supported:!1,parse(T){return typeof T!="string"&&(T=T.toString()),B(T),T},uParse(T){return typeof T!="string"&&(T=T.toString()),x(T),T},enc(T){return typeof T!="string"&&(T=T.toString()),B(T),(0,k.CZ)(T)},uEnc(T){return typeof T!="string"&&(T=T.toString()),x(T),(0,k.CZ)(T)},dec(T,N){return(0,k.Ak)(T,N)},uDec(T,N){return(0,k.Fd)(T,N)}}}const C=S()},850:(p,y,v)=>{v.d(y,{w:()=>E});var g=v(493),k=v(465),S=v(744);function C(){return Object.assign(Object.assign({},(0,S.gY)()),{writeMessage(F,b,z){const q=F.getType();for(const Z of q.fields.byNumber()){let V,Q=Z.repeated,re=Z.localName;if(Z.oneof){const ne=F[Z.oneof.localName];if(ne.case!==re)continue;V=ne.value}else V=F[re];switch(Z.kind){case"scalar":case"enum":let ne=Z.kind=="enum"?k.w.INT32:Z.T;if(Q)if(Z.packed)(0,S.Jj)(b,ne,Z.no,V);else for(const te of V)(0,S.NN)(b,ne,Z.no,te,!0);else V!==void 0&&(0,S.NN)(b,ne,Z.no,V,!!Z.oneof||Z.opt);break;case"message":if(Q)for(const te of V)(0,S.oQ)(b,z,Z,te);else(0,S.oQ)(b,z,Z,V);break;case"map":for(const[te,K]of Object.entries(V))(0,S.gQ)(b,z,Z,te,K);break}}return z.writeUnknownFields&&this.writeUnknownFields(F,b),b}})}var A=v(432),M=v(120),B=v(814);function x(){return(0,B.b)((F,b)=>function(q,Z,V){if(q.kind=="map"){const Q={};switch(q.V.kind){case"scalar":for(const[ne,te]of Object.entries(Z)){const K=b(q.V.T,te,!0);(0,M.hu)(K!==void 0),Q[ne.toString()]=K}break;case"message":for(const[ne,te]of Object.entries(Z))Q[ne.toString()]=te.toJson(V);break;case"enum":const re=q.V.T;for(const[ne,te]of Object.entries(Z)){(0,M.hu)(te===void 0||typeof te=="number");const K=F(re,te,!0,V.enumAsInteger);(0,M.hu)(K!==void 0),Q[ne.toString()]=K}break}return V.emitDefaultValues||Object.keys(Q).length>0?Q:void 0}else if(q.repeated){const Q=[];switch(q.kind){case"scalar":for(let re=0;re<Z.length;re++)Q.push(b(q.T,Z[re],!0));break;case"enum":for(let re=0;re<Z.length;re++)Q.push(F(q.T,Z[re],!0,V.enumAsInteger));break;case"message":for(let re=0;re<Z.length;re++)Q.push((0,A.E)(q.T,Z[re]).toJson(V));break}return V.emitDefaultValues||Q.length>0?Q:void 0}else switch(q.kind){case"scalar":return b(q.T,Z,!!q.oneof||q.opt||V.emitDefaultValues);case"enum":return F(q.T,Z,!!q.oneof||q.opt||V.emitDefaultValues,V.enumAsInteger);case"message":return Z!==void 0?(0,A.E)(q.T,Z).toJson(V):void 0}})}var T=v(433),N=v(501),I=v(781),R=v(215),D=v(504);const E=(0,g.F)("proto3",x(),C(),Object.assign(Object.assign({},(0,T.f)()),{newFieldList(F){return new N.i(F,$)},initFields(F){for(const b of F.getType().fields.byMember()){if(b.opt)continue;const z=b.localName,q=F;if(b.repeated){q[z]=[];continue}switch(b.kind){case"oneof":q[z]={case:void 0};break;case"enum":q[z]=0;break;case"map":q[z]={};break;case"scalar":q[z]=(0,I.kY)(b.T,b.L);break}}}}));function $(F){var b,z,q,Z;const V=[];let Q;for(const re of typeof F=="function"?F():F){const ne=re;if(ne.localName=(0,D.Rz)(re.name,re.oneof!==void 0),ne.jsonName=(b=re.jsonName)!==null&&b!==void 0?b:(0,D.x1)(re.name),ne.repeated=(z=re.repeated)!==null&&z!==void 0?z:!1,re.kind=="scalar"&&(ne.L=(q=re.L)!==null&&q!==void 0?q:k.p.BIGINT),re.oneof!==void 0){const te=typeof re.oneof=="string"?re.oneof:re.oneof.name;(!Q||Q.name!=te)&&(Q=new R.o(te)),ne.oneof=Q,Q.addField(ne)}re.kind=="message"&&(ne.delimited=!1),ne.packed=(Z=re.packed)!==null&&Z!==void 0?Z:re.kind=="enum"||re.kind=="scalar"&&re.T!=k.w.BYTES&&re.T!=k.w.STRING,V.push(ne)}return V}},328:(p,y,v)=>{v.d(y,{t:()=>g,w:()=>k});var g;(function(S){S[S.Unary=0]="Unary",S[S.ServerStreaming=1]="ServerStreaming",S[S.ClientStreaming=2]="ClientStreaming",S[S.BiDiStreaming=3]="BiDiStreaming"})(g||(g={}));var k;(function(S){S[S.NoSideEffects=1]="NoSideEffects",S[S.Idempotent=2]="Idempotent"})(k||(k={}))}},o={};function l(p){var y=o[p];if(y!==void 0)return y.exports;var v=o[p]={exports:{}};return i[p](v,v.exports,l),v.exports}l.d=(p,y)=>{for(var v in y)l.o(y,v)&&!l.o(p,v)&&Object.defineProperty(p,v,{enumerable:!0,get:y[v]})},l.o=(p,y)=>Object.prototype.hasOwnProperty.call(p,y),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var d={};return(()=>{l.r(d),l.d(d,{Change:()=>Ci,Client:()=>hf,ClientEventType:()=>Xn,ClientStatus:()=>ti,Counter:()=>Wo,Devtools:()=>p,DocEventType:()=>we,Document:()=>ff,DocumentSyncResultType:()=>rs,EventSourceDevPanel:()=>uf,EventSourceSDK:()=>lf,Primitive:()=>Ye,StreamConnectionStatus:()=>ns,SyncMode:()=>_n,Text:()=>zo,TimeTicket:()=>je,Tree:()=>Ko,converter:()=>gt,default:()=>Dp,setLogLevel:()=>g});var p={};l.r(p);var y;(function(a){a[a.Trivial=0]="Trivial",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"})(y||(y={}));let v=y.Info;function g(a){v=a}const k={trivial:(...a)=>{v>y.Trivial||typeof console<"u"&&console.log("YORKIE T:",...a)},debug:(...a)=>{v>y.Debug||typeof console<"u"&&console.log("YORKIE D:",...a)},info:(...a)=>{v>y.Info||typeof console<"u"&&console.log("YORKIE I:",...a)},warn:(...a)=>{v>y.Warn||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...a):console.log("YORKIE W:",...a))},error:(...a)=>{v>y.Error||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...a):console.log("YORKIE E:",...a))},fatal:(a,...t)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...t):console.log("YORKIE F:",...t)),new Error(`YORKIE F: ${a}`)},isEnabled:a=>v<=a};function S(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,a=>{const t=Math.random()*16|0;return(a==="x"?t:t&3|8).toString(16)})}const C=()=>{};class A{constructor(t){this.finalized=!1,this.observers=[];try{t(this)}catch(r){this.error(r)}}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let c;t||k.fatal("missing observer"),this.finalized&&k.fatal("observable is finalized due to previous error"),typeof t=="object"?c=t:c={next:t,error:r,complete:s},c.next===void 0&&(c.next=C),c.error===void 0&&(c.error=C),c.complete===void 0&&(c.complete=C);const m=S(),w=this.unsubscribeOne.bind(this,m);if(this.observers.push({subscriptionID:m,observer:c}),this.finalized)try{this.finalError?c.error(this.finalError):c.complete()}catch(O){k.warn(O)}return w}unsubscribeOne(t){var r;this.observers=(r=this.observers)===null||r===void 0?void 0:r.filter(s=>s.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t].observer)}catch(s){k.error(s)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function M(a){const t=new A(a);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}var B=l(328);function x(a,t){const r={};for(const[s,c]of Object.entries(a.methods)){const m=t(Object.assign(Object.assign({},c),{localName:s,service:a}));m!=null&&(r[s]=m)}return r}var T;(function(a){a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"})(T||(T={}));var N=l(561);function I(a){const t=T[a];return typeof t!="string"?a.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class R extends Error{constructor(t,r=T.Unknown,s,c,m){super(D(t,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=r,this.metadata=new Headers(s!=null?s:{}),this.details=c!=null?c:[],this.cause=m}static from(t,r=T.Unknown){return t instanceof R?t:t instanceof Error?t.name=="AbortError"?new R(t.message,T.Canceled):new R(t.message,r,void 0,void 0,t):new R(String(t),r,void 0,void 0,t)}findDetails(t){const r="typeName"in t?{findMessage:c=>c===t.typeName?t:void 0}:t,s=[];for(const c of this.details){if(c instanceof N.v){r.findMessage(c.getType().typeName)&&s.push(c);continue}const m=r.findMessage(c.type);if(m)try{s.push(m.fromBinary(c.value))}catch{}}return s}}function D(a,t){return a.length?`[${I(t)}] ${a}`:`[${I(t)}]`}var E=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],r;return t?t.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(m){r[m]=a[m]&&function(w){return new Promise(function(O,U){w=a[m](w),c(O,U,w.done,w.value)})}}function c(m,w,O,U){Promise.resolve(U).then(function(L){m({value:L,done:O})},w)}},$=function(a){return this instanceof $?(this.v=a,this):new $(a)},F=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),c,m=[];return c={},w("next"),w("throw"),w("return"),c[Symbol.asyncIterator]=function(){return this},c;function w(X){s[X]&&(c[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||O(X,he)})})}function O(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof $?Promise.resolve(X.value.v).then(L,H):le(m[0][2],X)}function L(X){O("next",X)}function H(X){O("throw",X)}function le(X,he){X(he),m.shift(),m.length&&O(m[0][0],m[0][1])}},b=function(a){var t,r;return t={},s("next"),s("throw",function(c){throw c}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(c,m){t[c]=a[c]?function(w){return(r=!r)?{value:$(a[c](w)),done:!1}:m?m(w):w}:m}};function z(a){return F(this,arguments,function*(){yield $(yield*b(E(a)))})}var q=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],r;return t?t.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(m){r[m]=a[m]&&function(w){return new Promise(function(O,U){w=a[m](w),c(O,U,w.done,w.value)})}}function c(m,w,O,U){Promise.resolve(U).then(function(L){m({value:L,done:O})},w)}},Z=function(a){return this instanceof Z?(this.v=a,this):new Z(a)},V=function(a){var t,r;return t={},s("next"),s("throw",function(c){throw c}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(c,m){t[c]=a[c]?function(w){return(r=!r)?{value:Z(a[c](w)),done:!1}:m?m(w):w}:m}},Q=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),c,m=[];return c={},w("next"),w("throw"),w("return"),c[Symbol.asyncIterator]=function(){return this},c;function w(X){s[X]&&(c[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||O(X,he)})})}function O(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof Z?Promise.resolve(X.value.v).then(L,H):le(m[0][2],X)}function L(X){O("next",X)}function H(X){O("throw",X)}function le(X,he){X(he),m.shift(),m.length&&O(m[0][0],m[0][1])}};function re(a,t){return x(a,r=>{switch(r.kind){case B.t.Unary:return ne(t,a,r);case B.t.ServerStreaming:return te(t,a,r);case B.t.ClientStreaming:return K(t,a,r);case B.t.BiDiStreaming:return ce(t,a,r);default:return null}})}function ne(a,t,r){return async function(s,c){var m,w;const O=await a.unary(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,s,c==null?void 0:c.contextValues);return(m=c==null?void 0:c.onHeader)===null||m===void 0||m.call(c,O.header),(w=c==null?void 0:c.onTrailer)===null||w===void 0||w.call(c,O.trailer),O.message}}function te(a,t,r){return function(s,c){return Y(a.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,z([s]),c==null?void 0:c.contextValues),c)}}function K(a,t,r){return async function(s,c){var m,w,O,U,L,H;const le=await a.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,s,c==null?void 0:c.contextValues);(L=c==null?void 0:c.onHeader)===null||L===void 0||L.call(c,le.header);let X;try{for(var he=!0,Se=q(le.message),ke;ke=await Se.next(),m=ke.done,!m;he=!0)U=ke.value,he=!1,X=U}catch(Ce){w={error:Ce}}finally{try{!he&&!m&&(O=Se.return)&&await O.call(Se)}finally{if(w)throw w.error}}if(!X)throw new R("protocol error: missing response message",T.Internal);return(H=c==null?void 0:c.onTrailer)===null||H===void 0||H.call(c,le.trailer),X}}function ce(a,t,r){return function(s,c){return Y(a.stream(t,r,c==null?void 0:c.signal,c==null?void 0:c.timeoutMs,c==null?void 0:c.headers,s,c==null?void 0:c.contextValues),c)}}function Y(a,t){const r=function(){var s,c;return Q(this,arguments,function*(){const m=yield Z(a);(s=t==null?void 0:t.onHeader)===null||s===void 0||s.call(t,m.header),yield Z(yield*V(q(m.message))),(c=t==null?void 0:t.onTrailer)===null||c===void 0||c.call(t,m.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function me(){return{get(a){return a.id in this?this[a.id]:a.defaultValue},set(a,t){return this[a.id]=t,this},delete(a){return delete this[a.id],this}}}function ue(a){var t;const r=Object.assign({},a);return(t=r.ignoreUnknownFields)!==null&&t!==void 0||(r.ignoreUnknownFields=!0),r}function ve(a,t,r,s){const c=t?Ie(a.I,s):Ne(a.I,r);return{parse:(t?Ie(a.O,s):Ne(a.O,r)).parse,serialize:c.serialize}}function Ie(a,t){return{parse(r){try{return a.fromBinary(r,t)}catch(s){const c=s instanceof Error?s.message:String(s);throw new R(`parse binary: ${c}`,T.InvalidArgument)}},serialize(r){try{return r.toBinary(t)}catch(s){const c=s instanceof Error?s.message:String(s);throw new R(`serialize binary: ${c}`,T.Internal)}}}}function Ne(a,t){var r,s;const c=(r=t==null?void 0:t.textEncoder)!==null&&r!==void 0?r:new TextEncoder,m=(s=t==null?void 0:t.textDecoder)!==null&&s!==void 0?s:new TextDecoder,w=ue(t);return{parse(O){try{const U=m.decode(O);return a.fromJsonString(U,w)}catch(U){throw R.from(U,T.InvalidArgument)}},serialize(O){try{const U=O.toJsonString(w);return c.encode(U)}catch(U){throw R.from(U,T.Internal)}}}}function Be(...a){const t=new AbortController,r=a.filter(c=>c!==void 0).concat(t.signal);for(const c of r){if(c.aborted){s.apply(c);break}c.addEventListener("abort",s)}function s(){t.signal.aborted||t.abort(We(this));for(const c of r)c.removeEventListener("abort",s)}return t}function ze(a){const t=new AbortController,r=()=>{t.abort(new R("the operation timed out",T.DeadlineExceeded))};let s;return a!==void 0&&(a<=0?r():s=setTimeout(r,a)),{signal:t.signal,cleanup:()=>clearTimeout(s)}}function We(a){if(!a.aborted)return;if(a.reason!==void 0)return a.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function xt(a,t){return t instanceof N.v?t:new a(t)}function Ut(a,t){function r(s){return s.done===!0?s:{done:s.done,value:xt(a,s.value)}}return{[Symbol.asyncIterator](){const s=t[Symbol.asyncIterator](),c={next:()=>s.next().then(r)};return s.throw!==void 0&&(c.throw=m=>s.throw(m).then(r)),s.return!==void 0&&(c.return=m=>s.return(m).then(r)),c}}}function wt(a){const t=Zt(a.next,a.interceptors),[r,s,c]=fn(a),m=Object.assign(Object.assign({},a.req),{message:xt(a.req.method.I,a.req.message),signal:r});return t(m).then(w=>(c(),w),s)}function Ee(a){const t=Zt(a.next,a.interceptors),[r,s,c]=fn(a),m=Object.assign(Object.assign({},a.req),{message:Ut(a.req.method.I,a.req.message),signal:r});let w=!1;return r.addEventListener("abort",function(){var O,U;const L=a.req.message[Symbol.asyncIterator]();w||(O=L.throw)===null||O===void 0||O.call(L,this.reason).catch(()=>{}),(U=L.return)===null||U===void 0||U.call(L).catch(()=>{})}),t(m).then(O=>Object.assign(Object.assign({},O),{message:{[Symbol.asyncIterator](){const U=O.message[Symbol.asyncIterator]();return{next(){return U.next().then(L=>(L.done==!0&&(w=!0,c()),L),s)}}}}}),s)}function fn(a){const{signal:t,cleanup:r}=ze(a.timeoutMs),s=Be(a.signal,t);return[s.signal,function(m){const w=R.from(t.aborted?We(t):m);return s.abort(w),r(),Promise.reject(w)},function(){r(),s.abort()}]}function Zt(a,t){var r;return(r=t==null?void 0:t.concat().reverse().reduce((s,c)=>c(s),a))!==null&&r!==void 0?r:a}function _t(a,t,r){const s=typeof t=="string"?t:t.typeName,c=typeof r=="string"?r:r.name;return a.toString().replace(/\/?$/,`/${s}/${c}`)}function Jt(a){let t,r=new Uint8Array(0);function s(c){const m=new Uint8Array(r.length+c.length);m.set(r),m.set(c,r.length),r=m}return new ReadableStream({start(){t=a.getReader()},async pull(c){let m;for(;;){if(m===void 0&&r.byteLength>=5){let U=0;for(let L=1;L<5;L++)U=(U<<8)+r[L];m={flags:r[0],length:U}}if(m!==void 0&&r.byteLength>=m.length+5)break;const O=await t.read();if(O.done)break;s(O.value)}if(m===void 0){if(r.byteLength==0){c.close();return}c.error(new R("premature end of stream",T.DataLoss));return}const w=r.subarray(5,5+m.length);r=r.subarray(5+m.length),c.enqueue({flags:m.flags,data:w})}})}function Rt(a,t){const r=new Uint8Array(t.length+5);r.set(t,5);const s=new DataView(r.buffer,r.byteOffset,r.byteLength);return s.setUint8(0,a),s.setUint32(1,t.length),r}const en="Content-Type",ht="Grpc-Timeout",fe="Grpc-Status",Un="Grpc-Message",dn="Grpc-Status-Details-Bin",Jn="User-Agent",Yr="X-User-Agent",gr="X-Grpc-Web",Ei="application/grpc-web+proto",ki="application/grpc-web+json";function Nn(a,t,r,s){const c=new Headers(r!=null?r:{});return c.set(en,a?Ei:ki),c.set(gr,"1"),c.set(Yr,"connect-es/1.2.0"),s&&c.set(Jn,"connect-es/1.2.0"),t!==void 0&&c.set(ht,`${t}m`),c}function $n(a){switch(a){case 400:return T.Internal;case 401:return T.Unauthenticated;case 403:return T.PermissionDenied;case 404:return T.Unimplemented;case 429:return T.Unavailable;case 502:return T.Unavailable;case 503:return T.Unavailable;case 504:return T.Unavailable;default:return T.Unknown}}var tn=l(850),jn=l(733);class mt extends N.v{constructor(t){super(),this.code=0,this.message="",this.details=[],tn.w.util.initPartial(t,this)}static fromBinary(t,r){return new mt().fromBinary(t,r)}static fromJson(t,r){return new mt().fromJson(t,r)}static fromJsonString(t,r){return new mt().fromJsonString(t,r)}static equals(t,r){return tn.w.util.equals(mt,t,r)}}mt.runtime=tn.w,mt.typeName="google.rpc.Status",mt.fields=tn.w.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:jn.I,repeated:!0}]);var Vn=l(236);function ir(a,t,r){try{const s=Vn.W.dec(a);return t?t.fromBinary(s,r):s}catch(s){throw R.from(s,T.DataLoss)}}const pt="0";function In(a){var t;const r=a.get(dn);if(r!=null){const c=ir(r,mt);if(c.code==0)return;const m=new R(c.message,c.code,a);return m.details=c.details.map(w=>({type:w.typeUrl.substring(w.typeUrl.lastIndexOf("/")+1),value:w.value})),m}const s=a.get(fe);if(s!=null){if(s===pt)return;const c=parseInt(s,10);return c in T?new R(decodeURIComponent((t=a.get(Un))!==null&&t!==void 0?t:""),c,a):new R(`invalid grpc-status: ${s}`,T.Internal,a)}}function Ke(a,t){var r;if(a>=200&&a<300){const s=In(t);if(s)throw s;return{foundStatus:t.has(fe)}}throw new R(decodeURIComponent((r=t.get(Un))!==null&&r!==void 0?r:`HTTP ${a}`),$n(a),t)}const Pr=128;function qr(a){const t=new Headers,r=new TextDecoder().decode(a).split(`\r
`);for(const s of r){if(s==="")continue;const c=s.indexOf(":");if(c>0){const m=s.substring(0,c).trim(),w=s.substring(c+1).trim();t.append(m,w)}}return t}function yr(a,t){const r=In(a);if(r)throw t.forEach((s,c)=>{r.metadata.append(c,s)}),r}function Ni(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var On=function(a){return this instanceof On?(this.v=a,this):new On(a)},Ii=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),c,m=[];return c={},w("next"),w("throw"),w("return"),c[Symbol.asyncIterator]=function(){return this},c;function w(X){s[X]&&(c[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||O(X,he)})})}function O(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof On?Promise.resolve(X.value.v).then(L,H):le(m[0][2],X)}function L(X){O("next",X)}function H(X){O("throw",X)}function le(X,he){X(he),m.shift(),m.length&&O(m[0][0],m[0][1])}};function zn(a){var t;Ni();const r=(t=a.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(s,c,m,w,O,U,L){var H;const{serialize:le,parse:X}=ve(c,r,a.jsonOptions,a.binaryOptions);return w=w===void 0?a.defaultTimeoutMs:w<=0?void 0:w,await wt({interceptors:a.interceptors,signal:m,timeoutMs:w,req:{stream:!1,service:s,method:c,url:_t(a.baseUrl,s,c),init:{method:"POST",credentials:(H=a.credentials)!==null&&H!==void 0?H:"same-origin",redirect:"error",mode:"cors"},header:Nn(r,w,O,!1),contextValues:L!=null?L:me(),message:U},next:async he=>{var Se;const Ce=await((Se=a.fetch)!==null&&Se!==void 0?Se:globalThis.fetch)(he.url,Object.assign(Object.assign({},he.init),{headers:he.header,signal:he.signal,body:Rt(0,le(he.message))}));if(Ke(Ce.status,Ce.headers),!Ce.body)throw"missing response body";const Et=Jt(Ce.body).getReader();let De,ot;for(;;){const et=await Et.read();if(et.done)break;const{flags:yt,data:xi}=et.value;if(yt===Pr){if(De!==void 0)throw"extra trailer";De=qr(xi);continue}if(ot!==void 0)throw"extra message";ot=X(xi)}if(De===void 0)throw"missing trailer";if(yr(De,Ce.headers),ot===void 0)throw"missing message";return{stream:!1,header:Ce.headers,message:ot,trailer:De}}})},async stream(s,c,m,w,O,U,L){var H;const{serialize:le,parse:X}=ve(c,r,a.jsonOptions,a.binaryOptions);function he(ke,Ce,Et,De){return Ii(this,arguments,function*(){const et=Jt(ke).getReader();if(Ce){if(!(yield On(et.read())).done)throw"extra data for trailers-only";return yield On(void 0)}let yt=!1;for(;;){const xi=yield On(et.read());if(xi.done)break;const{flags:is,data:js}=xi.value;if((is&Pr)===Pr){if(yt)throw"extra trailer";yt=!0;const mf=qr(js);yr(mf,De),mf.forEach((xp,_p)=>Et.set(_p,xp));continue}if(yt)throw"extra message";yield yield On(X(js))}if(!yt)throw"missing trailer"})}async function Se(ke){if(c.kind!=B.t.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Ce=await ke[Symbol.asyncIterator]().next();if(Ce.done==!0)throw"missing request message";return Rt(0,le(Ce.value))}return w=w===void 0?a.defaultTimeoutMs:w<=0?void 0:w,Ee({interceptors:a.interceptors,signal:m,timeoutMs:w,req:{stream:!0,service:s,method:c,url:_t(a.baseUrl,s,c),init:{method:"POST",credentials:(H=a.credentials)!==null&&H!==void 0?H:"same-origin",redirect:"error",mode:"cors"},header:Nn(r,w,O,!1),contextValues:L!=null?L:me(),message:U},next:async ke=>{var Ce;const De=await((Ce=a.fetch)!==null&&Ce!==void 0?Ce:globalThis.fetch)(ke.url,Object.assign(Object.assign({},ke.init),{headers:ke.header,signal:ke.signal,body:await Se(ke.message)})),{foundStatus:ot}=Ke(De.status,De.headers);if(!De.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},ke),{header:De.headers,trailer:et,message:he(De.body,ot,et,De.headers)})}})}}}var Wn=l(295),G=l(646);/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Ze=null;try{Ze=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ae(a,t,r){this.low=a|0,this.high=t|0,this.unsigned=!!r}Ae.prototype.__isLong__,Object.defineProperty(Ae.prototype,"__isLong__",{value:!0});function Ue(a){return(a&&a.__isLong__)===!0}function Gr(a){var t=Math.clz32(a&-a);return a?31-t:t}Ae.isLong=Ue;var Ro={},bo={};function Ar(a,t){var r,s,c;return t?(a>>>=0,(c=0<=a&&a<256)&&(s=bo[a],s)?s:(r=be(a,0,!0),c&&(bo[a]=r),r)):(a|=0,(c=-128<=a&&a<128)&&(s=Ro[a],s)?s:(r=be(a,a<0?-1:0,!1),c&&(Ro[a]=r),r))}Ae.fromInt=Ar;function hn(a,t){if(isNaN(a))return t?Kn:An;if(t){if(a<0)return Kn;if(a>=Ms)return Fo}else{if(a<=-Lo)return $t;if(a+1>=Lo)return xr}return a<0?hn(-a,t).neg():be(a%Cr|0,a/Cr|0,t)}Ae.fromNumber=hn;function be(a,t,r){return new Ae(a,t,r)}Ae.fromBits=be;var Ki=Math.pow;function Yi(a,t,r){if(a.length===0)throw Error("empty string");if(typeof t=="number"?(r=t,t=!1):t=!!t,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return t?Kn:An;if(r=r||10,r<2||36<r)throw RangeError("radix");var s;if((s=a.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return Yi(a.substring(1),t,r).neg();for(var c=hn(Ki(r,8)),m=An,w=0;w<a.length;w+=8){var O=Math.min(8,a.length-w),U=parseInt(a.substring(w,w+O),r);if(O<8){var L=hn(Ki(r,O));m=m.mul(L).add(hn(U))}else m=m.mul(c),m=m.add(hn(U))}return m.unsigned=t,m}Ae.fromString=Yi;function Pn(a,t){return typeof a=="number"?hn(a,t):typeof a=="string"?Yi(a,t):be(a.low,a.high,typeof t=="boolean"?t:a.unsigned)}Ae.fromValue=Pn;var qi=1<<16,Ls=1<<24,Cr=qi*qi,Ms=Cr*Cr,Lo=Ms/2,Mo=Ar(Ls),An=Ar(0);Ae.ZERO=An;var Kn=Ar(0,!0);Ae.UZERO=Kn;var Dr=Ar(1);Ae.ONE=Dr;var Bo=Ar(1,!0);Ae.UONE=Bo;var Hr=Ar(-1);Ae.NEG_ONE=Hr;var xr=be(-1,2147483647,!1);Ae.MAX_VALUE=xr;var Fo=be(-1,-1,!0);Ae.MAX_UNSIGNED_VALUE=Fo;var $t=be(0,-2147483648,!1);Ae.MIN_VALUE=$t;var ie=Ae.prototype;ie.toInt=function(){return this.unsigned?this.low>>>0:this.low},ie.toNumber=function(){return this.unsigned?(this.high>>>0)*Cr+(this.low>>>0):this.high*Cr+(this.low>>>0)},ie.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq($t)){var r=hn(t),s=this.div(r),c=s.mul(r).sub(this);return s.toString(t)+c.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var m=hn(Ki(t,6),this.unsigned),w=this,O="";;){var U=w.div(m),L=w.sub(U.mul(m)).toInt()>>>0,H=L.toString(t);if(w=U,w.isZero())return H+O;for(;H.length<6;)H="0"+H;O=""+H+O}},ie.getHighBits=function(){return this.high},ie.getHighBitsUnsigned=function(){return this.high>>>0},ie.getLowBits=function(){return this.low},ie.getLowBitsUnsigned=function(){return this.low>>>0},ie.getNumBitsAbs=function(){if(this.isNegative())return this.eq($t)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,r=31;r>0&&(t&1<<r)==0;r--);return this.high!=0?r+33:r+1},ie.isZero=function(){return this.high===0&&this.low===0},ie.eqz=ie.isZero,ie.isNegative=function(){return!this.unsigned&&this.high<0},ie.isPositive=function(){return this.unsigned||this.high>=0},ie.isOdd=function(){return(this.low&1)===1},ie.isEven=function(){return(this.low&1)===0},ie.equals=function(t){return Ue(t)||(t=Pn(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},ie.eq=ie.equals,ie.notEquals=function(t){return!this.eq(t)},ie.neq=ie.notEquals,ie.ne=ie.notEquals,ie.lessThan=function(t){return this.comp(t)<0},ie.lt=ie.lessThan,ie.lessThanOrEqual=function(t){return this.comp(t)<=0},ie.lte=ie.lessThanOrEqual,ie.le=ie.lessThanOrEqual,ie.greaterThan=function(t){return this.comp(t)>0},ie.gt=ie.greaterThan,ie.greaterThanOrEqual=function(t){return this.comp(t)>=0},ie.gte=ie.greaterThanOrEqual,ie.ge=ie.greaterThanOrEqual,ie.compare=function(t){if(Ue(t)||(t=Pn(t)),this.eq(t))return 0;var r=this.isNegative(),s=t.isNegative();return r&&!s?-1:!r&&s?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ie.comp=ie.compare,ie.negate=function(){return!this.unsigned&&this.eq($t)?$t:this.not().add(Dr)},ie.neg=ie.negate,ie.add=function(t){Ue(t)||(t=Pn(t));var r=this.high>>>16,s=this.high&65535,c=this.low>>>16,m=this.low&65535,w=t.high>>>16,O=t.high&65535,U=t.low>>>16,L=t.low&65535,H=0,le=0,X=0,he=0;return he+=m+L,X+=he>>>16,he&=65535,X+=c+U,le+=X>>>16,X&=65535,le+=s+O,H+=le>>>16,le&=65535,H+=r+w,H&=65535,be(X<<16|he,H<<16|le,this.unsigned)},ie.subtract=function(t){return Ue(t)||(t=Pn(t)),this.add(t.neg())},ie.sub=ie.subtract,ie.multiply=function(t){if(this.isZero())return this;if(Ue(t)||(t=Pn(t)),Ze){var r=Ze.mul(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Kn:An;if(this.eq($t))return t.isOdd()?$t:An;if(t.eq($t))return this.isOdd()?$t:An;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Mo)&&t.lt(Mo))return hn(this.toNumber()*t.toNumber(),this.unsigned);var s=this.high>>>16,c=this.high&65535,m=this.low>>>16,w=this.low&65535,O=t.high>>>16,U=t.high&65535,L=t.low>>>16,H=t.low&65535,le=0,X=0,he=0,Se=0;return Se+=w*H,he+=Se>>>16,Se&=65535,he+=m*H,X+=he>>>16,he&=65535,he+=w*L,X+=he>>>16,he&=65535,X+=c*H,le+=X>>>16,X&=65535,X+=m*L,le+=X>>>16,X&=65535,X+=w*U,le+=X>>>16,X&=65535,le+=s*H+c*L+m*U+w*O,le&=65535,be(he<<16|Se,le<<16|X,this.unsigned)},ie.mul=ie.multiply,ie.divide=function(t){if(Ue(t)||(t=Pn(t)),t.isZero())throw Error("division by zero");if(Ze){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Ze.div_u:Ze.div_s)(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Kn:An;var s,c,m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Kn;if(t.gt(this.shru(1)))return Bo;m=Kn}else{if(this.eq($t)){if(t.eq(Dr)||t.eq(Hr))return $t;if(t.eq($t))return Dr;var w=this.shr(1);return s=w.div(t).shl(1),s.eq(An)?t.isNegative()?Dr:Hr:(c=this.sub(t.mul(s)),m=s.add(c.div(t)),m)}else if(t.eq($t))return this.unsigned?Kn:An;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();m=An}for(c=this;c.gte(t);){s=Math.max(1,Math.floor(c.toNumber()/t.toNumber()));for(var O=Math.ceil(Math.log(s)/Math.LN2),U=O<=48?1:Ki(2,O-48),L=hn(s),H=L.mul(t);H.isNegative()||H.gt(c);)s-=U,L=hn(s,this.unsigned),H=L.mul(t);L.isZero()&&(L=Dr),m=m.add(L),c=c.sub(H)}return m},ie.div=ie.divide,ie.modulo=function(t){if(Ue(t)||(t=Pn(t)),Ze){var r=(this.unsigned?Ze.rem_u:Ze.rem_s)(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},ie.mod=ie.modulo,ie.rem=ie.modulo,ie.not=function(){return be(~this.low,~this.high,this.unsigned)},ie.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ie.clz=ie.countLeadingZeros,ie.countTrailingZeros=function(){return this.low?Gr(this.low):Gr(this.high)+32},ie.ctz=ie.countTrailingZeros,ie.and=function(t){return Ue(t)||(t=Pn(t)),be(this.low&t.low,this.high&t.high,this.unsigned)},ie.or=function(t){return Ue(t)||(t=Pn(t)),be(this.low|t.low,this.high|t.high,this.unsigned)},ie.xor=function(t){return Ue(t)||(t=Pn(t)),be(this.low^t.low,this.high^t.high,this.unsigned)},ie.shiftLeft=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):be(0,this.low<<t-32,this.unsigned)},ie.shl=ie.shiftLeft,ie.shiftRight=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):be(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ie.shr=ie.shiftRight,ie.shiftRightUnsigned=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?be(this.high,0,this.unsigned):be(this.high>>>t-32,0,this.unsigned)},ie.shru=ie.shiftRightUnsigned,ie.shr_u=ie.shiftRightUnsigned,ie.rotateLeft=function(t){var r;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?be(this.high,this.low,this.unsigned):t<32?(r=32-t,be(this.low<<t|this.high>>>r,this.high<<t|this.low>>>r,this.unsigned)):(t-=32,r=32-t,be(this.high<<t|this.low>>>r,this.low<<t|this.high>>>r,this.unsigned))},ie.rotl=ie.rotateLeft,ie.rotateRight=function(t){var r;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?be(this.high,this.low,this.unsigned):t<32?(r=32-t,be(this.high<<r|this.low>>>t,this.low<<r|this.high>>>t,this.unsigned)):(t-=32,r=32-t,be(this.low<<r|this.high>>>t,this.high<<r|this.low>>>t,this.unsigned))},ie.rotr=ie.rotateRight,ie.toSigned=function(){return this.unsigned?be(this.low,this.high,!1):this},ie.toUnsigned=function(){return this.unsigned?this:be(this.low,this.high,!0)},ie.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ie.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},ie.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},Ae.fromBytes=function(t,r,s){return s?Ae.fromBytesLE(t,r):Ae.fromBytesBE(t,r)},Ae.fromBytesLE=function(t,r){return new Ae(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},Ae.fromBytesBE=function(t,r){return new Ae(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)};const ut=Ae;var xe;(function(a){a.Ok="ok",a.ClientNotActive="client-not-active",a.Unimplemented="unimplemented",a.Unsupported="unsupported",a.DocumentNotAttached="document-not-attached",a.DocumentNotDetached="document-not-detached",a.DocumentRemoved="document-removed",a.InvalidObjectKey="invalid-object-key",a.InvalidArgument="invalid-argument"})(xe||(xe={}));class Le extends Error{constructor(t,r){super(r),this.code=t,this.message=r,this.name="YorkieError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function lt(a){if(a instanceof Map){const t=Array.from(a);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(a))}const It=a=>a?Object.entries(a).length===0:!0,Xr=a=>{const t={};for(const[r,s]of Object.entries(a))t[r]=JSON.stringify(s);return t},_r=a=>{const t={};for(const[r,s]of Object.entries(a))t[r]=JSON.parse(s);return t};var Cn;(function(a){a.Put="put",a.Clear="clear"})(Cn||(Cn={}));class jt{constructor(t,r){this.context=t,this.presence=r}set(t,r){for(const s of Object.keys(t))this.presence[s]=t[s];this.context.setPresenceChange({type:Cn.Put,presence:lt(this.presence)}),this.context.setReversePresence(t,r)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:Cn.Clear})}}const Vt="000000000000000000000000",Bs="FFFFFFFFFFFFFFFFFFFFFFFF";class je{constructor(t,r,s){this.lamport=t,this.delimiter=r,this.actorID=s}static of(t,r,s){return new je(t,r,s)}static fromStruct(t){return je.of(ut.fromString(t.lamport,!0),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new je(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport.greaterThan(t.lamport))return 1;if(t.lamport.greaterThan(this.lamport))return-1;const r=this.actorID.localeCompare(t.actorID);return r!==0?r:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const mn=0,Rr=4294967295,pn=ut.MAX_VALUE,He=new je(ut.fromNumber(0),mn,Vt);new je(ut.fromNumber(1),mn+1,Vt);const zt=new je(pn,Rr,Bs);function sr(a){return a.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class bt{constructor(t){this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}}class ct extends bt{constructor(t){super(t)}}class nn extends bt{}class Wt{constructor(t,r){this.strKey=t,this.value=r}static of(t,r){return new Wt(t,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class Ot{constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ot}set(t,r,s){let c;const m=this.nodeMapByKey.get(t);m!=null&&!m.isRemoved()&&m.remove(s)&&(c=m.getValue());const w=Wt.of(t,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),w),(m==null||s.after(m.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,w),r.setMovedAt(s)),c}delete(t,r){this.nodeMapByCreatedAt.has(t.toIDString())||k.fatal(`fail to find ${t.toIDString()}`);const s=this.nodeMapByCreatedAt.get(t.toIDString());return s.remove(r),s.getValue()}subPathOf(t){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!!r)return r.getStrKey()}purge(t){const r=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!r){k.fatal(`fail to find ${t.getCreatedAt().toIDString()}`);return}const s=this.nodeMapByKey.get(r.getStrKey());r===s&&this.nodeMapByKey.delete(s.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(t,r){const s=this.nodeMapByKey.get(t);if(s!=null&&!!s.remove(r))return s.getValue()}has(t){const r=this.nodeMapByKey.get(t);return r==null?!1:!r.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const r=this.nodeMapByKey.get(t);if(!(!r||r.isRemoved()))return r}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class Je extends ct{constructor(t,r){super(t),this.memberNodes=r}static create(t,r){if(!r)return new Je(t,Ot.create());const s=Ot.create();for(const[c,m]of Object.entries(r))s.set(c,m.deepcopy(),m.getCreatedAt());return new Je(t,s)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,r,s){return this.memberNodes.set(t,r,s)}delete(t,r){return this.memberNodes.delete(t,r)}deleteByKey(t,r){return this.memberNodes.deleteByKey(t,r)}get(t){const r=this.memberNodes.get(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.memberNodes.getByID(t);return r==null?void 0:r.getValue()}has(t){return this.memberNodes.has(t)}toJSON(){const t=[];for(const[r,s]of this)t.push(`"${sr(r)}":${s.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[r,s]of this){const{createdAt:c,value:m,type:w}=s.toJSForTest();t[r]={key:r,createdAt:c,value:m,type:w}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[r]of this)t.push(r);return t}toSortedJSON(){var t;const r=Array();for(const[c]of this)r.push(c);const s=[];for(const c of r.sort()){const m=(t=this.memberNodes.get(c))===null||t===void 0?void 0:t.getValue();s.push(`"${sr(c)}":${m.toSortedJSON()}`)}return`{${s.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=Je.create(this.getCreatedAt());for(const r of this.memberNodes)t.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return t.remove(this.getRemovedAt()),t}getDescendants(t){for(const r of this.memberNodes){const s=r.getValue();if(t(s,this))return;s instanceof ct&&s.getDescendants(t)}}*[Symbol.iterator](){const t=new Set;for(const r of this.memberNodes)t.has(r.getStrKey())||(t.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Pe;(function(a){a.Local="local",a.Remote="remote",a.UndoRedo="undoredo"})(Pe||(Pe={}));class Xe{constructor(t,r){this.parentCreatedAt=t,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class rn{constructor(t){this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class Oi{constructor(t){this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&t<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<t)t-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{t-=r.getLeftWeight();break}return t>r.getLength()&&k.fatal(`out of index range: pos: ${t} > node.length: ${r.getLength()}`),[r,t]}indexOf(t){if(!t||t!==this.root&&!t.hasLinks())return-1;let r=0,s=t,c;for(;s;)(!c||c===s.getRight())&&(r+=s.getLength()+(s.hasLeft()?s.getLeftWeight():0)),c=s,s=s.getParent();return r-t.getLength()}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,r){return t?(this.splayNode(t),this.root=r,r.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(r),r.setLeft(t),t.setParent(r),t.setRight(),this.updateWeight(t),this.updateWeight(r),r):(this.root=r,r)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(!!t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const r=new Oi(t.getLeft());r.root&&r.root.setParent();const s=new Oi(t.getRight());if(s.root&&s.root.setParent(),r.root){const c=r.getRightmost();r.splayNode(c),r.root.setRight(s.root),s.root&&s.root.setParent(r.root),this.root=r.root}else this.root=s.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,r){if(!r){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(r),r.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const r=[];this.traversePostorder(t.getRight(),r);for(const s of r)s.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const r of t)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,r){!t||(this.traverseInorder(t.getLeft(),r),r.push(t),this.traverseInorder(t.getRight(),r))}traversePostorder(t,r){!t||(this.traversePostorder(t.getLeft(),r),this.traversePostorder(t.getRight(),r),r.push(t))}rotateLeft(t){const r=t.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(t):r.getParent().setRight(t):this.root=t,t.setParent(r.getParent()),r.setRight(t.getLeft()),r.hasRight()&&r.getRight().setParent(r),t.setLeft(r),t.getLeft().setParent(t),this.updateWeight(r),this.updateWeight(t)}rotateRight(t){const r=t.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(t):r.getParent().setRight(t):this.root=t,t.setParent(r.getParent()),r.setLeft(t.getRight()),r.hasLeft()&&r.getLeft().setParent(r),t.setRight(r),t.getRight().setParent(t),this.updateWeight(r),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}var Te;(function(a){a[a.Null=0]="Null",a[a.Boolean=1]="Boolean",a[a.Integer=2]="Integer",a[a.Long=3]="Long",a[a.Double=4]="Double",a[a.String=5]="String",a[a.Bytes=6]="Bytes",a[a.Date=7]="Date"})(Te||(Te={}));class Ye extends bt{constructor(t,r){super(r),this.valueType=Ye.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,r){return new Ye(t,r)}static valueFromBytes(t,r){switch(t){case Te.Null:return null;case Te.Boolean:return!!r[0];case Te.Integer:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case Te.Double:{const s=new DataView(r.buffer);return r.forEach(function(c,m){s.setUint8(m,c)}),s.getFloat64(0,!0)}case Te.String:return new TextDecoder("utf-8").decode(r);case Te.Long:return ut.fromBytesLE(Array.from(r));case Te.Bytes:return r;case Te.Date:return new Date(ut.fromBytesLE(Array.from(r),!0).toNumber());default:throw new Le(xe.Unimplemented,`unimplemented type: ${t}`)}}toJSON(){return this.valueType===Te.String?`"${sr(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=Ye.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return Te.Null;case"boolean":return Te.Boolean;case"number":return this.isInteger(t)?Te.Integer:Te.Double;case"string":return Te.String;case"object":if(t===null)return Te.Null;if(t instanceof ut)return Te.Long;if(t instanceof Uint8Array)return Te.Bytes;if(t instanceof Date)return Te.Date}}static isSupport(t){return Ye.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===Te.Integer||t===Te.Long||t===Te.Double}getValue(){return this.value}toBytes(){switch(this.valueType){case Te.Null:return new Uint8Array;case Te.Boolean:return this.value?new Uint8Array([1]):new Uint8Array([0]);case Te.Integer:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case Te.Double:{const t=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}case Te.String:return new TextEncoder().encode(this.value);case Te.Long:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case Te.Bytes:return this.value;case Te.Date:{const t=this.value,r=ut.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new Le(xe.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class Gi extends rn{constructor(t){super(t),this.value=t}static createAfter(t,r){const s=new Gi(r),c=t.next;return t.next=s,s.prev=t,s.next=c,c&&(c.prev=s),s}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Pi{constructor(){const t=Ye.of(0,He);t.setRemovedAt(He),this.dummyHead=new Gi(t),this.last=this.dummyHead,this.nodeMapByIndex=new Oi,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Pi}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,r){let s=this.nodeMapByCreatedAt.get(t.toIDString());for(s||k.fatal(`cant find the given node: ${t.toIDString()}`);s.getNext()&&s.getNext().getPositionedAt().after(r);)s=s.getNext();return s}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,r,s=r.getCreatedAt()){const c=this.findNextBeforeExecutedAt(t,s),m=Gi.createAfter(c,r);c===this.last&&(this.last=m),this.nodeMapByIndex.insertAfter(c,m),this.nodeMapByCreatedAt.set(m.getCreatedAt().toIDString(),m)}moveAfter(t,r,s){const c=this.nodeMapByCreatedAt.get(t.toIDString());c||k.fatal(`cant find the given node: ${t.toIDString()}`);const m=this.nodeMapByCreatedAt.get(r.toIDString());m||k.fatal(`cant find the given node: ${r.toIDString()}`),c!==m&&(!m.getValue().getMovedAt()||s.after(m.getValue().getMovedAt()))&&(this.release(m),this.insertAfter(c.getCreatedAt(),m.getValue(),s),m.getValue().setMovedAt(s))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!!r)return String(this.nodeMapByIndex.indexOf(r))}purge(t){const r=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());r||k.fatal(`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`),this.release(r)}getByIndex(t){if(t>=this.length)return;const[r,s]=this.nodeMapByIndex.find(t);let c=r;if(t===0&&r===this.dummyHead||s>0)do c&&(c=c.getNext());while(c&&c.isRemoved());return c}getPrevCreatedAt(t){let r=this.nodeMapByCreatedAt.get(t.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(t,r){const s=this.nodeMapByCreatedAt.get(t.toIDString()),c=s.isRemoved();return s.remove(r)&&!c&&this.nodeMapByIndex.splayNode(s),s.getValue()}deleteByIndex(t,r){const s=this.getByIndex(t);if(!!s)return s.remove(r)&&this.nodeMapByIndex.splayNode(s),s.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const r of this){const s=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?t.push(`{${s}}`):t.push(`[${s}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class sn extends ct{constructor(t,r){super(t),this.elements=r}static create(t,r){if(!r)return new sn(t,Pi.create());const s=Pi.create();for(const c of r)s.insertAfter(s.getLastCreatedAt(),c.deepcopy());return new sn(t,s)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,r){this.elements.insertAfter(t,r)}moveAfter(t,r,s){this.elements.moveAfter(t,r,s)}get(t){const r=this.elements.getByIndex(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.elements.getByID(t);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,r){return this.elements.delete(t,r)}deleteByIndex(t,r){return this.elements.deleteByIndex(t,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const r of this.elements){const s=r.getValue();if(t(s,this))return;s instanceof ct&&s.getDescendants(t)}}toJSON(){const t=[];for(const r of this)t.push(r.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let r=0;r<this.length;r++){const{createdAt:s,value:c,type:m}=this.get(r).toJSForTest();t[r]={key:String(r),createdAt:s,value:c,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=sn.create(this.getCreatedAt());for(const r of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),r.getValue().deepcopy());return t.remove(this.getRemovedAt()),t}}class vr extends Xe{constructor(t,r,s){super(t,s),this.createdAt=r}static create(t,r,s){return new vr(t,r,s)}execute(t,r){var s;const c=t.findByCreatedAt(this.getParentCreatedAt());if(c||k.fatal(`fail to find ${this.getParentCreatedAt()}`),c instanceof ct||k.fatal(`only object and array can execute remove: ${c}`),r===Pe.UndoRedo){let L=c.getByID(this.createdAt);for(;L;){if(L.getRemovedAt())return;L=(s=t.findElementPairByCreatedAt(L.getCreatedAt()))===null||s===void 0?void 0:s.parent}}const m=c.subPathOf(this.createdAt),w=this.toReverseOperation(c),O=c.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(O),{opInfos:c instanceof sn?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(m)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:m}],reverseOp:w}}toReverseOperation(t){if(t instanceof Je){const r=t.subPathOf(this.createdAt);if(r!==void 0){const s=t.get(r);if(s!==void 0)return br.create(r,s.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class br extends Xe{constructor(t,r,s,c){super(s,c),this.key=t,this.value=r}static create(t,r,s,c){return new br(t,r,s,c)}execute(t,r){var s;const c=t.findByCreatedAt(this.getParentCreatedAt());if(c||k.fatal(`fail to find ${this.getParentCreatedAt()}`),c instanceof Je||k.fatal("fail to execute, only object can execute set"),r===Pe.UndoRedo){let L=c;for(;L;){if(L.getRemovedAt())return;L=(s=t.findElementPairByCreatedAt(L.getCreatedAt()))===null||s===void 0?void 0:s.parent}}const m=c.get(this.key),w=this.toReverseOperation(m),O=this.value.deepcopy(),U=c.set(this.key,O,this.getExecutedAt());return r===Pe.UndoRedo&&t.findByCreatedAt(O.getCreatedAt())&&t.deregisterElement(O),t.registerElement(O,c),U&&t.registerRemovedElement(U),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:w}}toReverseOperation(t){let r=vr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(r=br.create(this.key,t.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Qr extends Xe{constructor(t,r,s,c){super(t,c),this.prevCreatedAt=r,this.value=s}static create(t,r,s,c){return new Qr(t,r,s,c)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof sn||k.fatal("fail to execute, only array can execute add");const s=r,c=this.value.deepcopy();return s.insertAfter(this.prevCreatedAt,c),t.registerElement(c,s),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(s.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Dn extends Xe{constructor(t,r,s,c){super(t,c),this.prevCreatedAt=r,this.createdAt=s}static create(t,r,s,c){return new Dn(t,r,s,c)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof sn||k.fatal("fail to execute, only array can execute move");const s=r,c=Number(s.subPathOf(this.createdAt));s.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const m=Number(s.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:m,previousIndex:c}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Lt{constructor(t,r,s,c){this.key=t,this.value=r,this.updatedAt=s,this._isRemoved=c}static of(t,r,s,c){return new Lt(t,r,s,c)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}}class St{constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new St}set(t,r,s){const c=this.nodeMapByKey.get(t);if(c===void 0||s.after(c.getUpdatedAt())){c!==void 0&&!c.isRemoved()&&(this.numberOfRemovedElement-=1);const m=Lt.of(t,r,s,!1);this.nodeMapByKey.set(t,m)}}remove(t,r){const s=this.nodeMapByKey.get(t);if(s===void 0||r.after(s.getUpdatedAt())){if(s===void 0){this.numberOfRemovedElement+=1;const w=Lt.of(t,"",r,!0);return this.nodeMapByKey.set(t,w),""}const c=s.isRemoved();c||(this.numberOfRemovedElement+=1);const m=Lt.of(t,s.getValue(),r,!0);return this.nodeMapByKey.set(t,m),c?"":s.getValue()}return""}has(t){if(this.nodeMapByKey.has(t)){const r=this.nodeMapByKey.get(t);return r!==void 0&&!r.isRemoved()}return!1}get(t){if(!!this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new St;for(const[,r]of this.nodeMapByKey)t.set(r.getKey(),r.getValue(),r.getUpdatedAt());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[r,s]of this.nodeMapByKey)s.isRemoved()||t.push(`"${sr(r)}":"${sr(s.getValue())}"`);return`{${t.join(",")}}`}toXML(){return this.size()?` ${[...this.nodeMapByKey].filter(([,r])=>r instanceof Lt&&!r.isRemoved()).sort((r,s)=>r[0].localeCompare(s[0])).map(([r,s])=>`${r}="${JSON.parse(s.getValue())}"`).join(" ")}`:""}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[r,s]of this.nodeMapByKey)s.isRemoved()||(t[r]=s.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}var gn;(function(a){a.Content="content",a.Style="style"})(gn||(gn={}));class Tr{constructor(t){this.attributes=St.create(),this.content=t}static create(t){return new Tr(t)}get length(){return this.content.length}substring(t,r){const s=new Tr(this.content.substring(t,r));return s.attributes=this.attributes.deepcopy(),s}setAttr(t,r,s){this.attributes.set(t,r,s)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const t=sr(this.content),r=this.attributes.toObject(),s=[];for(const[c,m]of Object.entries(r)){const w=JSON.parse(m),O=typeof w=="string"?`"${sr(c)}":"${sr(w)}"`:`"${sr(c)}":${String(w)}`;s.push(O)}return s.sort(),s.length===0?`{"val":"${t}"}`:`{"attrs":{${s.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}}class it extends nn{constructor(t,r){super(r),this.rgaTreeSplit=t}static create(t,r){return new it(t,r)}edit(t,r,s,c,m){const w=r?Tr.create(r):void 0;if(w&&c)for(const[le,X]of Object.entries(c))w.setAttr(le,X,s);const[O,U,L]=this.rgaTreeSplit.edit(t,s,w,m),H=L.map(le=>({...le,value:le.value?{attributes:_r(le.value.getAttributes()),content:le.value.getContent()}:{attributes:void 0,content:""},type:gn.Content}));return[U,H,[O,O]]}setStyle(t,r,s,c){const[,m]=this.rgaTreeSplit.findNodeWithSplit(t[1],s),[,w]=this.rgaTreeSplit.findNodeWithSplit(t[0],s),O=[],U=this.rgaTreeSplit.findBetween(w,m),L=new Map,H=[];for(const le of U){const X=le.getCreatedAt().getActorID(),he=c!=null&&c.size?c.has(X)?c.get(X):He:zt;if(le.canStyle(s,he)){const Se=L.get(X),ke=le.getCreatedAt();(!Se||ke.after(Se))&&L.set(X,ke),H.push(le)}}for(const le of H){if(le.isRemoved())continue;const[X,he]=this.rgaTreeSplit.findIndexesFromRange(le.createPosRange());O.push({type:gn.Style,actor:s.getActorID(),from:X,to:he,value:{attributes:_r(r)}});for(const[Se,ke]of Object.entries(r))le.getValue().setAttr(Se,ke,s)}return[L,O]}indexRangeToPosRange(t,r){const s=this.rgaTreeSplit.indexToPos(t);return t===r?[s,s]:[s,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const t=[];for(const r of this.rgaTreeSplit)r.isRemoved()||t.push(r.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const s=r.getValue();t.push({attributes:_r(s.getAttributes()),content:s.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}getRemovedNodesLen(){return this.rgaTreeSplit.getRemovedNodesLen()}purgeRemovedNodesBefore(t){return this.rgaTreeSplit.purgeRemovedNodesBefore(t)}deepcopy(){const t=new it(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.remove(this.getRemovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}}class Pt extends Xe{constructor(t,r,s,c,m,w,O){super(t,O),this.fromPos=r,this.toPos=s,this.maxCreatedAtMapByActor=c,this.content=m,this.attributes=w}static create(t,r,s,c,m,w,O){return new Pt(t,r,s,c,m,w,O)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof it||k.fatal("fail to execute, only Text can execute edit");const s=r,[,c]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||t.registerElementHasRemovedNodes(s),{opInfos:c.map(({from:m,to:w,value:O})=>({type:"edit",from:m,to:w,value:O,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),c=this.content;return`${t}.EDIT(${r},${s},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class At extends Xe{constructor(t,r,s,c,m,w){super(t,w),this.fromPos=r,this.toPos=s,this.maxCreatedAtMapByActor=c,this.attributes=m}static create(t,r,s,c,m,w){return new At(t,r,s,c,m,w)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof it||k.fatal("fail to execute, only Text can execute edit");const s=r,[,c]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);return{opInfos:c.map(({from:m,to:w,value:O})=>({type:"style",from:m,to:w,value:O,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),c=this.attributes;return`${t}.STYL(${r},${s},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const or=2,Yn="root",Kt="text";function qn(a,t){let r=0;const s=a.children;for(let c=0;c<t;c++){const m=s[c];!m||m.isRemoved||(r+=m.paddedSize)}return r}class ar{constructor(t,r=[]){if(this.type=t,this.size=0,this._children=r,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let t=this.parent;const r=this.isRemoved?-1:1;for(;t;)t.size+=this.paddedSize*r,t=t.parent}get isText(){return this.type===Kt}get paddedSize(){return this.size+(this.isText?0:or)}isAncestorOf(t){return Gn(this,t)}get nextSibling(){const t=this.parent.findOffset(this),r=this.parent.children[t+1];if(r)return r}splitText(t,r){if(t===0||t===this.size)return;const s=this.value.slice(0,t),c=this.value.slice(t);if(!c.length)return;this.value=s;const m=this.cloneText(t+r);return m.value=c,this.parent.insertAfterInternal(m,this),m}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...t);for(const r of t)r.parent=this,r.updateAncestorsSize()}prepend(...t){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...t);for(const r of t)r.parent=this,r.isRemoved||r.updateAncestorsSize()}insertBefore(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s),t.updateAncestorsSize()}insertAfter(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s+1),t.updateAncestorsSize()}insertAt(t,r){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(t,r),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new Error("Text node cannot have children");const r=this._children.indexOf(t);if(r===-1)throw new Error("child not found");this._children.splice(r,1),t.parent=void 0}splitElement(t,r){const s=this.cloneElement(r);this.parent.insertAfterInternal(s,this),s.updateAncestorsSize();const c=this.children.slice(0,t),m=this.children.slice(t);this._children=c,s._children=m,this.size=this._children.reduce((w,O)=>w+O.paddedSize,0),s.size=s._children.reduce((w,O)=>w+O.paddedSize,0);for(const w of s._children)w.parent=s;return s}insertAfterInternal(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s+1)}insertAtInternal(t,r){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(r,0,t),t.parent=this}findOffset(t){if(this.isText)throw new Error("Text node cannot have children");if(t.isRemoved){const r=this._children.indexOf(t);return this.allChildren.splice(0,r).filter(c=>!c.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new Error("Text node cannot have children");let r=t;for(;r;){const s=this._children.indexOf(r);if(s!==-1)return s;r=r.parent}return-1}}function Gn(a,t){if(a===t)return!1;for(;t.parent;){if(t.parent===a)return!0;t=t.parent}return!1}var Oe;(function(a){a.Start="Start",a.End="End",a.Text="Text"})(Oe||(Oe={}));function Hn(a,t,r,s){if(t>r)throw new Error(`from is greater than to: ${t} > ${r}`);if(t>a.size)throw new Error(`from is out of range: ${t} > ${a.size}`);if(r>a.size)throw new Error(`to is out of range: ${r} > ${a.size}`);if(t===r)return;let c=0;for(const m of a.children){if(t-m.paddedSize<c&&c<r){const w=m.isText?t-c:t-c-1,O=m.isText?r-c:r-c-1,U=!m.isText&&w<0,L=!m.isText&&O>m.size;(m.isText||U)&&s([m,m.isText?Oe.Text:Oe.Start],L),Hn(m,Math.max(0,w),Math.min(O,m.size),s),L&&s([m,Oe.End],L)}c+=m.paddedSize}}function yn(a,t,r=0){for(const s of a.children)yn(s,t,r+1);t(a,r)}function vn(a,t,r=0){for(const s of a._children)vn(s,t,r+1);t(a,r)}function h(a,t,r=!0){if(t>a.size)throw new Error(`index is out of range: ${t} > ${a.size}`);if(a.isText)return{node:a,offset:t};let s=0,c=0;for(const m of a.children){if(r&&m.isText&&m.size>=t-c)return h(m,t-c,r);if(t===c)return{node:a,offset:s};if(!r&&m.paddedSize===t-c)return{node:a,offset:s+1};if(m.paddedSize>t-c)return h(m,t-c-1,r);c+=m.paddedSize,s+=1}return{node:a,offset:s}}function u(a){return a.isText||a.children.length===0?a:u(a.children[0])}function f(a,t){if(a.size<t)throw new Error("unacceptable path");for(let r=0;r<a.children.length;r++){const s=a.children[r];if(s.size<t)t-=s.size;else{a=s;break}}return{node:a,offset:t}}class P{constructor(t){this.root=t}tokensBetween(t,r,s){Hn(this.root,t,r,s)}traverse(t){yn(this.root,t,0)}traverseAll(t){vn(this.root,t,0)}findTreePos(t,r=!0){return h(this.root,t,r)}treePosToPath(t){const r=[];let s=t.node;if(s.isText){const c=s.parent.findOffset(s);if(c===-1)throw new Error("invalid treePos");const m=qn(s.parent,c);r.push(m+t.offset),s=s.parent}else if(s.hasTextChild()){const c=qn(s,t.offset);r.push(c)}else r.push(t.offset);for(;s.parent;){const c=s.parent.findOffset(s);if(c===-1)throw new Error("invalid treePos");r.push(c),s=s.parent}return r.reverse()}pathToIndex(t){const r=this.pathToTreePos(t);return this.indexOf(r)}pathToTreePos(t){if(!t.length)throw new Error("unacceptable path");let r=this.root;for(let s=0;s<t.length-1;s++){const c=t[s];if(r=r.children[c],!r)throw new Error("unacceptable path")}if(r.hasTextChild())return f(r,t[t.length-1]);if(r.children.length<t[t.length-1])throw new Error("unacceptable path");return{node:r,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:r,offset:s}=t;if(r.isText){if(r.size===s){const c=r.nextSibling;return c||r.parent}return r}return r.children.length===s?r:u(r.children[s])}indexOf(t){let{node:r}=t;const{offset:s}=t;let c=0,m=1;if(r.isText){c+=s;const w=r.parent,O=w.findOffset(r);if(O===-1)throw new Error("invalid pos");c+=qn(w,O),r=r.parent}else c+=qn(r,s);for(;r!=null&&r.parent;){const w=r.parent,O=w.findOffset(r);if(O===-1)throw new Error("invalid pos");c+=qn(w,O),m++,r=r.parent}return c+m-1}indexToPath(t){const r=this.findTreePos(t);return this.treePosToPath(r)}}const _=(a,t)=>a===t?0:a<t?-1:1;class J{constructor(t,r,s){this.key=t,this.value=r,this.isRed=s}}class j{constructor(t){this.stack=[],this.traverseInorder(t)}traverseInorder(t){!t||(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class ee{constructor(t){this.comparator=typeof t<"u"?t:_,this.counter=0}put(t,r){return this.root=this.putInternal(t,r,this.root),this.root.isRed=!1,r}get(t){const r=this.getInternal(t,this.root);return r?r.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new j(this.root)}values(){const t=[];for(const r of this.getIterator().stack)t.push(r.value);return t}floorEntry(t){let r=this.root;for(;r;){const s=this.comparator(t,r.key);if(s>0)if(r.right)r.right.parent=r,r=r.right;else return r;else if(s<0)if(r.left)r.left.parent=r,r=r.left;else{let c=r.parent,m=r;for(;c&&m===c.left;)m=c,c=c.parent;return c}else return r}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,r){for(;r;){const s=this.comparator(t,r.key);if(s===0)return r;s<0?r=r.left:s>0&&(r=r.right)}}putInternal(t,r,s){if(!s)return this.counter+=1,new J(t,r,!0);const c=this.comparator(t,s.key);return c<0?s.left=this.putInternal(t,r,s.left):c>0?s.right=this.putInternal(t,r,s.right):s.value=r,this.isRed(s.right)&&!this.isRed(s.left)&&(s=this.rotateLeft(s)),this.isRed(s.left)&&this.isRed(s.left.left)&&(s=this.rotateRight(s)),this.isRed(s.left)&&this.isRed(s.right)&&this.flipColors(s),s}removeInternal(t,r){if(this.comparator(r,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,r);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(r,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(r,t.key)===0){this.counter-=1;const s=this.min(t.right);t.value=s.value,t.key=s.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,r)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(!!t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const r=t.right;return t.right=r.left,r.left=t,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(t){const r=t.left;return t.left=r.right,r.right=t,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}var W;(function(a){a.Content="content",a.Style="style",a.RemoveStyle="removeStyle"})(W||(W={}));class oe{constructor(t,r){this.parentID=t,this.leftSiblingID=r}static of(t,r){return new oe(t,r)}static fromTreePos(t){const{offset:r}=t;let{node:s}=t,c;return s.isText?(s.parent.children[0]===s&&r===0?c=s.parent:c=s,s=s.parent):r===0?c=s:c=s.children[r-1],oe.of(s.id,ae.of(c.getCreatedAt(),c.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(t){return oe.of(ae.of(je.fromStruct(t.parentID.createdAt),t.parentID.offset),ae.of(je.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodes(t){const r=this.getParentID(),s=this.getLeftSiblingID(),c=t.findFloorNode(r);let m=t.findFloorNode(s);if(!c||!m)throw new Error(`cannot find node at ${this}`);return!s.equals(r)&&s.getOffset()>0&&s.getOffset()===m.id.getOffset()&&m.insPrevID&&(m=t.findFloorNode(m.insPrevID)),[c,m]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class ae{constructor(t,r){this.createdAt=t,this.offset=r}static of(t,r){return new ae(t,r)}static fromStruct(t){return ae.of(je.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,r)=>{const s=t.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:t.getOffset()>r.getOffset()?1:t.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class pe extends ar{constructor(t,r,s,c,m){super(r),this._value="",this.id=t,this.removedAt=m,c&&(this.attrs=c),typeof s=="string"?this.value=s:Array.isArray(s)&&(this._children=s)}static create(t,r,s,c){return new pe(t,r,s,c)}deepcopy(){var t;const r=new pe(this.id,this.type);return r.removedAt=this.removedAt,r._value=this._value,r.size=this.size,r.attrs=(t=this.attrs)===null||t===void 0?void 0:t.deepcopy(),r._children=this._children.map(s=>{const c=s.deepcopy();return c.parent=r,c}),r.insPrevID=this.insPrevID,r.insNextID=this.insNextID,r}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=t,this.size=t.length}get isRemoved(){return!!this.removedAt}remove(t){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(t)>0)&&(this.removedAt=t),r&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(t){return new pe(ae.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new pe(ae.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,r,s){const c=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,s);if(c){if(c.insPrevID=this.id,this.insNextID){const m=t.findFloorNode(this.insNextID);m.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,t.registerNode(c)}return c}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}}function $e(a){var t;if(a.isText){const r=a;return{type:r.type,value:r.value}}return{type:a.type,children:a.children.map($e),attributes:a.attrs?_r((t=a.attrs)===null||t===void 0?void 0:t.toObject()):void 0}}function Re(a){var t;return a.isText?a.value:`<${a.type}${((t=a.attrs)===null||t===void 0?void 0:t.toXML())||""}>${a.children.map(r=>Re(r)).join("")}</${a.type}>`}function on(a){if(a.isText){const t=a;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:a.type,children:a.children.map(on),size:a.size,isRemoved:a.isRemoved}}class Yt extends nn{constructor(t,r){super(r),this.indexTree=new P(t),this.nodeMapByID=new ee(ae.createComparator()),this.removedNodeMap=new Map,this.indexTree.traverse(s=>{this.nodeMapByID.put(s.id,s)})}static create(t,r){return new Yt(t,r)}findFloorNode(t){const r=this.nodeMapByID.floorEntry(t);if(!(!r||!r.key.getCreatedAt().equals(t.getCreatedAt())))return r.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,r){const[s,c]=t.toTreeNodes(this);let m=c;const w=s===m,O=m.parent&&!w?m.parent:s;if(m.isText&&m.split(this,t.getLeftSiblingID().getOffset()-m.id.getOffset()),r){const U=O.allChildren,L=w?0:U.indexOf(m)+1;for(let H=L;H<U.length;H++){const le=U[H];if(!le.id.getCreatedAt().after(r))break;m=le}}return[O,m]}style(t,r,s){const[c,m]=this.findNodesAndSplitText(t[0],s),[w,O]=this.findNodesAndSplitText(t[1],s),U=[],L=r?_r(r):void 0;return this.traverseInPosRange(c,m,w,O,([H])=>{if(!H.isRemoved&&!H.isText&&r){H.attrs||(H.attrs=new St);for(const[le,X]of Object.entries(r))H.attrs.set(le,X,s);U.push({type:W.Style,from:this.toIndex(c,m),to:this.toIndex(w,O),fromPath:this.toPath(c,m),toPath:this.toPath(w,O),actor:s.getActorID(),value:L})}}),U}removeStyle(t,r,s){const[c,m]=this.findNodesAndSplitText(t[0],s),[w,O]=this.findNodesAndSplitText(t[1],s),U=[],L=r||void 0;return this.traverseInPosRange(c,m,w,O,([H])=>{if(!H.isRemoved&&!H.isText&&r){H.attrs||(H.attrs=new St);for(const le of r)H.attrs.remove(le,s);U.push({type:W.RemoveStyle,from:this.toIndex(c,m),to:this.toIndex(w,O),fromPath:this.toPath(c,m),toPath:this.toPath(w,O),actor:s.getActorID(),value:L})}}),U}edit(t,r,s,c,m,w){const[O,U]=this.findNodesAndSplitText(t[0],c),[L,H]=this.findNodesAndSplitText(t[1],c),le=this.toIndex(O,U),X=this.toPath(O,U),he=[],Se=[],ke=[],Ce=new Map;this.traverseInPosRange(O,U,L,H,([De,ot],et)=>{if(ot===Oe.Start&&!et)for(const is of De.children)ke.push(is);const yt=De.getCreatedAt().getActorID(),xi=w?w.has(yt)?w.get(yt):He:zt;if(De.canDelete(c,xi)||he.includes(De.parent)){const is=Ce.get(yt),js=De.getCreatedAt();(!is||js.after(is))&&Ce.set(yt,js),(ot===Oe.Text||ot===Oe.Start)&&he.push(De),Se.push([De,ot])}});const Et=this.makeDeletionChanges(Se,c);for(const De of he)De.remove(c),De.isRemoved&&this.removedNodeMap.set(De.id.toIDString(),De);for(const De of ke)De.removedAt||O.append(De);if(s>0){let De=0,ot=O,et=U;for(;De<s;)ot.split(this,ot.findOffset(et)+1,m),et=ot,ot=ot.parent,De++;Et.push({type:W.Content,from:le,to:le,fromPath:X,toPath:X,actor:c.getActorID()})}if(r!=null&&r.length){const De=[];let ot=U;for(const et of r)ot===O?O.insertAt(et,0):O.insertAfter(et,ot),ot=et,vn(et,yt=>{O.isRemoved&&(yt.remove(c),this.removedNodeMap.set(yt.id.toIDString(),yt)),this.nodeMapByID.put(yt.id,yt)}),et.isRemoved||De.push(et);if(De.length){const et=De.map(yt=>$e(yt));Et.length&&Et[Et.length-1].from===le?Et[Et.length-1].value=et:Et.push({type:W.Content,from:le,to:le,fromPath:X,toPath:X,actor:c.getActorID(),value:et})}}return[Et,Ce]}editT(t,r,s,c,m){const w=this.findPos(t[0]),O=this.findPos(t[1]);this.edit([w,O],r,s,c,m)}move(t,r,s){throw new Error(`not implemented: ${t}, ${r}, ${s}`)}purgeRemovedNodesBefore(t){var r;const s=new Set;let c=0;for(const[,m]of this.removedNodeMap)m.removedAt&&t.compare(m.removedAt)>=0&&(s.add(m),c++);for(const m of s)(r=m.parent)===null||r===void 0||r.removeChild(m),this.nodeMapByID.remove(m.id),this.purge(m),this.removedNodeMap.delete(m.id.toIDString());return c}purge(t){const r=t.insPrevID,s=t.insNextID;if(r){const c=this.findFloorNode(r);c.insNextID=s}if(s){const c=this.findFloorNode(s);c.insPrevID=r}t.insPrevID=void 0,t.insNextID=void 0}findPos(t,r=!0){const s=this.indexTree.findTreePos(t,r);return oe.fromTreePos(s)}getRemovedNodesLen(){return this.removedNodeMap.size}pathToPosRange(t){const r=this.pathToIndex(t);return[this.findPos(r),this.findPos(r+1)]}pathToPos(t){const r=this.indexTree.pathToIndex(t);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getIndexTree(){return this.indexTree}toXML(){return Re(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),r=(s,c=void 0,m=void 0,w=0)=>{var O,U,L,H;let le,X,he;const Se=s.isText?{node:s,offset:0}:c&&m?this.toTreePos(c,m):null;Se&&(le=this.indexTree.indexOf(Se),X=this.indexTree.treePosToPath(Se),he=oe.fromTreePos(Se).toStruct());const ke={type:s.type,parent:c==null?void 0:c.id.toTestString(),size:s.size,id:s.id.toTestString(),removedAt:(O=s.removedAt)===null||O===void 0?void 0:O.toTestString(),insPrev:(U=s.insPrevID)===null||U===void 0?void 0:U.toTestString(),insNext:(L=s.insNextID)===null||L===void 0?void 0:L.toTestString(),value:s.isText?s.value:void 0,isRemoved:s.isRemoved,children:[],depth:w,attributes:s.attrs?_r((H=s.attrs)===null||H===void 0?void 0:H.toObject()):void 0,index:le,path:X,pos:he};for(let Ce=0;Ce<s.children.length;Ce++){const Et=Ce===0?s:s.children[Ce-1];ke.children.push(r(s.children[Ce],s,Et,w+1))}return ke};return r(t)}getRootTreeNode(){return $e(this.indexTree.getRoot())}toTestTreeNode(){return on(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot();return new Yt(t.deepcopy(),this.getCreatedAt())}toPath(t,r){const s=this.toTreePos(t,r);return s?this.indexTree.treePosToPath(s):[]}toIndex(t,r){const s=this.toTreePos(t,r);return s?this.indexTree.indexOf(s):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const r=this.findPos(t[0]);return t[0]===t[1]?[r,r]:[r,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[r,s]=t,c=this.findPos(r);return r===s?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(s).toStruct()]}posRangeToPathRange(t){const[r,s]=this.findNodesAndSplitText(t[0]),[c,m]=this.findNodesAndSplitText(t[1]);return[this.toPath(r,s),this.toPath(c,m)]}posRangeToIndexRange(t){const[r,s]=this.findNodesAndSplitText(t[0]),[c,m]=this.findNodesAndSplitText(t[1]);return[this.toIndex(r,s),this.toIndex(c,m)]}traverseInPosRange(t,r,s,c,m){const w=this.toIndex(t,r),O=this.toIndex(s,c);return this.indexTree.tokensBetween(w,O,m)}toTreePos(t,r){if(!t||!r)return;if(t.isRemoved){let c;for(;t.isRemoved;)c=t,t=c.parent;const m=t.findOffset(c);return{node:t,offset:m}}if(t===r)return{node:t,offset:0};let s=t.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};s++}return{node:t,offset:s}}makeDeletionChanges(t,r){const s=[],c=[];let m=null,w=null;for(let O=0;O<t.length;O++){const U=t[O],L=t[O+1];m||(m=U),w=U;const H=this.findRightToken(U);(!H||!L||H[0]!==L[0]||H[1]!==L[1])&&(c.push([m,w]),m=null,w=null)}for(const O of c){const[U,L]=O,[H,le]=this.findLeftToken(U),[X,he]=L,Se=le===Oe.Start?H:H.parent,ke=he===Oe.Start?X:X.parent,Ce=this.toIndex(Se,H),Et=this.toIndex(ke,X);Ce<Et&&(s.length>0&&Ce===s[s.length-1].to?(s[s.length-1].to=Et,s[s.length-1].toPath=this.toPath(ke,X)):s.push({type:W.Content,from:Ce,to:Et,fromPath:this.toPath(Se,H),toPath:this.toPath(ke,X),actor:r.getActorID()}))}return s.reverse()}findRightToken([t,r]){if(r===Oe.Start){const O=t.allChildren;return O.length>0?[O[0],O[0].isText?Oe.Text:Oe.Start]:[t,Oe.End]}const s=t.parent,c=s.allChildren,m=c.indexOf(t);if(s&&m===c.length-1)return[s,Oe.End];const w=c[m+1];return[w,w.isText?Oe.Text:Oe.Start]}findLeftToken([t,r]){if(r===Oe.End){const O=t.allChildren;if(O.length>0){const U=O[O.length-1];return[U,U.isText?Oe.Text:Oe.End]}return[t,Oe.Start]}const s=t.parent,c=s.allChildren,m=c.indexOf(t);if(s&&m===0)return[s,Oe.Start];const w=c[m-1];return[w,w.isText?Oe.Text:Oe.End]}}class Ai extends Xe{constructor(t,r,s,c,m,w,O){super(t,O),this.fromPos=r,this.toPos=s,this.contents=c,this.splitLevel=m,this.maxCreatedAtMapByActor=w}static create(t,r,s,c,m,w,O){return new Ai(t,r,s,c,m,w,O)}execute(t){var r;const s=t.findByCreatedAt(this.getParentCreatedAt());s||k.fatal(`fail to find ${this.getParentCreatedAt()}`),s instanceof Yt||k.fatal("fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),m=s,[w]=m.edit([this.fromPos,this.toPos],(r=this.contents)===null||r===void 0?void 0:r.map(O=>O.deepcopy()),this.splitLevel,c,(()=>{let O=c.getDelimiter();return this.contents!==void 0&&(O+=this.contents.length),()=>je.of(c.getLamport(),++O,c.getActorID())})(),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||t.registerElementHasRemovedNodes(m),{opInfos:w.map(({from:O,to:U,value:L,splitLevel:H,fromPath:le,toPath:X})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:O,to:U,value:L,splitLevel:H,fromPath:le,toPath:X}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${t}.EDIT(${r},${s},${c.map(m=>Re(m)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class wr{constructor(t,r,s){this.clientSeq=t,this.lamport=r,this.actor=s}static of(t,r,s){return new wr(t,r,s)}next(){return new wr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(t){return t.greaterThan(this.lamport)?new wr(this.clientSeq,t,this.actor):new wr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(t){return je.of(this.lamport,t,this.actor)}setActor(t){return new wr(this.clientSeq,this.lamport,t)}getClientSeq(){return this.clientSeq}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Fm=new wr(0,ut.fromInt(0,!0),Vt);class Ci{constructor({id:t,operations:r,presenceChange:s,message:c}){this.id=t,this.operations=r||[],this.presenceChange=s,this.message=c}static create({id:t,operations:r,presenceChange:s,message:c}){return new Ci({id:t,operations:r,presenceChange:s,message:c})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const r of this.operations)r.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,r,s){const c=[],m=[];for(const w of this.operations){const O=w.execute(t,s);if(!O)continue;const{opInfos:U,reverseOp:L}=O;c.push(...U),L&&m.unshift(L)}return this.presenceChange&&(this.presenceChange.type===Cn.Put?r.set(this.id.getActorID(),lt(this.presenceChange.presence)):r.delete(this.id.getActorID())),{opInfos:c,reverseOps:m}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:gt.bytesToHex(gt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>gt.bytesToHex(gt.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:r,operations:s,presenceChange:c,message:m}=t;return Ci.create({id:gt.bytesToChangeID(gt.hexToBytes(r)),operations:s==null?void 0:s.map(w=>gt.bytesToOperation(gt.hexToBytes(w))),presenceChange:c,message:m})}}class Uo{constructor(t,r,s,c,m,w){this.documentKey=t,this.checkpoint=r,this.isRemoved=s,this.changes=c,this.snapshot=m,this.minSyncedTicket=w}static create(t,r,s,c,m,w){return new Uo(t,r,s,c,m,w)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class Hi{constructor(t,r){this.serverSeq=t,this.clientSeq=r}static of(t,r){return new Hi(t,r)}increaseClientSeq(t){return t===0?this:new Hi(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const r=this.serverSeq.greaterThan(t.serverSeq)?this.serverSeq:t.serverSeq,s=Math.max(this.clientSeq,t.clientSeq);return Hi.of(r,s)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq.equals(t.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Um=new Hi(ut.fromInt(0,!0),0);class Sr{constructor(t,r){this.createdAt=t,this.offset=r}static of(t,r){return new Sr(t,r)}static fromStruct(t){return Sr.of(je.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Sr(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Jm=Sr.of(He,0);class ur{constructor(t,r){this.id=t,this.relativeOffset=r}static of(t,r){return new ur(t,r)}static fromStruct(t){const r=Sr.fromStruct(t.id);return ur.of(r,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Sr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Zr extends rn{constructor(t,r,s){super(r),this.id=t,this.removedAt=s}static create(t,r){return new Zr(t,r)}static createComparator(){return(t,r)=>{const s=t.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:t.getOffset()>r.getOffset()?1:t.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new Zr(this.id.split(t),this.splitValue(t),this.removedAt)}canDelete(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}canStyle(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}remove(t){this.removedAt=t}createPosRange(){return[ur.of(this.id,0),ur.of(this.id,this.getLength())]}deepcopy(){return new Zr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const r=this.value;return this.value=r.substring(0,t),r.substring(t,r.length)}}class Xi{constructor(){this.head=Zr.create(Jm),this.treeByIndex=new Oi,this.treeByID=new ee(Zr.createComparator()),this.removedNodeMap=new Map,this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Xi}edit(t,r,s,c){const[m,w]=this.findNodeWithSplit(t[1],r),[O,U]=this.findNodeWithSplit(t[0],r),L=this.findBetween(U,w),[H,le,X]=this.deleteNodes(L,r,c),he=w?w.getID():m.getID();let Se=ur.of(he,0);if(s){const ke=this.posToIndex(O.createPosRange()[1],!0),Ce=this.insertAfter(O,Zr.create(Sr.of(r,0),s));H.length&&H[H.length-1].from===ke?H[H.length-1].value=s:H.push({actor:r.getActorID(),from:ke,to:ke,value:s}),Se=ur.of(Ce.getID(),Ce.getContentLength())}for(const[ke,Ce]of X)this.removedNodeMap.set(ke,Ce);return[Se,le,H]}indexToPos(t){const[r,s]=this.treeByIndex.find(t),c=r;return ur.of(c.getID(),s)}findIndexesFromRange(t){const[r,s]=t;return[this.posToIndex(r,!1),this.posToIndex(s,!0)]}posToIndex(t,r){const s=t.getAbsoluteID(),c=r?this.findFloorNodePreferToLeft(s):this.findFloorNode(s);c||k.fatal(`the node of the given id should be found: ${s.toTestString()}`);const m=this.treeByIndex.indexOf(c),w=c.isRemoved()?0:s.getOffset()-c.getID().getOffset();return m+w}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const t=[];for(const r of this)r.isRemoved()||t.push(r.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new Xi;let r=this.head.getNext(),s=t.head,c;for(;r;){if(c=t.insertAfter(s,r.deepcopy()),r.hasInsPrev()){const m=t.findNode(r.getInsPrevID());c.setInsPrev(m)}s=c,r=r.getNext()}return t}toTestString(){const t=[];let r=this.head;for(;r;)r.isRemoved()?t.push(`{${r.toTestString()}}`):t.push(`[${r.toTestString()}]`),r=r.getNext();return t.join("")}insertAfter(t,r){const s=t.getNext();return r.setPrev(t),s&&s.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(t,r),r}findNodeWithSplit(t,r){const s=t.getAbsoluteID();let c=this.findFloorNodePreferToLeft(s);const m=s.getOffset()-c.getID().getOffset();for(this.splitNode(c,m);c.hasNext()&&c.getNext().getCreatedAt().after(r);)c=c.getNext();return[c,c.getNext()]}findFloorNodePreferToLeft(t){let r=this.findFloorNode(t);if(r||k.fatal(`the node of the given id should be found: ${t.toTestString()}`),t.getOffset()>0&&r.getID().getOffset()==t.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(t){const r=this.treeByID.floorEntry(t);if(!!r&&!(!r.key.equals(t)&&!r.key.hasSameCreatedAt(t)))return r.value}findBetween(t,r){const s=[];let c=t;for(;c&&c!==r;)s.push(c),c=c.getNext();return s}splitNode(t,r){if(r>t.getContentLength()&&k.fatal("offset should be less than or equal to length"),r===0)return t;if(r===t.getContentLength())return t.getNext();const s=t.split(r);this.treeByIndex.updateWeight(s),this.insertAfter(t,s);const c=t.getInsNext();return c&&c.setInsPrev(s),s.setInsPrev(t),s}deleteNodes(t,r,s){if(!t.length)return[[],new Map,new Map];const[c,m]=this.filterNodes(t,r,s),w=new Map,O=new Map,U=this.makeChanges(m,r);for(const L of c){const H=L.getCreatedAt().getActorID();(!w.has(H)||L.getID().getCreatedAt().after(w.get(H)))&&w.set(H,L.getID().getCreatedAt()),O.set(L.getID().toIDString(),L),L.remove(r)}return this.deleteIndexNodes(m),[U,w,O]}filterNodes(t,r,s){const c=!!s,m=[],w=[],[O,U]=this.findEdgesOfCandidates(t);w.push(O);for(const L of t){const H=L.getCreatedAt().getActorID(),le=c?s.has(H)?s.get(H):He:zt;L.canDelete(r,le)?m.push(L):w.push(L)}return w.push(U),[m,w]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,r){const s=[];let c,m;for(let w=0;w<t.length-1;w++){const O=t[w],U=t[w+1];O.getNext()!=U&&([c]=this.findIndexesFromRange(O.getNext().createPosRange()),U?[,m]=this.findIndexesFromRange(U.getPrev().createPosRange()):m=this.treeByIndex.length,c<m&&s.push({actor:r.getActorID(),from:c,to:m}))}return s.reverse()}deleteIndexNodes(t){for(let r=0;r<t.length-1;r++){const s=t[r],c=t[r+1];s.getNext()!=c&&this.treeByIndex.deleteRange(s,c)}}getRemovedNodesLen(){return this.removedNodeMap.size}purgeRemovedNodesBefore(t){let r=0;for(const[,s]of this.removedNodeMap)s.getRemovedAt()&&t.compare(s.getRemovedAt())>=0&&(this.treeByIndex.delete(s),this.purge(s),this.treeByID.remove(s.getID()),this.removedNodeMap.delete(s.getID().toIDString()),r++);return r}purge(t){const r=t.getPrev(),s=t.getNext(),c=t.getInsPrev(),m=t.getInsNext();r&&r.setNext(s),s&&s.setPrev(r),t.setPrev(void 0),t.setNext(void 0),c&&c.setInsNext(m),m&&m.setInsPrev(c),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Lc=a=>a<0?Math.ceil(a):Math.floor(a);var ft;(function(a){a[a.IntegerCnt=0]="IntegerCnt",a[a.LongCnt=1]="LongCnt"})(ft||(ft={}));class xn extends bt{constructor(t,r,s){switch(super(s),this.valueType=t,t){case ft.IntegerCnt:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=ut.fromNumber(r).toInt():this.value=Lc(r):this.value=r.toInt();break;case ft.LongCnt:typeof r=="number"?this.value=ut.fromNumber(r):this.value=r;break;default:throw new Le(xe.Unimplemented,`unimplemented type: ${t}`)}}static create(t,r,s){return new xn(t,r,s)}static valueFromBytes(t,r){switch(t){case ft.IntegerCnt:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case ft.LongCnt:return ut.fromBytesLE(Array.from(r));default:throw new Le(xe.Unimplemented,`unimplemented type: ${t}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=xn.create(this.valueType,this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof ut?ft.LongCnt:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?ft.LongCnt:ft.IntegerCnt;default:return}}static isSupport(t){return!!xn.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===ft.IntegerCnt||t===ft.LongCnt}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case ft.IntegerCnt:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case ft.LongCnt:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new Le(xe.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function r(s){if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`)}return r(this),r(t),this.valueType===ft.LongCnt?this.value=this.value.add(t.getValue()):t.getType()===Te.Long?this.value=this.value+t.getValue().toInt():this.value=ut.fromNumber(this.value+Lc(t.getValue())).toInt(),this}}class Qi extends Xe{constructor(t,r,s){super(t,s),this.value=r}static create(t,r,s){return new Qi(t,r,s)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof xn||k.fatal("fail to execute, only Counter can execute increase");const s=r,c=this.value.deepcopy();return s.increase(c),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),s=t.getType()===Te.Long?t.getValue().multiply(-1):t.getValue()*-1;return Qi.create(this.getParentCreatedAt(),Ye.of(s,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Lr extends Xe{constructor(t,r,s,c,m,w){super(t,w),this.fromPos=r,this.toPos=s,this.attributes=c,this.attributesToRemove=m}static create(t,r,s,c,m){return new Lr(t,r,s,c,new Array,m)}static createTreeRemoveStyleOperation(t,r,s,c,m){return new Lr(t,r,s,new Map,c,m)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof Yt||k.fatal("fail to execute, only Tree can execute edit");const s=r;let c;if(this.attributes.size){const m={};[...this.attributes].forEach(([w,O])=>m[w]=O),c=s.style([this.fromPos,this.toPos],m,this.getExecutedAt())}else{const m=this.attributesToRemove;c=s.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt())}return{opInfos:c.map(({from:m,to:w,value:O,fromPath:U})=>({type:"tree-style",from:m,to:w,value:O,fromPath:U,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${r},${s},${Object.entries(this.attributes||{}).map(([c,m])=>`${c}:"${m}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function $m(a){const t=new G.Presence,r=t.data;for(const[s,c]of Object.entries(a))r[s]=JSON.stringify(c);return t}function jm(a){if(a.type===Cn.Put)return new G.PresenceChange({type:G.PresenceChange_ChangeType.PUT,presence:$m(a.presence)});if(a.type===Cn.Clear)return new G.PresenceChange({type:G.PresenceChange_ChangeType.CLEAR});throw new Le(xe.Unimplemented,"unimplemented type")}function Vm(a){return new G.Checkpoint({serverSeq:a.getServerSeqAsString(),clientSeq:a.getClientSeq()})}function Mc(a){return new G.ChangeID({clientSeq:a.getClientSeq(),lamport:a.getLamportAsString(),actorId:yu(a.getActorID())})}function ge(a){if(!!a)return new G.TimeTicket({lamport:a.getLamportAsString(),delimiter:a.getDelimiter(),actorId:yu(a.getActorID())})}function Bc(a){switch(a){case Te.Null:return G.ValueType.NULL;case Te.Boolean:return G.ValueType.BOOLEAN;case Te.Integer:return G.ValueType.INTEGER;case Te.Long:return G.ValueType.LONG;case Te.Double:return G.ValueType.DOUBLE;case Te.String:return G.ValueType.STRING;case Te.Bytes:return G.ValueType.BYTES;case Te.Date:return G.ValueType.DATE;default:throw new Le(xe.Unsupported,`unsupported type: ${a}`)}}function Fc(a){switch(a){case ft.IntegerCnt:return G.ValueType.INTEGER_CNT;case ft.LongCnt:return G.ValueType.LONG_CNT;default:throw new Le(xe.Unsupported,`unsupported type: ${a}`)}}function fu(a){if(a instanceof Je)return new G.JSONElementSimple({type:G.ValueType.JSON_OBJECT,createdAt:ge(a.getCreatedAt()),value:Zc(a)});if(a instanceof sn)return new G.JSONElementSimple({type:G.ValueType.JSON_ARRAY,createdAt:ge(a.getCreatedAt()),value:gp(a)});if(a instanceof it)return new G.JSONElementSimple({type:G.ValueType.TEXT,createdAt:ge(a.getCreatedAt())});if(a instanceof Ye)return new G.JSONElementSimple({type:Bc(a.getType()),createdAt:ge(a.getCreatedAt()),value:a.toBytes()});if(a instanceof xn)return new G.JSONElementSimple({type:Fc(a.getType()),createdAt:ge(a.getCreatedAt()),value:a.toBytes()});if(a instanceof Yt)return new G.JSONElementSimple({type:G.ValueType.TREE,createdAt:ge(a.getCreatedAt()),value:vp(a)});throw new Le(xe.Unimplemented,"unimplemented element")}function zm(a){return new G.TextNodeID({createdAt:ge(a.getCreatedAt()),offset:a.getOffset()})}function Jo(a){return new G.TextNodePos({createdAt:ge(a.getID().getCreatedAt()),offset:a.getID().getOffset(),relativeOffset:a.getRelativeOffset()})}function $o(a){return new G.TreePos({parentId:Fs(a.getParentID()),leftSiblingId:Fs(a.getLeftSiblingID())})}function Fs(a){return new G.TreeNodeID({createdAt:ge(a.getCreatedAt()),offset:a.getOffset()})}function Uc(a){const t=new G.Operation;if(a instanceof br){const r=a,s=new G.Operation_Set;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.key=r.getKey(),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="set",t.body.value=s}else if(a instanceof Qr){const r=a,s=new G.Operation_Add;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.prevCreatedAt=ge(r.getPrevCreatedAt()),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="add",t.body.value=s}else if(a instanceof Dn){const r=a,s=new G.Operation_Move;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.prevCreatedAt=ge(r.getPrevCreatedAt()),s.createdAt=ge(r.getCreatedAt()),s.executedAt=ge(r.getExecutedAt()),t.body.case="move",t.body.value=s}else if(a instanceof vr){const r=a,s=new G.Operation_Remove;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.createdAt=ge(r.getCreatedAt()),s.executedAt=ge(r.getExecutedAt()),t.body.case="remove",t.body.value=s}else if(a instanceof Pt){const r=a,s=new G.Operation_Edit;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=Jo(r.getFromPos()),s.to=Jo(r.getToPos());const c=s.createdAtMapByActor;for(const[w,O]of r.getMaxCreatedAtMapByActor())c[w]=ge(O);s.content=r.getContent();const m=s.attributes;for(const[w,O]of r.getAttributes())m[w]=O;s.executedAt=ge(r.getExecutedAt()),t.body.case="edit",t.body.value=s}else if(a instanceof At){const r=a,s=new G.Operation_Style;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=Jo(r.getFromPos()),s.to=Jo(r.getToPos());const c=s.createdAtMapByActor;for(const[w,O]of r.getMaxCreatedAtMapByActor())c[w]=ge(O);const m=s.attributes;for(const[w,O]of r.getAttributes())m[w]=O;s.executedAt=ge(r.getExecutedAt()),t.body.case="style",t.body.value=s}else if(a instanceof Qi){const r=a,s=new G.Operation_Increase;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="increase",t.body.value=s}else if(a instanceof Ai){const r=a,s=new G.Operation_TreeEdit,c=s.createdAtMapByActor;for(const[m,w]of r.getMaxCreatedAtMapByActor())c[m]=ge(w);s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=$o(r.getFromPos()),s.to=$o(r.getToPos()),s.contents=Xm(r.getContents()),s.splitLevel=r.getSplitLevel(),s.executedAt=ge(r.getExecutedAt()),t.body.case="treeEdit",t.body.value=s}else if(a instanceof Lr){const r=a,s=new G.Operation_TreeStyle;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=$o(r.getFromPos()),s.to=$o(r.getToPos());const c=r.getAttributesToRemove();if(c.length>0)s.attributesToRemove=c;else{const m=s.attributes;for(const[w,O]of r.getAttributes())m[w]=O}s.executedAt=ge(r.getExecutedAt()),t.body.case="treeStyle",t.body.value=s}else throw new Le(xe.Unimplemented,"unimplemented operation");return t}function Wm(a){const t=[];for(const r of a)t.push(Uc(r));return t}function Km(a){const t=new G.Change({id:Mc(a.getID()),message:a.getMessage()});return a.hasOperations()&&(t.operations=Wm(a.getOperations())),a.hasPresenceChange()&&(t.presenceChange=jm(a.getPresenceChange())),t}function Ym(a){const t=[];for(const r of a)t.push(Km(r));return t}function qm(a){const t=[];for(const r of a)t.push(new G.RHTNode({key:r.getStrKey(),element:du(r.getValue())}));return t}function Gm(a){const t=[];for(const r of a)t.push(new G.RGANode({element:du(r.getValue())}));return t}function Hm(a){const t=[];for(const r of a){const s=new G.TextNode;s.id=zm(r.getID()),s.value=r.getValue().getContent(),s.removedAt=ge(r.getRemovedAt());const c=s.attributes,m=r.getValue().getAttrs();for(const w of m){const O=new G.NodeAttr;O.value=w.getValue(),O.updatedAt=ge(w.getUpdatedAt()),c[w.getKey()]=O}t.push(s)}return t}function Xm(a){const t=[];if(!a||!a.length)return t;for(const r of a)t.push(new G.TreeNodes({content:Jc(r)}));return t}function Jc(a){if(!a)return[];const t=[];return yn(a,(r,s)=>{const c=new G.TreeNode({id:Fs(r.id),type:r.type,removedAt:ge(r.removedAt),depth:s});if(r.isText&&(c.value=r.value),r.insPrevID&&(c.insPrevId=Fs(r.insPrevID)),r.insNextID&&(c.insNextId=Fs(r.insNextID)),r.attrs)for(const m of r.attrs)c.attributes[m.getKey()]=new G.NodeAttr({value:m.getValue(),updatedAt:ge(m.getUpdatedAt())});t.push(c)}),t}function Qm(a){const t=new G.JSONElement;return t.body.case="jsonObject",t.body.value=new G.JSONElement_JSONObject({nodes:qm(a.getRHT()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function $c(a){const t=new G.JSONElement;return t.body.case="jsonArray",t.body.value=new G.JSONElement_JSONArray({nodes:Gm(a.getElements()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function Zm(a){const t=new G.JSONElement;return t.body.case="primitive",t.body.value=new G.JSONElement_Primitive({type:Bc(a.getType()),value:a.toBytes(),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function ep(a){const t=new G.JSONElement;return t.body.case="text",t.body.value=new G.JSONElement_Text({nodes:Hm(a.getRGATreeSplit()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function tp(a){const t=new G.JSONElement;return t.body.case="counter",t.body.value=new G.JSONElement_Counter({type:Fc(a.getType()),value:a.toBytes(),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function jc(a){const t=new G.JSONElement;return t.body.case="tree",t.body.value=new G.JSONElement_Tree({nodes:Jc(a.getRoot()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function du(a){if(a instanceof Je)return Qm(a);if(a instanceof sn)return $c(a);if(a instanceof Ye)return Zm(a);if(a instanceof it)return ep(a);if(a instanceof xn)return tp(a);if(a instanceof Yt)return jc(a);throw new Le(xe.Unimplemented,"unimplemented element")}function np(a){return new G.ChangePack({documentKey:a.getDocumentKey(),checkpoint:Vm(a.getCheckpoint()),isRemoved:a.getIsRemoved(),changes:Ym(a.getChanges()),snapshot:a.getSnapshot(),minSyncedTicket:ge(a.getMinSyncedTicket())})}function Vc(a){return wr.of(a.clientSeq,ut.fromString(a.lamport,!0),gu(a.actorId))}function ye(a){if(!!a)return je.of(ut.fromString(a.lamport,!0),a.delimiter,gu(a.actorId))}function hu(a){const t={};return Object.entries(a.data).forEach(([r,s])=>{t[r]=JSON.parse(s)}),t}function rp(a){const t=a.type;if(t===G.PresenceChange_ChangeType.PUT){const r=hu(a.presence);return{type:Cn.Put,presence:r}}if(t===G.PresenceChange_ChangeType.CLEAR)return{type:Cn.Clear};throw new Le(xe.Unsupported,`unsupported type: ${t}`)}function ip(a){const t=new Map;return Object.entries(a).forEach(([r,s])=>{t.set(r,hu(s))}),t}function zc(a){switch(a){case G.ValueType.NULL:return Te.Null;case G.ValueType.BOOLEAN:return Te.Boolean;case G.ValueType.INTEGER:return Te.Integer;case G.ValueType.LONG:return Te.Long;case G.ValueType.DOUBLE:return Te.Double;case G.ValueType.STRING:return Te.String;case G.ValueType.BYTES:return Te.Bytes;case G.ValueType.DATE:return Te.Date}throw new Le(xe.Unimplemented,`unimplemented value type: ${a}`)}function jo(a){switch(a){case G.ValueType.INTEGER_CNT:return ft.IntegerCnt;case G.ValueType.LONG_CNT:return ft.LongCnt}throw new Le(xe.Unimplemented,`unimplemented value type: ${a}`)}function mu(a){switch(a.type){case G.ValueType.JSON_OBJECT:return a.value?Qc(a.value):Je.create(ye(a.createdAt));case G.ValueType.JSON_ARRAY:return a.value?pp(a.value):sn.create(ye(a.createdAt));case G.ValueType.TEXT:return it.create(Xi.create(),ye(a.createdAt));case G.ValueType.TREE:return yp(a.value);case G.ValueType.NULL:case G.ValueType.BOOLEAN:case G.ValueType.INTEGER:case G.ValueType.LONG:case G.ValueType.DOUBLE:case G.ValueType.STRING:case G.ValueType.BYTES:case G.ValueType.DATE:return Ye.of(Ye.valueFromBytes(zc(a.type),a.value),ye(a.createdAt));case G.ValueType.INTEGER_CNT:case G.ValueType.LONG_CNT:return xn.create(jo(a.type),xn.valueFromBytes(jo(a.type),a.value),ye(a.createdAt))}}function Vo(a){return ur.of(Sr.of(ye(a.createdAt),a.offset),a.relativeOffset)}function Wc(a){return Sr.of(ye(a.createdAt),a.offset)}function sp(a){const t=Tr.create(a.value);Object.entries(a.attributes).forEach(([s,c])=>{t.setAttr(s,c.value,ye(c.updatedAt))});const r=Zr.create(Wc(a.id),t);return r.remove(ye(a.removedAt)),r}function Zi(a){return oe.of(Us(a.parentId),Us(a.leftSiblingId))}function Us(a){return ae.of(ye(a.createdAt),a.offset)}function op(a){if(!a.length)return;const t=[];return a.forEach(r=>{const s=Kc(r.content);t.push(s)}),t}function Kc(a){if(a.length===0)return;const t=[];for(const s of a)t.push(ap(s));const r=t[t.length-1];for(let s=t.length-2;s>=0;s--){let c;for(let m=s+1;m<t.length;m++)if(a[s].depth-1===a[m].depth){c=t[m];break}c.prepend(t[s])}return Yt.create(r,He).getRoot()}function ap(a){const t=Us(a.id),r=pe.create(t,a.type);if(r.isText)r.value=a.value;else{const s=St.create();Object.entries(a.attributes).forEach(([c,m])=>{s.set(c,m.value,ye(m.updatedAt))}),r.attrs=s}return a.insPrevId&&(r.insPrevID=Us(a.insPrevId)),a.insNextId&&(r.insNextID=Us(a.insNextId)),r.removedAt=ye(a.removedAt),r}function Yc(a){if(a.body.case==="set"){const t=a.body.value;return br.create(t.key,mu(t.value),ye(t.parentCreatedAt),ye(t.executedAt))}else if(a.body.case==="add"){const t=a.body.value;return Qr.create(ye(t.parentCreatedAt),ye(t.prevCreatedAt),mu(t.value),ye(t.executedAt))}else if(a.body.case==="move"){const t=a.body.value;return Dn.create(ye(t.parentCreatedAt),ye(t.prevCreatedAt),ye(t.createdAt),ye(t.executedAt))}else if(a.body.case==="remove"){const t=a.body.value;return vr.create(ye(t.parentCreatedAt),ye(t.createdAt),ye(t.executedAt))}else if(a.body.case==="edit"){const t=a.body.value,r=new Map;Object.entries(t.createdAtMapByActor).forEach(([c,m])=>{r.set(c,ye(m))});const s=new Map;return Object.entries(t.attributes).forEach(([c,m])=>{s.set(c,m)}),Pt.create(ye(t.parentCreatedAt),Vo(t.from),Vo(t.to),r,t.content,s,ye(t.executedAt))}else if(a.body.case==="style"){const t=a.body.value,r=new Map;Object.entries(t.createdAtMapByActor).forEach(([c,m])=>{r.set(c,ye(m))});const s=new Map;return Object.entries(t.attributes).forEach(([c,m])=>{s.set(c,m)}),At.create(ye(t.parentCreatedAt),Vo(t.from),Vo(t.to),r,s,ye(t.executedAt))}else{if(a.body.case==="select")return;if(a.body.case==="increase"){const t=a.body.value;return Qi.create(ye(t.parentCreatedAt),mu(t.value),ye(t.executedAt))}else if(a.body.case==="treeEdit"){const t=a.body.value,r=new Map;return Object.entries(t.createdAtMapByActor).forEach(([s,c])=>{r.set(s,ye(c))}),Ai.create(ye(t.parentCreatedAt),Zi(t.from),Zi(t.to),op(t.contents),t.splitLevel,r,ye(t.executedAt))}else if(a.body.case==="treeStyle"){const t=a.body.value,r=new Map,s=t.attributesToRemove;return s.length>0?Lr.createTreeRemoveStyleOperation(ye(t.parentCreatedAt),Zi(t.from),Zi(t.to),s,ye(t.executedAt)):(Object.entries(t.attributes).forEach(([c,m])=>{r.set(c,m)}),Lr.create(ye(t.parentCreatedAt),Zi(t.from),Zi(t.to),r,ye(t.executedAt)))}else throw new Le(xe.Unimplemented,"unimplemented operation")}}function up(a){const t=[];for(const r of a){const s=Yc(r);s&&t.push(s)}return t}function qc(a){const t=[];for(const r of a)t.push(Ci.create({id:Vc(r.id),operations:up(r.operations),presenceChange:r.presenceChange?rp(r.presenceChange):void 0,message:r.message}));return t}function lp(a){return Hi.of(ut.fromString(a.serverSeq,!0),a.clientSeq)}function cp(a){return Uo.create(a.documentKey,lp(a.checkpoint),a.isRemoved,qc(a.changes),a.snapshot,ye(a.minSyncedTicket))}function Gc(a){const t=new Ot;for(const s of a.nodes){const c=pu(s.element);t.set(s.key,c,c.getPositionedAt())}const r=new Je(ye(a.createdAt),t);return r.setMovedAt(ye(a.movedAt)),r.setRemovedAt(ye(a.removedAt)),r}function Hc(a){const t=new Pi;for(const s of a.nodes)t.insert(pu(s.element));const r=new sn(ye(a.createdAt),t);return r.setMovedAt(ye(a.movedAt)),r.setRemovedAt(ye(a.removedAt)),r}function fp(a){const t=Ye.of(Ye.valueFromBytes(zc(a.type),a.value),ye(a.createdAt));return t.setMovedAt(ye(a.movedAt)),t.setRemovedAt(ye(a.removedAt)),t}function dp(a){const t=new Xi;let r=t.getHead();for(const c of a.nodes){const m=t.insertAfter(r,sp(c));c.insPrevId&&m.setInsPrev(t.findNode(Wc(c.insPrevId))),r=m}const s=new it(t,ye(a.createdAt));return s.setMovedAt(ye(a.movedAt)),s.setRemovedAt(ye(a.removedAt)),s}function hp(a){const t=xn.create(jo(a.type),xn.valueFromBytes(jo(a.type),a.value),ye(a.createdAt));return t.setMovedAt(ye(a.movedAt)),t.setRemovedAt(ye(a.removedAt)),t}function Xc(a){const t=Kc(a.nodes);return Yt.create(t,ye(a.createdAt))}function pu(a){if(a.body.case==="jsonObject")return Gc(a.body.value);if(a.body.case==="jsonArray")return Hc(a.body.value);if(a.body.case==="primitive")return fp(a.body.value);if(a.body.case==="text")return dp(a.body.value);if(a.body.case==="counter")return hp(a.body.value);if(a.body.case==="tree")return Xc(a.body.value);throw new Le(xe.Unimplemented,"unimplemented element")}function mp(a){if(!a)return{root:Je.create(He),presences:new Map};const t=G.Snapshot.fromBinary(a);return{root:pu(t.root),presences:ip(t.presences)}}function Qc(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Gc(t.body.value)}function Zc(a){return du(a).toBinary()}function pp(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Hc(t.body.value)}function gp(a){return $c(a).toBinary()}function yp(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Xc(t.body.value)}function vp(a){return jc(a).toBinary()}function ef(a){return a?Array.from(a).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function gu(a){return ef(a)}function tf(a){return new Uint8Array(a.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function yu(a){return tf(a)}function Tp(a){const t=G.ChangeID.fromBinary(a);return Vc(t)}function wp(a){const t=G.Operation.fromBinary(a);return Yc(t)}const gt={fromPresence:hu,toChangePack:np,fromChangePack:cp,fromChanges:qc,objectToBytes:Zc,bytesToObject:Qc,bytesToSnapshot:mp,bytesToHex:ef,hexToBytes:tf,toHexString:gu,toUint8Array:yu,toOperation:Uc,toChangeID:Mc,PbChangeID:G.ChangeID,bytesToChangeID:Tp,bytesToOperation:wp};class Sp{constructor(t,r,s,c){this.reconnectStreamDelay=t,this.doc=r,this.docID=s,this.syncMode=c,this.remoteChangeEventReceived=!1}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===_n.RealtimeSyncOff?!1:this.syncMode!==_n.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay)})}catch{}};await r()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}class es{constructor(t,r,s,c){this.id=t,this.delimiter=mn,this.root=r,this.operations=[],this.previousPresence=lt(s),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=c}static create(t,r,s,c){return new es(t,r,s,c)}push(t){this.operations.push(t)}registerElement(t,r){this.root.registerElement(t,r)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerElementHasRemovedNodes(t){this.root.registerElementHasRemovedNodes(t)}getChange(){return Ci.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,r){for(const s of Object.keys(t))r!=null&&r.addToHistory?this.reversePresenceKeys.add(s):this.reversePresenceKeys.delete(s)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const r of this.reversePresenceKeys)t[r]=this.previousPresence[r];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Js{constructor(t){this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.removedElementSetByCreatedAt=new Set,this.elementHasRemovedNodesSetByCreatedAt=new Set,this.registerElement(t,void 0)}static create(){return new Js(Je.create(He))}findByCreatedAt(t){const r=this.elementPairMapByCreatedAt.get(t.toIDString());if(!!r)return r.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let r=this.elementPairMapByCreatedAt.get(t.toIDString());if(!r)return[];const s=[];for(;r.parent;){const c=r.element.getCreatedAt(),m=r.parent.subPathOf(c);m===void 0&&k.fatal(`cant find the given element: ${c.toIDString()}`),s.unshift(m),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return s.unshift("$"),s}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,r){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:r,element:t}),t instanceof ct&&t.getDescendants((s,c)=>(this.registerElement(s,c),!1))}deregisterElement(t){let r=0;const s=c=>{const m=c.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(m),this.removedElementSetByCreatedAt.delete(m),r++};return s(t),t instanceof ct&&t.getDescendants(c=>(s(c),!1)),r}registerRemovedElement(t){this.removedElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerElementHasRemovedNodes(t){this.elementHasRemovedNodesSetByCreatedAt.add(t.getCreatedAt().toIDString())}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getRemovedElementSetSize(){return this.removedElementSetByCreatedAt.size}getObject(){return this.rootObject}getGarbageLen(){let t=0;const r=new Set;for(const s of this.removedElementSetByCreatedAt){r.add(s);const c=this.elementPairMapByCreatedAt.get(s);c.element instanceof ct&&c.element.getDescendants(m=>(r.add(m.getCreatedAt().toIDString()),!1))}t+=r.size;for(const s of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(s).element;t+=m.getRemovedNodesLen()}return t}deepcopy(){return new Js(this.rootObject.deepcopy())}garbageCollect(t){let r=0;for(const s of this.removedElementSetByCreatedAt){const c=this.elementPairMapByCreatedAt.get(s);c.element.getRemovedAt()&&t.compare(c.element.getRemovedAt())>=0&&(c.parent.purge(c.element),r+=this.deregisterElement(c.element))}for(const s of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(s).element,w=m.purgeRemovedNodesBefore(t);w>0&&this.elementHasRemovedNodesSetByCreatedAt.delete(m.getCreatedAt().toIDString()),r+=w}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function nf(a,t){const r=new $s(a);return new Proxy(t,r.getHandlers())}class $s{constructor(t){this.context=t,this.handlers={set:(r,s,c)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]=${JSON.stringify(c)}`),$s.setInternal(t,r,s,c),!0),get:(r,s)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]`),s==="getID"?()=>r.getCreatedAt():s==="toJSON"||s==="toString"?()=>r.toJSON():s==="toJS"?()=>r.toJS():s==="toJSForTest"?()=>r.toJSForTest():Di(t,r.get(s))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,s)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]`),$s.deleteInternal(t,r,s),!0)}}static setInternal(t,r,s,c){if(s.includes("."))throw new Le(xe.InvalidObjectKey,"key must not contain the '.'.");const m=t.issueTimeTicket(),w=Yo(t,c,m),O=r.set(s,w,m);t.registerElement(w,r),O&&t.registerRemovedElement(O),t.push(br.create(s,w.deepcopy(),r.getCreatedAt(),m))}static buildObjectMembers(t,r){const s={};for(const[c,m]of Object.entries(r)){if(c.includes("."))throw new Le(xe.InvalidObjectKey,"key must not contain the '.'.");const w=t.issueTimeTicket(),O=Yo(t,m,w);s[c]=O}return s}static deleteInternal(t,r,s){const c=t.issueTimeTicket(),m=r.deleteByKey(s,c);!m||(t.push(vr.create(r.getCreatedAt(),m.getCreatedAt(),c)),t.registerRemovedElement(m))}getHandlers(){return this.handlers}}function Ep(a,t){const r=new st(a,t);return new Proxy(t,r.getHandlers())}function kp(a){return typeof a=="string"||a instanceof String?!isNaN(a):!1}function Np(a){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(a)}class st{constructor(t,r){this.context=t,this.array=r,this.handlers={get:(s,c,m)=>c==="getID"?()=>s.getCreatedAt():c==="getElementByID"?w=>{const O=s.getByID(w);if(!(!O||O.isRemoved()))return ei(t,O)}:c==="getElementByIndex"?w=>{const O=s.get(w);return ei(t,O)}:c==="getLast"?()=>ei(t,s.getLast()):c==="deleteByID"?w=>{const O=st.deleteInternalByID(t,s,w);return ei(t,O)}:c==="insertAfter"?(w,O)=>{const U=st.insertAfterInternal(t,s,w,O);return ei(t,U)}:c==="insertBefore"?(w,O)=>{const U=st.insertBeforeInternal(t,s,w,O);return ei(t,U)}:c==="moveBefore"?(w,O)=>{st.moveBeforeInternal(t,s,w,O)}:c==="moveAfter"?(w,O)=>{st.moveAfterInternal(t,s,w,O)}:c==="moveFront"?w=>{st.moveFrontInternal(t,s,w)}:c==="moveLast"?w=>{st.moveLastInternal(t,s,w)}:kp(c)?Di(t,s.get(Number(c))):c==="push"?w=>st.pushInternal(t,s,w):c==="splice"?(w,O,...U)=>st.splice(t,s,w,O,...U):c==="length"?s.length:typeof c=="symbol"&&c===Symbol.iterator?st.iteratorInternal.bind(this,t,s):c==="includes"?(w,O)=>st.includes(t,s,w,O):c==="indexOf"?(w,O)=>st.indexOf(t,s,w,O):c==="lastIndexOf"?(w,O)=>st.lastIndexOf(t,s,w,O):c==="toJSForTest"?()=>s.toJSForTest():c==="toTestString"?()=>st.toTestString(s):typeof c=="string"&&Np(c)?(...w)=>{const O=Array.from(s).map(U=>Di(t,U));return Array.prototype[c].apply(O,w)}:Reflect.get(s,c,m),deleteProperty:(s,c)=>(k.isEnabled(y.Trivial)&&k.trivial(`array[${c}]`),st.deleteInternalByIndex(t,s,Number.parseInt(c)),!0)}}static*iteratorInternal(t,r){for(const s of r)yield ei(t,s)}static buildArrayElements(t,r){const s=[];for(const c of r){const m=t.issueTimeTicket(),w=Yo(t,c,m);s.push(w)}return s}static pushInternal(t,r,s){return st.insertAfterInternal(t,r,r.getLastCreatedAt(),s),r.length}static moveBeforeInternal(t,r,s,c){const m=t.issueTimeTicket(),w=r.getPrevCreatedAt(s);r.moveAfter(w,c,m),t.push(Dn.create(r.getCreatedAt(),w,c,m))}static moveAfterInternal(t,r,s,c){const m=t.issueTimeTicket();r.moveAfter(s,c,m),t.push(Dn.create(r.getCreatedAt(),s,c,m))}static moveFrontInternal(t,r,s){const c=t.issueTimeTicket(),m=r.getHead();r.moveAfter(m.getCreatedAt(),s,c),t.push(Dn.create(r.getCreatedAt(),m.getCreatedAt(),s,c))}static moveLastInternal(t,r,s){const c=t.issueTimeTicket(),m=r.getLastCreatedAt();r.moveAfter(m,s,c),t.push(Dn.create(r.getCreatedAt(),m,s,c))}static insertAfterInternal(t,r,s,c){const m=t.issueTimeTicket(),w=Yo(t,c,m);return r.insertAfter(s,w),t.registerElement(w,r),t.push(Qr.create(r.getCreatedAt(),s,w.deepcopy(),m)),w}static insertBeforeInternal(t,r,s,c){return st.insertAfterInternal(t,r,r.getPrevCreatedAt(s),c)}static deleteInternalByIndex(t,r,s){const c=t.issueTimeTicket(),m=r.deleteByIndex(s,c);if(!!m)return t.push(vr.create(r.getCreatedAt(),m.getCreatedAt(),c)),t.registerRemovedElement(m),m}static deleteInternalByID(t,r,s){const c=t.issueTimeTicket(),m=r.delete(s,c);return t.push(vr.create(r.getCreatedAt(),m.getCreatedAt(),c)),t.registerRemovedElement(m),m}static splice(t,r,s,c,...m){const w=r.length,O=s>=0?Math.min(s,w):Math.max(w+s,0),U=c===void 0?w:c<0?O:Math.min(O+c,w),L=[];for(let H=O;H<U;H++){const le=st.deleteInternalByIndex(t,r,O);if(le){const X=le.deepcopy();X.setRemovedAt(),L.push(Di(t,X))}}if(m){let H=O===0?r.getHead().getID():r.get(O-1).getID();for(const le of m)H=st.insertAfterInternal(t,r,H,le).getID()}return L}static includes(t,r,s,c){var m;const w=r.length,O=c===void 0?0:c<0?Math.max(c+w,0):c;if(O>=w)return!1;if(Ye.isSupport(s))return Array.from(r).map(L=>Di(t,L)).includes(s,O);for(let U=O;U<w;U++)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return!0;return!1}static indexOf(t,r,s,c){var m;const w=r.length,O=c===void 0?0:c<0?Math.max(c+w,0):c;if(O>=w)return-1;if(Ye.isSupport(s))return Array.from(r).map(L=>Di(t,L)).indexOf(s,O);for(let U=O;U<w;U++)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return U;return-1}static lastIndexOf(t,r,s,c){var m;const w=r.length,O=c===void 0||c>=w?w-1:c<0?c+w:c;if(O<0)return-1;if(Ye.isSupport(s))return Array.from(r).map(L=>Di(t,L)).lastIndexOf(s,O);for(let U=O;U>0;U--)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return U;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class zo{constructor(t,r){this.context=t,this.text=r}initialize(t,r){this.context=t,this.text=r}getID(){return this.text.getID()}edit(t,r,s,c){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}if(t>r){k.fatal("from should be less than or equal to to");return}const m=this.text.indexRangeToPosRange(t,r);k.isEnabled(y.Debug)&&k.debug(`EDIT: f:${t}->${m[0].toTestString()}, t:${r}->${m[1].toTestString()} c:${s}`);const w=c?Xr(c):void 0,O=this.context.issueTimeTicket(),[U,,L]=this.text.edit(m,s,O,w);return this.context.push(new Pt(this.text.getCreatedAt(),m[0],m[1],U,s,w?new Map(Object.entries(w)):new Map,O)),m[0].equals(m[1])||this.context.registerElementHasRemovedNodes(this.text),this.text.findIndexesFromRange(L)}delete(t,r){return this.edit(t,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,r,s){if(!this.context||!this.text)return k.fatal("it is not initialized yet"),!1;if(t>r)return k.fatal("from should be less than or equal to to"),!1;const c=this.text.indexRangeToPosRange(t,r);k.isEnabled(y.Debug)&&k.debug(`STYL: f:${t}->${c[0].toTestString()}, t:${r}->${c[1].toTestString()} a:${JSON.stringify(s)}`);const m=Xr(s),w=this.context.issueTimeTicket(),[O]=this.text.setStyle(c,m,w);return this.context.push(new At(this.text.getCreatedAt(),c[0],c[1],O,new Map(Object.entries(m)),w)),!0}indexRangeToPosRange(t){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}const r=this.text.indexRangeToPosRange(t[0],t[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}const r=this.text.findIndexesFromRange([ur.fromStruct(t[0]),ur.fromStruct(t[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(k.fatal("it is not initialized yet"),""):this.text.toString()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,r){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(t,r)}}class Wo{constructor(t,r){this.valueType=t,this.value=r}initialize(t,r){this.valueType=r.getValueType(),this.context=t,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter){k.fatal("it is not initialized yet");return}const r=this.context.issueTimeTicket(),s=Ye.of(t,r);if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`);return this.counter.increase(s),this.context.push(Qi.create(this.counter.getCreatedAt(),s,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function vu(a,t,r){const{type:s}=a,c=r.issueTimeTicket();if(s===Kt){rf(a);const{value:m}=a,w=pe.create(ae.of(c,0),s,m);t.append(w)}else{const{children:m=[]}=a;let{attributes:w}=a,O;if(typeof w=="object"&&!It(w)){w=Xr(w),O=new St;for(const[L,H]of Object.entries(w))O.set(L,H,c)}const U=pe.create(ae.of(c,0),s,void 0,O);t.append(U);for(const L of m)vu(L,U,r)}}function Ip(a,t){const{type:r}=t,s=a.issueTimeTicket();let c;if(t.type===Kt){const{value:m}=t;c=pe.create(ae.of(s,0),r,m)}else if(t){const{children:m=[]}=t;let{attributes:w}=t,O;if(typeof w=="object"&&!It(w)){w=Xr(w),O=new St;for(const[U,L]of Object.entries(w))O.set(U,L,s)}c=pe.create(ae.of(a.issueTimeTicket(),0),r,void 0,O);for(const U of m)vu(U,c,a)}return c}function rf(a){if(!a.value.length)throw new Error("text node cannot have empty value");return!0}function sf(a){if(!a.length)return!0;if(a[0].type===Kt)for(const r of a){const{type:s}=r;if(s!==Kt)throw new Error("element node and text node cannot be passed together");rf(r)}else for(const r of a){const{type:s}=r;if(s===Kt)throw new Error("element node and text node cannot be passed together")}return!0}class Ko{constructor(t){this.initialRoot=t}initialize(t,r){this.context=t,this.tree=r}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return pe.create(ae.of(t.issueTimeTicket(),0),Yn);const r=pe.create(ae.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const s of this.initialRoot.children)vu(s,r,t);return r}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,r){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!t.length)throw new Error("path should not be empty");const[s,c]=this.tree.pathToPosRange(t),m=this.context.issueTimeTicket(),w=r?Xr(r):void 0;this.tree.style([s,c],w,m),this.context.push(Lr.create(this.tree.getCreatedAt(),s,c,w?new Map(Object.entries(w)):new Map,m))}style(t,r,s){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const c=this.tree.findPos(t),m=this.tree.findPos(r),w=this.context.issueTimeTicket(),O=s?Xr(s):void 0;this.tree.style([c,m],O,w),this.context.push(Lr.create(this.tree.getCreatedAt(),c,m,O?new Map(Object.entries(O)):new Map,w))}removeStyle(t,r,s){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const c=this.tree.findPos(t),m=this.tree.findPos(r),w=this.context.issueTimeTicket();this.tree.removeStyle([c,m],s,w),this.context.push(Lr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),c,m,s,w))}editInternal(t,r,s,c=0){var m;if(s.length!==0&&s[0]&&(sf(s),s[0].type!==Kt))for(const L of s){const{children:H=[]}=L;sf(H)}const w=this.context.getLastTimeTicket();let O=new Array;if(((m=s[0])===null||m===void 0?void 0:m.type)===Kt){let L="";for(const H of s){const{value:le}=H;L+=le}O.push(pe.create(ae.of(this.context.issueTimeTicket(),0),Kt,L))}else O=s.map(L=>L&&Ip(this.context,L)).filter(L=>L);const[,U]=this.tree.edit([t,r],O.length?O.map(L=>L==null?void 0:L.deepcopy()):void 0,c,w,()=>this.context.issueTimeTicket());return this.context.push(Ai.create(this.tree.getCreatedAt(),t,r,O.length?O:void 0,c,U,w)),t.equals(r)||this.context.registerElementHasRemovedNodes(this.tree),!0}editByPath(t,r,s,c=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t.length!==r.length)throw new Error("path length should be equal");if(!t.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(t),w=this.tree.pathToPos(r);return this.editInternal(m,w,s?[s]:[],c)}editBulkByPath(t,r,s,c=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t.length!==r.length)throw new Error("path length should be equal");if(!t.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(t),w=this.tree.pathToPos(r);return this.editInternal(m,w,s,c)}edit(t,r,s,c=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(t),w=this.tree.findPos(r);return this.editInternal(m,w,s?[s]:[],c)}editBulk(t,r,s,c=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(t),w=this.tree.findPos(r);return this.editInternal(m,w,s,c)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],s=this.tree.indexRangeToPosRange(r);return[s[0].toStruct(),s[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[oe.fromStruct(t[0]),oe.fromStruct(t[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[oe.fromStruct(t[0]),oe.fromStruct(t[1])];return this.tree.posRangeToPathRange(r)}}function of(a,t){return nf(a,t)}function ei(a,t){if(t){if(t instanceof Ye)return t;if(t instanceof Je)return nf(a,t);if(t instanceof sn)return Ep(a,t);if(t instanceof it)return new zo(a,t);if(t instanceof xn){const r=new Wo(ft.IntegerCnt,0);return r.initialize(a,t),r}else if(t instanceof Yt){const r=new Ko;return r.initialize(a,t),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Di(a,t){const r=ei(a,t);return r instanceof Ye?r.getValue():r}function Yo(a,t,r){let s;if(Ye.isSupport(t))s=Ye.of(t,r);else if(Array.isArray(t))s=sn.create(r,st.buildArrayElements(a,t));else if(typeof t=="object")t instanceof zo?(s=it.create(Xi.create(),r),t.initialize(a,s)):t instanceof Wo?(s=xn.create(t.getValueType(),t.getValue(),r),t.initialize(a,s)):t instanceof Ko?(s=Yt.create(t.buildRoot(a),r),t.initialize(a,s)):s=Je.create(r,$s.buildObjectMembers(a,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return s}const af=50;class Op{constructor(){this.undoStack=[],this.redoStack=[]}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=af&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=af&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const uf="yorkie-devtools-panel",lf="yorkie-devtools-sdk";let ts="disconnected";const cf=new Map,Tu=new Map;function qo(a,t){!((t==null?void 0:t.force)||ts!=="disconnected")||window.postMessage({source:lf,...a},"*")}function Pp(a){if(!a.isEnableDevtools()||cf.has(a.getKey()))return;Tu.set(a.getKey(),[]);const t=a.subscribe("all",r=>{Tu.get(a.getKey()).push(r),ts==="synced"&&qo({msg:"doc::sync::partial",docKey:a.getKey(),event:r})});cf.set(a.getKey(),[t]),qo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{var s;if(((s=r.data)===null||s===void 0?void 0:s.source)!==uf)return;switch(r.data.msg){case"devtools::connect":if(ts!=="disconnected")break;ts="connected",qo({msg:"doc::available",docKey:a.getKey()}),k.info(`[YD] Devtools connected. Doc: ${a.getKey()}`);break;case"devtools::disconnect":ts="disconnected",k.info(`[YD] Devtools disconnected. Doc: ${a.getKey()}`);break;case"devtools::subscribe":ts="synced",qo({msg:"doc::sync::full",docKey:a.getKey(),events:Tu.get(a.getKey())}),k.info(`[YD] Devtools subscribed. Doc: ${a.getKey()}`);break}})}var qt;(function(a){a.Detached="detached",a.Attached="attached",a.Removed="removed"})(qt||(qt={}));var we;(function(a){a.StatusChanged="status-changed",a.Snapshot="snapshot",a.LocalChange="local-change",a.RemoteChange="remote-change",a.Initialized="initialized",a.Watched="watched",a.Unwatched="unwatched",a.PresenceChanged="presence-changed"})(we||(we={}));class ff{constructor(t,r){var s;this.opts=r||{},this.opts.enableDevtools=(s=this.opts.enableDevtools)!==null&&s!==void 0?s:!1,this.key=t,this.status=qt.Detached,this.root=Js.create(),this.changeID=Fm,this.checkpoint=Um,this.localChanges=[],this.eventStream=M(c=>{this.eventStreamObserver=c}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Op,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Pp(this)}update(t,r){if(this.getStatus()===qt.Removed)throw new Le(xe.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const s=this.changeID.getActorID(),c=es.create(this.changeID.next(),this.clone.root,this.clone.presences.get(s)||{},r);try{const m=of(c,this.clone.root.getObject());this.presences.has(s)||this.clone.presences.set(s,{}),this.isUpdating=!0,t(m,new jt(c,this.clone.presences.get(s)))}catch(m){throw this.clone=void 0,k.error(m),m}finally{this.isUpdating=!1}if(c.hasChange()){k.isEnabled(y.Trivial)&&k.trivial(`trying to update a local change: ${this.toJSON()}`);const m=c.getChange(),{opInfos:w,reverseOps:O}=m.execute(this.root,this.presences,Pe.Local),U=c.getReversePresence();U&&O.push({type:"presence",value:U}),this.localChanges.push(m),O.length>0&&this.internalHistory.pushUndo(O),w.length>0&&this.internalHistory.clearRedo(),this.changeID=m.getID();const L=[];w.length>0&&L.push({type:we.LocalChange,source:Pe.Local,value:{message:m.getMessage()||"",operations:w,actor:s},rawChange:this.isEnableDevtools()?m.toStruct():void 0}),m.hasPresenceChange()&&L.push({type:we.PresenceChanged,source:Pe.Local,value:{clientID:s,presence:this.getPresence(s)}}),this.publish(L),k.isEnabled(y.Trivial)&&k.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,r,s,c){if(typeof t=="string"){if(typeof r!="function")throw new Error("Second argument must be a callback function");if(t==="presence"){const O=r;return this.eventStream.subscribe(U=>{for(const L of U)L.type!==we.Initialized&&L.type!==we.Watched&&L.type!==we.Unwatched&&L.type!==we.PresenceChanged||O(L)},s,c)}if(t==="my-presence"){const O=r;return this.eventStream.subscribe(U=>{for(const L of U)L.type!==we.Initialized&&L.type!==we.Watched&&L.type!==we.Unwatched&&L.type!==we.PresenceChanged||L.type!==we.Initialized&&L.value.clientID!==this.changeID.getActorID()||O(L)},s,c)}if(t==="others"){const O=r;return this.eventStream.subscribe(U=>{for(const L of U)L.type!==we.Watched&&L.type!==we.Unwatched&&L.type!==we.PresenceChanged||L.value.clientID!==this.changeID.getActorID()&&O(L)},s,c)}if(t==="all"){const O=r;return this.eventStream.subscribe(O,s,c)}const m=t,w=r;return this.eventStream.subscribe(O=>{for(const U of O){if(U.type!==we.Snapshot&&U.type!==we.LocalChange&&U.type!==we.RemoteChange)continue;if(U.type===we.Snapshot){m==="$"&&w(U);continue}const L=[];for(const H of U.value.operations)this.isSameElementOrChildOf(H.path,m)&&L.push(H);L.length&&w({...U,value:{...U.value,operations:L}})}},s,c)}if(typeof t=="function"){const m=t,w=r,O=s;return this.eventStream.subscribe(U=>{for(const L of U)L.type!==we.Snapshot&&L.type!==we.LocalChange&&L.type!==we.RemoteChange||m(L)},w,O)}throw new Error(`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,r){if(r===t)return!0;const s=t.split(".");return r.split(".").every((m,w)=>m===s[w])}applyChangePack(t){for(t.hasSnapshot()?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getSnapshot()):t.hasChanges()&&this.applyChanges(t.getChanges(),Pe.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),this.garbageCollect(t.getMinSyncedTicket()),t.getIsRemoved()&&this.applyStatus(qt.Removed),k.isEnabled(y.Trivial)&&k.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:lt(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(t.length);return Uo.create(this.key,r,!1,t)}setActor(t){for(const r of this.localChanges)r.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(!!this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=es.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return of(t,this.clone.root.getObject())}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,r){const{root:s,presences:c}=gt.bytesToSnapshot(r);this.root=new Js(s),this.presences=c,this.changeID=this.changeID.syncLamport(t),this.clone=void 0,this.publish([{type:we.Snapshot,source:Pe.Remote,value:{snapshot:this.isEnableDevtools()?gt.bytesToHex(r):void 0,serverSeq:t.toString()}}])}applyChanges(t,r){k.isEnabled(y.Debug)&&k.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getRemovedElementSetSize()}`),k.isEnabled(y.Trivial)&&k.trivial(t.map(s=>`${s.getID().toTestString()}	${s.toTestString()}`).join(`
`));for(const s of t)this.applyChange(s,r);k.isEnabled(y.Debug)&&k.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getRemovedElementSetSize()}`)}applyChange(t,r){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,r);const s=[],c=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(c)){const w=t.getPresenceChange();switch(w.type){case Cn.Put:s.push(this.presences.has(c)?{type:we.PresenceChanged,source:r,value:{clientID:c,presence:w.presence}}:{type:we.Watched,source:Pe.Remote,value:{clientID:c,presence:w.presence}});break;case Cn.Clear:s.push({type:we.Unwatched,source:Pe.Remote,value:{clientID:c,presence:this.getPresence(c)}}),this.removeOnlineClient(c);break}}const{opInfos:m}=t.execute(this.root,this.presences,r);if(this.changeID=this.changeID.syncLamport(t.getID().getLamport()),m.length>0){const w=this.isEnableDevtools()?t.toStruct():void 0;s.push(r===Pe.Remote?{type:we.RemoteChange,source:r,value:{actor:c,message:t.getMessage()||"",operations:m},rawChange:w}:{type:we.LocalChange,source:r,value:{actor:c,message:t.getMessage()||"",operations:m},rawChange:w})}s.length>0&&this.publish(s)}applyWatchStream(t){if(t.body.case==="initialization"){const r=t.body.value.clientIds,s=new Set;for(const c of r)s.add(c);this.setOnlineClients(s),this.publish([{type:we.Initialized,source:Pe.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:r,publisher:s}=t.body.value,c=[];if(r===G.DocEventType.DOCUMENT_WATCHED)this.addOnlineClient(s),this.hasPresence(s)&&c.push({type:we.Watched,source:Pe.Remote,value:{clientID:s,presence:this.getPresence(s)}});else if(r===G.DocEventType.DOCUMENT_UNWATCHED){const m=this.getPresence(s);this.removeOnlineClient(s),m&&c.push({type:we.Unwatched,source:Pe.Remote,value:{clientID:s,presence:m}})}c.length>0&&this.publish(c)}}applyStatus(t){this.status=t,t===qt.Detached&&this.setActor(Vt),this.publish([{source:t===qt.Removed?Pe.Remote:Pe.Local,type:we.StatusChanged,value:t===qt.Attached?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEvent(t){if(t.type===we.StatusChanged){this.applyStatus(t.value.status),t.value.status===qt.Attached&&this.setActor(t.value.actorID);return}if(t.type===we.Snapshot){const{snapshot:r,serverSeq:s}=t.value;if(!r)return;this.applySnapshot(ut.fromString(s),gt.hexToBytes(r));return}if(t.type===we.LocalChange||t.type===we.RemoteChange){if(!t.rawChange)return;const r=Ci.fromStruct(t.rawChange);this.applyChange(r,t.source)}if(t.type===we.Initialized){const r=new Set;for(const{clientID:s,presence:c}of t.value)r.add(s),this.presences.set(s,c);this.setOnlineClients(r);return}if(t.type===we.Watched){const{clientID:r,presence:s}=t.value;this.addOnlineClient(r),this.presences.set(r,s);return}if(t.type===we.Unwatched){const{clientID:r}=t.value;this.removeOnlineClient(r),this.presences.delete(r)}if(t.type===we.PresenceChanged){const{clientID:r,presence:s}=t.value;this.presences.set(r,s)}}applyTransactionDocEvents(t){for(const r of t)this.applyDocEvent(r)}getValueByPath(t){if(!t.startsWith("$"))throw new Le(xe.InvalidArgument,'path must start with "$"');const r=t.split(".");r.shift();let s=this.getRoot();for(const c of r)if(s=s[c],s===void 0)return;return s}setOnlineClients(t){this.onlineClients=t}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!==qt.Attached)return{};const t=this.presences.get(this.changeID.getActorID());return t?lt(t):{}}getPresence(t){if(!this.onlineClients.has(t))return;const r=this.presences.get(t);return r?lt(r):void 0}getPresenceForTest(t){const r=this.presences.get(t);return r?lt(r):void 0}getPresences(){const t=[];for(const r of this.onlineClients)this.presences.has(r)&&t.push({clientID:r,presence:lt(this.presences.get(r))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==t).sort((r,s)=>r.clientID>s.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const r=es.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const L of t){if(!(L instanceof Xe)){new jt(r,lt(this.clone.presences.get(this.changeID.getActorID()))).set(L.value,{addToHistory:!0});continue}const H=r.issueTimeTicket();L.setExecutedAt(H),r.push(L)}const s=r.getChange();s.execute(this.clone.root,this.clone.presences,Pe.UndoRedo);const{opInfos:c,reverseOps:m}=s.execute(this.root,this.presences,Pe.UndoRedo),w=r.getReversePresence();if(w&&m.push({type:"presence",value:w}),m.length>0&&this.internalHistory.pushRedo(m),!s.hasPresenceChange()&&c.length===0)return;this.localChanges.push(s),this.changeID=s.getID();const O=this.changeID.getActorID(),U=[];c.length>0&&U.push({type:we.LocalChange,source:Pe.UndoRedo,value:{message:s.getMessage()||"",operations:c,actor:O},rawChange:this.isEnableDevtools()?s.toStruct():void 0}),s.hasPresenceChange()&&U.push({type:we.PresenceChanged,source:Pe.UndoRedo,value:{clientID:O,presence:this.getPresence(O)}}),this.publish(U)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const r=es.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const L of t){if(!(L instanceof Xe)){new jt(r,lt(this.clone.presences.get(this.changeID.getActorID()))).set(L.value,{addToHistory:!0});continue}const H=r.issueTimeTicket();L.setExecutedAt(H),r.push(L)}const s=r.getChange();s.execute(this.clone.root,this.clone.presences,Pe.UndoRedo);const{opInfos:c,reverseOps:m}=s.execute(this.root,this.presences,Pe.UndoRedo),w=r.getReversePresence();if(w&&m.push({type:"presence",value:w}),m.length>0&&this.internalHistory.pushUndo(m),!s.hasPresenceChange()&&c.length===0)return;this.localChanges.push(s),this.changeID=s.getID();const O=this.changeID.getActorID(),U=[];c.length>0&&U.push({type:we.LocalChange,source:Pe.UndoRedo,value:{message:s.getMessage()||"",operations:c,actor:O},rawChange:this.isEnableDevtools()?s.toStruct():void 0}),s.hasPresenceChange()&&U.push({type:we.PresenceChanged,source:Pe.UndoRedo,value:{clientID:O,presence:this.getPresence(O)}}),this.publish(U)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function Ap(a,t){return r=>async s=>(a&&s.header.set("x-api-key",a),t&&s.header.set("authorization",t),await r(s))}const df=JSON.parse('{"u2":"yorkie-js-sdk","i8":"0.4.17"}');function Cp(){return a=>async t=>(t.header.set("x-yorkie-user-agent",df.u2+"/"+df.i8),await a(t))}var _n;(function(a){a.Manual="manual",a.Realtime="realtime",a.RealtimePushOnly="realtime-pushonly",a.RealtimeSyncOff="realtime-syncoff"})(_n||(_n={}));var ti;(function(a){a.Deactivated="deactivated",a.Activated="activated"})(ti||(ti={}));var ns;(function(a){a.Connected="connected",a.Disconnected="disconnected"})(ns||(ns={}));var rs;(function(a){a.Synced="synced",a.SyncFailed="sync-failed"})(rs||(rs={}));var Xn;(function(a){a.StatusChanged="status-changed",a.DocumentChanged="document-changed",a.StreamConnectionStatusChanged="stream-connection-status-changed",a.DocumentSynced="document-synced"})(Xn||(Xn={}));const Go={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class hf{constructor(t,r){r=r||Go,this.key=r.key?r.key:S(),this.status=ti.Deactivated,this.attachmentMap=new Map,this.apiKey=r.apiKey||"",this.syncLoopDuration=r.syncLoopDuration||Go.syncLoopDuration,this.reconnectStreamDelay=r.reconnectStreamDelay||Go.reconnectStreamDelay,this.retrySyncLoopDelay=r.retrySyncLoopDelay||Go.retrySyncLoopDelay,this.rpcClient=re(Wn.V,zn({baseUrl:t,interceptors:[Ap(r.apiKey,r.token),Cp()]})),this.eventStream=M(s=>{this.eventStreamObserver=s})}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(t=>{this.id=t.clientId,this.status=ti.Activated,this.runSyncLoop(),this.eventStreamObserver.next({type:Xn.StatusChanged,value:this.status}),k.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(t=>{throw k.error(`[AC] c:"${this.getKey()}" err :`,t),t})}deactivate(){if(this.status===ti.Deactivated)return Promise.resolve();for(const[t]of this.attachmentMap)this.detachInternal(t);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status=ti.Deactivated,this.eventStreamObserver.next({type:Xn.StatusChanged,value:this.status}),k.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(t=>{throw k.error(`[DC] c:"${this.getKey()}" err :`,t),t})}attach(t,r={}){var s;if(!this.isActive())throw new Le(xe.ClientNotActive,`${this.key} is not active`);if(t.getStatus()!==qt.Detached)throw new Le(xe.DocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((m,w)=>w.set(r.initialPresence||{}));const c=(s=r.syncMode)!==null&&s!==void 0?s:_n.Realtime;return this.rpcClient.attachDocument({clientId:this.id,changePack:gt.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(async m=>{const w=gt.fromChangePack(m.changePack);return t.applyChangePack(w),t.getStatus()===qt.Removed||(t.applyStatus(qt.Attached),this.attachmentMap.set(t.getKey(),new Sp(this.reconnectStreamDelay,t,m.documentId,c)),c!==_n.Manual&&await this.runWatchLoop(t.getKey()),k.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`)),t}).catch(m=>{throw k.error(`[AD] c:"${this.getKey()}" err :`,m),m})}detach(t,r={}){var s;if(!this.isActive())throw new Le(xe.ClientNotActive,`${this.key} is not active`);const c=this.attachmentMap.get(t.getKey());if(!c)throw new Le(xe.DocumentNotAttached,`${t.getKey()} is not attached`);return t.update((m,w)=>w.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:c.docID,changePack:gt.toChangePack(t.createChangePack()),removeIfNotAttached:(s=r.removeIfNotAttached)!==null&&s!==void 0?s:!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(m=>{const w=gt.fromChangePack(m.changePack);return t.applyChangePack(w),t.getStatus()!==qt.Removed&&t.applyStatus(qt.Detached),this.detachInternal(t.getKey()),k.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}).catch(m=>{throw k.error(`[DD] c:"${this.getKey()}" err :`,m),m})}async changeSyncMode(t,r){if(!this.isActive())throw new Le(xe.ClientNotActive,`${this.key} is not active`);const s=this.attachmentMap.get(t.getKey());if(!s)throw new Le(xe.DocumentNotAttached,`${t.getKey()} is not attached`);const c=s.syncMode;return c===r?t:(s.changeSyncMode(r),r===_n.Manual?(s.cancelWatchStream(),t):(r===_n.Realtime&&(s.remoteChangeEventReceived=!0),c===_n.Manual&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new Le(xe.ClientNotActive,`${this.key} is not active`);const r=[];if(t){const s=this.attachmentMap.get(t.getKey());if(!s)throw new Le(xe.DocumentNotAttached,`${t.getKey()} is not attached`);r.push(this.syncInternal(s,_n.Realtime))}else this.attachmentMap.forEach(s=>{r.push(this.syncInternal(s,s.syncMode))});return Promise.all(r).catch(s=>{throw this.eventStreamObserver.next({type:Xn.DocumentSynced,value:rs.SyncFailed}),s})}remove(t){if(!this.isActive())throw new Le(xe.ClientNotActive,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new Le(xe.DocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const s=gt.toChangePack(t.createChangePack());return s.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:r.docID,changePack:s},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(c=>{const m=gt.fromChangePack(c.changePack);t.applyChangePack(m),this.detachInternal(t.getKey()),k.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}).catch(c=>{throw k.error(`[RD] c:"${this.getKey()}" err :`,c),c})}subscribe(t,r,s){return this.eventStream.subscribe(t,r,s)}getID(){return this.id}getKey(){return this.key}isActive(){return this.status===ti.Activated}getStatus(){return this.status}runSyncLoop(){const t=()=>{if(!this.isActive()){k.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const r=[];for(const[,s]of this.attachmentMap)s.needRealtimeSync()&&(s.remoteChangeEventReceived=!1,r.push(this.syncInternal(s,s.syncMode)));Promise.all(r).then(()=>setTimeout(t,this.syncLoopDuration)).catch(s=>{k.error(`[SL] c:"${this.getKey()}" sync failed:`,s),this.eventStreamObserver.next({type:Xn.DocumentSynced,value:rs.SyncFailed}),setTimeout(t,this.retrySyncLoopDelay)})};k.debug(`[SL] c:"${this.getKey()}" run sync loop`),t()}async runWatchLoop(t){const r=this.attachmentMap.get(t);if(!r)throw new Le(xe.DocumentNotAttached,`${t} is not attached`);return r.runWatchLoop(s=>{if(!this.isActive())return Promise.reject(new Le(xe.ClientNotActive,`${this.key} is not active`));const c=new AbortController,m=this.rpcClient.watchDocument({clientId:this.id,documentId:r.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:c.signal});return this.eventStreamObserver.next({type:Xn.StreamConnectionStatusChanged,value:ns.Connected}),k.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((w,O)=>{(async()=>{try{for await(const L of m)this.handleWatchDocumentsResponse(r,L),L.body.case==="initialization"&&w([m,c])}catch(L){this.eventStreamObserver.next({type:Xn.StreamConnectionStatusChanged,value:ns.Disconnected}),k.debug(`[WD] c:"${this.getKey()}" unwatches`),s(),O(L)}})()})})}handleWatchDocumentsResponse(t,r){if(r.body.case==="event"&&r.body.value.type===G.DocEventType.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0,this.eventStreamObserver.next({type:Xn.DocumentChanged,value:[t.doc.getKey()]});return}t.doc.applyWatchStream(r)}detachInternal(t){const r=this.attachmentMap.get(t);!r||(r.cancelWatchStream(),k.debug(`[WD] c:"${this.getKey()}" unwatches`),this.eventStreamObserver.next({type:Xn.StreamConnectionStatusChanged,value:ns.Disconnected}),this.attachmentMap.delete(t))}syncInternal(t,r){const{doc:s,docID:c}=t,m=s.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:gt.toChangePack(m),pushOnly:r===_n.RealtimePushOnly},{headers:{"x-shard-key":`${this.apiKey}/${s.getKey()}`}}).then(w=>{const O=gt.fromChangePack(w.changePack);if(O.hasChanges()&&t.syncMode===_n.RealtimePushOnly)return s;s.applyChangePack(O),this.eventStreamObserver.next({type:Xn.DocumentSynced,value:rs.Synced}),s.getStatus()===qt.Removed&&this.detachInternal(s.getKey());const U=s.getKey(),L=O.getChangeSize();return k.info(`[PP] c:"${this.getKey()}" sync d:"${U}", push:${m.getChangeSize()} pull:${L} cp:${O.getCheckpoint().toTestString()}`),s}).catch(w=>{throw k.error(`[PP] c:"${this.getKey()}" err :`,w),w})}}const Dp={Client:hf,Document:ff,Primitive:Ye,Text:zo,Counter:Wo,Tree:Ko,IntType:ft.IntegerCnt,LongType:ft.LongCnt}})(),d})())})(bm);const Nd=bp(bm.exports);var Lm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function i(){for(var o=[],l=0;l<arguments.length;l++){var d=arguments[l];if(!!d){var p=typeof d;if(p==="string"||p==="number")o.push(d);else if(Array.isArray(d)){if(d.length){var y=i.apply(null,d);y&&o.push(y)}}else if(p==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){o.push(d.toString());continue}for(var v in d)n.call(d,v)&&d[v]&&o.push(v)}}}return o.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(Lm);const Rc=Lm.exports;var bc={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Jr.exports,Zy=Symbol.for("react.element"),ev=Symbol.for("react.fragment"),tv=Object.prototype.hasOwnProperty,nv=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rv={key:!0,ref:!0,__self:!0,__source:!0};function Mm(e,n,i){var o,l={},d=null,p=null;i!==void 0&&(d=""+i),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(p=n.ref);for(o in n)tv.call(n,o)&&!rv.hasOwnProperty(o)&&(l[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)l[o]===void 0&&(l[o]=n[o]);return{$$typeof:Zy,type:e,key:d,ref:p,props:l,_owner:nv.current}}cu.Fragment=ev;cu.jsx=Mm;cu.jsxs=Mm;(function(e){e.exports=cu})(bc);const Tt=bc.exports.jsx,xs=bc.exports.jsxs;function Bm(e){const[n,i]=Jr.exports.useState(e.text||"");return Tt("input",{className:Rc({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:n,onBlur:o=>{e.newTodo||e.onSave(o.target.value)},onChange:o=>{i(o.target.value)},onKeyDown:o=>{const l=o.target;o.which===13&&(e.onSave(l.value.trim()),e.newTodo&&i(""))}})}function iv(e){return xs("header",{className:"header",children:[Tt("h1",{children:"todos"}),Tt(Bm,{newTodo:!0,onSave:n=>{n.length!==0&&e.addTodo(n)},placeholder:"What needs to be done?"})]})}function sv(e){const[n,i]=Jr.exports.useState(!1),{todo:o,completeTodo:l,editTodo:d,deleteTodo:p}=e;return Tt("li",{className:Rc({completed:o.completed,editing:n}),children:n?Tt(Bm,{text:o.text,editing:n,onSave:y=>{y.length===0?p(o.id):d(o.id,y),i(!1)}}):xs("div",{className:"view",children:[Tt("input",{id:`item-input-${o.id}`,className:"toggle",type:"checkbox",checked:o.completed,onChange:()=>l(o.id)}),Tt("label",{htmlFor:`item-input-${o.id}`,onDoubleClick:()=>i(!0),children:o.text}),Tt("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>p(o.id)})]})})}const ov={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function av(e){const{activeCount:n,completedCount:i,filter:o,onClearCompleted:l,onShow:d}=e;return xs("footer",{className:"footer",children:[xs("span",{className:"todo-count",children:[Tt("strong",{children:n||"No"}),"\xA0",n===1?"item":"items"," left"]}),Tt("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(p=>Tt("li",{children:Tt("button",{type:"button",className:Rc({selected:p===o}),style:{cursor:"pointer"},onClick:()=>d(p),children:ov[p]})},p))}),!!i&&Tt("button",{type:"button",className:"clear-completed",onClick:l,children:"Clear completed"})]})}const uv={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function lv(e){const[n,i]=Jr.exports.useState("SHOW_ALL"),{todos:o,actions:l}=e,d=o.filter(uv[n]),p=o.reduce((v,g)=>g.completed?v+1:v,0),y=o.length-p;return o.length===0?null:xs("section",{className:"main",children:[Tt("input",{className:"toggle-all",type:"checkbox",defaultChecked:p===o.length,onChange:l.completeAll}),Tt("ul",{className:"todo-list",children:d.map(v=>Tt(sv,{todo:v,editTodo:l.editTodo,deleteTodo:l.deleteTodo,completeTodo:l.completeTodo},v.id))}),Tt(av,{completedCount:p,activeCount:y,filter:n,onClearCompleted:()=>l.clearCompleted(),onShow:i})]})}const cv=[{id:0,text:"Yorkie JS SDK",completed:!1},{id:1,text:"Garbage collection",completed:!1},{id:2,text:"RichText datatype",completed:!1}];function fv(){const[e]=Jr.exports.useState(()=>new Nd.Document(`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`)),[n,i]=Jr.exports.useState([]),o={addTodo:l=>{e==null||e.update(d=>{d.todos.push({id:d.todos.reduce((p,y)=>Math.max(y.id,p),-1)+1,completed:!1,text:l})})},deleteTodo:l=>{e==null||e.update(d=>{let p;for(const y of d.todos)if(y.id===l){p=y;break}p&&d.todos.deleteByID(p.getID())})},editTodo:(l,d)=>{e==null||e.update(p=>{let y;for(const v of p.todos)if(v.id===l){y=v;break}y&&(y.text=d)})},completeTodo:l=>{e==null||e.update(d=>{let p;for(const y of d.todos)if(y.id===l){p=y;break}p&&(p.completed=!p.completed)})},clearCompleted:()=>{e==null||e.update(l=>{for(const d of l.todos)if(d.completed){const p=d;l.todos.deleteByID(p.getID())}},"")}};return Jr.exports.useEffect(()=>{const l=new Nd.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"});async function d(p,y){await l.activate(),await l.attach(p),p.update(v=>{v.todos||(v.todos=cv)},"create default todos if not exists"),p.subscribe(v=>{y(p.getRoot().todos)}),y(p.getRoot().todos)}d(e,p=>{i(p)})},[]),xs("div",{className:"App",children:[Tt(iv,{addTodo:o.addTodo}),Tt(lv,{todos:n,actions:o})]})}Ku.createRoot(document.getElementById("root")).render(Tt(fv,{}));
