(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerpolicy&&(c.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?c.credentials="include":f.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(f){if(f.ep)return;f.ep=!0;const c=o(f);fetch(f.href,c)}})();var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pc={},Ig={exports:{}},Rt={},Rr={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),Vw=Symbol.for("react.portal"),qw=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Kw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Qw=Symbol.for("react.memo"),Zw=Symbol.for("react.lazy"),pp=Symbol.iterator;function e1(t){return t===null||typeof t!="object"?null:(t=pp&&t[pp]||t["@@iterator"],typeof t=="function"?t:null)}var _g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Og={};function Wi(t,r,o){this.props=t,this.context=r,this.refs=Og,this.updater=o||_g}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xg(){}xg.prototype=Wi.prototype;function If(t,r,o){this.props=t,this.context=r,this.refs=Og,this.updater=o||_g}var _f=If.prototype=new xg;_f.constructor=If;Ag(_f,Wi.prototype);_f.isPureReactComponent=!0;var gp=Array.isArray,Pg=Object.prototype.hasOwnProperty,Af={current:null},Cg={key:!0,ref:!0,__self:!0,__source:!0};function Dg(t,r,o){var l,f={},c=null,m=null;if(r!=null)for(l in r.ref!==void 0&&(m=r.ref),r.key!==void 0&&(c=""+r.key),r)Pg.call(r,l)&&!Cg.hasOwnProperty(l)&&(f[l]=r[l]);var y=arguments.length-2;if(y===1)f.children=o;else if(1<y){for(var v=Array(y),N=0;N<y;N++)v[N]=arguments[N+2];f.children=v}if(t&&t.defaultProps)for(l in y=t.defaultProps,y)f[l]===void 0&&(f[l]=y[l]);return{$$typeof:va,type:t,key:c,ref:m,props:f,_owner:Af.current}}function t1(t,r){return{$$typeof:va,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===va}function n1(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return r[o]})}var yp=/\/+/g;function sc(t,r){return typeof t=="object"&&t!==null&&t.key!=null?n1(""+t.key):r.toString(36)}function Sl(t,r,o,l,f){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var m=!1;if(t===null)m=!0;else switch(c){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case va:case Vw:m=!0}}if(m)return m=t,f=f(m),t=l===""?"."+sc(m,0):l,gp(f)?(o="",t!=null&&(o=t.replace(yp,"$&/")+"/"),Sl(f,r,o,"",function(N){return N})):f!=null&&(Of(f)&&(f=t1(f,o+(!f.key||m&&m.key===f.key?"":(""+f.key).replace(yp,"$&/")+"/")+t)),r.push(f)),1;if(m=0,l=l===""?".":l+":",gp(t))for(var y=0;y<t.length;y++){c=t[y];var v=l+sc(c,y);m+=Sl(c,r,o,v,f)}else if(v=e1(t),typeof v=="function")for(t=v.call(t),y=0;!(c=t.next()).done;)c=c.value,v=l+sc(c,y++),m+=Sl(c,r,o,v,f);else if(c==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return m}function rl(t,r,o){if(t==null)return t;var l=[],f=0;return Sl(t,l,"","",function(c){return r.call(o,c,f++)}),l}function r1(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},wl={transition:null},s1={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Af};ue.Children={map:rl,forEach:function(t,r,o){rl(t,function(){r.apply(this,arguments)},o)},count:function(t){var r=0;return rl(t,function(){r++}),r},toArray:function(t){return rl(t,function(r){return r})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wi;ue.Fragment=qw;ue.Profiler=Ww;ue.PureComponent=If;ue.StrictMode=Yw;ue.Suspense=Xw;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;ue.cloneElement=function(t,r,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=Ag({},t.props),f=t.key,c=t.ref,m=t._owner;if(r!=null){if(r.ref!==void 0&&(c=r.ref,m=Af.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var y=t.type.defaultProps;for(v in r)Pg.call(r,v)&&!Cg.hasOwnProperty(v)&&(l[v]=r[v]===void 0&&y!==void 0?y[v]:r[v])}var v=arguments.length-2;if(v===1)l.children=o;else if(1<v){y=Array(v);for(var N=0;N<v;N++)y[N]=arguments[N+2];l.children=y}return{$$typeof:va,type:t.type,key:f,ref:c,props:l,_owner:m}};ue.createContext=function(t){return t={$$typeof:Gw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kw,_context:t},t.Consumer=t};ue.createElement=Dg;ue.createFactory=function(t){var r=Dg.bind(null,t);return r.type=t,r};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Hw,render:t}};ue.isValidElement=Of;ue.lazy=function(t){return{$$typeof:Zw,_payload:{_status:-1,_result:t},_init:r1}};ue.memo=function(t,r){return{$$typeof:Qw,type:t,compare:r===void 0?null:r}};ue.startTransition=function(t){var r=wl.transition;wl.transition={};try{t()}finally{wl.transition=r}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,r){return ht.current.useCallback(t,r)};ue.useContext=function(t){return ht.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ue.useEffect=function(t,r){return ht.current.useEffect(t,r)};ue.useId=function(){return ht.current.useId()};ue.useImperativeHandle=function(t,r,o){return ht.current.useImperativeHandle(t,r,o)};ue.useInsertionEffect=function(t,r){return ht.current.useInsertionEffect(t,r)};ue.useLayoutEffect=function(t,r){return ht.current.useLayoutEffect(t,r)};ue.useMemo=function(t,r){return ht.current.useMemo(t,r)};ue.useReducer=function(t,r,o){return ht.current.useReducer(t,r,o)};ue.useRef=function(t){return ht.current.useRef(t)};ue.useState=function(t){return ht.current.useState(t)};ue.useSyncExternalStore=function(t,r,o){return ht.current.useSyncExternalStore(t,r,o)};ue.useTransition=function(){return ht.current.useTransition()};ue.version="18.2.0";(function(t){t.exports=ue})(Rr);var Rg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(z,re){var ie=z.length;z.push(re);e:for(;0<ie;){var Ie=ie-1>>>1,Be=z[Ie];if(0<f(Be,re))z[Ie]=re,z[ie]=Be,ie=Ie;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var re=z[0],ie=z.pop();if(ie!==re){z[0]=ie;e:for(var Ie=0,Be=z.length,Gs=Be>>>1;Ie<Gs;){var ce=2*(Ie+1)-1,ge=z[ce],In=ce+1,$r=z[In];if(0>f(ge,ie))In<Be&&0>f($r,ge)?(z[Ie]=$r,z[In]=ie,Ie=In):(z[Ie]=ge,z[ce]=ie,Ie=ce);else if(In<Be&&0>f($r,ie))z[Ie]=$r,z[In]=ie,Ie=In;else break e}}return re}function f(z,re){var ie=z.sortIndex-re.sortIndex;return ie!==0?ie:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,y=m.now();t.unstable_now=function(){return m.now()-y}}var v=[],N=[],R=1,D=null,C=3,$=!1,F=!1,j=!1,ve=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var re=o(N);re!==null;){if(re.callback===null)l(N);else if(re.startTime<=z)l(N),re.sortIndex=re.expirationTime,r(v,re);else break;re=o(N)}}function L(z){if(j=!1,_(z),!F)if(o(v)!==null)F=!0,Ks(q);else{var re=o(N);re!==null&&Xi(L,re.startTime-z)}}function q(z,re){F=!1,j&&(j=!1,I(X),X=-1),$=!0;var ie=C;try{for(_(re),D=o(v);D!==null&&(!(D.expirationTime>re)||z&&!Et());){var Ie=D.callback;if(typeof Ie=="function"){D.callback=null,C=D.priorityLevel;var Be=Ie(D.expirationTime<=re);re=t.unstable_now(),typeof Be=="function"?D.callback=Be:D===o(v)&&l(v),_(re)}else l(v);D=o(v)}if(D!==null)var Gs=!0;else{var ce=o(N);ce!==null&&Xi(L,ce.startTime-re),Gs=!1}return Gs}finally{D=null,C=ie,$=!1}}var x=!1,W=null,X=-1,w=5,ee=-1;function Et(){return!(t.unstable_now()-ee<w)}function pr(){if(W!==null){var z=t.unstable_now();ee=z;var re=!0;try{re=W(!0,z)}finally{re?Nn():(x=!1,W=null)}}else x=!1}var Nn;if(typeof S=="function")Nn=function(){S(pr)};else if(typeof MessageChannel<"u"){var Hi=new MessageChannel,vu=Hi.port2;Hi.port1.onmessage=pr,Nn=function(){vu.postMessage(null)}}else Nn=function(){ve(pr,0)};function Ks(z){W=z,x||(x=!0,Nn())}function Xi(z,re){X=ve(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){F||$||(F=!0,Ks(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(v)},t.unstable_next=function(z){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var ie=C;C=re;try{return z()}finally{C=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=C;C=z;try{return re()}finally{C=ie}},t.unstable_scheduleCallback=function(z,re,ie){var Ie=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ie+ie:Ie):ie=Ie,z){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ie+Be,z={id:R++,callback:re,priorityLevel:z,startTime:ie,expirationTime:Be,sortIndex:-1},ie>Ie?(z.sortIndex=ie,r(N,z),o(v)===null&&z===o(N)&&(j?(I(X),X=-1):j=!0,Xi(L,ie-Ie))):(z.sortIndex=Be,r(v,z),F||$||(F=!0,Ks(q))),z},t.unstable_shouldYield=Et,t.unstable_wrapCallback=function(z){var re=C;return function(){var ie=C;C=re;try{return z.apply(this,arguments)}finally{C=ie}}}})(bg);(function(t){t.exports=bg})(Rg);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=Rr.exports,Dt=Rg.exports;function M(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bg=new Set,ta={};function Ys(t,r){Ui(t,r),Ui(t+"Capture",r)}function Ui(t,r){for(ta[t]=r,t=0;t<r.length;t++)Bg.add(r[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=Object.prototype.hasOwnProperty,i1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vp={},Tp={};function o1(t){return Cc.call(Tp,t)?!0:Cc.call(vp,t)?!1:i1.test(t)?Tp[t]=!0:(vp[t]=!0,!1)}function a1(t,r,o,l){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l1(t,r,o,l){if(r===null||typeof r>"u"||a1(t,r,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function mt(t,r,o,l,f,c,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=c,this.removeEmptyString=m}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];tt[r]=new mt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function Pf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(xf,Pf);tt[r]=new mt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(xf,Pf);tt[r]=new mt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(xf,Pf);tt[r]=new mt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cf(t,r,o,l){var f=tt.hasOwnProperty(r)?tt[r]:null;(f!==null?f.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(l1(r,o,f,l)&&(o=null),l||f===null?o1(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,l=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,l?t.setAttributeNS(l,r,o):t.setAttribute(r,o))))}var Ur=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),wi=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),Ug=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=Sp&&t[Sp]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,ic;function Fo(t){if(ic===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ic=r&&r[1]||""}return`
`+ic+t}var oc=!1;function ac(t,r){if(!t||oc)return"";oc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(N){var l=N}Reflect.construct(t,[],r)}else{try{r.call()}catch(N){l=N}t.call(r.prototype)}else{try{throw Error()}catch(N){l=N}t()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),c=l.stack.split(`
`),m=f.length-1,y=c.length-1;1<=m&&0<=y&&f[m]!==c[y];)y--;for(;1<=m&&0<=y;m--,y--)if(f[m]!==c[y]){if(m!==1||y!==1)do if(m--,y--,0>y||f[m]!==c[y]){var v=`
`+f[m].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=m&&0<=y);break}}}finally{oc=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Fo(t):""}function u1(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function Lc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case wi:return"Portal";case Dc:return"Profiler";case Df:return"StrictMode";case Rc:return"Suspense";case bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jg:return(t.displayName||"Context")+".Consumer";case Mg:return(t._context.displayName||"Context")+".Provider";case Rf:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bf:return r=t.displayName||null,r!==null?r:Lc(t.type)||"Memo";case ts:r=t._payload,t=t._init;try{return Lc(t(r))}catch{}}return null}function c1(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(r);case 8:return r===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $g(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function f1(t){var r=$g(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,c=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(m){l=""+m,c.call(this,m)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function il(t){t._valueTracker||(t._valueTracker=f1(t))}function Fg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return t&&(l=$g(t)?t.checked?"true":"false":t.value),t=l,t!==o?(r.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bc(t,r){var o=r.checked;return Ce({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:t._wrapperState.initialChecked})}function wp(t,r){var o=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;o=ps(r.value!=null?r.value:o),t._wrapperState={initialChecked:l,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function jg(t,r){r=r.checked,r!=null&&Cf(t,"checked",r,!1)}function Mc(t,r){jg(t,r);var o=ps(r.value),l=r.type;if(o!=null)l==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Jc(t,r.type,o):r.hasOwnProperty("defaultValue")&&Jc(t,r.type,ps(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function kp(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Jc(t,r,o){(r!=="number"||Dl(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var jo=Array.isArray;function Ri(t,r,o,l){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&l&&(t[o].defaultSelected=!0)}else{for(o=""+ps(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Uc(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ce({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(M(92));if(jo(o)){if(1<o.length)throw Error(M(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ps(o)}}function zg(t,r){var o=ps(r.value),l=ps(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),l!=null&&(t.defaultValue=""+l)}function Np(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Vg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $c(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Vg(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ol,qg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,l,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,l,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function na(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d1=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){d1.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Yo[r]=Yo[t]})});function Yg(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+r).trim():r+"px"}function Wg(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var l=o.indexOf("--")===0,f=Yg(o,r[o],l);o==="float"&&(o="cssFloat"),l?t.setProperty(o,f):t[o]=f}}var h1=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,r){if(r){if(h1[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(M(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(M(61))}if(r.style!=null&&typeof r.style!="object")throw Error(M(62))}}function jc(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function Lf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vc=null,bi=null,Li=null;function Ip(t){if(t=wa(t)){if(typeof Vc!="function")throw Error(M(280));var r=t.stateNode;r&&(r=ou(r),Vc(t.stateNode,t.type,r))}}function Kg(t){bi?Li?Li.push(t):Li=[t]:bi=t}function Gg(){if(bi){var t=bi,r=Li;if(Li=bi=null,Ip(t),r)for(t=0;t<r.length;t++)Ip(r[t])}}function Hg(t,r){return t(r)}function Xg(){}var lc=!1;function Qg(t,r,o){if(lc)return t(r,o);lc=!0;try{return Hg(t,r,o)}finally{lc=!1,(bi!==null||Li!==null)&&(Xg(),Gg())}}function ra(t,r){var o=t.stateNode;if(o===null)return null;var l=ou(o);if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(M(231,r,typeof o));return o}var qc=!1;if(Lr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){qc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{qc=!1}function m1(t,r,o,l,f,c,m,y,v){var N=Array.prototype.slice.call(arguments,3);try{r.apply(o,N)}catch(R){this.onError(R)}}var Wo=!1,Rl=null,bl=!1,Yc=null,p1={onError:function(t){Wo=!0,Rl=t}};function g1(t,r,o,l,f,c,m,y,v){Wo=!1,Rl=null,m1.apply(p1,arguments)}function y1(t,r,o,l,f,c,m,y,v){if(g1.apply(this,arguments),Wo){if(Wo){var N=Rl;Wo=!1,Rl=null}else throw Error(M(198));bl||(bl=!0,Yc=N)}}function Ws(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Zg(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _p(t){if(Ws(t)!==t)throw Error(M(188))}function v1(t){var r=t.alternate;if(!r){if(r=Ws(t),r===null)throw Error(M(188));return r!==t?null:t}for(var o=t,l=r;;){var f=o.return;if(f===null)break;var c=f.alternate;if(c===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===c.child){for(c=f.child;c;){if(c===o)return _p(f),t;if(c===l)return _p(f),r;c=c.sibling}throw Error(M(188))}if(o.return!==l.return)o=f,l=c;else{for(var m=!1,y=f.child;y;){if(y===o){m=!0,o=f,l=c;break}if(y===l){m=!0,l=f,o=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===o){m=!0,o=c,l=f;break}if(y===l){m=!0,l=c,o=f;break}y=y.sibling}if(!m)throw Error(M(189))}}if(o.alternate!==l)throw Error(M(190))}if(o.tag!==3)throw Error(M(188));return o.stateNode.current===o?t:r}function ey(t){return t=v1(t),t!==null?ty(t):null}function ty(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ty(t);if(r!==null)return r;t=t.sibling}return null}var ny=Dt.unstable_scheduleCallback,Ap=Dt.unstable_cancelCallback,T1=Dt.unstable_shouldYield,S1=Dt.unstable_requestPaint,Le=Dt.unstable_now,w1=Dt.unstable_getCurrentPriorityLevel,Bf=Dt.unstable_ImmediatePriority,ry=Dt.unstable_UserBlockingPriority,Ll=Dt.unstable_NormalPriority,k1=Dt.unstable_LowPriority,sy=Dt.unstable_IdlePriority,nu=null,hr=null;function E1(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(nu,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:_1,N1=Math.log,I1=Math.LN2;function _1(t){return t>>>=0,t===0?32:31-(N1(t)/I1|0)|0}var al=64,ll=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,r){var o=t.pendingLanes;if(o===0)return 0;var l=0,f=t.suspendedLanes,c=t.pingedLanes,m=o&268435455;if(m!==0){var y=m&~f;y!==0?l=zo(y):(c&=m,c!==0&&(l=zo(c)))}else m=o&~f,m!==0?l=zo(m):c!==0&&(l=zo(c));if(l===0)return 0;if(r!==0&&r!==l&&(r&f)===0&&(f=l&-l,c=r&-r,f>=c||f===16&&(c&4194240)!==0))return r;if((l&4)!==0&&(l|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)o=31-wn(r),f=1<<o,l|=t[o],r&=~f;return l}function A1(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O1(t,r){for(var o=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,c=t.pendingLanes;0<c;){var m=31-wn(c),y=1<<m,v=f[m];v===-1?((y&o)===0||(y&l)!==0)&&(f[m]=A1(y,r)):v<=r&&(t.expiredLanes|=y),c&=~y}}function Wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iy(){var t=al;return al<<=1,(al&4194240)===0&&(al=64),t}function uc(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ta(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-wn(r),t[r]=o}function x1(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-wn(o),c=1<<f;r[f]=0,l[f]=-1,t[f]=-1,o&=~c}}function Mf(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var l=31-wn(o),f=1<<l;f&r|t[l]&r&&(t[l]|=r),o&=~f}}var ye=0;function oy(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ay,Jf,ly,uy,cy,Kc=!1,ul=[],as=null,ls=null,us=null,sa=new Map,ia=new Map,rs=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(t,r){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":sa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(r.pointerId)}}function Lo(t,r,o,l,f,c){return t===null||t.nativeEvent!==c?(t={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:c,targetContainers:[f]},r!==null&&(r=wa(r),r!==null&&Jf(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function C1(t,r,o,l,f){switch(r){case"focusin":return as=Lo(as,t,r,o,l,f),!0;case"dragenter":return ls=Lo(ls,t,r,o,l,f),!0;case"mouseover":return us=Lo(us,t,r,o,l,f),!0;case"pointerover":var c=f.pointerId;return sa.set(c,Lo(sa.get(c)||null,t,r,o,l,f)),!0;case"gotpointercapture":return c=f.pointerId,ia.set(c,Lo(ia.get(c)||null,t,r,o,l,f)),!0}return!1}function fy(t){var r=Bs(t.target);if(r!==null){var o=Ws(r);if(o!==null){if(r=o.tag,r===13){if(r=Zg(o),r!==null){t.blockedOn=r,cy(t.priority,function(){ly(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gc(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);zc=l,o.target.dispatchEvent(l),zc=null}else return r=wa(o),r!==null&&Jf(r),t.blockedOn=o,!1;r.shift()}return!0}function xp(t,r,o){kl(t)&&o.delete(r)}function D1(){Kc=!1,as!==null&&kl(as)&&(as=null),ls!==null&&kl(ls)&&(ls=null),us!==null&&kl(us)&&(us=null),sa.forEach(xp),ia.forEach(xp)}function Bo(t,r){t.blockedOn===r&&(t.blockedOn=null,Kc||(Kc=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,D1)))}function oa(t){function r(f){return Bo(f,t)}if(0<ul.length){Bo(ul[0],t);for(var o=1;o<ul.length;o++){var l=ul[o];l.blockedOn===t&&(l.blockedOn=null)}}for(as!==null&&Bo(as,t),ls!==null&&Bo(ls,t),us!==null&&Bo(us,t),sa.forEach(r),ia.forEach(r),o=0;o<rs.length;o++)l=rs[o],l.blockedOn===t&&(l.blockedOn=null);for(;0<rs.length&&(o=rs[0],o.blockedOn===null);)fy(o),o.blockedOn===null&&rs.shift()}var Bi=Ur.ReactCurrentBatchConfig,Ml=!0;function R1(t,r,o,l){var f=ye,c=Bi.transition;Bi.transition=null;try{ye=1,Uf(t,r,o,l)}finally{ye=f,Bi.transition=c}}function b1(t,r,o,l){var f=ye,c=Bi.transition;Bi.transition=null;try{ye=4,Uf(t,r,o,l)}finally{ye=f,Bi.transition=c}}function Uf(t,r,o,l){if(Ml){var f=Gc(t,r,o,l);if(f===null)Tc(t,r,l,Jl,o),Op(t,l);else if(C1(f,t,r,o,l))l.stopPropagation();else if(Op(t,l),r&4&&-1<P1.indexOf(t)){for(;f!==null;){var c=wa(f);if(c!==null&&ay(c),c=Gc(t,r,o,l),c===null&&Tc(t,r,l,Jl,o),c===f)break;f=c}f!==null&&l.stopPropagation()}else Tc(t,r,l,null,o)}}var Jl=null;function Gc(t,r,o,l){if(Jl=null,t=Lf(l),t=Bs(t),t!==null)if(r=Ws(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Zg(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Jl=t,null}function dy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w1()){case Bf:return 1;case ry:return 4;case Ll:case k1:return 16;case sy:return 536870912;default:return 16}default:return 16}}var is=null,$f=null,El=null;function hy(){if(El)return El;var t,r=$f,o=r.length,l,f="value"in is?is.value:is.textContent,c=f.length;for(t=0;t<o&&r[t]===f[t];t++);var m=o-t;for(l=1;l<=m&&r[o-l]===f[c-l];l++);return El=f.slice(t,1<l?1-l:void 0)}function Nl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function Pp(){return!1}function bt(t){function r(o,l,f,c,m){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(o=t[y],this[y]=o?o(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?cl:Pp,this.isPropagationStopped=Pp,this}return Ce(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=bt(Ki),Sa=Ce({},Ki,{view:0,detail:0}),L1=bt(Sa),cc,fc,Mo,ru=Ce({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(cc=t.screenX-Mo.screenX,fc=t.screenY-Mo.screenY):fc=cc=0,Mo=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),Cp=bt(ru),B1=Ce({},ru,{dataTransfer:0}),M1=bt(B1),J1=Ce({},Sa,{relatedTarget:0}),dc=bt(J1),U1=Ce({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=bt(U1),F1=Ce({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j1=bt(F1),z1=Ce({},Ki,{data:0}),Dp=bt(z1),V1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Y1[t])?!!r[t]:!1}function jf(){return W1}var K1=Ce({},Sa,{key:function(t){if(t.key){var r=V1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G1=bt(K1),H1=Ce({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=bt(H1),X1=Ce({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),Q1=bt(X1),Z1=Ce({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),ek=bt(Z1),tk=Ce({},ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nk=bt(tk),rk=[9,13,27,32],zf=Lr&&"CompositionEvent"in window,Ko=null;Lr&&"documentMode"in document&&(Ko=document.documentMode);var sk=Lr&&"TextEvent"in window&&!Ko,my=Lr&&(!zf||Ko&&8<Ko&&11>=Ko),bp=String.fromCharCode(32),Lp=!1;function py(t,r){switch(t){case"keyup":return rk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function ik(t,r){switch(t){case"compositionend":return gy(r);case"keypress":return r.which!==32?null:(Lp=!0,bp);case"textInput":return t=r.data,t===bp&&Lp?null:t;default:return null}}function ok(t,r){if(Ei)return t==="compositionend"||!zf&&py(t,r)?(t=hy(),El=$f=is=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return my&&r.locale!=="ko"?null:r.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ak[t.type]:r==="textarea"}function yy(t,r,o,l){Kg(l),r=Ul(r,"onChange"),0<r.length&&(o=new Ff("onChange","change",null,o,l),t.push({event:o,listeners:r}))}var Go=null,aa=null;function lk(t){Oy(t,0)}function su(t){var r=_i(t);if(Fg(r))return t}function uk(t,r){if(t==="change")return r}var vy=!1;if(Lr){var hc;if(Lr){var mc="oninput"in document;if(!mc){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),mc=typeof Mp.oninput=="function"}hc=mc}else hc=!1;vy=hc&&(!document.documentMode||9<document.documentMode)}function Jp(){Go&&(Go.detachEvent("onpropertychange",Ty),aa=Go=null)}function Ty(t){if(t.propertyName==="value"&&su(aa)){var r=[];yy(r,aa,t,Lf(t)),Qg(lk,r)}}function ck(t,r,o){t==="focusin"?(Jp(),Go=r,aa=o,Go.attachEvent("onpropertychange",Ty)):t==="focusout"&&Jp()}function fk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(aa)}function dk(t,r){if(t==="click")return su(r)}function hk(t,r){if(t==="input"||t==="change")return su(r)}function mk(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:mk;function la(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Cc.call(r,f)||!En(t[f],r[f]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,r){var o=Up(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=r&&l>=r)return{node:o,offset:r-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Up(o)}}function Sy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wy(){for(var t=window,r=Dl();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Dl(t.document)}return r}function Vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function pk(t){var r=wy(),o=t.focusedElem,l=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Sy(o.ownerDocument.documentElement,o)){if(l!==null&&Vf(o)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,c=Math.min(l.start,f);l=l.end===void 0?c:Math.min(l.end,f),!t.extend&&c>l&&(f=l,l=c,c=f),f=$p(o,c);var m=$p(o,l);f&&m&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),c>l?(t.addRange(r),t.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gk=Lr&&"documentMode"in document&&11>=document.documentMode,Ni=null,Hc=null,Ho=null,Xc=!1;function Fp(t,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xc||Ni==null||Ni!==Dl(l)||(l=Ni,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&la(Ho,l)||(Ho=l,l=Ul(Hc,"onSelect"),0<l.length&&(r=new Ff("onSelect","select",null,r,o),t.push({event:r,listeners:l}),r.target=Ni)))}function fl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ii={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},pc={},ky={};Lr&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function iu(t){if(pc[t])return pc[t];if(!Ii[t])return t;var r=Ii[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ky)return pc[t]=r[o];return t}var Ey=iu("animationend"),Ny=iu("animationiteration"),Iy=iu("animationstart"),_y=iu("transitionend"),Ay=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,r){Ay.set(t,r),Ys(r,[t])}for(var gc=0;gc<jp.length;gc++){var yc=jp[gc],yk=yc.toLowerCase(),vk=yc[0].toUpperCase()+yc.slice(1);ys(yk,"on"+vk)}ys(Ey,"onAnimationEnd");ys(Ny,"onAnimationIteration");ys(Iy,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(_y,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function zp(t,r,o){var l=t.type||"unknown-event";t.currentTarget=o,y1(l,r,void 0,t),t.currentTarget=null}function Oy(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],f=l.event;l=l.listeners;e:{var c=void 0;if(r)for(var m=l.length-1;0<=m;m--){var y=l[m],v=y.instance,N=y.currentTarget;if(y=y.listener,v!==c&&f.isPropagationStopped())break e;zp(f,y,N),c=v}else for(m=0;m<l.length;m++){if(y=l[m],v=y.instance,N=y.currentTarget,y=y.listener,v!==c&&f.isPropagationStopped())break e;zp(f,y,N),c=v}}}if(bl)throw t=Yc,bl=!1,Yc=null,t}function Ee(t,r){var o=r[nf];o===void 0&&(o=r[nf]=new Set);var l=t+"__bubble";o.has(l)||(xy(r,t,2,!1),o.add(l))}function vc(t,r,o){var l=0;r&&(l|=4),xy(o,t,l,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[dl]){t[dl]=!0,Bg.forEach(function(o){o!=="selectionchange"&&(Tk.has(o)||vc(o,!1,t),vc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[dl]||(r[dl]=!0,vc("selectionchange",!1,r))}}function xy(t,r,o,l){switch(dy(r)){case 1:var f=R1;break;case 4:f=b1;break;default:f=Uf}o=f.bind(null,r,o,t),f=void 0,!qc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Tc(t,r,o,l,f){var c=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var y=l.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(m===4)for(m=l.return;m!==null;){var v=m.tag;if((v===3||v===4)&&(v=m.stateNode.containerInfo,v===f||v.nodeType===8&&v.parentNode===f))return;m=m.return}for(;y!==null;){if(m=Bs(y),m===null)return;if(v=m.tag,v===5||v===6){l=c=m;continue e}y=y.parentNode}}l=l.return}Qg(function(){var N=c,R=Lf(o),D=[];e:{var C=Ay.get(t);if(C!==void 0){var $=Ff,F=t;switch(t){case"keypress":if(Nl(o)===0)break e;case"keydown":case"keyup":$=G1;break;case"focusin":F="focus",$=dc;break;case"focusout":F="blur",$=dc;break;case"beforeblur":case"afterblur":$=dc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=M1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Q1;break;case Ey:case Ny:case Iy:$=$1;break;case _y:$=ek;break;case"scroll":$=L1;break;case"wheel":$=nk;break;case"copy":case"cut":case"paste":$=j1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Rp}var j=(r&4)!==0,ve=!j&&t==="scroll",I=j?C!==null?C+"Capture":null:C;j=[];for(var S=N,_;S!==null;){_=S;var L=_.stateNode;if(_.tag===5&&L!==null&&(_=L,I!==null&&(L=ra(S,I),L!=null&&j.push(ca(S,L,_)))),ve)break;S=S.return}0<j.length&&(C=new $(C,F,null,o,R),D.push({event:C,listeners:j}))}}if((r&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",C&&o!==zc&&(F=o.relatedTarget||o.fromElement)&&(Bs(F)||F[Br]))break e;if(($||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,$?(F=o.relatedTarget||o.toElement,$=N,F=F?Bs(F):null,F!==null&&(ve=Ws(F),F!==ve||F.tag!==5&&F.tag!==6)&&(F=null)):($=null,F=N),$!==F)){if(j=Cp,L="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(j=Rp,L="onPointerLeave",I="onPointerEnter",S="pointer"),ve=$==null?C:_i($),_=F==null?C:_i(F),C=new j(L,S+"leave",$,o,R),C.target=ve,C.relatedTarget=_,L=null,Bs(R)===N&&(j=new j(I,S+"enter",F,o,R),j.target=_,j.relatedTarget=ve,L=j),ve=L,$&&F)t:{for(j=$,I=F,S=0,_=j;_;_=Si(_))S++;for(_=0,L=I;L;L=Si(L))_++;for(;0<S-_;)j=Si(j),S--;for(;0<_-S;)I=Si(I),_--;for(;S--;){if(j===I||I!==null&&j===I.alternate)break t;j=Si(j),I=Si(I)}j=null}else j=null;$!==null&&Vp(D,C,$,j,!1),F!==null&&ve!==null&&Vp(D,ve,F,j,!0)}}e:{if(C=N?_i(N):window,$=C.nodeName&&C.nodeName.toLowerCase(),$==="select"||$==="input"&&C.type==="file")var q=uk;else if(Bp(C))if(vy)q=hk;else{q=fk;var x=ck}else($=C.nodeName)&&$.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(q=dk);if(q&&(q=q(t,N))){yy(D,q,o,R);break e}x&&x(t,C,N),t==="focusout"&&(x=C._wrapperState)&&x.controlled&&C.type==="number"&&Jc(C,"number",C.value)}switch(x=N?_i(N):window,t){case"focusin":(Bp(x)||x.contentEditable==="true")&&(Ni=x,Hc=N,Ho=null);break;case"focusout":Ho=Hc=Ni=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Fp(D,o,R);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":Fp(D,o,R)}var W;if(zf)e:{switch(t){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ei?py(t,o)&&(X="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(X="onCompositionStart");X&&(my&&o.locale!=="ko"&&(Ei||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ei&&(W=hy()):(is=R,$f="value"in is?is.value:is.textContent,Ei=!0)),x=Ul(N,X),0<x.length&&(X=new Dp(X,t,null,o,R),D.push({event:X,listeners:x}),W?X.data=W:(W=gy(o),W!==null&&(X.data=W)))),(W=sk?ik(t,o):ok(t,o))&&(N=Ul(N,"onBeforeInput"),0<N.length&&(R=new Dp("onBeforeInput","beforeinput",null,o,R),D.push({event:R,listeners:N}),R.data=W))}Oy(D,r)})}function ca(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ul(t,r){for(var o=r+"Capture",l=[];t!==null;){var f=t,c=f.stateNode;f.tag===5&&c!==null&&(f=c,c=ra(t,o),c!=null&&l.unshift(ca(t,c,f)),c=ra(t,r),c!=null&&l.push(ca(t,c,f))),t=t.return}return l}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,r,o,l,f){for(var c=r._reactName,m=[];o!==null&&o!==l;){var y=o,v=y.alternate,N=y.stateNode;if(v!==null&&v===l)break;y.tag===5&&N!==null&&(y=N,f?(v=ra(o,c),v!=null&&m.unshift(ca(o,v,y))):f||(v=ra(o,c),v!=null&&m.push(ca(o,v,y)))),o=o.return}m.length!==0&&t.push({event:r,listeners:m})}var Sk=/\r\n?/g,wk=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(Sk,`
`).replace(wk,"")}function hl(t,r,o){if(r=qp(r),qp(t)!==r&&o)throw Error(M(425))}function $l(){}var Qc=null,Zc=null;function ef(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Ek=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(Nk)}:tf;function Nk(t){setTimeout(function(){throw t})}function Sc(t,r){var o=r,l=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){t.removeChild(f),oa(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);oa(r)}function cs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Wp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),dr="__reactFiber$"+Gi,fa="__reactProps$"+Gi,Br="__reactContainer$"+Gi,nf="__reactEvents$"+Gi,Ik="__reactListeners$"+Gi,_k="__reactHandles$"+Gi;function Bs(t){var r=t[dr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Br]||o[dr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Wp(t);t!==null;){if(o=t[dr])return o;t=Wp(t)}return r}t=o,o=t.parentNode}return null}function wa(t){return t=t[dr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function ou(t){return t[fa]||null}var rf=[],Ai=-1;function vs(t){return{current:t}}function Ne(t){0>Ai||(t.current=rf[Ai],rf[Ai]=null,Ai--)}function ke(t,r){Ai++,rf[Ai]=t.current,t.current=r}var gs={},ot=vs(gs),St=vs(!1),Fs=gs;function $i(t,r){var o=t.type.contextTypes;if(!o)return gs;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var f={},c;for(c in o)f[c]=r[c];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function wt(t){return t=t.childContextTypes,t!=null}function Fl(){Ne(St),Ne(ot)}function Kp(t,r,o){if(ot.current!==gs)throw Error(M(168));ke(ot,r),ke(St,o)}function Py(t,r,o){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in r))throw Error(M(108,c1(t)||"Unknown",f));return Ce({},o,l)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,Fs=ot.current,ke(ot,t),ke(St,St.current),!0}function Gp(t,r,o){var l=t.stateNode;if(!l)throw Error(M(169));o?(t=Py(t,r,Fs),l.__reactInternalMemoizedMergedChildContext=t,Ne(St),Ne(ot),ke(ot,t)):Ne(St),ke(St,o)}var Pr=null,au=!1,wc=!1;function Cy(t){Pr===null?Pr=[t]:Pr.push(t)}function Ak(t){au=!0,Cy(t)}function Ts(){if(!wc&&Pr!==null){wc=!0;var t=0,r=ye;try{var o=Pr;for(ye=1;t<o.length;t++){var l=o[t];do l=l(!0);while(l!==null)}Pr=null,au=!1}catch(f){throw Pr!==null&&(Pr=Pr.slice(t+1)),ny(Bf,Ts),f}finally{ye=r,wc=!1}}return null}var Oi=[],xi=0,zl=null,Vl=0,Zt=[],en=0,js=null,Cr=1,Dr="";function Rs(t,r){Oi[xi++]=Vl,Oi[xi++]=zl,zl=t,Vl=r}function Dy(t,r,o){Zt[en++]=Cr,Zt[en++]=Dr,Zt[en++]=js,js=t;var l=Cr;t=Dr;var f=32-wn(l)-1;l&=~(1<<f),o+=1;var c=32-wn(r)+f;if(30<c){var m=f-f%5;c=(l&(1<<m)-1).toString(32),l>>=m,f-=m,Cr=1<<32-wn(r)+f|o<<f|l,Dr=c+t}else Cr=1<<c|o<<f|l,Dr=t}function qf(t){t.return!==null&&(Rs(t,1),Dy(t,1,0))}function Yf(t){for(;t===zl;)zl=Oi[--xi],Oi[xi]=null,Vl=Oi[--xi],Oi[xi]=null;for(;t===js;)js=Zt[--en],Zt[en]=null,Dr=Zt[--en],Zt[en]=null,Cr=Zt[--en],Zt[en]=null}var Ct=null,Pt=null,Ae=!1,Sn=null;function Ry(t,r){var o=tn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Hp(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ct=t,Pt=cs(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ct=t,Pt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=js!==null?{id:Cr,overflow:Dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=tn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ct=t,Pt=null,!0):!1;default:return!1}}function sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(Ae){var r=Pt;if(r){var o=r;if(!Hp(t,r)){if(sf(t))throw Error(M(418));r=cs(o.nextSibling);var l=Ct;r&&Hp(t,r)?Ry(l,o):(t.flags=t.flags&-4097|2,Ae=!1,Ct=t)}}else{if(sf(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ae=!1,Ct=t}}}function Xp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function ml(t){if(t!==Ct)return!1;if(!Ae)return Xp(t),Ae=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ef(t.type,t.memoizedProps)),r&&(r=Pt)){if(sf(t))throw by(),Error(M(418));for(;r;)Ry(t,r),r=cs(r.nextSibling)}if(Xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Pt=cs(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Pt=null}}else Pt=Ct?cs(t.stateNode.nextSibling):null;return!0}function by(){for(var t=Pt;t;)t=cs(t.nextSibling)}function Fi(){Pt=Ct=null,Ae=!1}function Wf(t){Sn===null?Sn=[t]:Sn.push(t)}var Ok=Ur.ReactCurrentBatchConfig;function vn(t,r){if(t&&t.defaultProps){r=Ce({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var ql=vs(null),Yl=null,Pi=null,Kf=null;function Gf(){Kf=Pi=Yl=null}function Hf(t){var r=ql.current;Ne(ql),t._currentValue=r}function af(t,r,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===o)break;t=t.return}}function Mi(t,r){Yl=t,Kf=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tt=!0),t.firstContext=null)}function rn(t){var r=t._currentValue;if(Kf!==t)if(t={context:t,memoizedValue:r,next:null},Pi===null){if(Yl===null)throw Error(M(308));Pi=t,Yl.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return r}var Ms=null;function Xf(t){Ms===null?Ms=[t]:Ms.push(t)}function Ly(t,r,o,l){var f=r.interleaved;return f===null?(o.next=o,Xf(r)):(o.next=f.next,f.next=o),r.interleaved=o,Mr(t,l)}function Mr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var ns=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function fs(t,r,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,Mr(t,o)}return f=l.interleaved,f===null?(r.next=r,Xf(l)):(r.next=f.next,f.next=r),l.interleaved=r,Mr(t,o)}function Il(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Mf(t,o)}}function Qp(t,r){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?f=c=m:c=c.next=m,o=o.next}while(o!==null);c===null?f=c=r:c=c.next=r}else f=c=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:c,shared:l.shared,effects:l.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Wl(t,r,o,l){var f=t.updateQueue;ns=!1;var c=f.firstBaseUpdate,m=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var v=y,N=v.next;v.next=null,m===null?c=N:m.next=N,m=v;var R=t.alternate;R!==null&&(R=R.updateQueue,y=R.lastBaseUpdate,y!==m&&(y===null?R.firstBaseUpdate=N:y.next=N,R.lastBaseUpdate=v))}if(c!==null){var D=f.baseState;m=0,R=N=v=null,y=c;do{var C=y.lane,$=y.eventTime;if((l&C)===C){R!==null&&(R=R.next={eventTime:$,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var F=t,j=y;switch(C=r,$=o,j.tag){case 1:if(F=j.payload,typeof F=="function"){D=F.call($,D,C);break e}D=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,C=typeof F=="function"?F.call($,D,C):F,C==null)break e;D=Ce({},D,C);break e;case 2:ns=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,C=f.effects,C===null?f.effects=[y]:C.push(y))}else $={eventTime:$,lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},R===null?(N=R=$,v=D):R=R.next=$,m|=C;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;C=y,y=C.next,C.next=null,f.lastBaseUpdate=C,f.shared.pending=null}}while(1);if(R===null&&(v=D),f.baseState=v,f.firstBaseUpdate=N,f.lastBaseUpdate=R,r=f.shared.interleaved,r!==null){f=r;do m|=f.lane,f=f.next;while(f!==r)}else c===null&&(f.shared.lanes=0);Vs|=m,t.lanes=m,t.memoizedState=D}}function Zp(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(M(191,f));f.call(l)}}}var My=new Lg.Component().refs;function lf(t,r,o,l){r=t.memoizedState,o=o(l,r),o=o==null?r:Ce({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var lu={isMounted:function(t){return(t=t._reactInternals)?Ws(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var l=dt(),f=hs(t),c=br(l,f);c.payload=r,o!=null&&(c.callback=o),r=fs(t,c,f),r!==null&&(kn(r,t,f,l),Il(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var l=dt(),f=hs(t),c=br(l,f);c.tag=1,c.payload=r,o!=null&&(c.callback=o),r=fs(t,c,f),r!==null&&(kn(r,t,f,l),Il(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=dt(),l=hs(t),f=br(o,l);f.tag=2,r!=null&&(f.callback=r),r=fs(t,f,l),r!==null&&(kn(r,t,l,o),Il(r,t,l))}};function eg(t,r,o,l,f,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,m):r.prototype&&r.prototype.isPureReactComponent?!la(o,l)||!la(f,c):!0}function Jy(t,r,o){var l=!1,f=gs,c=r.contextType;return typeof c=="object"&&c!==null?c=rn(c):(f=wt(r)?Fs:ot.current,l=r.contextTypes,c=(l=l!=null)?$i(t,f):gs),r=new r(o,c),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=lu,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=c),r}function tg(t,r,o,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==t&&lu.enqueueReplaceState(r,r.state,null)}function uf(t,r,o,l){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs=My,Qf(t);var c=r.contextType;typeof c=="object"&&c!==null?f.context=rn(c):(c=wt(r)?Fs:ot.current,f.context=$i(t,c)),f.state=t.memoizedState,c=r.getDerivedStateFromProps,typeof c=="function"&&(lf(t,r,c,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&lu.enqueueReplaceState(f,f.state,null),Wl(t,o,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(M(309));var l=o.stateNode}if(!l)throw Error(M(147,t));var f=l,c=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(m){var y=f.refs;y===My&&(y=f.refs={}),m===null?delete y[c]:y[c]=m},r._stringRef=c,r)}if(typeof t!="string")throw Error(M(284));if(!o._owner)throw Error(M(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ng(t){var r=t._init;return r(t._payload)}function Uy(t){function r(I,S){if(t){var _=I.deletions;_===null?(I.deletions=[S],I.flags|=16):_.push(S)}}function o(I,S){if(!t)return null;for(;S!==null;)r(I,S),S=S.sibling;return null}function l(I,S){for(I=new Map;S!==null;)S.key!==null?I.set(S.key,S):I.set(S.index,S),S=S.sibling;return I}function f(I,S){return I=ms(I,S),I.index=0,I.sibling=null,I}function c(I,S,_){return I.index=_,t?(_=I.alternate,_!==null?(_=_.index,_<S?(I.flags|=2,S):_):(I.flags|=2,S)):(I.flags|=1048576,S)}function m(I){return t&&I.alternate===null&&(I.flags|=2),I}function y(I,S,_,L){return S===null||S.tag!==6?(S=Oc(_,I.mode,L),S.return=I,S):(S=f(S,_),S.return=I,S)}function v(I,S,_,L){var q=_.type;return q===ki?R(I,S,_.props.children,L,_.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ts&&ng(q)===S.type)?(L=f(S,_.props),L.ref=Jo(I,S,_),L.return=I,L):(L=Cl(_.type,_.key,_.props,null,I.mode,L),L.ref=Jo(I,S,_),L.return=I,L)}function N(I,S,_,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=xc(_,I.mode,L),S.return=I,S):(S=f(S,_.children||[]),S.return=I,S)}function R(I,S,_,L,q){return S===null||S.tag!==7?(S=$s(_,I.mode,L,q),S.return=I,S):(S=f(S,_),S.return=I,S)}function D(I,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Oc(""+S,I.mode,_),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sl:return _=Cl(S.type,S.key,S.props,null,I.mode,_),_.ref=Jo(I,null,S),_.return=I,_;case wi:return S=xc(S,I.mode,_),S.return=I,S;case ts:var L=S._init;return D(I,L(S._payload),_)}if(jo(S)||Ro(S))return S=$s(S,I.mode,_,null),S.return=I,S;pl(I,S)}return null}function C(I,S,_,L){var q=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:y(I,S,""+_,L);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:return _.key===q?v(I,S,_,L):null;case wi:return _.key===q?N(I,S,_,L):null;case ts:return q=_._init,C(I,S,q(_._payload),L)}if(jo(_)||Ro(_))return q!==null?null:R(I,S,_,L,null);pl(I,_)}return null}function $(I,S,_,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(_)||null,y(S,I,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case sl:return I=I.get(L.key===null?_:L.key)||null,v(S,I,L,q);case wi:return I=I.get(L.key===null?_:L.key)||null,N(S,I,L,q);case ts:var x=L._init;return $(I,S,_,x(L._payload),q)}if(jo(L)||Ro(L))return I=I.get(_)||null,R(S,I,L,q,null);pl(S,L)}return null}function F(I,S,_,L){for(var q=null,x=null,W=S,X=S=0,w=null;W!==null&&X<_.length;X++){W.index>X?(w=W,W=null):w=W.sibling;var ee=C(I,W,_[X],L);if(ee===null){W===null&&(W=w);break}t&&W&&ee.alternate===null&&r(I,W),S=c(ee,S,X),x===null?q=ee:x.sibling=ee,x=ee,W=w}if(X===_.length)return o(I,W),Ae&&Rs(I,X),q;if(W===null){for(;X<_.length;X++)W=D(I,_[X],L),W!==null&&(S=c(W,S,X),x===null?q=W:x.sibling=W,x=W);return Ae&&Rs(I,X),q}for(W=l(I,W);X<_.length;X++)w=$(W,I,X,_[X],L),w!==null&&(t&&w.alternate!==null&&W.delete(w.key===null?X:w.key),S=c(w,S,X),x===null?q=w:x.sibling=w,x=w);return t&&W.forEach(function(Et){return r(I,Et)}),Ae&&Rs(I,X),q}function j(I,S,_,L){var q=Ro(_);if(typeof q!="function")throw Error(M(150));if(_=q.call(_),_==null)throw Error(M(151));for(var x=q=null,W=S,X=S=0,w=null,ee=_.next();W!==null&&!ee.done;X++,ee=_.next()){W.index>X?(w=W,W=null):w=W.sibling;var Et=C(I,W,ee.value,L);if(Et===null){W===null&&(W=w);break}t&&W&&Et.alternate===null&&r(I,W),S=c(Et,S,X),x===null?q=Et:x.sibling=Et,x=Et,W=w}if(ee.done)return o(I,W),Ae&&Rs(I,X),q;if(W===null){for(;!ee.done;X++,ee=_.next())ee=D(I,ee.value,L),ee!==null&&(S=c(ee,S,X),x===null?q=ee:x.sibling=ee,x=ee);return Ae&&Rs(I,X),q}for(W=l(I,W);!ee.done;X++,ee=_.next())ee=$(W,I,X,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&W.delete(ee.key===null?X:ee.key),S=c(ee,S,X),x===null?q=ee:x.sibling=ee,x=ee);return t&&W.forEach(function(pr){return r(I,pr)}),Ae&&Rs(I,X),q}function ve(I,S,_,L){if(typeof _=="object"&&_!==null&&_.type===ki&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:e:{for(var q=_.key,x=S;x!==null;){if(x.key===q){if(q=_.type,q===ki){if(x.tag===7){o(I,x.sibling),S=f(x,_.props.children),S.return=I,I=S;break e}}else if(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ts&&ng(q)===x.type){o(I,x.sibling),S=f(x,_.props),S.ref=Jo(I,x,_),S.return=I,I=S;break e}o(I,x);break}else r(I,x);x=x.sibling}_.type===ki?(S=$s(_.props.children,I.mode,L,_.key),S.return=I,I=S):(L=Cl(_.type,_.key,_.props,null,I.mode,L),L.ref=Jo(I,S,_),L.return=I,I=L)}return m(I);case wi:e:{for(x=_.key;S!==null;){if(S.key===x)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){o(I,S.sibling),S=f(S,_.children||[]),S.return=I,I=S;break e}else{o(I,S);break}else r(I,S);S=S.sibling}S=xc(_,I.mode,L),S.return=I,I=S}return m(I);case ts:return x=_._init,ve(I,S,x(_._payload),L)}if(jo(_))return F(I,S,_,L);if(Ro(_))return j(I,S,_,L);pl(I,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(o(I,S.sibling),S=f(S,_),S.return=I,I=S):(o(I,S),S=Oc(_,I.mode,L),S.return=I,I=S),m(I)):o(I,S)}return ve}var ji=Uy(!0),$y=Uy(!1),ka={},mr=vs(ka),da=vs(ka),ha=vs(ka);function Js(t){if(t===ka)throw Error(M(174));return t}function Zf(t,r){switch(ke(ha,r),ke(da,t),ke(mr,ka),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$c(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=$c(r,t)}Ne(mr),ke(mr,r)}function zi(){Ne(mr),Ne(da),Ne(ha)}function Fy(t){Js(ha.current);var r=Js(mr.current),o=$c(r,t.type);r!==o&&(ke(da,t),ke(mr,o))}function ed(t){da.current===t&&(Ne(mr),Ne(da))}var xe=vs(0);function Kl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function td(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var _l=Ur.ReactCurrentDispatcher,Ec=Ur.ReactCurrentBatchConfig,zs=0,Pe=null,qe=null,Ge=null,Gl=!1,Xo=!1,ma=0,xk=0;function rt(){throw Error(M(321))}function nd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!En(t[o],r[o]))return!1;return!0}function rd(t,r,o,l,f,c){if(zs=c,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_l.current=t===null||t.memoizedState===null?Rk:bk,t=o(l,f),Xo){c=0;do{if(Xo=!1,ma=0,25<=c)throw Error(M(301));c+=1,Ge=qe=null,r.updateQueue=null,_l.current=Lk,t=o(l,f)}while(Xo)}if(_l.current=Hl,r=qe!==null&&qe.next!==null,zs=0,Ge=qe=Pe=null,Gl=!1,r)throw Error(M(300));return t}function sd(){var t=ma!==0;return ma=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Pe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function sn(){if(qe===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var r=Ge===null?Pe.memoizedState:Ge.next;if(r!==null)Ge=r,qe=t;else{if(t===null)throw Error(M(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ge===null?Pe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function pa(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=sn(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=qe,f=l.baseQueue,c=o.pending;if(c!==null){if(f!==null){var m=f.next;f.next=c.next,c.next=m}l.baseQueue=f=c,o.pending=null}if(f!==null){c=f.next,l=l.baseState;var y=m=null,v=null,N=c;do{var R=N.lane;if((zs&R)===R)v!==null&&(v=v.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:t(l,N.action);else{var D={lane:R,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};v===null?(y=v=D,m=l):v=v.next=D,Pe.lanes|=R,Vs|=R}N=N.next}while(N!==null&&N!==c);v===null?m=l:v.next=y,En(l,r.memoizedState)||(Tt=!0),r.memoizedState=l,r.baseState=m,r.baseQueue=v,o.lastRenderedState=l}if(t=o.interleaved,t!==null){f=t;do c=f.lane,Pe.lanes|=c,Vs|=c,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ic(t){var r=sn(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=o.dispatch,f=o.pending,c=r.memoizedState;if(f!==null){o.pending=null;var m=f=f.next;do c=t(c,m.action),m=m.next;while(m!==f);En(c,r.memoizedState)||(Tt=!0),r.memoizedState=c,r.baseQueue===null&&(r.baseState=c),o.lastRenderedState=c}return[c,l]}function jy(){}function zy(t,r){var o=Pe,l=sn(),f=r(),c=!En(l.memoizedState,f);if(c&&(l.memoizedState=f,Tt=!0),l=l.queue,id(Yy.bind(null,o,l,t),[t]),l.getSnapshot!==r||c||Ge!==null&&Ge.memoizedState.tag&1){if(o.flags|=2048,ga(9,qy.bind(null,o,l,f,r),void 0,null),He===null)throw Error(M(349));(zs&30)!==0||Vy(o,r,f)}return f}function Vy(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r={lastEffect:null,stores:null},Pe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function qy(t,r,o,l){r.value=o,r.getSnapshot=l,Wy(r)&&Ky(t)}function Yy(t,r,o){return o(function(){Wy(r)&&Ky(t)})}function Wy(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!En(t,o)}catch{return!0}}function Ky(t){var r=Mr(t,1);r!==null&&kn(r,t,1,-1)}function rg(t){var r=fr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},r.queue=t,t=t.dispatch=Dk.bind(null,Pe,t),[r.memoizedState,t]}function ga(t,r,o,l){return t={tag:t,create:r,destroy:o,deps:l,next:null},r=Pe.updateQueue,r===null?(r={lastEffect:null,stores:null},Pe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,r.lastEffect=t)),t}function Gy(){return sn().memoizedState}function Al(t,r,o,l){var f=fr();Pe.flags|=t,f.memoizedState=ga(1|r,o,void 0,l===void 0?null:l)}function uu(t,r,o,l){var f=sn();l=l===void 0?null:l;var c=void 0;if(qe!==null){var m=qe.memoizedState;if(c=m.destroy,l!==null&&nd(l,m.deps)){f.memoizedState=ga(r,o,c,l);return}}Pe.flags|=t,f.memoizedState=ga(1|r,o,c,l)}function sg(t,r){return Al(8390656,8,t,r)}function id(t,r){return uu(2048,8,t,r)}function Hy(t,r){return uu(4,2,t,r)}function Xy(t,r){return uu(4,4,t,r)}function Qy(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Zy(t,r,o){return o=o!=null?o.concat([t]):null,uu(4,4,Qy.bind(null,r,t),o)}function od(){}function ev(t,r){var o=sn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&nd(r,l[1])?l[0]:(o.memoizedState=[t,r],t)}function tv(t,r){var o=sn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&nd(r,l[1])?l[0]:(t=t(),o.memoizedState=[t,r],t)}function nv(t,r,o){return(zs&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=o):(En(o,r)||(o=iy(),Pe.lanes|=o,Vs|=o,t.baseState=!0),r)}function Pk(t,r){var o=ye;ye=o!==0&&4>o?o:4,t(!0);var l=Ec.transition;Ec.transition={};try{t(!1),r()}finally{ye=o,Ec.transition=l}}function rv(){return sn().memoizedState}function Ck(t,r,o){var l=hs(t);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},sv(t))iv(r,o);else if(o=Ly(t,r,o,l),o!==null){var f=dt();kn(o,t,l,f),ov(o,r,l)}}function Dk(t,r,o){var l=hs(t),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(sv(t))iv(r,f);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=r.lastRenderedReducer,c!==null))try{var m=r.lastRenderedState,y=c(m,o);if(f.hasEagerState=!0,f.eagerState=y,En(y,m)){var v=r.interleaved;v===null?(f.next=f,Xf(r)):(f.next=v.next,v.next=f),r.interleaved=f;return}}catch{}finally{}o=Ly(t,r,f,l),o!==null&&(f=dt(),kn(o,t,l,f),ov(o,r,l))}}function sv(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function iv(t,r){Xo=Gl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ov(t,r,o){if((o&4194240)!==0){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Mf(t,o)}}var Hl={readContext:rn,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Rk={readContext:rn,useCallback:function(t,r){return fr().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:sg,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Al(4194308,4,Qy.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Al(4194308,4,t,r)},useInsertionEffect:function(t,r){return Al(4,2,t,r)},useMemo:function(t,r){var o=fr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var l=fr();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=Ck.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var r=fr();return t={current:t},r.memoizedState=t},useState:rg,useDebugValue:od,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=rg(!1),r=t[0];return t=Pk.bind(null,t[1]),fr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var l=Pe,f=fr();if(Ae){if(o===void 0)throw Error(M(407));o=o()}else{if(o=r(),He===null)throw Error(M(349));(zs&30)!==0||Vy(l,r,o)}f.memoizedState=o;var c={value:o,getSnapshot:r};return f.queue=c,sg(Yy.bind(null,l,c,t),[t]),l.flags|=2048,ga(9,qy.bind(null,l,c,o,r),void 0,null),o},useId:function(){var t=fr(),r=He.identifierPrefix;if(Ae){var o=Dr,l=Cr;o=(l&~(1<<32-wn(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=ma++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=xk++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},bk={readContext:rn,useCallback:ev,useContext:rn,useEffect:id,useImperativeHandle:Zy,useInsertionEffect:Hy,useLayoutEffect:Xy,useMemo:tv,useReducer:Nc,useRef:Gy,useState:function(){return Nc(pa)},useDebugValue:od,useDeferredValue:function(t){var r=sn();return nv(r,qe.memoizedState,t)},useTransition:function(){var t=Nc(pa)[0],r=sn().memoizedState;return[t,r]},useMutableSource:jy,useSyncExternalStore:zy,useId:rv,unstable_isNewReconciler:!1},Lk={readContext:rn,useCallback:ev,useContext:rn,useEffect:id,useImperativeHandle:Zy,useInsertionEffect:Hy,useLayoutEffect:Xy,useMemo:tv,useReducer:Ic,useRef:Gy,useState:function(){return Ic(pa)},useDebugValue:od,useDeferredValue:function(t){var r=sn();return qe===null?r.memoizedState=t:nv(r,qe.memoizedState,t)},useTransition:function(){var t=Ic(pa)[0],r=sn().memoizedState;return[t,r]},useMutableSource:jy,useSyncExternalStore:zy,useId:rv,unstable_isNewReconciler:!1};function Vi(t,r){try{var o="",l=r;do o+=u1(l),l=l.return;while(l);var f=o}catch(c){f=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:r,stack:f,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o!=null?o:null,digest:r!=null?r:null}}function cf(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Bk=typeof WeakMap=="function"?WeakMap:Map;function av(t,r,o){o=br(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Ql||(Ql=!0,Sf=l),cf(t,r)},o}function lv(t,r,o){o=br(-1,o),o.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=r.value;o.payload=function(){return l(f)},o.callback=function(){cf(t,r)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){cf(t,r),typeof l!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),o}function ig(t,r,o){var l=t.pingCache;if(l===null){l=t.pingCache=new Bk;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(f.add(o),t=Hk.bind(null,t,r,o),r.then(t,t))}function og(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function ag(t,r,o,l,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=br(-1,1),r.tag=2,fs(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Mk=Ur.ReactCurrentOwner,Tt=!1;function ft(t,r,o,l){r.child=t===null?$y(r,null,o,l):ji(r,t.child,o,l)}function lg(t,r,o,l,f){o=o.render;var c=r.ref;return Mi(r,f),l=rd(t,r,o,l,c,f),o=sd(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(Ae&&o&&qf(r),r.flags|=1,ft(t,r,l,f),r.child)}function ug(t,r,o,l,f){if(t===null){var c=o.type;return typeof c=="function"&&!md(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,uv(t,r,c,l,f)):(t=Cl(o.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(c=t.child,(t.lanes&f)===0){var m=c.memoizedProps;if(o=o.compare,o=o!==null?o:la,o(m,l)&&t.ref===r.ref)return Jr(t,r,f)}return r.flags|=1,t=ms(c,l),t.ref=r.ref,t.return=r,r.child=t}function uv(t,r,o,l,f){if(t!==null){var c=t.memoizedProps;if(la(c,l)&&t.ref===r.ref)if(Tt=!1,r.pendingProps=l=c,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Tt=!0);else return r.lanes=t.lanes,Jr(t,r,f)}return ff(t,r,o,l,f)}function cv(t,r,o){var l=r.pendingProps,f=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Di,xt),xt|=o;else{if((o&1073741824)===0)return t=c!==null?c.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ke(Di,xt),xt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:o,ke(Di,xt),xt|=l}else c!==null?(l=c.baseLanes|o,r.memoizedState=null):l=o,ke(Di,xt),xt|=l;return ft(t,r,f,o),r.child}function fv(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ff(t,r,o,l,f){var c=wt(o)?Fs:ot.current;return c=$i(r,c),Mi(r,f),o=rd(t,r,o,l,c,f),l=sd(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(Ae&&l&&qf(r),r.flags|=1,ft(t,r,o,f),r.child)}function cg(t,r,o,l,f){if(wt(o)){var c=!0;jl(r)}else c=!1;if(Mi(r,f),r.stateNode===null)Ol(t,r),Jy(r,o,l),uf(r,o,l,f),l=!0;else if(t===null){var m=r.stateNode,y=r.memoizedProps;m.props=y;var v=m.context,N=o.contextType;typeof N=="object"&&N!==null?N=rn(N):(N=wt(o)?Fs:ot.current,N=$i(r,N));var R=o.getDerivedStateFromProps,D=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function";D||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==l||v!==N)&&tg(r,m,l,N),ns=!1;var C=r.memoizedState;m.state=C,Wl(r,l,m,f),v=r.memoizedState,y!==l||C!==v||St.current||ns?(typeof R=="function"&&(lf(r,o,R,l),v=r.memoizedState),(y=ns||eg(r,o,y,l,C,v,N))?(D||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=v),m.props=l,m.state=v,m.context=N,l=y):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,By(t,r),y=r.memoizedProps,N=r.type===r.elementType?y:vn(r.type,y),m.props=N,D=r.pendingProps,C=m.context,v=o.contextType,typeof v=="object"&&v!==null?v=rn(v):(v=wt(o)?Fs:ot.current,v=$i(r,v));var $=o.getDerivedStateFromProps;(R=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==D||C!==v)&&tg(r,m,l,v),ns=!1,C=r.memoizedState,m.state=C,Wl(r,l,m,f);var F=r.memoizedState;y!==D||C!==F||St.current||ns?(typeof $=="function"&&(lf(r,o,$,l),F=r.memoizedState),(N=ns||eg(r,o,N,l,C,F,v)||!1)?(R||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,v),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,v)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=v,l=N):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),l=!1)}return df(t,r,o,l,c,f)}function df(t,r,o,l,f,c){fv(t,r);var m=(r.flags&128)!==0;if(!l&&!m)return f&&Gp(r,o,!1),Jr(t,r,c);l=r.stateNode,Mk.current=r;var y=m&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&m?(r.child=ji(r,t.child,null,c),r.child=ji(r,null,y,c)):ft(t,r,y,c),r.memoizedState=l.state,f&&Gp(r,o,!0),r.child}function dv(t){var r=t.stateNode;r.pendingContext?Kp(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Kp(t,r.context,!1),Zf(t,r.containerInfo)}function fg(t,r,o,l,f){return Fi(),Wf(f),r.flags|=256,ft(t,r,o,l),r.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function hv(t,r,o){var l=r.pendingProps,f=xe.current,c=!1,m=(r.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(f&2)!==0),y?(c=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ke(xe,f&1),t===null)return of(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(m=l.children,t=l.fallback,c?(l=r.mode,c=r.child,m={mode:"hidden",children:m},(l&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=m):c=du(m,l,0,null),t=$s(t,l,o,null),c.return=r,t.return=r,c.sibling=t,r.child=c,r.child.memoizedState=mf(o),r.memoizedState=hf,t):ad(r,m));if(f=t.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return Jk(t,r,m,l,y,f,o);if(c){c=l.fallback,m=r.mode,f=t.child,y=f.sibling;var v={mode:"hidden",children:l.children};return(m&1)===0&&r.child!==f?(l=r.child,l.childLanes=0,l.pendingProps=v,r.deletions=null):(l=ms(f,v),l.subtreeFlags=f.subtreeFlags&14680064),y!==null?c=ms(y,c):(c=$s(c,m,o,null),c.flags|=2),c.return=r,l.return=r,l.sibling=c,r.child=l,l=c,c=r.child,m=t.child.memoizedState,m=m===null?mf(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=t.childLanes&~o,r.memoizedState=hf,l}return c=t.child,t=c.sibling,l=ms(c,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=o),l.return=r,l.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=l,r.memoizedState=null,l}function ad(t,r){return r=du({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function gl(t,r,o,l){return l!==null&&Wf(l),ji(r,t.child,null,o),t=ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Jk(t,r,o,l,f,c,m){if(o)return r.flags&256?(r.flags&=-257,l=_c(Error(M(422))),gl(t,r,m,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(c=l.fallback,f=r.mode,l=du({mode:"visible",children:l.children},f,0,null),c=$s(c,f,m,null),c.flags|=2,l.return=r,c.return=r,l.sibling=c,r.child=l,(r.mode&1)!==0&&ji(r,t.child,null,m),r.child.memoizedState=mf(m),r.memoizedState=hf,c);if((r.mode&1)===0)return gl(t,r,m,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var y=l.dgst;return l=y,c=Error(M(419)),l=_c(c,l,void 0),gl(t,r,m,l)}if(y=(m&t.childLanes)!==0,Tt||y){if(l=He,l!==null){switch(m&-m){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(l.suspendedLanes|m))!==0?0:f,f!==0&&f!==c.retryLane&&(c.retryLane=f,Mr(t,f),kn(l,t,f,-1))}return hd(),l=_c(Error(M(421))),gl(t,r,m,l)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Xk.bind(null,t),f._reactRetry=r,null):(t=c.treeContext,Pt=cs(f.nextSibling),Ct=r,Ae=!0,Sn=null,t!==null&&(Zt[en++]=Cr,Zt[en++]=Dr,Zt[en++]=js,Cr=t.id,Dr=t.overflow,js=r),r=ad(r,l.children),r.flags|=4096,r)}function dg(t,r,o){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),af(t.return,r,o)}function Ac(t,r,o,l,f){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=o,c.tailMode=f)}function mv(t,r,o){var l=r.pendingProps,f=l.revealOrder,c=l.tail;if(ft(t,r,l.children,o),l=xe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,o,r);else if(t.tag===19)dg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(ke(xe,l),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&Kl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Ac(r,!1,f,o,c);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Kl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Ac(r,!0,o,null,c);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ol(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Jr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Vs|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(M(153));if(r.child!==null){for(t=r.child,o=ms(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ms(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Uk(t,r,o){switch(r.tag){case 3:dv(r),Fi();break;case 5:Fy(r);break;case 1:wt(r.type)&&jl(r);break;case 4:Zf(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,f=r.memoizedProps.value;ke(ql,l._currentValue),l._currentValue=f;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(ke(xe,xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?hv(t,r,o):(ke(xe,xe.current&1),t=Jr(t,r,o),t!==null?t.sibling:null);ke(xe,xe.current&1);break;case 19:if(l=(o&r.childLanes)!==0,(t.flags&128)!==0){if(l)return mv(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ke(xe,xe.current),l)break;return null;case 22:case 23:return r.lanes=0,cv(t,r,o)}return Jr(t,r,o)}var pv,pf,gv,yv;pv=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};pf=function(){};gv=function(t,r,o,l){var f=t.memoizedProps;if(f!==l){t=r.stateNode,Js(mr.current);var c=null;switch(o){case"input":f=Bc(t,f),l=Bc(t,l),c=[];break;case"select":f=Ce({},f,{value:void 0}),l=Ce({},l,{value:void 0}),c=[];break;case"textarea":f=Uc(t,f),l=Uc(t,l),c=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=$l)}Fc(o,l);var m;o=null;for(N in f)if(!l.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var y=f[N];for(m in y)y.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(ta.hasOwnProperty(N)?c||(c=[]):(c=c||[]).push(N,null));for(N in l){var v=l[N];if(y=f!=null?f[N]:void 0,l.hasOwnProperty(N)&&v!==y&&(v!=null||y!=null))if(N==="style")if(y){for(m in y)!y.hasOwnProperty(m)||v&&v.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in v)v.hasOwnProperty(m)&&y[m]!==v[m]&&(o||(o={}),o[m]=v[m])}else o||(c||(c=[]),c.push(N,o)),o=v;else N==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(c=c||[]).push(N,v)):N==="children"?typeof v!="string"&&typeof v!="number"||(c=c||[]).push(N,""+v):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(ta.hasOwnProperty(N)?(v!=null&&N==="onScroll"&&Ee("scroll",t),c||y===v||(c=[])):(c=c||[]).push(N,v))}o&&(c=c||[]).push("style",o);var N=c;(r.updateQueue=N)&&(r.flags|=4)}};yv=function(t,r,o,l){o!==l&&(r.flags|=4)};function Uo(t,r){if(!Ae)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=o,r}function $k(t,r,o){var l=r.pendingProps;switch(Yf(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return wt(r.type)&&Fl(),st(r),null;case 3:return l=r.stateNode,zi(),Ne(St),Ne(ot),td(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ml(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sn!==null&&(Ef(Sn),Sn=null))),pf(t,r),st(r),null;case 5:ed(r);var f=Js(ha.current);if(o=r.type,t!==null&&r.stateNode!=null)gv(t,r,o,l,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(M(166));return st(r),null}if(t=Js(mr.current),ml(r)){l=r.stateNode,o=r.type;var c=r.memoizedProps;switch(l[dr]=r,l[fa]=c,t=(r.mode&1)!==0,o){case"dialog":Ee("cancel",l),Ee("close",l);break;case"iframe":case"object":case"embed":Ee("load",l);break;case"video":case"audio":for(f=0;f<Vo.length;f++)Ee(Vo[f],l);break;case"source":Ee("error",l);break;case"img":case"image":case"link":Ee("error",l),Ee("load",l);break;case"details":Ee("toggle",l);break;case"input":wp(l,c),Ee("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},Ee("invalid",l);break;case"textarea":Ep(l,c),Ee("invalid",l)}Fc(o,c),f=null;for(var m in c)if(c.hasOwnProperty(m)){var y=c[m];m==="children"?typeof y=="string"?l.textContent!==y&&(c.suppressHydrationWarning!==!0&&hl(l.textContent,y,t),f=["children",y]):typeof y=="number"&&l.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&hl(l.textContent,y,t),f=["children",""+y]):ta.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&Ee("scroll",l)}switch(o){case"input":il(l),kp(l,c,!0);break;case"textarea":il(l),Np(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=$l)}l=f,r.updateQueue=l,l!==null&&(r.flags|=4)}else{m=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vg(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=m.createElement(o,{is:l.is}):(t=m.createElement(o),o==="select"&&(m=t,l.multiple?m.multiple=!0:l.size&&(m.size=l.size))):t=m.createElementNS(t,o),t[dr]=r,t[fa]=l,pv(t,r,!1,!1),r.stateNode=t;e:{switch(m=jc(o,l),o){case"dialog":Ee("cancel",t),Ee("close",t),f=l;break;case"iframe":case"object":case"embed":Ee("load",t),f=l;break;case"video":case"audio":for(f=0;f<Vo.length;f++)Ee(Vo[f],t);f=l;break;case"source":Ee("error",t),f=l;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),f=l;break;case"details":Ee("toggle",t),f=l;break;case"input":wp(t,l),f=Bc(t,l),Ee("invalid",t);break;case"option":f=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=Ce({},l,{value:void 0}),Ee("invalid",t);break;case"textarea":Ep(t,l),f=Uc(t,l),Ee("invalid",t);break;default:f=l}Fc(o,f),y=f;for(c in y)if(y.hasOwnProperty(c)){var v=y[c];c==="style"?Wg(t,v):c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&qg(t,v)):c==="children"?typeof v=="string"?(o!=="textarea"||v!=="")&&na(t,v):typeof v=="number"&&na(t,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ta.hasOwnProperty(c)?v!=null&&c==="onScroll"&&Ee("scroll",t):v!=null&&Cf(t,c,v,m))}switch(o){case"input":il(t),kp(t,l,!1);break;case"textarea":il(t),Np(t);break;case"option":l.value!=null&&t.setAttribute("value",""+ps(l.value));break;case"select":t.multiple=!!l.multiple,c=l.value,c!=null?Ri(t,!!l.multiple,c,!1):l.defaultValue!=null&&Ri(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=$l)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(t&&r.stateNode!=null)yv(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(M(166));if(o=Js(ha.current),Js(mr.current),ml(r)){if(l=r.stateNode,o=r.memoizedProps,l[dr]=r,(c=l.nodeValue!==o)&&(t=Ct,t!==null))switch(t.tag){case 3:hl(l.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(l.nodeValue,o,(t.mode&1)!==0)}c&&(r.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[dr]=r,r.stateNode=l}return st(r),null;case 13:if(Ne(xe),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Pt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)by(),Fi(),r.flags|=98560,c=!1;else if(c=ml(r),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(M(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(M(317));c[dr]=r}else Fi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),c=!1}else Sn!==null&&(Ef(Sn),Sn=null),c=!0;if(!c)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(xe.current&1)!==0?Ye===0&&(Ye=3):hd())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return zi(),pf(t,r),t===null&&ua(r.stateNode.containerInfo),st(r),null;case 10:return Hf(r.type._context),st(r),null;case 17:return wt(r.type)&&Fl(),st(r),null;case 19:if(Ne(xe),c=r.memoizedState,c===null)return st(r),null;if(l=(r.flags&128)!==0,m=c.rendering,m===null)if(l)Uo(c,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Kl(t),m!==null){for(r.flags|=128,Uo(c,!1),l=m.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=o,o=r.child;o!==null;)c=o,t=l,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,t=m.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ke(xe,xe.current&1|2),r.child}t=t.sibling}c.tail!==null&&Le()>qi&&(r.flags|=128,l=!0,Uo(c,!1),r.lanes=4194304)}else{if(!l)if(t=Kl(m),t!==null){if(r.flags|=128,l=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Uo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ae)return st(r),null}else 2*Le()-c.renderingStartTime>qi&&o!==1073741824&&(r.flags|=128,l=!0,Uo(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(o=c.last,o!==null?o.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Le(),r.sibling=null,o=xe.current,ke(xe,l?o&1|2:o&1),r):(st(r),null);case 22:case 23:return dd(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?(xt&1073741824)!==0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(M(156,r.tag))}function Fk(t,r){switch(Yf(r),r.tag){case 1:return wt(r.type)&&Fl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return zi(),Ne(St),Ne(ot),td(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ed(r),null;case 13:if(Ne(xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(M(340));Fi()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ne(xe),null;case 4:return zi(),null;case 10:return Hf(r.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var yl=!1,it=!1,jk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ci(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){be(t,r,l)}else o.current=null}function gf(t,r,o){try{o()}catch(l){be(t,r,l)}}var hg=!1;function zk(t,r){if(Qc=Ml,t=wy(),Vf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var m=0,y=-1,v=-1,N=0,R=0,D=t,C=null;t:for(;;){for(var $;D!==o||f!==0&&D.nodeType!==3||(y=m+f),D!==c||l!==0&&D.nodeType!==3||(v=m+l),D.nodeType===3&&(m+=D.nodeValue.length),($=D.firstChild)!==null;)C=D,D=$;for(;;){if(D===t)break t;if(C===o&&++N===f&&(y=m),C===c&&++R===l&&(v=m),($=D.nextSibling)!==null)break;D=C,C=D.parentNode}D=$}o=y===-1||v===-1?null:{start:y,end:v}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zc={focusedElem:t,selectionRange:o},Ml=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var F=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var j=F.memoizedProps,ve=F.memoizedState,I=r.stateNode,S=I.getSnapshotBeforeUpdate(r.elementType===r.type?j:vn(r.type,j),ve);I.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(L){be(r,r.return,L)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return F=hg,hg=!1,F}function Qo(t,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&t)===t){var c=f.destroy;f.destroy=void 0,c!==void 0&&gf(r,o,c)}f=f.next}while(f!==l)}}function cu(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function yf(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function vv(t){var r=t.alternate;r!==null&&(t.alternate=null,vv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[dr],delete r[fa],delete r[nf],delete r[Ik],delete r[_k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tv(t){return t.tag===5||t.tag===3||t.tag===4}function mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$l));else if(l!==4&&(t=t.child,t!==null))for(vf(t,r,o),t=t.sibling;t!==null;)vf(t,r,o),t=t.sibling}function Tf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Tf(t,r,o),t=t.sibling;t!==null;)Tf(t,r,o),t=t.sibling}var Ze=null,Tn=!1;function es(t,r,o){for(o=o.child;o!==null;)Sv(t,r,o),o=o.sibling}function Sv(t,r,o){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(nu,o)}catch{}switch(o.tag){case 5:it||Ci(o,r);case 6:var l=Ze,f=Tn;Ze=null,es(t,r,o),Ze=l,Tn=f,Ze!==null&&(Tn?(t=Ze,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ze.removeChild(o.stateNode));break;case 18:Ze!==null&&(Tn?(t=Ze,o=o.stateNode,t.nodeType===8?Sc(t.parentNode,o):t.nodeType===1&&Sc(t,o),oa(t)):Sc(Ze,o.stateNode));break;case 4:l=Ze,f=Tn,Ze=o.stateNode.containerInfo,Tn=!0,es(t,r,o),Ze=l,Tn=f;break;case 0:case 11:case 14:case 15:if(!it&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var c=f,m=c.destroy;c=c.tag,m!==void 0&&((c&2)!==0||(c&4)!==0)&&gf(o,r,m),f=f.next}while(f!==l)}es(t,r,o);break;case 1:if(!it&&(Ci(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(y){be(o,r,y)}es(t,r,o);break;case 21:es(t,r,o);break;case 22:o.mode&1?(it=(l=it)||o.memoizedState!==null,es(t,r,o),it=l):es(t,r,o);break;default:es(t,r,o)}}function pg(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new jk),r.forEach(function(l){var f=Qk.bind(null,t,l);o.has(l)||(o.add(l),l.then(f,f))})}}function yn(t,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var c=t,m=r,y=m;e:for(;y!==null;){switch(y.tag){case 5:Ze=y.stateNode,Tn=!1;break e;case 3:Ze=y.stateNode.containerInfo,Tn=!0;break e;case 4:Ze=y.stateNode.containerInfo,Tn=!0;break e}y=y.return}if(Ze===null)throw Error(M(160));Sv(c,m,f),Ze=null,Tn=!1;var v=f.alternate;v!==null&&(v.return=null),f.return=null}catch(N){be(f,r,N)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)wv(r,t),r=r.sibling}function wv(t,r){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(r,t),cr(t),l&4){try{Qo(3,t,t.return),cu(3,t)}catch(j){be(t,t.return,j)}try{Qo(5,t,t.return)}catch(j){be(t,t.return,j)}}break;case 1:yn(r,t),cr(t),l&512&&o!==null&&Ci(o,o.return);break;case 5:if(yn(r,t),cr(t),l&512&&o!==null&&Ci(o,o.return),t.flags&32){var f=t.stateNode;try{na(f,"")}catch(j){be(t,t.return,j)}}if(l&4&&(f=t.stateNode,f!=null)){var c=t.memoizedProps,m=o!==null?o.memoizedProps:c,y=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&jg(f,c),jc(y,m);var N=jc(y,c);for(m=0;m<v.length;m+=2){var R=v[m],D=v[m+1];R==="style"?Wg(f,D):R==="dangerouslySetInnerHTML"?qg(f,D):R==="children"?na(f,D):Cf(f,R,D,N)}switch(y){case"input":Mc(f,c);break;case"textarea":zg(f,c);break;case"select":var C=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!c.multiple;var $=c.value;$!=null?Ri(f,!!c.multiple,$,!1):C!==!!c.multiple&&(c.defaultValue!=null?Ri(f,!!c.multiple,c.defaultValue,!0):Ri(f,!!c.multiple,c.multiple?[]:"",!1))}f[fa]=c}catch(j){be(t,t.return,j)}}break;case 6:if(yn(r,t),cr(t),l&4){if(t.stateNode===null)throw Error(M(162));f=t.stateNode,c=t.memoizedProps;try{f.nodeValue=c}catch(j){be(t,t.return,j)}}break;case 3:if(yn(r,t),cr(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{oa(r.containerInfo)}catch(j){be(t,t.return,j)}break;case 4:yn(r,t),cr(t);break;case 13:yn(r,t),cr(t),f=t.child,f.flags&8192&&(c=f.memoizedState!==null,f.stateNode.isHidden=c,!c||f.alternate!==null&&f.alternate.memoizedState!==null||(cd=Le())),l&4&&pg(t);break;case 22:if(R=o!==null&&o.memoizedState!==null,t.mode&1?(it=(N=it)||R,yn(r,t),it=N):yn(r,t),cr(t),l&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!R&&(t.mode&1)!==0)for(Y=t,R=t.child;R!==null;){for(D=Y=R;Y!==null;){switch(C=Y,$=C.child,C.tag){case 0:case 11:case 14:case 15:Qo(4,C,C.return);break;case 1:Ci(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){l=C,o=C.return;try{r=l,F.props=r.memoizedProps,F.state=r.memoizedState,F.componentWillUnmount()}catch(j){be(l,o,j)}}break;case 5:Ci(C,C.return);break;case 22:if(C.memoizedState!==null){yg(D);continue}}$!==null?($.return=C,Y=$):yg(D)}R=R.sibling}e:for(R=null,D=t;;){if(D.tag===5){if(R===null){R=D;try{f=D.stateNode,N?(c=f.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=D.stateNode,v=D.memoizedProps.style,m=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Yg("display",m))}catch(j){be(t,t.return,j)}}}else if(D.tag===6){if(R===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(j){be(t,t.return,j)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===t)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===t)break e;for(;D.sibling===null;){if(D.return===null||D.return===t)break e;R===D&&(R=null),D=D.return}R===D&&(R=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:yn(r,t),cr(t),l&4&&pg(t);break;case 21:break;default:yn(r,t),cr(t)}}function cr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Tv(o)){var l=o;break e}o=o.return}throw Error(M(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(na(f,""),l.flags&=-33);var c=mg(t);Tf(t,c,f);break;case 3:case 4:var m=l.stateNode.containerInfo,y=mg(t);vf(t,y,m);break;default:throw Error(M(161))}}catch(v){be(t,t.return,v)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Vk(t,r,o){Y=t,kv(t)}function kv(t,r,o){for(var l=(t.mode&1)!==0;Y!==null;){var f=Y,c=f.child;if(f.tag===22&&l){var m=f.memoizedState!==null||yl;if(!m){var y=f.alternate,v=y!==null&&y.memoizedState!==null||it;y=yl;var N=it;if(yl=m,(it=v)&&!N)for(Y=f;Y!==null;)m=Y,v=m.child,m.tag===22&&m.memoizedState!==null?vg(f):v!==null?(v.return=m,Y=v):vg(f);for(;c!==null;)Y=c,kv(c),c=c.sibling;Y=f,yl=y,it=N}gg(t)}else(f.subtreeFlags&8772)!==0&&c!==null?(c.return=f,Y=c):gg(t)}}function gg(t){for(;Y!==null;){var r=Y;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:it||cu(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!it)if(o===null)l.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:vn(r.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=r.updateQueue;c!==null&&Zp(r,c,l);break;case 3:var m=r.updateQueue;if(m!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Zp(r,m,o)}break;case 5:var y=r.stateNode;if(o===null&&r.flags&4){o=y;var v=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&o.focus();break;case"img":v.src&&(o.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var N=r.alternate;if(N!==null){var R=N.memoizedState;if(R!==null){var D=R.dehydrated;D!==null&&oa(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}it||r.flags&512&&yf(r)}catch(C){be(r,r.return,C)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function yg(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function vg(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{cu(4,r)}catch(v){be(r,o,v)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var f=r.return;try{l.componentDidMount()}catch(v){be(r,f,v)}}var c=r.return;try{yf(r)}catch(v){be(r,c,v)}break;case 5:var m=r.return;try{yf(r)}catch(v){be(r,m,v)}}}catch(v){be(r,r.return,v)}if(r===t){Y=null;break}var y=r.sibling;if(y!==null){y.return=r.return,Y=y;break}Y=r.return}}var qk=Math.ceil,Xl=Ur.ReactCurrentDispatcher,ld=Ur.ReactCurrentOwner,nn=Ur.ReactCurrentBatchConfig,he=0,He=null,Fe=null,et=0,xt=0,Di=vs(0),Ye=0,ya=null,Vs=0,fu=0,ud=0,Zo=null,vt=null,cd=0,qi=1/0,xr=null,Ql=!1,Sf=null,ds=null,vl=!1,os=null,Zl=0,ea=0,wf=null,xl=-1,Pl=0;function dt(){return(he&6)!==0?Le():xl!==-1?xl:xl=Le()}function hs(t){return(t.mode&1)===0?1:(he&2)!==0&&et!==0?et&-et:Ok.transition!==null?(Pl===0&&(Pl=iy()),Pl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:dy(t.type)),t)}function kn(t,r,o,l){if(50<ea)throw ea=0,wf=null,Error(M(185));Ta(t,o,l),((he&2)===0||t!==He)&&(t===He&&((he&2)===0&&(fu|=o),Ye===4&&ss(t,et)),kt(t,l),o===1&&he===0&&(r.mode&1)===0&&(qi=Le()+500,au&&Ts()))}function kt(t,r){var o=t.callbackNode;O1(t,r);var l=Bl(t,t===He?et:0);if(l===0)o!==null&&Ap(o),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(o!=null&&Ap(o),r===1)t.tag===0?Ak(Tg.bind(null,t)):Cy(Tg.bind(null,t)),Ek(function(){(he&6)===0&&Ts()}),o=null;else{switch(oy(l)){case 1:o=Bf;break;case 4:o=ry;break;case 16:o=Ll;break;case 536870912:o=sy;break;default:o=Ll}o=Pv(o,Ev.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Ev(t,r){if(xl=-1,Pl=0,(he&6)!==0)throw Error(M(327));var o=t.callbackNode;if(Ji()&&t.callbackNode!==o)return null;var l=Bl(t,t===He?et:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||r)r=eu(t,l);else{r=l;var f=he;he|=2;var c=Iv();(He!==t||et!==r)&&(xr=null,qi=Le()+500,Us(t,r));do try{Kk();break}catch(y){Nv(t,y)}while(1);Gf(),Xl.current=c,he=f,Fe!==null?r=0:(He=null,et=0,r=Ye)}if(r!==0){if(r===2&&(f=Wc(t),f!==0&&(l=f,r=kf(t,f))),r===1)throw o=ya,Us(t,0),ss(t,l),kt(t,Le()),o;if(r===6)ss(t,l);else{if(f=t.current.alternate,(l&30)===0&&!Yk(f)&&(r=eu(t,l),r===2&&(c=Wc(t),c!==0&&(l=c,r=kf(t,c))),r===1))throw o=ya,Us(t,0),ss(t,l),kt(t,Le()),o;switch(t.finishedWork=f,t.finishedLanes=l,r){case 0:case 1:throw Error(M(345));case 2:bs(t,vt,xr);break;case 3:if(ss(t,l),(l&130023424)===l&&(r=cd+500-Le(),10<r)){if(Bl(t,0)!==0)break;if(f=t.suspendedLanes,(f&l)!==l){dt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=tf(bs.bind(null,t,vt,xr),r);break}bs(t,vt,xr);break;case 4:if(ss(t,l),(l&4194240)===l)break;for(r=t.eventTimes,f=-1;0<l;){var m=31-wn(l);c=1<<m,m=r[m],m>f&&(f=m),l&=~c}if(l=f,l=Le()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*qk(l/1960))-l,10<l){t.timeoutHandle=tf(bs.bind(null,t,vt,xr),l);break}bs(t,vt,xr);break;case 5:bs(t,vt,xr);break;default:throw Error(M(329))}}}return kt(t,Le()),t.callbackNode===o?Ev.bind(null,t):null}function kf(t,r){var o=Zo;return t.current.memoizedState.isDehydrated&&(Us(t,r).flags|=256),t=eu(t,r),t!==2&&(r=vt,vt=o,r!==null&&Ef(r)),t}function Ef(t){vt===null?vt=t:vt.push.apply(vt,t)}function Yk(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],c=f.getSnapshot;f=f.value;try{if(!En(c(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ss(t,r){for(r&=~ud,r&=~fu,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-wn(r),l=1<<o;t[o]=-1,r&=~l}}function Tg(t){if((he&6)!==0)throw Error(M(327));Ji();var r=Bl(t,0);if((r&1)===0)return kt(t,Le()),null;var o=eu(t,r);if(t.tag!==0&&o===2){var l=Wc(t);l!==0&&(r=l,o=kf(t,l))}if(o===1)throw o=ya,Us(t,0),ss(t,r),kt(t,Le()),o;if(o===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,bs(t,vt,xr),kt(t,Le()),null}function fd(t,r){var o=he;he|=1;try{return t(r)}finally{he=o,he===0&&(qi=Le()+500,au&&Ts())}}function qs(t){os!==null&&os.tag===0&&(he&6)===0&&Ji();var r=he;he|=1;var o=nn.transition,l=ye;try{if(nn.transition=null,ye=1,t)return t()}finally{ye=l,nn.transition=o,he=r,(he&6)===0&&Ts()}}function dd(){xt=Di.current,Ne(Di)}function Us(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,kk(o)),Fe!==null)for(o=Fe.return;o!==null;){var l=o;switch(Yf(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Fl();break;case 3:zi(),Ne(St),Ne(ot),td();break;case 5:ed(l);break;case 4:zi();break;case 13:Ne(xe);break;case 19:Ne(xe);break;case 10:Hf(l.type._context);break;case 22:case 23:dd()}o=o.return}if(He=t,Fe=t=ms(t.current,null),et=xt=r,Ye=0,ya=null,ud=fu=Vs=0,vt=Zo=null,Ms!==null){for(r=0;r<Ms.length;r++)if(o=Ms[r],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,c=o.pending;if(c!==null){var m=c.next;c.next=f,l.next=m}o.pending=l}Ms=null}return t}function Nv(t,r){do{var o=Fe;try{if(Gf(),_l.current=Hl,Gl){for(var l=Pe.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Gl=!1}if(zs=0,Ge=qe=Pe=null,Xo=!1,ma=0,ld.current=null,o===null||o.return===null){Ye=1,ya=r,Fe=null;break}e:{var c=t,m=o.return,y=o,v=r;if(r=et,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var N=v,R=y,D=R.tag;if((R.mode&1)===0&&(D===0||D===11||D===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=og(m);if($!==null){$.flags&=-257,ag($,m,y,c,r),$.mode&1&&ig(c,N,r),r=$,v=N;var F=r.updateQueue;if(F===null){var j=new Set;j.add(v),r.updateQueue=j}else F.add(v);break e}else{if((r&1)===0){ig(c,N,r),hd();break e}v=Error(M(426))}}else if(Ae&&y.mode&1){var ve=og(m);if(ve!==null){(ve.flags&65536)===0&&(ve.flags|=256),ag(ve,m,y,c,r),Wf(Vi(v,y));break e}}c=v=Vi(v,y),Ye!==4&&(Ye=2),Zo===null?Zo=[c]:Zo.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var I=av(c,v,r);Qp(c,I);break e;case 1:y=v;var S=c.type,_=c.stateNode;if((c.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ds===null||!ds.has(_)))){c.flags|=65536,r&=-r,c.lanes|=r;var L=lv(c,y,r);Qp(c,L);break e}}c=c.return}while(c!==null)}Av(o)}catch(q){r=q,Fe===o&&o!==null&&(Fe=o=o.return);continue}break}while(1)}function Iv(){var t=Xl.current;return Xl.current=Hl,t===null?Hl:t}function hd(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),He===null||(Vs&268435455)===0&&(fu&268435455)===0||ss(He,et)}function eu(t,r){var o=he;he|=2;var l=Iv();(He!==t||et!==r)&&(xr=null,Us(t,r));do try{Wk();break}catch(f){Nv(t,f)}while(1);if(Gf(),he=o,Xl.current=l,Fe!==null)throw Error(M(261));return He=null,et=0,Ye}function Wk(){for(;Fe!==null;)_v(Fe)}function Kk(){for(;Fe!==null&&!T1();)_v(Fe)}function _v(t){var r=xv(t.alternate,t,xt);t.memoizedProps=t.pendingProps,r===null?Av(t):Fe=r,ld.current=null}function Av(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=$k(o,r,xt),o!==null){Fe=o;return}}else{if(o=Fk(o,r),o!==null){o.flags&=32767,Fe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,Fe=null;return}}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);Ye===0&&(Ye=5)}function bs(t,r,o){var l=ye,f=nn.transition;try{nn.transition=null,ye=1,Gk(t,r,o,l)}finally{nn.transition=f,ye=l}return null}function Gk(t,r,o,l){do Ji();while(os!==null);if((he&6)!==0)throw Error(M(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var c=o.lanes|o.childLanes;if(x1(t,c),t===He&&(Fe=He=null,et=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||vl||(vl=!0,Pv(Ll,function(){return Ji(),null})),c=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||c){c=nn.transition,nn.transition=null;var m=ye;ye=1;var y=he;he|=4,ld.current=null,zk(t,o),wv(o,t),pk(Zc),Ml=!!Qc,Zc=Qc=null,t.current=o,Vk(o),S1(),he=y,ye=m,nn.transition=c}else t.current=o;if(vl&&(vl=!1,os=t,Zl=f),c=t.pendingLanes,c===0&&(ds=null),E1(o.stateNode),kt(t,Le()),r!==null)for(l=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],l(f.value,{componentStack:f.stack,digest:f.digest});if(Ql)throw Ql=!1,t=Sf,Sf=null,t;return(Zl&1)!==0&&t.tag!==0&&Ji(),c=t.pendingLanes,(c&1)!==0?t===wf?ea++:(ea=0,wf=t):ea=0,Ts(),null}function Ji(){if(os!==null){var t=oy(Zl),r=nn.transition,o=ye;try{if(nn.transition=null,ye=16>t?16:t,os===null)var l=!1;else{if(t=os,os=null,Zl=0,(he&6)!==0)throw Error(M(331));var f=he;for(he|=4,Y=t.current;Y!==null;){var c=Y,m=c.child;if((Y.flags&16)!==0){var y=c.deletions;if(y!==null){for(var v=0;v<y.length;v++){var N=y[v];for(Y=N;Y!==null;){var R=Y;switch(R.tag){case 0:case 11:case 15:Qo(8,R,c)}var D=R.child;if(D!==null)D.return=R,Y=D;else for(;Y!==null;){R=Y;var C=R.sibling,$=R.return;if(vv(R),R===N){Y=null;break}if(C!==null){C.return=$,Y=C;break}Y=$}}}var F=c.alternate;if(F!==null){var j=F.child;if(j!==null){F.child=null;do{var ve=j.sibling;j.sibling=null,j=ve}while(j!==null)}}Y=c}}if((c.subtreeFlags&2064)!==0&&m!==null)m.return=c,Y=m;else e:for(;Y!==null;){if(c=Y,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Qo(9,c,c.return)}var I=c.sibling;if(I!==null){I.return=c.return,Y=I;break e}Y=c.return}}var S=t.current;for(Y=S;Y!==null;){m=Y;var _=m.child;if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,Y=_;else e:for(m=S;Y!==null;){if(y=Y,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:cu(9,y)}}catch(q){be(y,y.return,q)}if(y===m){Y=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,Y=L;break e}Y=y.return}}if(he=f,Ts(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(nu,t)}catch{}l=!0}return l}finally{ye=o,nn.transition=r}}return!1}function Sg(t,r,o){r=Vi(o,r),r=av(t,r,1),t=fs(t,r,1),r=dt(),t!==null&&(Ta(t,1,r),kt(t,r))}function be(t,r,o){if(t.tag===3)Sg(t,t,o);else for(;r!==null;){if(r.tag===3){Sg(r,t,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){t=Vi(o,t),t=lv(r,t,1),r=fs(r,t,1),t=dt(),r!==null&&(Ta(r,1,t),kt(r,t));break}}r=r.return}}function Hk(t,r,o){var l=t.pingCache;l!==null&&l.delete(r),r=dt(),t.pingedLanes|=t.suspendedLanes&o,He===t&&(et&o)===o&&(Ye===4||Ye===3&&(et&130023424)===et&&500>Le()-cd?Us(t,0):ud|=o),kt(t,r)}function Ov(t,r){r===0&&((t.mode&1)===0?r=1:(r=ll,ll<<=1,(ll&130023424)===0&&(ll=4194304)));var o=dt();t=Mr(t,r),t!==null&&(Ta(t,r,o),kt(t,o))}function Xk(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Ov(t,o)}function Qk(t,r){var o=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(M(314))}l!==null&&l.delete(r),Ov(t,o)}var xv;xv=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Tt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Tt=!1,Uk(t,r,o);Tt=(t.flags&131072)!==0}else Tt=!1,Ae&&(r.flags&1048576)!==0&&Dy(r,Vl,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Ol(t,r),t=r.pendingProps;var f=$i(r,ot.current);Mi(r,o),f=rd(null,r,l,t,f,o);var c=sd();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wt(l)?(c=!0,jl(r)):c=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Qf(r),f.updater=lu,r.stateNode=f,f._reactInternals=r,uf(r,l,t,o),r=df(null,r,l,!0,c,o)):(r.tag=0,Ae&&c&&qf(r),ft(null,r,f,o),r=r.child),r;case 16:l=r.elementType;e:{switch(Ol(t,r),t=r.pendingProps,f=l._init,l=f(l._payload),r.type=l,f=r.tag=eE(l),t=vn(l,t),f){case 0:r=ff(null,r,l,t,o);break e;case 1:r=cg(null,r,l,t,o);break e;case 11:r=lg(null,r,l,t,o);break e;case 14:r=ug(null,r,l,vn(l.type,t),o);break e}throw Error(M(306,l,""))}return r;case 0:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:vn(l,f),ff(t,r,l,f,o);case 1:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:vn(l,f),cg(t,r,l,f,o);case 3:e:{if(dv(r),t===null)throw Error(M(387));l=r.pendingProps,c=r.memoizedState,f=c.element,By(t,r),Wl(r,l,null,o);var m=r.memoizedState;if(l=m.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){f=Vi(Error(M(423)),r),r=fg(t,r,l,o,f);break e}else if(l!==f){f=Vi(Error(M(424)),r),r=fg(t,r,l,o,f);break e}else for(Pt=cs(r.stateNode.containerInfo.firstChild),Ct=r,Ae=!0,Sn=null,o=$y(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Fi(),l===f){r=Jr(t,r,o);break e}ft(t,r,l,o)}r=r.child}return r;case 5:return Fy(r),t===null&&of(r),l=r.type,f=r.pendingProps,c=t!==null?t.memoizedProps:null,m=f.children,ef(l,f)?m=null:c!==null&&ef(l,c)&&(r.flags|=32),fv(t,r),ft(t,r,m,o),r.child;case 6:return t===null&&of(r),null;case 13:return hv(t,r,o);case 4:return Zf(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ji(r,null,l,o):ft(t,r,l,o),r.child;case 11:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:vn(l,f),lg(t,r,l,f,o);case 7:return ft(t,r,r.pendingProps,o),r.child;case 8:return ft(t,r,r.pendingProps.children,o),r.child;case 12:return ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,f=r.pendingProps,c=r.memoizedProps,m=f.value,ke(ql,l._currentValue),l._currentValue=m,c!==null)if(En(c.value,m)){if(c.children===f.children&&!St.current){r=Jr(t,r,o);break e}}else for(c=r.child,c!==null&&(c.return=r);c!==null;){var y=c.dependencies;if(y!==null){m=c.child;for(var v=y.firstContext;v!==null;){if(v.context===l){if(c.tag===1){v=br(-1,o&-o),v.tag=2;var N=c.updateQueue;if(N!==null){N=N.shared;var R=N.pending;R===null?v.next=v:(v.next=R.next,R.next=v),N.pending=v}}c.lanes|=o,v=c.alternate,v!==null&&(v.lanes|=o),af(c.return,o,r),y.lanes|=o;break}v=v.next}}else if(c.tag===10)m=c.type===r.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(M(341));m.lanes|=o,y=m.alternate,y!==null&&(y.lanes|=o),af(m,o,r),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===r){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}ft(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,l=r.pendingProps.children,Mi(r,o),f=rn(f),l=l(f),r.flags|=1,ft(t,r,l,o),r.child;case 14:return l=r.type,f=vn(l,r.pendingProps),f=vn(l.type,f),ug(t,r,l,f,o);case 15:return uv(t,r,r.type,r.pendingProps,o);case 17:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:vn(l,f),Ol(t,r),r.tag=1,wt(l)?(t=!0,jl(r)):t=!1,Mi(r,o),Jy(r,l,f),uf(r,l,f,o),df(null,r,l,!0,t,o);case 19:return mv(t,r,o);case 22:return cv(t,r,o)}throw Error(M(156,r.tag))};function Pv(t,r){return ny(t,r)}function Zk(t,r,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,r,o,l){return new Zk(t,r,o,l)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eE(t){if(typeof t=="function")return md(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rf)return 11;if(t===bf)return 14}return 2}function ms(t,r){var o=t.alternate;return o===null?(o=tn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Cl(t,r,o,l,f,c){var m=2;if(l=t,typeof t=="function")md(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case ki:return $s(o.children,f,c,r);case Df:m=8,f|=8;break;case Dc:return t=tn(12,o,r,f|2),t.elementType=Dc,t.lanes=c,t;case Rc:return t=tn(13,o,r,f),t.elementType=Rc,t.lanes=c,t;case bc:return t=tn(19,o,r,f),t.elementType=bc,t.lanes=c,t;case Ug:return du(o,f,c,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mg:m=10;break e;case Jg:m=9;break e;case Rf:m=11;break e;case bf:m=14;break e;case ts:m=16,l=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return r=tn(m,o,r,f),r.elementType=t,r.type=l,r.lanes=c,r}function $s(t,r,o,l){return t=tn(7,t,l,r),t.lanes=o,t}function du(t,r,o,l){return t=tn(22,t,l,r),t.elementType=Ug,t.lanes=o,t.stateNode={isHidden:!1},t}function Oc(t,r,o){return t=tn(6,t,null,r),t.lanes=o,t}function xc(t,r,o){return r=tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function tE(t,r,o,l,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function pd(t,r,o,l,f,c,m,y,v){return t=new tE(t,r,o,y,v),r===1?(r=1,c===!0&&(r|=8)):r=0,c=tn(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(c),t}function nE(t,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:l==null?null:""+l,children:t,containerInfo:r,implementation:o}}function Cv(t){if(!t)return gs;t=t._reactInternals;e:{if(Ws(t)!==t||t.tag!==1)throw Error(M(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(M(171))}if(t.tag===1){var o=t.type;if(wt(o))return Py(t,o,r)}return r}function Dv(t,r,o,l,f,c,m,y,v){return t=pd(o,l,!0,t,f,c,m,y,v),t.context=Cv(null),o=t.current,l=dt(),f=hs(o),c=br(l,f),c.callback=r!=null?r:null,fs(o,c,f),t.current.lanes=f,Ta(t,f,l),kt(t,l),t}function hu(t,r,o,l){var f=r.current,c=dt(),m=hs(f);return o=Cv(o),r.context===null?r.context=o:r.pendingContext=o,r=br(c,m),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=fs(f,r,m),t!==null&&(kn(t,f,m,c),Il(t,f,m)),m}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function gd(t,r){wg(t,r),(t=t.alternate)&&wg(t,r)}function rE(){return null}var Rv=typeof reportError=="function"?reportError:function(t){console.error(t)};function yd(t){this._internalRoot=t}mu.prototype.render=yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(M(409));hu(t,r,null,null)};mu.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;qs(function(){hu(null,t,null,null)}),r[Br]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var r=uy();t={blockedOn:null,target:t,priority:r};for(var o=0;o<rs.length&&r!==0&&r<rs[o].priority;o++);rs.splice(o,0,t),o===0&&fy(t)}};function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function sE(t,r,o,l,f){if(f){if(typeof l=="function"){var c=l;l=function(){var N=tu(m);c.call(N)}}var m=Dv(r,l,t,0,null,!1,!1,"",kg);return t._reactRootContainer=m,t[Br]=m.current,ua(t.nodeType===8?t.parentNode:t),qs(),m}for(;f=t.lastChild;)t.removeChild(f);if(typeof l=="function"){var y=l;l=function(){var N=tu(v);y.call(N)}}var v=pd(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=v,t[Br]=v.current,ua(t.nodeType===8?t.parentNode:t),qs(function(){hu(r,v,o,l)}),v}function gu(t,r,o,l,f){var c=o._reactRootContainer;if(c){var m=c;if(typeof f=="function"){var y=f;f=function(){var v=tu(m);y.call(v)}}hu(r,m,t,f)}else m=sE(o,r,t,f,l);return tu(m)}ay=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=zo(r.pendingLanes);o!==0&&(Mf(r,o|1),kt(r,Le()),(he&6)===0&&(qi=Le()+500,Ts()))}break;case 13:qs(function(){var l=Mr(t,1);if(l!==null){var f=dt();kn(l,t,1,f)}}),gd(t,1)}};Jf=function(t){if(t.tag===13){var r=Mr(t,134217728);if(r!==null){var o=dt();kn(r,t,134217728,o)}gd(t,134217728)}};ly=function(t){if(t.tag===13){var r=hs(t),o=Mr(t,r);if(o!==null){var l=dt();kn(o,t,r,l)}gd(t,r)}};uy=function(){return ye};cy=function(t,r){var o=ye;try{return ye=t,r()}finally{ye=o}};Vc=function(t,r,o){switch(r){case"input":if(Mc(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==t&&l.form===t.form){var f=ou(l);if(!f)throw Error(M(90));Fg(l),Mc(l,f)}}}break;case"textarea":zg(t,o);break;case"select":r=o.value,r!=null&&Ri(t,!!o.multiple,r,!1)}};Hg=fd;Xg=qs;var iE={usingClientEntryPoint:!1,Events:[wa,_i,ou,Kg,Gg,fd]},$o={findFiberByHostInstance:Bs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oE={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ey(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||rE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{nu=Tl.inject(oE),hr=Tl}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iE;Rt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(r))throw Error(M(200));return nE(t,r,null,o)};Rt.createRoot=function(t,r){if(!vd(t))throw Error(M(299));var o=!1,l="",f=Rv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=pd(t,1,!1,null,null,o,!1,l,f),t[Br]=r.current,ua(t.nodeType===8?t.parentNode:t),new yd(r)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=ey(r),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return qs(t)};Rt.hydrate=function(t,r,o){if(!pu(r))throw Error(M(200));return gu(null,t,r,!0,o)};Rt.hydrateRoot=function(t,r,o){if(!vd(t))throw Error(M(405));var l=o!=null&&o.hydratedSources||null,f=!1,c="",m=Rv;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),r=Dv(r,null,t,1,o!=null?o:null,f,!1,c,m),t[Br]=r.current,ua(t),l)for(t=0;t<l.length;t++)o=l[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new mu(r)};Rt.render=function(t,r,o){if(!pu(r))throw Error(M(200));return gu(null,t,r,!1,o)};Rt.unmountComponentAtNode=function(t){if(!pu(t))throw Error(M(40));return t._reactRootContainer?(qs(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};Rt.unstable_batchedUpdates=fd;Rt.unstable_renderSubtreeIntoContainer=function(t,r,o,l){if(!pu(o))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return gu(t,r,o,!1,l)};Rt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}r(),t.exports=Rt})(Ig);var Eg=Ig.exports;Pc.createRoot=Eg.createRoot,Pc.hydrateRoot=Eg.hydrateRoot;var Nf={exports:{}};(function(t,r){(function(o,l){l(r)})(jw,function(o){var l=Object.defineProperty,f=(s,e,n)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,c=(s,e,n)=>(f(s,typeof e!="symbol"?e+"":e,n),n),m;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(m||(m={}));function y(s,e){if(!s)throw new Error(e)}const v=34028234663852886e22,N=-34028234663852886e22,R=4294967295,D=2147483647,C=-2147483648;function $(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>D||s<C)throw new Error("invalid int 32: "+s)}function F(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>R||s<0)throw new Error("invalid uint 32: "+s)}function j(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(!!Number.isFinite(s)&&(s>v||s<N))throw new Error("invalid float 32: "+s)}const ve=Symbol("@bufbuild/protobuf/enum-type");function I(s){const e=s[ve];return y(e,"missing enum type on enum object"),e}function S(s,e,n,i){s[ve]=_(e,n.map(a=>({no:a.no,name:a.name,localName:s[a.no]})))}function _(s,e,n){const i=Object.create(null),a=Object.create(null),u=[];for(const d of e){const h=q(d);u.push(h),i[d.name]=h,a[d.no]=h}return{typeName:s,values:u,findName(d){return i[d]},findNumber(d){return a[d]}}}function L(s,e,n){const i={};for(const a of e){const u=q(a);i[u.localName]=u.no,i[u.no]=u.localName}return S(i,s,e),i}function q(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class x{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),a=i.runtime.bin,u=a.makeReadOptions(n);return a.readMessage(this,u.readerFactory(e),e.byteLength,u),this}fromJson(e,n){const i=this.getType(),a=i.runtime.json,u=a.makeReadOptions(n);return a.readMessage(i,e,u,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(a){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${a instanceof Error?a.message:String(a)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,a=i.makeWriteOptions(e),u=a.writerFactory();return i.writeMessage(this,u,a),u.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,a=i.makeWriteOptions(e);return i.writeMessage(this,a)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function W(s,e,n,i){var a;const u=(a=i==null?void 0:i.localName)!==null&&a!==void 0?a:e.substring(e.lastIndexOf(".")+1),d={[u]:function(h){s.util.initFields(this),s.util.initPartial(h,this)}}[u];return Object.setPrototypeOf(d.prototype,new x),Object.assign(d,{runtime:s,typeName:e,fields:s.util.newFieldList(n),fromBinary(h,p){return new d().fromBinary(h,p)},fromJson(h,p){return new d().fromJson(h,p)},fromJsonString(h,p){return new d().fromJsonString(h,p)},equals(h,p){return s.util.equals(d,h,p)}}),d}function X(s,e,n,i){return{syntax:s,json:e,bin:n,util:i,makeMessageType(a,u,d){return W(this,a,u,d)},makeEnum:L,makeEnumType:_,getEnumType:I}}var w;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(w||(w={}));var ee;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ee||(ee={}));function Et(){let s=0,e=0;for(let i=0;i<28;i+=7){let a=this.buf[this.pos++];if(s|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[s,e]}let n=this.buf[this.pos++];if(s|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[s,e];for(let i=3;i<=31;i+=7){let a=this.buf[this.pos++];if(e|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[s,e]}throw new Error("invalid varint")}function pr(s,e,n){for(let u=0;u<28;u=u+7){const d=s>>>u,h=!(d>>>7==0&&e==0),p=(h?d|128:d)&255;if(n.push(p),!h)return}const i=s>>>28&15|(e&7)<<4,a=e>>3!=0;if(n.push((a?i|128:i)&255),!!a){for(let u=3;u<31;u=u+7){const d=e>>>u,h=d>>>7!=0,p=(h?d|128:d)&255;if(n.push(p),!h)return}n.push(e>>>31&1)}}const Nn=4294967296;function Hi(s){const e=s[0]==="-";e&&(s=s.slice(1));const n=1e6;let i=0,a=0;function u(d,h){const p=Number(s.slice(d,h));a*=n,i=i*n+p,i>=Nn&&(a=a+(i/Nn|0),i=i%Nn)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?re(i,a):z(i,a)}function vu(s,e){let n=z(s,e);const i=n.hi&2147483648;i&&(n=re(n.lo,n.hi));const a=Ks(n.lo,n.hi);return i?"-"+a:a}function Ks(s,e){if({lo:s,hi:e}=Xi(s,e),e<=2097151)return String(Nn*e+s);const n=s&16777215,i=(s>>>24|e<<8)&16777215,a=e>>16&65535;let u=n+i*6777216+a*6710656,d=i+a*8147497,h=a*2;const p=1e7;return u>=p&&(d+=Math.floor(u/p),u%=p),d>=p&&(h+=Math.floor(d/p),d%=p),h.toString()+ie(d)+ie(u)}function Xi(s,e){return{lo:s>>>0,hi:e>>>0}}function z(s,e){return{lo:s|0,hi:e|0}}function re(s,e){return e=~e,s?s=~s+1:e+=1,z(s,e)}const ie=s=>{const e=String(s);return"0000000".slice(e.length)+e};function Ie(s,e){if(s>=0){for(;s>127;)e.push(s&127|128),s=s>>>7;e.push(s)}else{for(let n=0;n<9;n++)e.push(s&127|128),s=s>>7;e.push(1)}}function Be(){let s=this.buf[this.pos++],e=s&127;if((s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<7,(s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<14,(s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<21,(s&128)==0)return this.assertBounds(),e;s=this.buf[this.pos++],e|=(s&15)<<28;for(let n=5;(s&128)!==0&&n<10;n++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function Gs(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),d=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const g=typeof p=="bigint"?p:BigInt(p);if(g>u||g<a)throw new Error(`int64 invalid: ${p}`);return g},uParse(p){const g=typeof p=="bigint"?p:BigInt(p);if(g>h||g<d)throw new Error(`uint64 invalid: ${p}`);return g},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,g){return s.setInt32(0,p,!0),s.setInt32(4,g,!0),s.getBigInt64(0,!0)},uDec(p,g){return s.setInt32(0,p,!0),s.setInt32(4,g,!0),s.getBigUint64(0,!0)}}}const n=a=>y(/^-?[0-9]+$/.test(a),`int64 invalid: ${a}`),i=a=>y(/^[0-9]+$/.test(a),`uint64 invalid: ${a}`);return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),n(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),i(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),n(a),Hi(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),i(a),Hi(a)},dec(a,u){return vu(a,u)},uDec(a,u){return Ks(a,u)}}}const ce=Gs();var ge;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ge||(ge={}));class In{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let a=0;a<this.chunks.length;a++)e+=this.chunks[a].length;let n=new Uint8Array(e),i=0;for(let a=0;a<this.chunks.length;a++)n.set(this.chunks[a],i),i+=this.chunks[a].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(F(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return $(e),Ie(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){j(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){F(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){$(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return $(e),e=(e<<1^e>>31)>>>0,Ie(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=ce.enc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=ce.uEnc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}int64(e){let n=ce.enc(e);return pr(n.lo,n.hi,this.buf),this}sint64(e){let n=ce.enc(e),i=n.hi>>31,a=n.lo<<1^i,u=(n.hi<<1|n.lo>>>31)^i;return pr(a,u,this.buf),this}uint64(e){let n=ce.uEnc(e);return pr(n.lo,n.hi,this.buf),this}}class $r{constructor(e,n){this.varint64=Et,this.uint32=Be,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n!=null?n:new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case ge.Varint:for(;this.buf[this.pos++]&128;);break;case ge.Bit64:this.pos+=4;case ge.Bit32:this.pos+=4;break;case ge.LengthDelimited:let i=this.uint32();this.pos+=i;break;case ge.StartGroup:let a;for(;(a=this.tag()[1])!==ge.EndGroup;)this.skip(a);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ce.dec(...this.varint64())}uint64(){return ce.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,ce.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ce.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ce.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function Ea(s,e){return e instanceof x||!s.fieldWrapper?e:s.fieldWrapper.wrapField(e)}function Mv(s){if(s.fieldKind==="message"&&!s.repeated&&s.oneof==null)return Jv[s.message.typeName]}const Jv={"google.protobuf.DoubleValue":w.DOUBLE,"google.protobuf.FloatValue":w.FLOAT,"google.protobuf.Int64Value":w.INT64,"google.protobuf.UInt64Value":w.UINT64,"google.protobuf.Int32Value":w.INT32,"google.protobuf.UInt32Value":w.UINT32,"google.protobuf.BoolValue":w.BOOL,"google.protobuf.StringValue":w.STRING,"google.protobuf.BytesValue":w.BYTES};function Fr(s,e,n){if(e===n)return!0;if(s==w.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(s){case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==n}return!1}function Na(s,e){switch(s){case w.BOOL:return!1;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==0?ce.zero:"0";case w.DOUBLE:case w.FLOAT:return 0;case w.BYTES:return new Uint8Array(0);case w.STRING:return"";default:return 0}}function wd(s,e){const n=e===void 0;let i=ge.Varint,a=e===0;switch(s){case w.STRING:a=n||!e.length,i=ge.LengthDelimited;break;case w.BOOL:a=e===!1;break;case w.DOUBLE:i=ge.Bit64;break;case w.FLOAT:i=ge.Bit32;break;case w.INT64:a=n||e==0;break;case w.UINT64:a=n||e==0;break;case w.FIXED64:a=n||e==0,i=ge.Bit64;break;case w.BYTES:a=n||!e.byteLength,i=ge.LengthDelimited;break;case w.FIXED32:i=ge.Bit32;break;case w.SFIXED32:i=ge.Bit32;break;case w.SFIXED64:a=n||e==0,i=ge.Bit64;break;case w.SINT64:a=n||e==0;break}const u=w[s].toLowerCase();return[i,u,n||a]}const Hs=Symbol("@bufbuild/protobuf/unknown-fields"),kd={readUnknownFields:!0,readerFactory:s=>new $r(s)},Ed={writeUnknownFields:!0,writerFactory:()=>new In};function Uv(s){return s?Object.assign(Object.assign({},kd),s):kd}function $v(s){return s?Object.assign(Object.assign({},Ed),s):Ed}function Ia(){return{makeReadOptions:Uv,makeWriteOptions:$v,listUnknownFields(s){var e;return(e=s[Hs])!==null&&e!==void 0?e:[]},discardUnknownFields(s){delete s[Hs]},writeUnknownFields(s,e){const i=s[Hs];if(i)for(const a of i)e.tag(a.no,a.wireType).raw(a.data)},onUnknownField(s,e,n,i){const a=s;Array.isArray(a[Hs])||(a[Hs]=[]),a[Hs].push({no:e,wireType:n,data:i})},readMessage(s,e,n,i,a){const u=s.getType(),d=a?e.len:e.pos+n;let h,p;for(;e.pos<d&&([h,p]=e.tag(),p!=ge.EndGroup);){const g=u.fields.find(h);if(!g){const P=e.skip(p);i.readUnknownFields&&this.onUnknownField(s,h,p,P);continue}let T=s,O=g.repeated,E=g.localName;switch(g.oneof&&(T=T[g.oneof.localName],T.case!=E&&delete T.value,T.case=E,E="value"),g.kind){case"scalar":case"enum":const P=g.kind=="enum"?w.INT32:g.T;let U=Aa;if(g.kind=="scalar"&&g.L>0&&(U=jv),O){let ne=T[E];if(p==ge.LengthDelimited&&P!=w.STRING&&P!=w.BYTES){let we=e.uint32()+e.pos;for(;e.pos<we;)ne.push(U(e,P))}else ne.push(U(e,P))}else T[E]=U(e,P);break;case"message":const V=g.T;O?T[E].push(_a(e,new V,i,g)):T[E]instanceof x?_a(e,T[E],i,g):(T[E]=_a(e,new V,i,g),V.fieldWrapper&&!g.oneof&&!g.repeated&&(T[E]=V.fieldWrapper.unwrapField(T[E])));break;case"map":let[Q,fe]=Fv(g,e,i);T[E][Q]=fe;break}}if(a&&(p!=ge.EndGroup||h!==n))throw new Error("invalid end group tag")}}}function _a(s,e,n,i){const a=e.getType().runtime.bin,u=i==null?void 0:i.delimited;return a.readMessage(e,s,u?i==null?void 0:i.no:s.uint32(),n,u),e}function Fv(s,e,n){const i=e.uint32(),a=e.pos+i;let u,d;for(;e.pos<a;){let[h]=e.tag();switch(h){case 1:u=Aa(e,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Aa(e,s.V.T);break;case"enum":d=e.int32();break;case"message":d=_a(e,new s.V.T,n,void 0);break}break}}if(u===void 0){let h=Na(s.K,ee.BIGINT);u=s.K==w.BOOL?h.toString():h}if(typeof u!="string"&&typeof u!="number"&&(u=u.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Na(s.V.T,ee.BIGINT);break;case"enum":d=0;break;case"message":d=new s.V.T;break}return[u,d]}function jv(s,e){const n=Aa(s,e);return typeof n=="bigint"?n.toString():n}function Aa(s,e){switch(e){case w.STRING:return s.string();case w.BOOL:return s.bool();case w.DOUBLE:return s.double();case w.FLOAT:return s.float();case w.INT32:return s.int32();case w.INT64:return s.int64();case w.UINT64:return s.uint64();case w.FIXED64:return s.fixed64();case w.BYTES:return s.bytes();case w.FIXED32:return s.fixed32();case w.SFIXED32:return s.sfixed32();case w.SFIXED64:return s.sfixed64();case w.SINT64:return s.sint64();case w.UINT32:return s.uint32();case w.SINT32:return s.sint32()}}function Nd(s,e,n,i,a){s.tag(n.no,ge.LengthDelimited),s.fork();let u=i;switch(n.K){case w.INT32:case w.FIXED32:case w.UINT32:case w.SFIXED32:case w.SINT32:u=Number.parseInt(i);break;case w.BOOL:y(i=="true"||i=="false"),u=i=="true";break}switch(Ss(s,n.K,1,u,!0),n.V.kind){case"scalar":Ss(s,n.V.T,2,a,!0);break;case"enum":Ss(s,w.INT32,2,a,!0);break;case"message":s.tag(2,ge.LengthDelimited).bytes(a.toBinary(e));break}s.join()}function Oa(s,e,n,i){if(i!==void 0){const a=Ea(n.T,i);n!=null&&n.delimited?s.tag(n.no,ge.StartGroup).raw(a.toBinary(e)).tag(n.no,ge.EndGroup):s.tag(n.no,ge.LengthDelimited).bytes(a.toBinary(e))}}function Ss(s,e,n,i,a){let[u,d,h]=wd(e,i);(!h||a)&&s.tag(n,u)[d](i)}function Id(s,e,n,i){if(!i.length)return;s.tag(n,ge.LengthDelimited).fork();let[,a]=wd(e);for(let u=0;u<i.length;u++)s[a](i[u]);s.join()}function zv(){return Object.assign(Object.assign({},Ia()),{writeMessage(s,e,n){const i=s.getType();for(const a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const p=s[a.oneof.localName];if(p.case!==h)continue;u=p.value}else u=s[h];switch(a.kind){case"scalar":case"enum":let p=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,p,a.no,u);else for(const g of u)Ss(e,p,a.no,g,!0);else u!==void 0&&Ss(e,p,a.no,u,!!a.oneof||a.opt);break;case"message":if(d)for(const g of u)Oa(e,n,a,g);else Oa(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}let gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xa=[];for(let s=0;s<gr.length;s++)xa[gr[s].charCodeAt(0)]=s;xa["-".charCodeAt(0)]=gr.indexOf("+"),xa["_".charCodeAt(0)]=gr.indexOf("/");const Qi={dec(s){let e=s.length*3/4;s[s.length-2]=="="?e-=2:s[s.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,a=0,u,d=0;for(let h=0;h<s.length;h++){if(u=xa[s.charCodeAt(h)],u===void 0)switch(s[h]){case"=":a=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:d=u,a=1;break;case 1:n[i++]=d<<2|(u&48)>>4,d=u,a=2;break;case 2:n[i++]=(d&15)<<4|(u&60)>>2,d=u,a=3;break;case 3:n[i++]=(d&3)<<6|u,a=0;break}}if(a==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(s){let e="",n=0,i,a=0;for(let u=0;u<s.length;u++)switch(i=s[u],n){case 0:e+=gr[i>>2],a=(i&3)<<4,n=1;break;case 1:e+=gr[a|i>>4],a=(i&15)<<2,n=2;break;case 2:e+=gr[a|i>>6],e+=gr[i&63],n=0;break}return n&&(e+=gr[a],e+="=",n==1&&(e+="=")),e}},_d={ignoreUnknownFields:!1},Ad={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Vv(s){return s?Object.assign(Object.assign({},_d),s):_d}function qv(s){return s?Object.assign(Object.assign({},Ad),s):Ad}function Od(s){const e=s(Yv,Pd);return{makeReadOptions:Vv,makeWriteOptions:qv,readMessage(n,i,a,u){if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(i)}`);u=u!=null?u:new n;const d={};for(const[h,p]of Object.entries(i)){const g=n.fields.findJsonName(h);if(!g){if(!a.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${h}" is unknown`);continue}let T=g.localName,O=u;if(g.oneof){if(p===null&&g.kind=="scalar")continue;const E=d[g.oneof.localName];if(E)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${g.oneof.name}" present: "${E}", "${h}"`);d[g.oneof.localName]=h,O=O[g.oneof.localName]={case:T},T="value"}if(g.repeated){if(p===null)continue;if(!Array.isArray(p))throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`);const E=O[T];for(const P of p){if(P===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`);let U;switch(g.kind){case"message":U=g.T.fromJson(P,a);break;case"enum":if(U=Tu(g.T,P,a.ignoreUnknownFields),U===void 0)continue;break;case"scalar":try{U=Zi(g.T,P,g.L)}catch(V){let Q=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`;throw V instanceof Error&&V.message.length>0&&(Q+=`: ${V.message}`),new Error(Q)}break}E.push(U)}}else if(g.kind=="map"){if(p===null)continue;if(Array.isArray(p)||typeof p!="object")throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`);const E=O[T];for(const[P,U]of Object.entries(p)){if(U===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: map value null`);let V;switch(g.V.kind){case"message":V=g.V.T.fromJson(U,a);break;case"enum":if(V=Tu(g.V.T,U,a.ignoreUnknownFields),V===void 0)continue;break;case"scalar":try{V=Zi(g.V.T,U,ee.BIGINT)}catch(Q){let fe=`cannot decode map value for field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw Q instanceof Error&&Q.message.length>0&&(fe+=`: ${Q.message}`),new Error(fe)}break}try{E[Zi(g.K,g.K==w.BOOL?P=="true"?!0:P=="false"?!1:P:P,ee.BIGINT).toString()]=V}catch(Q){let fe=`cannot decode map key for field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw Q instanceof Error&&Q.message.length>0&&(fe+=`: ${Q.message}`),new Error(fe)}}}else switch(g.kind){case"message":const E=g.T;if(p===null&&E.typeName!="google.protobuf.Value"){if(g.oneof)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: null is invalid for oneof field "${h}"`);continue}O[T]instanceof x?O[T].fromJson(p,a):(O[T]=E.fromJson(p,a),E.fieldWrapper&&!g.oneof&&(O[T]=E.fieldWrapper.unwrapField(O[T])));break;case"enum":const P=Tu(g.T,p,a.ignoreUnknownFields);P!==void 0&&(O[T]=P);break;case"scalar":try{O[T]=Zi(g.T,p,g.L)}catch(U){let V=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw U instanceof Error&&U.message.length>0&&(V+=`: ${U.message}`),new Error(V)}break}}return u},writeMessage(n,i){const a=n.getType(),u={};let d;try{for(const h of a.fields.byMember()){let p;if(h.kind=="oneof"){const g=n[h.localName];if(g.value===void 0)continue;if(d=h.findField(g.case),!d)throw"oneof case not found: "+g.case;p=e(d,g.value,i)}else d=h,p=e(d,n[d.localName],i);p!==void 0&&(u[i.useProtoFieldName?d.name:d.jsonName]=p)}}catch(h){const p=d?`cannot encode field ${a.typeName}.${d.name} to JSON`:`cannot encode message ${a.typeName} to JSON`,g=h instanceof Error?h.message:String(h);throw new Error(p+(g.length>0?`: ${g}`:""))}return u},readScalar:Zi,writeScalar:Pd,debug:xd}}function xd(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Zi(s,e,n){switch(s){case w.DOUBLE:case w.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return s==w.FLOAT&&j(i),i;case w.INT32:case w.FIXED32:case w.SFIXED32:case w.SINT32:case w.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return s==w.UINT32?F(a):$(a),a;case w.INT64:case w.SFIXED64:case w.SINT64:if(e===null)return ce.zero;if(typeof e!="number"&&typeof e!="string")break;const u=ce.parse(e);return n?u.toString():u;case w.FIXED64:case w.UINT64:if(e===null)return ce.zero;if(typeof e!="number"&&typeof e!="string")break;const d=ce.uParse(e);return n?d.toString():d;case w.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case w.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case w.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return Qi.dec(e)}throw new Error}function Tu(s,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=s.findName(e);if(i||n)return i==null?void 0:i.no;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${xd(e)}`)}function Yv(s,e,n,i){var a;if(e===void 0)return e;if(e===0&&!n)return;if(i)return e;if(s.typeName=="google.protobuf.NullValue")return null;const u=s.findNumber(e);return(a=u==null?void 0:u.name)!==null&&a!==void 0?a:e}function Pd(s,e,n){if(e!==void 0)switch(s){case w.INT32:case w.SFIXED32:case w.SINT32:case w.FIXED32:case w.UINT32:return y(typeof e=="number"),e!=0||n?e:void 0;case w.FLOAT:case w.DOUBLE:return y(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case w.STRING:return y(typeof e=="string"),e.length>0||n?e:void 0;case w.BOOL:return y(typeof e=="boolean"),e||n?e:void 0;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return y(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case w.BYTES:return y(e instanceof Uint8Array),n||e.byteLength>0?Qi.enc(e):void 0}}function Wv(){return Od((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[p,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[p.toString()]=T}break;case"message":for(const[p,g]of Object.entries(a))d[p.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[p,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[p.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(Ea(i.T,a[h]).toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else switch(i.kind){case"scalar":return e(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues);case"enum":return s(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues,u.enumAsInteger);case"message":return a!==void 0?Ea(i.T,a).toJson(u):void 0}})}function Cd(){return{setEnumType:S,initPartial(s,e){if(s===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const a=i.localName,u=e,d=s;if(d[a]!==void 0)switch(i.kind){case"oneof":const h=d[a].case;if(h===void 0)continue;const p=i.findField(h);let g=d[a].value;p&&p.kind=="message"&&!(g instanceof p.T)?g=new p.T(g):p&&p.kind==="scalar"&&p.T===w.BYTES&&(g=eo(g)),u[a]={case:h,value:g};break;case"scalar":case"enum":let T=d[a];i.T===w.BYTES&&(T=i.repeated?T.map(eo):eo(T)),u[a]=T;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===w.BYTES)for(const[P,U]of Object.entries(d[a]))u[a][P]=eo(U);else Object.assign(u[a],d[a]);break;case"message":const E=i.V.T;for(const P of Object.keys(d[a])){let U=d[a][P];E.fieldWrapper||(U=new E(U)),u[a][P]=U}break}break;case"message":const O=i.T;if(i.repeated)u[a]=d[a].map(E=>E instanceof O?E:new O(E));else if(d[a]!==void 0){const E=d[a];O.fieldWrapper?O.typeName==="google.protobuf.BytesValue"?u[a]=eo(E):u[a]=E:u[a]=E instanceof O?E:new O(E)}break}}},equals(s,e,n){return e===n?!0:!e||!n?!1:s.fields.byMember().every(i=>{const a=e[i.localName],u=n[i.localName];if(i.repeated){if(a.length!==u.length)return!1;switch(i.kind){case"message":return a.every((d,h)=>i.T.equals(d,u[h]));case"scalar":return a.every((d,h)=>Fr(i.T,d,u[h]));case"enum":return a.every((d,h)=>Fr(w.INT32,d,u[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(a,u);case"enum":return Fr(w.INT32,a,u);case"scalar":return Fr(i.T,a,u);case"oneof":if(a.case!==u.case)return!1;const d=i.findField(a.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(a.value,u.value);case"enum":return Fr(w.INT32,a.value,u.value);case"scalar":return Fr(d.T,a.value,u.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const h=Object.keys(a).concat(Object.keys(u));switch(i.V.kind){case"message":const p=i.V.T;return h.every(T=>p.equals(a[T],u[T]));case"enum":return h.every(T=>Fr(w.INT32,a[T],u[T]));case"scalar":const g=i.V.T;return h.every(T=>Fr(g,a[T],u[T]))}break}})},clone(s){const e=s.getType(),n=new e,i=n;for(const a of e.fields.byMember()){const u=s[a.localName];let d;if(a.repeated)d=u.map(Pa);else if(a.kind=="map"){d=i[a.localName];for(const[h,p]of Object.entries(u))d[h]=Pa(p)}else a.kind=="oneof"?d=a.findField(u.case)?{case:u.case,value:Pa(u.value)}:{case:void 0}:d=Pa(u);i[a.localName]=d}return n}}}function Pa(s){if(s===void 0)return s;if(s instanceof x)return s.clone();if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}function eo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}class Dd{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function Ca(s){switch(s.kind){case"field":return Da(s.name,s.oneof!==void 0);case"oneof":return Rd(s.name);case"enum":case"message":case"service":{const e=s.file.proto.package,n=e===void 0?0:e.length+1,i=s.typeName.substring(n).replace(/\./g,"_");return to(Ld(i))}case"enum_value":{const e=s.parent.sharedPrefix;if(e===void 0)return s.name;const n=s.name.substring(e.length);return to(n)}case"rpc":{let e=s.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),to(e))}}}function Da(s,e){const n=bd(s);return e?n:to(Zv(n))}function Rd(s){return Da(s,!1)}const Su=bd;function Kv(s,e){const n=Gv(s)+"_";for(const i of e){if(!i.toLowerCase().startsWith(n))return;const a=i.substring(n.length);if(a.length==0||/^\d/.test(a))return}return n}function Gv(s){return(s.substring(0,1)+s.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function bd(s){let e=!1;const n=[];for(let i=0;i<s.length;i++){let a=s.charAt(i);switch(a){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(a),e=!1;break;default:e&&(e=!1,a=a.toUpperCase()),n.push(a);break}}return n.join("")}const Hv=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),Xv=new Set(["constructor","toString","toJSON","valueOf"]),Qv=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),wu=s=>`${s}$`,Zv=s=>Qv.has(s)?wu(s):s,to=s=>Xv.has(s)?wu(s):s,Ld=s=>Hv.has(s)?wu(s):s;class Bd{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Rd(e)}addField(e){y(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const A=X("proto3",Wv(),zv(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,e0)},initFields(s){for(const e of s.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Na(e.T,e.L);break}}}}));function e0(s){var e,n,i,a;const u=[];let d;for(const h of typeof s=="function"?s():s){const p=h;if(p.localName=Da(h.name,h.oneof!==void 0),p.jsonName=(e=h.jsonName)!==null&&e!==void 0?e:Su(h.name),p.repeated=(n=h.repeated)!==null&&n!==void 0?n:!1,h.kind=="scalar"&&(p.L=(i=h.L)!==null&&i!==void 0?i:ee.BIGINT),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!d||d.name!=g)&&(d=new Bd(g)),p.oneof=d,d.addField(p)}h.kind=="message"&&(p.delimited=!1),p.packed=(a=h.packed)!==null&&a!==void 0?a:h.kind=="enum"||h.kind=="scalar"&&h.T!=w.BYTES&&h.T!=w.STRING,u.push(p)}return u}function t0(){return Object.assign(Object.assign({},Ia()),{writeMessage(s,e,n){const i=s.getType();let a;try{for(a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const p=s[a.oneof.localName];if(p.case!==h)continue;u=p.value}else if(u=s[h],u===void 0&&!a.oneof&&!a.opt)throw new Error(`cannot encode field ${i.typeName}.${a.name} to binary: required field not set`);switch(a.kind){case"scalar":case"enum":let p=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,p,a.no,u);else for(const g of u)Ss(e,p,a.no,g,!0);else u!==void 0&&Ss(e,p,a.no,u,!0);break;case"message":if(d)for(const g of u)Oa(e,n,a,g);else Oa(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}}catch(u){let d=a?`cannot encode field ${i.typeName}.${a==null?void 0:a.name} to binary`:`cannot encode message ${i.typeName} to binary`,h=u instanceof Error?u.message:String(u);throw new Error(d+(h.length>0?`: ${h}`:""))}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}function n0(){return Od((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[p,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[p.toString()]=T}break;case"message":for(const[p,g]of Object.entries(a))d[p.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[p,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[p.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(a[h].toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else{if(a===void 0){if(!i.oneof&&!i.opt)throw"required field not set";return}switch(i.kind){case"scalar":return e(i.T,a,!0);case"enum":return s(i.T,a,!0,u.enumAsInteger);case"message":return Ea(i.T,a).toJson(u)}}})}const k=X("proto2",n0(),t0(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,r0)},initFields(s){for(const e of s.getType().fields.byMember()){const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"map":i[n]={};break}}}}));function r0(s){var e,n,i,a,u;const d=[];let h;for(const p of typeof s=="function"?s():s){const g=p;if(g.localName=Da(p.name,p.oneof!==void 0),g.jsonName=(e=p.jsonName)!==null&&e!==void 0?e:Su(p.name),g.repeated=(n=p.repeated)!==null&&n!==void 0?n:!1,p.kind=="scalar"&&(g.L=(i=p.L)!==null&&i!==void 0?i:ee.BIGINT),p.oneof!==void 0){const T=typeof p.oneof=="string"?p.oneof:p.oneof.name;(!h||h.name!=T)&&(h=new Bd(T)),g.oneof=h,h.addField(g)}p.kind=="message"&&(g.delimited=(a=p.delimited)!==null&&a!==void 0?a:!1),g.packed=(u=p.packed)!==null&&u!==void 0?u:!1,d.push(g)}return d}const s0={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var i0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},Xs=globalThis&&globalThis.__await||function(s){return this instanceof Xs?(this.v=s,this):new Xs(s)},o0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(P){return function(U){return Promise.resolve(U).then(P,O)}}function h(P,U){i[P]&&(a[P]=function(V){return new Promise(function(Q,fe){u.push([P,V,Q,fe])>1||p(P,V)})},U&&(a[P]=U(a[P])))}function p(P,U){try{g(i[P](U))}catch(V){E(u[0][3],V)}}function g(P){P.value instanceof Xs?Promise.resolve(P.value.v).then(T,O):E(u[0][2],P)}function T(P){p("next",P)}function O(P){p("throw",P)}function E(P,U){P(U),u.shift(),u.length&&p(u[0][0],u[0][1])}};const ku={enc(s,e){const n=Ia().makeWriteOptions(e);return n.writerFactory().bytes(s.toBinary(n)).finish()},dec(s,e,n){const i=Ia().makeReadOptions(n);return s.fromBinary(i.readerFactory(e).bytes(),i)},decStream(s,e){return o0(this,arguments,function*(){var i,a,u,d;function h(E,P){const U=new Uint8Array(E.byteLength+P.byteLength);return U.set(E),U.set(P,E.length),U}let p=new Uint8Array(0);try{for(var g=!0,T=i0(e),O;O=yield Xs(T.next()),i=O.done,!i;g=!0)for(d=O.value,g=!1,p=h(p,d);;){const P=ku.peekSize(p);if(P.eof||P.offset+P.size>p.byteLength)break;yield yield Xs(ku.dec(s,p)),p=p.subarray(P.offset+P.size)}}catch(E){a={error:E}}finally{try{!g&&!i&&(u=T.return)&&(yield Xs(u.call(T)))}finally{if(a)throw a.error}}if(p.byteLength>0)throw new Error("incomplete data")})},peekSize(s){const e={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>s.byteLength)return e;if((s[n]&128)==0){const i=new $r(s);let a;try{a=i.uint32()}catch(u){if(u instanceof RangeError)return e;throw u}return{eof:!1,size:a,offset:i.pos}}}throw new Error("invalid varint")}};function a0(s){switch(s.typeName){case"google.protobuf.Any":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.STRING),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.BYTES);if(e&&n)return{typeName:s.typeName,typeUrl:e,value:n};break}case"google.protobuf.Timestamp":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Duration":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Struct":{const e=s.fields.find(n=>n.number==1&&!n.repeated);if((e==null?void 0:e.fieldKind)!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,fields:e}}case"google.protobuf.Value":{const e=s.oneofs.find(p=>p.name==="kind"),n=s.fields.find(p=>p.number==1&&p.oneof===e);if((n==null?void 0:n.fieldKind)!=="enum"||n.enum.typeName!=="google.protobuf.NullValue")return;const i=s.fields.find(p=>p.number==2&&p.fieldKind=="scalar"&&p.scalar===w.DOUBLE&&p.oneof===e),a=s.fields.find(p=>p.number==3&&p.fieldKind=="scalar"&&p.scalar===w.STRING&&p.oneof===e),u=s.fields.find(p=>p.number==4&&p.fieldKind=="scalar"&&p.scalar===w.BOOL&&p.oneof===e),d=s.fields.find(p=>p.number==5&&p.oneof===e);if((d==null?void 0:d.fieldKind)!=="message"||d.message.typeName!=="google.protobuf.Struct")return;const h=s.fields.find(p=>p.number==6&&p.oneof===e);if((h==null?void 0:h.fieldKind)!=="message"||h.message.typeName!=="google.protobuf.ListValue")return;if(e&&i&&a&&u)return{typeName:s.typeName,kind:e,nullValue:n,numberValue:i,stringValue:a,boolValue:u,structValue:d,listValue:h};break}case"google.protobuf.ListValue":{const e=s.fields.find(n=>n.number==1&&n.repeated);if((e==null?void 0:e.fieldKind)!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,values:e}}case"google.protobuf.FieldMask":{const e=s.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===w.STRING&&n.repeated);if(e)return{typeName:s.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const e=s.fields.find(n=>n.number==1&&n.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:s.typeName,value:e}}}}const Me="@bufbuild/protobuf",l0={packageName:"@bufbuild/protobuf",localName:Ca,reifyWkt:a0,getUnwrappedFieldType:Mv,scalarDefaultValue:Na,safeIdentifier:Ld,safeObjectProperty:to,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:Me},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:Me},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:Me},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Me},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Me},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:Me},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:Me},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Me},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Me},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Me},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Me},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Me},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Me},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:Me},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:Me},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Me},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Me},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Me},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Me},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:Me}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Lt;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Lt||(Lt={}));var no;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(no||(no={}));var Te;(function(s){s[s.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",s[s.EDITION_PROTO2=998]="EDITION_PROTO2",s[s.EDITION_PROTO3=999]="EDITION_PROTO3",s[s.EDITION_2023=1e3]="EDITION_2023",s[s.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",s[s.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",s[s.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",s[s.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",s[s.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(Te||(Te={})),k.util.setEnumType(Te,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class Bt extends x{constructor(e){super(),this.file=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Bt().fromBinary(e,n)}static fromJson(e,n){return new Bt().fromJson(e,n)}static fromJsonString(e,n){return new Bt().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Bt,e,n)}}Bt.runtime=k,Bt.typeName="google.protobuf.FileDescriptorSet",Bt.fields=k.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Mt,repeated:!0}]);class Mt extends x{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Mt().fromBinary(e,n)}static fromJson(e,n){return new Mt().fromJson(e,n)}static fromJsonString(e,n){return new Mt().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Mt,e,n)}}Mt.runtime=k,Mt.typeName="google.protobuf.FileDescriptorProto",Mt.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:on,repeated:!0},{no:5,name:"enum_type",kind:"message",T:an,repeated:!0},{no:6,name:"service",kind:"message",T:Rn,repeated:!0},{no:7,name:"extension",kind:"message",T:Jt,repeated:!0},{no:8,name:"options",kind:"message",T:Ln,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Wn,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0}]);class on extends x{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new on().fromBinary(e,n)}static fromJson(e,n){return new on().fromJson(e,n)}static fromJsonString(e,n){return new on().fromJsonString(e,n)}static equals(e,n){return k.util.equals(on,e,n)}}on.runtime=k,on.typeName="google.protobuf.DescriptorProto",on.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:Jt,repeated:!0},{no:6,name:"extension",kind:"message",T:Jt,repeated:!0},{no:3,name:"nested_type",kind:"message",T:on,repeated:!0},{no:4,name:"enum_type",kind:"message",T:an,repeated:!0},{no:5,name:"extension_range",kind:"message",T:_n,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Pn,repeated:!0},{no:7,name:"options",kind:"message",T:Bn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:An,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class _n extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new _n().fromBinary(e,n)}static fromJson(e,n){return new _n().fromJson(e,n)}static fromJsonString(e,n){return new _n().fromJsonString(e,n)}static equals(e,n){return k.util.equals(_n,e,n)}}_n.runtime=k,_n.typeName="google.protobuf.DescriptorProto.ExtensionRange",_n.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:On,opt:!0}]);class An extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new An().fromBinary(e,n)}static fromJson(e,n){return new An().fromJson(e,n)}static fromJsonString(e,n){return new An().fromJsonString(e,n)}static equals(e,n){return k.util.equals(An,e,n)}}An.runtime=k,An.typeName="google.protobuf.DescriptorProto.ReservedRange",An.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class On extends x{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new On().fromBinary(e,n)}static fromJson(e,n){return new On().fromJson(e,n)}static fromJsonString(e,n){return new On().fromJsonString(e,n)}static equals(e,n){return k.util.equals(On,e,n)}}On.runtime=k,On.typeName="google.protobuf.ExtensionRangeOptions",On.fields=k.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0},{no:2,name:"declaration",kind:"message",T:xn,repeated:!0},{no:50,name:"features",kind:"message",T:De,opt:!0},{no:3,name:"verification",kind:"enum",T:k.getEnumType(Qs),opt:!0,default:Qs.UNVERIFIED}]);var Qs;(function(s){s[s.DECLARATION=0]="DECLARATION",s[s.UNVERIFIED=1]="UNVERIFIED"})(Qs||(Qs={})),k.util.setEnumType(Qs,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class xn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new xn().fromBinary(e,n)}static fromJson(e,n){return new xn().fromJson(e,n)}static fromJsonString(e,n){return new xn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(xn,e,n)}}xn.runtime=k,xn.typeName="google.protobuf.ExtensionRangeOptions.Declaration",xn.fields=k.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class Jt extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Jt().fromBinary(e,n)}static fromJson(e,n){return new Jt().fromJson(e,n)}static fromJsonString(e,n){return new Jt().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Jt,e,n)}}Jt.runtime=k,Jt.typeName="google.protobuf.FieldDescriptorProto",Jt.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:k.getEnumType(jr),opt:!0},{no:5,name:"type",kind:"enum",T:k.getEnumType(le),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:Mn,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var le;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.GROUP=10]="GROUP",s[s.MESSAGE=11]="MESSAGE",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.ENUM=14]="ENUM",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(le||(le={})),k.util.setEnumType(le,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var jr;(function(s){s[s.OPTIONAL=1]="OPTIONAL",s[s.REPEATED=3]="REPEATED",s[s.REQUIRED=2]="REQUIRED"})(jr||(jr={})),k.util.setEnumType(jr,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Pn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Pn().fromBinary(e,n)}static fromJson(e,n){return new Pn().fromJson(e,n)}static fromJsonString(e,n){return new Pn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Pn,e,n)}}Pn.runtime=k,Pn.typeName="google.protobuf.OneofDescriptorProto",Pn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:Un,opt:!0}]);class an extends x{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new an().fromBinary(e,n)}static fromJson(e,n){return new an().fromJson(e,n)}static fromJsonString(e,n){return new an().fromJsonString(e,n)}static equals(e,n){return k.util.equals(an,e,n)}}an.runtime=k,an.typeName="google.protobuf.EnumDescriptorProto",an.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Dn,repeated:!0},{no:3,name:"options",kind:"message",T:$n,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Cn,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Cn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Cn().fromBinary(e,n)}static fromJson(e,n){return new Cn().fromJson(e,n)}static fromJsonString(e,n){return new Cn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Cn,e,n)}}Cn.runtime=k,Cn.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Cn.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Dn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Dn().fromBinary(e,n)}static fromJson(e,n){return new Dn().fromJson(e,n)}static fromJsonString(e,n){return new Dn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Dn,e,n)}}Dn.runtime=k,Dn.typeName="google.protobuf.EnumValueDescriptorProto",Dn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Fn,opt:!0}]);class Rn extends x{constructor(e){super(),this.method=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Rn().fromBinary(e,n)}static fromJson(e,n){return new Rn().fromJson(e,n)}static fromJsonString(e,n){return new Rn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Rn,e,n)}}Rn.runtime=k,Rn.typeName="google.protobuf.ServiceDescriptorProto",Rn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:bn,repeated:!0},{no:3,name:"options",kind:"message",T:jn,opt:!0}]);class bn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new bn().fromBinary(e,n)}static fromJson(e,n){return new bn().fromJson(e,n)}static fromJsonString(e,n){return new bn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(bn,e,n)}}bn.runtime=k,bn.typeName="google.protobuf.MethodDescriptorProto",bn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:zn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class Ln extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Ln().fromBinary(e,n)}static fromJson(e,n){return new Ln().fromJson(e,n)}static fromJsonString(e,n){return new Ln().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Ln,e,n)}}Ln.runtime=k,Ln.typeName="google.protobuf.FileOptions",Ln.fields=k.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:k.getEnumType(Zs),opt:!0,default:Zs.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var Zs;(function(s){s[s.SPEED=1]="SPEED",s[s.CODE_SIZE=2]="CODE_SIZE",s[s.LITE_RUNTIME=3]="LITE_RUNTIME"})(Zs||(Zs={})),k.util.setEnumType(Zs,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class Bn extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Bn().fromBinary(e,n)}static fromJson(e,n){return new Bn().fromJson(e,n)}static fromJsonString(e,n){return new Bn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Bn,e,n)}}Bn.runtime=k,Bn.typeName="google.protobuf.MessageOptions",Bn.fields=k.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Mn extends x{constructor(e){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Mn().fromBinary(e,n)}static fromJson(e,n){return new Mn().fromJson(e,n)}static fromJsonString(e,n){return new Mn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Mn,e,n)}}Mn.runtime=k,Mn.typeName="google.protobuf.FieldOptions",Mn.fields=k.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:k.getEnumType(ei),opt:!0,default:ei.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:k.getEnumType(zr),opt:!0,default:zr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:k.getEnumType(ro),opt:!0},{no:19,name:"targets",kind:"enum",T:k.getEnumType(so),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:Jn,repeated:!0},{no:21,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var ei;(function(s){s[s.STRING=0]="STRING",s[s.CORD=1]="CORD",s[s.STRING_PIECE=2]="STRING_PIECE"})(ei||(ei={})),k.util.setEnumType(ei,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var zr;(function(s){s[s.JS_NORMAL=0]="JS_NORMAL",s[s.JS_STRING=1]="JS_STRING",s[s.JS_NUMBER=2]="JS_NUMBER"})(zr||(zr={})),k.util.setEnumType(zr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var ro;(function(s){s[s.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",s[s.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",s[s.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(ro||(ro={})),k.util.setEnumType(ro,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var so;(function(s){s[s.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",s[s.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",s[s.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",s[s.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",s[s.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",s[s.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",s[s.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",s[s.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",s[s.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",s[s.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(so||(so={})),k.util.setEnumType(so,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class Jn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Jn().fromBinary(e,n)}static fromJson(e,n){return new Jn().fromJson(e,n)}static fromJsonString(e,n){return new Jn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Jn,e,n)}}Jn.runtime=k,Jn.typeName="google.protobuf.FieldOptions.EditionDefault",Jn.fields=k.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class Un extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Un().fromBinary(e,n)}static fromJson(e,n){return new Un().fromJson(e,n)}static fromJsonString(e,n){return new Un().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Un,e,n)}}Un.runtime=k,Un.typeName="google.protobuf.OneofOptions",Un.fields=k.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class $n extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new $n().fromBinary(e,n)}static fromJson(e,n){return new $n().fromJson(e,n)}static fromJsonString(e,n){return new $n().fromJsonString(e,n)}static equals(e,n){return k.util.equals($n,e,n)}}$n.runtime=k,$n.typeName="google.protobuf.EnumOptions",$n.fields=k.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Fn extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Fn().fromBinary(e,n)}static fromJson(e,n){return new Fn().fromJson(e,n)}static fromJsonString(e,n){return new Fn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Fn,e,n)}}Fn.runtime=k,Fn.typeName="google.protobuf.EnumValueOptions",Fn.fields=k.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:De,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class jn extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new jn().fromBinary(e,n)}static fromJson(e,n){return new jn().fromJson(e,n)}static fromJsonString(e,n){return new jn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(jn,e,n)}}jn.runtime=k,jn.typeName="google.protobuf.ServiceOptions",jn.fields=k.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:De,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class zn extends x{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new zn().fromBinary(e,n)}static fromJson(e,n){return new zn().fromJson(e,n)}static fromJsonString(e,n){return new zn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(zn,e,n)}}zn.runtime=k,zn.typeName="google.protobuf.MethodOptions",zn.fields=k.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:k.getEnumType(yr),opt:!0,default:yr.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var yr;(function(s){s[s.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",s[s.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",s[s.IDEMPOTENT=2]="IDEMPOTENT"})(yr||(yr={})),k.util.setEnumType(yr,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class We extends x{constructor(e){super(),this.name=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new We().fromBinary(e,n)}static fromJson(e,n){return new We().fromJson(e,n)}static fromJsonString(e,n){return new We().fromJsonString(e,n)}static equals(e,n){return k.util.equals(We,e,n)}}We.runtime=k,We.typeName="google.protobuf.UninterpretedOption",We.fields=k.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Vn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class Vn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Vn().fromBinary(e,n)}static fromJson(e,n){return new Vn().fromJson(e,n)}static fromJsonString(e,n){return new Vn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Vn,e,n)}}Vn.runtime=k,Vn.typeName="google.protobuf.UninterpretedOption.NamePart",Vn.fields=k.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class De extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new De().fromBinary(e,n)}static fromJson(e,n){return new De().fromJson(e,n)}static fromJsonString(e,n){return new De().fromJsonString(e,n)}static equals(e,n){return k.util.equals(De,e,n)}}De.runtime=k,De.typeName="google.protobuf.FeatureSet",De.fields=k.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:k.getEnumType(io),opt:!0},{no:2,name:"enum_type",kind:"enum",T:k.getEnumType(oo),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:k.getEnumType(ws),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:k.getEnumType(ao),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:k.getEnumType(lo),opt:!0},{no:6,name:"json_format",kind:"enum",T:k.getEnumType(uo),opt:!0}]);var io;(function(s){s[s.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",s[s.EXPLICIT=1]="EXPLICIT",s[s.IMPLICIT=2]="IMPLICIT",s[s.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(io||(io={})),k.util.setEnumType(io,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var oo;(function(s){s[s.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",s[s.OPEN=1]="OPEN",s[s.CLOSED=2]="CLOSED"})(oo||(oo={})),k.util.setEnumType(oo,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var ws;(function(s){s[s.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",s[s.PACKED=1]="PACKED",s[s.EXPANDED=2]="EXPANDED"})(ws||(ws={})),k.util.setEnumType(ws,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var ao;(function(s){s[s.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",s[s.NONE=1]="NONE",s[s.VERIFY=2]="VERIFY"})(ao||(ao={})),k.util.setEnumType(ao,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var lo;(function(s){s[s.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",s[s.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",s[s.DELIMITED=2]="DELIMITED"})(lo||(lo={})),k.util.setEnumType(lo,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var uo;(function(s){s[s.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",s[s.ALLOW=1]="ALLOW",s[s.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(uo||(uo={})),k.util.setEnumType(uo,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class qn extends x{constructor(e){super(),this.defaults=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new qn().fromBinary(e,n)}static fromJson(e,n){return new qn().fromJson(e,n)}static fromJsonString(e,n){return new qn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(qn,e,n)}}qn.runtime=k,qn.typeName="google.protobuf.FeatureSetDefaults",qn.fields=k.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Yn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:k.getEnumType(Te),opt:!0}]);class Yn extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Yn().fromBinary(e,n)}static fromJson(e,n){return new Yn().fromJson(e,n)}static fromJsonString(e,n){return new Yn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Yn,e,n)}}Yn.runtime=k,Yn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Yn.fields=k.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:2,name:"features",kind:"message",T:De,opt:!0}]);class Wn extends x{constructor(e){super(),this.location=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Wn().fromBinary(e,n)}static fromJson(e,n){return new Wn().fromJson(e,n)}static fromJsonString(e,n){return new Wn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Wn,e,n)}}Wn.runtime=k,Wn.typeName="google.protobuf.SourceCodeInfo",Wn.fields=k.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Kn,repeated:!0}]);class Kn extends x{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Kn().fromBinary(e,n)}static fromJson(e,n){return new Kn().fromJson(e,n)}static fromJsonString(e,n){return new Kn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Kn,e,n)}}Kn.runtime=k,Kn.typeName="google.protobuf.SourceCodeInfo.Location",Kn.fields=k.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Gn extends x{constructor(e){super(),this.annotation=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Gn().fromBinary(e,n)}static fromJson(e,n){return new Gn().fromJson(e,n)}static fromJsonString(e,n){return new Gn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Gn,e,n)}}Gn.runtime=k,Gn.typeName="google.protobuf.GeneratedCodeInfo",Gn.fields=k.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Hn,repeated:!0}]);class Hn extends x{constructor(e){super(),this.path=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Hn().fromBinary(e,n)}static fromJson(e,n){return new Hn().fromJson(e,n)}static fromJsonString(e,n){return new Hn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Hn,e,n)}}Hn.runtime=k,Hn.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Hn.fields=k.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:k.getEnumType(co),opt:!0}]);var co;(function(s){s[s.NONE=0]="NONE",s[s.SET=1]="SET",s[s.ALIAS=2]="ALIAS"})(co||(co={})),k.util.setEnumType(co,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function u0(s,e){const n=s.values.find(i=>i.name===e);return y(n,`cannot parse ${s.name} default value: ${e}`),n.number}function c0(s,e){switch(s){case w.STRING:return e;case w.BYTES:{const n=f0(e);if(n===!1)throw new Error(`cannot parse ${w[s]} default value: ${e}`);return n}case w.INT64:case w.SFIXED64:case w.SINT64:return ce.parse(e);case w.UINT64:case w.FIXED64:return ce.uParse(e);case w.DOUBLE:case w.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case w.BOOL:return e==="true";case w.INT32:case w.UINT32:case w.SINT32:case w.FIXED32:case w.SFIXED32:return parseInt(e,10)}}function f0(s){const e=[],n={tail:s,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const a=this.tail.substring(0,i);return this.tail=this.tail.substring(i),a}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,8);if(isNaN(u))return!1;e.push(u);break}case"x":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;e.push(u);break}case"u":{const i=n.c,a=n.take(4);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;const d=new Uint8Array(4);new DataView(d.buffer).setInt32(0,u,!0),e.push(d[0],d[1],d[2],d[3]);break}case"U":{const i=n.c,a=n.take(8);if(a===!1)return!1;const u=ce.uEnc(i+a),d=new Uint8Array(8),h=new DataView(d.buffer);h.setInt32(0,u.lo,!0),h.setInt32(4,u.hi,!0),e.push(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}const d0=qn.fromBinary(Qi.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function h0(s){const e=s.minimumEdition,n=s.maximumEdition;if(e===void 0||n===void 0||s.defaults.some(a=>a.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const i=new Map;return(a,...u)=>{var d,h;let p=i.get(a);if(p===void 0){if(a<e)throw new Error(`Edition ${Te[a]} is earlier than the minimum supported edition ${Te[e]}`);if(n<a)throw new Error(`Edition ${Te[a]} is later than the maximum supported edition ${Te[n]}`);let T;for(const O of s.defaults){const E=(d=O.edition)!==null&&d!==void 0?d:0;E>a||T!==void 0&&T.e>E||(T={e:E,f:(h=O.features)!==null&&h!==void 0?h:new De})}if(T===void 0)throw new Error(`No valid default found for edition ${Te[a]}`);p=T.f.toBinary(),i.set(a,p)}const g=De.fromBinary(p);for(const T of u)T!==void 0&&g.fromBinary(T.toBinary());if(!m0(g))throw new Error(`Invalid FeatureSet for edition ${Te[a]}`);return g}}function m0(s){for(const e of De.fields.list()){const n=s[e.localName];if(n===void 0||e.kind=="enum"&&n===0)return!1}return!0}function Md(s,e){var n;const i={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:h0((n=e==null?void 0:e.featureSetDefaults)!==null&&n!==void 0?n:d0)},u=(s instanceof Bt?s.file:s instanceof Uint8Array?Bt.fromBinary(s).file:s).map(d=>p0(d,i));return Object.assign({files:u},i)}function p0(s,e){var n,i;y(s.name,"invalid FileDescriptorProto: missing name");const a=Object.assign(Object.assign({kind:"file",proto:s,deprecated:(i=(n=s.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1},T0(s.syntax,s.edition)),{name:s.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return Xn(this.proto.sourceCodeInfo,[at.FileDescriptorProto_Syntax])},getPackageComments(){return Xn(this.proto.sourceCodeInfo,[at.FileDescriptorProto_Package])},getFeatures(){var u;return e.resolveFeatures(this.edition,(u=this.proto.options)===null||u===void 0?void 0:u.features)}});e.mapEntries.clear();for(const u of s.enumType)Jd(u,a,void 0,e);for(const u of s.messageType)Ud(u,a,void 0,e);for(const u of s.service)g0(u,a,e);Eu(a,e);for(const u of e.mapEntries.values())Nu(u,e);for(const u of a.messages)Nu(u,e),Eu(u,e);return e.mapEntries.clear(),a}function Eu(s,e){switch(s.kind){case"file":for(const n of s.proto.extension){const i=Fd(n,s,void 0,e);s.extensions.push(i),e.extensions.set(i.typeName,i)}break;case"message":for(const n of s.proto.extension){const i=Fd(n,s.file,s,e);s.nestedExtensions.push(i),e.extensions.set(i.typeName,i)}for(const n of s.nestedMessages)Eu(n,e);break}}function Nu(s,e){const n=s.proto.oneofDecl.map(a=>v0(a,s,e)),i=new Set;for(const a of s.proto.field){const u=w0(a,n),d=$d(a,s.file,s,u,e);s.fields.push(d),u===void 0?s.members.push(d):(u.fields.push(d),i.has(u)||(i.add(u),s.members.push(u)))}for(const a of n.filter(u=>i.has(u)))s.oneofs.push(a);for(const a of s.nestedMessages)Nu(a,e)}function Jd(s,e,n,i){var a,u,d;y(s.name,"invalid EnumDescriptorProto: missing name");const h={kind:"enum",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ra(s,n,e),values:[],sharedPrefix:Kv(s.name,s.value.map(p=>{var g;return(g=p.name)!==null&&g!==void 0?g:""})),toString(){return`enum ${this.typeName}`},getComments(){const p=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[at.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return Xn(e.proto.sourceCodeInfo,p)},getFeatures(){var p,g,T;const O=(g=(p=this.parent)===null||p===void 0?void 0:p.getFeatures())!==null&&g!==void 0?g:this.file.getFeatures();return i.resolveFeatures(this.file.edition,O,(T=this.proto.options)===null||T===void 0?void 0:T.features)}};i.enums.set(h.typeName,h),s.value.forEach(p=>{var g,T;y(p.name,"invalid EnumValueDescriptorProto: missing name"),y(p.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),h.values.push({kind:"enum_value",proto:p,deprecated:(T=(g=p.options)===null||g===void 0?void 0:g.deprecated)!==null&&T!==void 0?T:!1,parent:h,name:p.name,number:p.number,toString(){return`enum value ${h.typeName}.${this.name}`},declarationString(){var O;let E=`${this.name} = ${this.number}`;return((O=this.proto.options)===null||O===void 0?void 0:O.deprecated)===!0&&(E+=" [deprecated = true]"),E},getComments(){const O=[...this.parent.getComments().sourcePath,at.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return Xn(e.proto.sourceCodeInfo,O)},getFeatures(){var O;return i.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(O=this.proto.options)===null||O===void 0?void 0:O.features)}})}),((d=n==null?void 0:n.nestedEnums)!==null&&d!==void 0?d:e.enums).push(h)}function Ud(s,e,n,i){var a,u,d,h;y(s.name,"invalid DescriptorProto: missing name");const p={kind:"message",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ra(s,n,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const g=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[at.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return Xn(e.proto.sourceCodeInfo,g)},getFeatures(){var g,T,O;const E=(T=(g=this.parent)===null||g===void 0?void 0:g.getFeatures())!==null&&T!==void 0?T:this.file.getFeatures();return i.resolveFeatures(this.file.edition,E,(O=this.proto.options)===null||O===void 0?void 0:O.features)}};((d=s.options)===null||d===void 0?void 0:d.mapEntry)===!0?i.mapEntries.set(p.typeName,p):(((h=n==null?void 0:n.nestedMessages)!==null&&h!==void 0?h:e.messages).push(p),i.messages.set(p.typeName,p));for(const g of s.enumType)Jd(g,e,p,i);for(const g of s.nestedType)Ud(g,e,p,i)}function g0(s,e,n){var i,a;y(s.name,"invalid ServiceDescriptorProto: missing name");const u={kind:"service",proto:s,deprecated:(a=(i=s.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,name:s.name,typeName:Ra(s,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){const d=[at.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return Xn(e.proto.sourceCodeInfo,d)},getFeatures(){var d;return n.resolveFeatures(this.file.edition,this.file.getFeatures(),(d=this.proto.options)===null||d===void 0?void 0:d.features)}};e.services.push(u),n.services.set(u.typeName,u);for(const d of s.method)u.methods.push(y0(d,u,n))}function y0(s,e,n){var i,a,u;y(s.name,"invalid MethodDescriptorProto: missing name"),y(s.inputType,"invalid MethodDescriptorProto: missing input_type"),y(s.outputType,"invalid MethodDescriptorProto: missing output_type");let d;s.clientStreaming===!0&&s.serverStreaming===!0?d=Lt.BiDiStreaming:s.clientStreaming===!0?d=Lt.ClientStreaming:s.serverStreaming===!0?d=Lt.ServerStreaming:d=Lt.Unary;let h;switch((i=s.options)===null||i===void 0?void 0:i.idempotencyLevel){case yr.IDEMPOTENT:h=no.Idempotent;break;case yr.NO_SIDE_EFFECTS:h=no.NoSideEffects;break;case yr.IDEMPOTENCY_UNKNOWN:case void 0:h=void 0;break}const p=n.messages.get(ti(s.inputType)),g=n.messages.get(ti(s.outputType));y(p,`invalid MethodDescriptorProto: input_type ${s.inputType} not found`),y(g,`invalid MethodDescriptorProto: output_type ${s.inputType} not found`);const T=s.name;return{kind:"rpc",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,parent:e,name:T,methodKind:d,input:p,output:g,idempotency:h,toString(){return`rpc ${e.typeName}.${T}`},getComments(){const O=[...this.parent.getComments().sourcePath,at.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return Xn(e.file.proto.sourceCodeInfo,O)},getFeatures(){var O;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(O=this.proto.options)===null||O===void 0?void 0:O.features)}}}function v0(s,e,n){return y(s.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:s,deprecated:!1,parent:e,fields:[],name:s.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){const i=[...this.parent.getComments().sourcePath,at.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return Xn(e.file.proto.sourceCodeInfo,i)},getFeatures(){var i;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(i=this.proto.options)===null||i===void 0?void 0:i.features)}}}function $d(s,e,n,i,a){var u,d,h;y(s.name,"invalid FieldDescriptorProto: missing name"),y(s.number,"invalid FieldDescriptorProto: missing number"),y(s.type,"invalid FieldDescriptorProto: missing type");const p={proto:s,deprecated:(d=(u=s.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,name:s.name,number:s.number,parent:n,oneof:i,optional:k0(s,e.syntax),packedByDefault:E0(e,s,a.resolveFeatures),packed:N0(e,n,s,a.resolveFeatures),jsonName:s.jsonName===Su(s.name)?void 0:s.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:_0,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const T=[...this.parent.getComments().sourcePath,at.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return Xn(e.proto.sourceCodeInfo,T)},getFeatures(){var T;return a.resolveFeatures(e.edition,this.parent.getFeatures(),(T=this.proto.options)===null||T===void 0?void 0:T.features)}},g=s.label===jr.REPEATED;switch(s.type){case le.MESSAGE:case le.GROUP:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.mapEntries.get(ti(s.typeName));if(T!==void 0)return y(g,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},p),{kind:"field",fieldKind:"map",repeated:!1}),S0(T));const O=a.messages.get(ti(s.typeName));return y(O!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"message",repeated:g,message:O})}case le.ENUM:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.enums.get(ti(s.typeName));return y(T!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"enum",getDefaultValue:jd,repeated:g,enum:T})}default:{const T=I0[s.type];return y(T,`invalid FieldDescriptorProto: unknown type ${s.type}`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"scalar",getDefaultValue:jd,repeated:g,scalar:T,longType:((h=s.options)===null||h===void 0?void 0:h.jstype)==zr.JS_STRING?ee.STRING:ee.BIGINT})}}}function Fd(s,e,n,i){y(s.extendee,"invalid FieldDescriptorProto: missing extendee");const a=$d(s,e,null,void 0,i),u=i.messages.get(ti(s.extendee));return y(u,`invalid FieldDescriptorProto: extendee ${s.extendee} not found`),Object.assign(Object.assign({},a),{kind:"extension",typeName:Ra(s,n,e),parent:n,file:e,extendee:u,toString(){return`extension ${this.typeName}`},getComments(){const d=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_Extension,this.parent.proto.extension.indexOf(s)]:[at.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(s)];return Xn(e.proto.sourceCodeInfo,d)},getFeatures(){var d,h;return i.resolveFeatures(this.file.edition,((d=this.parent)!==null&&d!==void 0?d:this.file).getFeatures(),(h=this.proto.options)===null||h===void 0?void 0:h.features)}})}function T0(s,e){let n,i;switch(s){case void 0:case"proto2":i="proto2",n=Te.EDITION_PROTO2;break;case"proto3":i="proto3",n=Te.EDITION_PROTO3;break;case"editions":switch(i="editions",e){case void 0:case Te.EDITION_1_TEST_ONLY:case Te.EDITION_2_TEST_ONLY:case Te.EDITION_99997_TEST_ONLY:case Te.EDITION_99998_TEST_ONLY:case Te.EDITION_99999_TEST_ONLY:case Te.EDITION_UNKNOWN:n=Te.EDITION_UNKNOWN;break;default:n=e;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${s}`)}if(s==="editions"&&e===Te.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${s} cannot have edition ${String(e)}`);return{syntax:i,edition:n}}function Ra(s,e,n){y(s.name,`invalid ${s.getType().typeName}: missing name`);let i;return e?i=`${e.typeName}.${s.name}`:n.proto.package!==void 0?i=`${n.proto.package}.${s.name}`:i=`${s.name}`,i}function ti(s){return s.startsWith(".")?s.substring(1):s}function S0(s){var e,n;y((e=s.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${s.toString()} to be a map entry`),y(s.fields.length===2,`invalid DescriptorProto: map entry ${s.toString()} has ${s.fields.length} fields`);const i=s.fields.find(d=>d.proto.number===1);y(i,`invalid DescriptorProto: map entry ${s.toString()} is missing key field`);const a=i.scalar;y(a!==void 0&&a!==w.BYTES&&a!==w.FLOAT&&a!==w.DOUBLE,`invalid DescriptorProto: map entry ${s.toString()} has unexpected key type ${(n=i.proto.type)!==null&&n!==void 0?n:-1}`);const u=s.fields.find(d=>d.proto.number===2);switch(y(u,`invalid DescriptorProto: map entry ${s.toString()} is missing value field`),u.fieldKind){case"scalar":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"scalar"})};case"message":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"message"})};case"enum":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function w0(s,e){var n;const i=s.oneofIndex;if(i===void 0)return;let a;return s.proto3Optional!==!0&&(a=e[i],y(a,`invalid FieldDescriptorProto: oneof #${i} for field #${(n=s.number)!==null&&n!==void 0?n:-1} not found`)),a}function k0(s,e){switch(e){case"proto2":return s.oneofIndex===void 0&&s.label===jr.OPTIONAL;case"proto3":return s.proto3Optional===!0;case"editions":return!1}}function E0(s,e,n){const{repeatedFieldEncoding:i}=n(s.edition);if(i!=ws.PACKED)return!1;switch(e.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:return!0}}function N0(s,e,n,i){var a,u,d,h,p,g;switch(n.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:switch(s.edition){case Te.EDITION_PROTO2:return(u=(a=n.options)===null||a===void 0?void 0:a.packed)!==null&&u!==void 0?u:!1;case Te.EDITION_PROTO3:return(h=(d=n.options)===null||d===void 0?void 0:d.packed)!==null&&h!==void 0?h:!0;default:{const{repeatedFieldEncoding:T}=i(s.edition,(p=e==null?void 0:e.getFeatures())!==null&&p!==void 0?p:s.getFeatures(),(g=n.options)===null||g===void 0?void 0:g.features);return T==ws.PACKED}}}}const I0={[le.DOUBLE]:w.DOUBLE,[le.FLOAT]:w.FLOAT,[le.INT64]:w.INT64,[le.UINT64]:w.UINT64,[le.INT32]:w.INT32,[le.FIXED64]:w.FIXED64,[le.FIXED32]:w.FIXED32,[le.BOOL]:w.BOOL,[le.STRING]:w.STRING,[le.GROUP]:void 0,[le.MESSAGE]:void 0,[le.BYTES]:w.BYTES,[le.UINT32]:w.UINT32,[le.ENUM]:void 0,[le.SFIXED32]:w.SFIXED32,[le.SFIXED64]:w.SFIXED64,[le.SINT32]:w.SINT32,[le.SINT64]:w.SINT64};function Xn(s,e){if(!s)return{leadingDetached:[],sourcePath:e};for(const n of s.location)if(n.path.length===e.length&&!n.path.some((i,a)=>e[a]!==i))return{leadingDetached:n.leadingDetachedComments,leading:n.leadingComments,trailing:n.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var at;(function(s){s[s.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",s[s.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",s[s.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",s[s.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",s[s.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",s[s.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",s[s.DescriptorProto_Field=2]="DescriptorProto_Field",s[s.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",s[s.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",s[s.DescriptorProto_Extension=6]="DescriptorProto_Extension",s[s.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",s[s.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",s[s.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(at||(at={}));function _0(){var s,e,n;const i=[];this.repeated&&i.push("repeated"),this.optional&&i.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===jr.REQUIRED&&i.push("required");let u;switch(this.fieldKind){case"scalar":u=w[this.scalar].toLowerCase();break;case"enum":u=this.enum.typeName;break;case"message":u=this.message.typeName;break;case"map":{const p=w[this.mapKey].toLowerCase();let g;switch(this.mapValue.kind){case"scalar":g=w[this.mapValue.scalar].toLowerCase();break;case"enum":g=this.mapValue.enum.typeName;break;case"message":g=this.mapValue.message.typeName;break}u=`map<${p}, ${g}>`;break}}i.push(`${u} ${this.name} = ${this.number}`);const d=[];((s=this.proto.options)===null||s===void 0?void 0:s.packed)!==void 0&&d.push(`packed = ${this.proto.options.packed.toString()}`);let h=this.proto.defaultValue;return h!==void 0&&((this.proto.type==le.BYTES||this.proto.type==le.STRING)&&(h='"'+h.replace('"','\\"')+'"'),d.push(`default = ${h}`)),this.jsonName!==void 0&&d.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.jstype)!==void 0&&d.push(`jstype = ${zr[this.proto.options.jstype]}`),((n=this.proto.options)===null||n===void 0?void 0:n.deprecated)===!0&&d.push("deprecated = true"),d.length>0&&i.push("["+d.join(", ")+"]"),i.join(" ")}function jd(){const s=this.proto.defaultValue;if(s!==void 0)switch(this.fieldKind){case"enum":return u0(this.enum,s);case"scalar":return c0(this.scalar,s);default:return}}function A0(...s){const e={},n={},i={},a={add(u){if("fields"in u){if(!this.findMessage(u.typeName)){e[u.typeName]=u;for(const d of u.fields.list())d.kind=="message"?this.add(d.T):d.kind=="map"&&d.V.kind=="message"?this.add(d.V.T):d.kind=="enum"&&this.add(d.T)}}else if("methods"in u){if(!this.findService(u.typeName)){i[u.typeName]=u;for(const d of Object.values(u.methods))this.add(d.I),this.add(d.O)}}else n[u.typeName]=u},findMessage(u){return e[u]},findEnum(u){return n[u]},findService(u){return i[u]}};for(const u of s)a.add(u);return a}let fo=class Ls extends x{constructor(e){super(),this.seconds=ce.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${A.json.debug(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ce.parse(a/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const a=(this.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Ls.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new Ls({seconds:ce.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new Ls().fromBinary(e,n)}static fromJson(e,n){return new Ls().fromJson(e,n)}static fromJsonString(e,n){return new Ls().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ls,e,n)}};fo.runtime=A,fo.typeName="google.protobuf.Timestamp",fo.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class ln extends x{constructor(e){super(),this.seconds=ce.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);if(this.seconds=ce.parse(a),typeof i[2]=="string"){const u=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(u),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new ln().fromBinary(e,n)}static fromJson(e,n){return new ln().fromJson(e,n)}static fromJsonString(e,n){return new ln().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ln,e,n)}}ln.runtime=A,ln.typeName="google.protobuf.Duration",ln.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Nt extends x{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),a=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!a)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=a.fromBinary(this.value).toJson(e);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const a=e["@type"];if(typeof a!="string"||a=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const u=this.typeUrlToName(a),d=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(u);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${a} is not in the type registry`);let h;if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))h=d.fromJson(e.value,n);else{const p=Object.assign({},e);delete p["@type"],h=d.fromJson(p,n)}return this.packFrom(h),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof e=="string"?i=e:i=e.typeName,n===i}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),i=n>=0?e.substring(n+1):e;if(!i.length)throw new Error(`invalid type url: ${e}`);return i}static pack(e){const n=new Nt;return n.packFrom(e),n}static fromBinary(e,n){return new Nt().fromBinary(e,n)}static fromJson(e,n){return new Nt().fromJson(e,n)}static fromJsonString(e,n){return new Nt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Nt,e,n)}}Nt.runtime=A,Nt.typeName="google.protobuf.Any",Nt.fields=A.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Qn extends x{constructor(e){super(),A.util.initPartial(e,this)}static fromBinary(e,n){return new Qn().fromBinary(e,n)}static fromJson(e,n){return new Qn().fromJson(e,n)}static fromJsonString(e,n){return new Qn().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Qn,e,n)}}Qn.runtime=A,Qn.typeName="google.protobuf.Empty",Qn.fields=A.util.newFieldList(()=>[]);class Zn extends x{constructor(e){super(),this.paths=[],A.util.initPartial(e,this)}toJson(e){function n(i){let a=!1;const u=[];for(let d=0;d<i.length;d++){let h=i.charAt(d);switch(h){case"_":a=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u.push(h),a=!1;break;default:a&&(a=!1,h=h.toUpperCase()),u.push(h);break}}return u.join("")}return this.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+i+'" is irreversible');return n(i)}).join(",")}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+A.json.debug(e));if(e==="")return this;function i(a){if(a.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const u=a.replace(/[A-Z]/g,d=>"_"+d.toLowerCase());return u[0]==="_"?u.substring(1):u}return this.paths=e.split(",").map(i),this}static fromBinary(e,n){return new Zn().fromBinary(e,n)}static fromJson(e,n){return new Zn().fromJson(e,n)}static fromJsonString(e,n){return new Zn().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Zn,e,n)}}Zn.runtime=A,Zn.typeName="google.protobuf.FieldMask",Zn.fields=A.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var ks;(function(s){s[s.NULL_VALUE=0]="NULL_VALUE"})(ks||(ks={})),A.util.setEnumType(ks,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class Ut extends x{constructor(e){super(),this.fields={},A.util.initPartial(e,this)}toJson(e){const n={};for(const[i,a]of Object.entries(this.fields))n[i]=a.toJson(e);return n}fromJson(e,n){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+A.json.debug(e));for(const[i,a]of Object.entries(e))this.fields[i]=pt.fromJson(a);return this}static fromBinary(e,n){return new Ut().fromBinary(e,n)}static fromJson(e,n){return new Ut().fromJson(e,n)}static fromJsonString(e,n){return new Ut().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ut,e,n)}}Ut.runtime=A,Ut.typeName="google.protobuf.Struct",Ut.fields=A.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:pt}}]);class pt extends x{constructor(e){super(),this.kind={case:void 0},A.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,n){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:ks.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:$t.fromJson(e)}:this.kind={case:"structValue",value:Ut.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+A.json.debug(e))}return this}static fromBinary(e,n){return new pt().fromBinary(e,n)}static fromJson(e,n){return new pt().fromJson(e,n)}static fromJsonString(e,n){return new pt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(pt,e,n)}}pt.runtime=A,pt.typeName="google.protobuf.Value",pt.fields=A.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:A.getEnumType(ks),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:Ut,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:$t,oneof:"kind"}]);class $t extends x{constructor(e){super(),this.values=[],A.util.initPartial(e,this)}toJson(e){return this.values.map(n=>n.toJson())}fromJson(e,n){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+A.json.debug(e));for(let i of e)this.values.push(pt.fromJson(i));return this}static fromBinary(e,n){return new $t().fromBinary(e,n)}static fromJson(e,n){return new $t().fromJson(e,n)}static fromJsonString(e,n){return new $t().fromJsonString(e,n)}static equals(e,n){return A.util.equals($t,e,n)}}$t.runtime=A,$t.typeName="google.protobuf.ListValue",$t.fields=A.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:pt,repeated:!0}]);class Ft extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.DOUBLE,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.DOUBLE,e)}catch(i){let a='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Ft().fromBinary(e,n)}static fromJson(e,n){return new Ft().fromJson(e,n)}static fromJsonString(e,n){return new Ft().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ft,e,n)}}Ft.runtime=A,Ft.typeName="google.protobuf.DoubleValue",Ft.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),Ft.fieldWrapper={wrapField(s){return new Ft({value:s})},unwrapField(s){return s.value}};class jt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.FLOAT,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.FLOAT,e)}catch(i){let a='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new jt().fromBinary(e,n)}static fromJson(e,n){return new jt().fromJson(e,n)}static fromJsonString(e,n){return new jt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(jt,e,n)}}jt.runtime=A,jt.typeName="google.protobuf.FloatValue",jt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),jt.fieldWrapper={wrapField(s){return new jt({value:s})},unwrapField(s){return s.value}};class zt extends x{constructor(e){super(),this.value=ce.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT64,e)}catch(i){let a='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new zt().fromBinary(e,n)}static fromJson(e,n){return new zt().fromJson(e,n)}static fromJsonString(e,n){return new zt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(zt,e,n)}}zt.runtime=A,zt.typeName="google.protobuf.Int64Value",zt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),zt.fieldWrapper={wrapField(s){return new zt({value:s})},unwrapField(s){return s.value}};class Vt extends x{constructor(e){super(),this.value=ce.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT64,e)}catch(i){let a='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Vt,e,n)}}Vt.runtime=A,Vt.typeName="google.protobuf.UInt64Value",Vt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),Vt.fieldWrapper={wrapField(s){return new Vt({value:s})},unwrapField(s){return s.value}};class qt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT32,e)}catch(i){let a='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qt().fromBinary(e,n)}static fromJson(e,n){return new qt().fromJson(e,n)}static fromJsonString(e,n){return new qt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qt,e,n)}}qt.runtime=A,qt.typeName="google.protobuf.Int32Value",qt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),qt.fieldWrapper={wrapField(s){return new qt({value:s})},unwrapField(s){return s.value}};class Yt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT32,e)}catch(i){let a='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Yt().fromBinary(e,n)}static fromJson(e,n){return new Yt().fromJson(e,n)}static fromJsonString(e,n){return new Yt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Yt,e,n)}}Yt.runtime=A,Yt.typeName="google.protobuf.UInt32Value",Yt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Yt.fieldWrapper={wrapField(s){return new Yt({value:s})},unwrapField(s){return s.value}};class Wt extends x{constructor(e){super(),this.value=!1,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BOOL,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BOOL,e)}catch(i){let a='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Wt().fromBinary(e,n)}static fromJson(e,n){return new Wt().fromJson(e,n)}static fromJsonString(e,n){return new Wt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Wt,e,n)}}Wt.runtime=A,Wt.typeName="google.protobuf.BoolValue",Wt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Wt.fieldWrapper={wrapField(s){return new Wt({value:s})},unwrapField(s){return s.value}};let Es=class qo extends x{constructor(e){super(),this.value="",A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.STRING,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.STRING,e)}catch(i){let a='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qo().fromBinary(e,n)}static fromJson(e,n){return new qo().fromJson(e,n)}static fromJsonString(e,n){return new qo().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qo,e,n)}};Es.runtime=A,Es.typeName="google.protobuf.StringValue",Es.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Es.fieldWrapper={wrapField(s){return new Es({value:s})},unwrapField(s){return s.value}};class Kt extends x{constructor(e){super(),this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BYTES,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BYTES,e)}catch(i){let a='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Kt().fromBinary(e,n)}static fromJson(e,n){return new Kt().fromJson(e,n)}static fromJsonString(e,n){return new Kt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Kt,e,n)}}Kt.runtime=A,Kt.typeName="google.protobuf.BytesValue",Kt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),Kt.fieldWrapper={wrapField(s){return new Kt({value:s})},unwrapField(s){return s.value}};const O0=[Nt,ln,Qn,Zn,Ut,pt,$t,fo,ln,Ft,jt,zt,qt,Yt,Vt,Wt,Es,Kt],x0=[I(ks)];function P0(s,e=!0){const n=s instanceof Uint8Array||s instanceof Bt?Md(s):s,i={},a={},u={};if(e){for(const d of O0)a[d.typeName]=d;for(const d of x0)i[d.typeName]=d}return{findEnum(d){const h=i[d];if(h)return h;const p=n.enums.get(d);if(!p)return;const T=(p.file.syntax=="proto3"?A:k).makeEnumType(d,p.values.map(O=>({no:O.number,name:O.name,localName:Ca(O)})),{});return i[d]=T,T},findMessage(d){const h=a[d];if(h)return h;const p=n.messages.get(d);if(!p)return;const g=p.file.syntax=="proto3"?A:k,T=[],O=g.makeMessageType(d,()=>T,{localName:Ca(p)});a[d]=O;for(const E of p.fields){const P=C0(E,this);T.push(P)}return O},findService(d){const h=u[d];if(h)return h;const p=n.services.get(d);if(!p)return;const g={};for(const T of p.methods){const O=this.findMessage(T.input.typeName),E=this.findMessage(T.output.typeName);y(O,`message "${T.input.typeName}" for ${T.toString()} not found`),y(E,`output message "${T.output.typeName}" for ${T.toString()} not found`),g[Ca(T)]={name:T.name,I:O,O:E,kind:T.methodKind,idempotency:T.idempotency}}return u[d]={typeName:p.typeName,methods:g}}}}function C0(s,e){switch(s.fieldKind){case"map":return D0(s,e);case"message":return b0(s,e);case"enum":{const n=L0(s,e);return n.default=s.getDefaultValue(),n}case"scalar":{const n=R0(s);return n.default=s.getDefaultValue(),n}}}function D0(s,e){const n={kind:"map",no:s.number,name:s.name,jsonName:s.jsonName,K:s.mapKey};if(s.mapValue.message){const i=e.findMessage(s.mapValue.message.typeName);return y(i,`message "${s.mapValue.message.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"message",T:i}})}if(s.mapValue.enum){const i=e.findEnum(s.mapValue.enum.typeName);return y(i,`enum "${s.mapValue.enum.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"enum",T:i}})}return Object.assign(Object.assign({},n),{V:{kind:"scalar",T:s.mapValue.scalar}})}function R0(s){const e=s.longType==ee.STRING?{L:ee.STRING}:{},n=Object.assign({kind:"scalar",no:s.number,name:s.name,jsonName:s.jsonName,T:s.scalar},e);return s.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:s.packed,oneof:void 0,T:s.scalar}):s.oneof?Object.assign(Object.assign({},n),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function b0(s,e){const n=e.findMessage(s.message.typeName);y(n,`message "${s.message.typeName}" for ${s.toString()} not found`);const i={kind:"message",no:s.number,name:s.name,jsonName:s.jsonName,T:n,delimited:s.proto.type==le.GROUP};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function L0(s,e){const n=e.findEnum(s.enum.typeName);y(n,`enum "${s.enum.typeName}" for ${s.toString()} not found`);const i={kind:"enum",no:s.number,name:s.name,jsonName:s.jsonName,T:n};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function zd(s){if(!(s instanceof x))return s;const e=s.getType(),n={};for(const i of e.fields.byMember()){const a=s[i.localName];let u;if(i.repeated)u=a.map(d=>ba(d));else if(i.kind=="map"){u={};for(const[d,h]of Object.entries(a))u[d]=ba(h)}else i.kind=="oneof"?u=i.findField(a.case)?{case:a.case,value:ba(a.value)}:{case:void 0}:u=ba(a);n[i.localName]=u}return n}function ba(s){if(s===void 0)return s;if(s instanceof x)return zd(s);if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}class er extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new er().fromBinary(e,n)}static fromJson(e,n){return new er().fromJson(e,n)}static fromJsonString(e,n){return new er().fromJsonString(e,n)}static equals(e,n){return k.util.equals(er,e,n)}}er.runtime=k,er.typeName="google.protobuf.compiler.Version",er.fields=k.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class vr extends x{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new vr().fromBinary(e,n)}static fromJson(e,n){return new vr().fromJson(e,n)}static fromJsonString(e,n){return new vr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(vr,e,n)}}vr.runtime=k,vr.typeName="google.protobuf.compiler.CodeGeneratorRequest",vr.fields=k.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Mt,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Mt,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:er,opt:!0}]);class Tr extends x{constructor(e){super(),this.file=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Tr().fromBinary(e,n)}static fromJson(e,n){return new Tr().fromJson(e,n)}static fromJsonString(e,n){return new Tr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Tr,e,n)}}Tr.runtime=k,Tr.typeName="google.protobuf.compiler.CodeGeneratorResponse",Tr.fields=k.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:tr,repeated:!0}]);var La;(function(s){s[s.NONE=0]="NONE",s[s.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",s[s.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(La||(La={})),k.util.setEnumType(La,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class tr extends x{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new tr().fromBinary(e,n)}static fromJson(e,n){return new tr().fromJson(e,n)}static fromJsonString(e,n){return new tr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(tr,e,n)}}tr.runtime=k,tr.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",tr.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Gn,opt:!0}]);class Gt extends x{constructor(e){super(),this.fileName="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Gt().fromBinary(e,n)}static fromJson(e,n){return new Gt().fromJson(e,n)}static fromJsonString(e,n){return new Gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Gt,e,n)}}Gt.runtime=A,Gt.typeName="google.protobuf.SourceContext",Gt.fields=A.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var Ht;(function(s){s[s.PROTO2=0]="PROTO2",s[s.PROTO3=1]="PROTO3",s[s.EDITIONS=2]="EDITIONS"})(Ht||(Ht={})),A.util.setEnumType(Ht,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class Sr extends x{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Ht.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Sr().fromBinary(e,n)}static fromJson(e,n){return new Sr().fromJson(e,n)}static fromJsonString(e,n){return new Sr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Sr,e,n)}}Sr.runtime=A,Sr.typeName="google.protobuf.Type",Sr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:nr,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:lt,repeated:!0},{no:5,name:"source_context",kind:"message",T:Gt},{no:6,name:"syntax",kind:"enum",T:A.getEnumType(Ht)},{no:7,name:"edition",kind:"scalar",T:9}]);class nr extends x{constructor(e){super(),this.kind=ni.TYPE_UNKNOWN,this.cardinality=ri.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",A.util.initPartial(e,this)}static fromBinary(e,n){return new nr().fromBinary(e,n)}static fromJson(e,n){return new nr().fromJson(e,n)}static fromJsonString(e,n){return new nr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(nr,e,n)}}nr.runtime=A,nr.typeName="google.protobuf.Field",nr.fields=A.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:A.getEnumType(ni)},{no:2,name:"cardinality",kind:"enum",T:A.getEnumType(ri)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:lt,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var ni;(function(s){s[s.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",s[s.TYPE_DOUBLE=1]="TYPE_DOUBLE",s[s.TYPE_FLOAT=2]="TYPE_FLOAT",s[s.TYPE_INT64=3]="TYPE_INT64",s[s.TYPE_UINT64=4]="TYPE_UINT64",s[s.TYPE_INT32=5]="TYPE_INT32",s[s.TYPE_FIXED64=6]="TYPE_FIXED64",s[s.TYPE_FIXED32=7]="TYPE_FIXED32",s[s.TYPE_BOOL=8]="TYPE_BOOL",s[s.TYPE_STRING=9]="TYPE_STRING",s[s.TYPE_GROUP=10]="TYPE_GROUP",s[s.TYPE_MESSAGE=11]="TYPE_MESSAGE",s[s.TYPE_BYTES=12]="TYPE_BYTES",s[s.TYPE_UINT32=13]="TYPE_UINT32",s[s.TYPE_ENUM=14]="TYPE_ENUM",s[s.TYPE_SFIXED32=15]="TYPE_SFIXED32",s[s.TYPE_SFIXED64=16]="TYPE_SFIXED64",s[s.TYPE_SINT32=17]="TYPE_SINT32",s[s.TYPE_SINT64=18]="TYPE_SINT64"})(ni||(ni={})),A.util.setEnumType(ni,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var ri;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.OPTIONAL=1]="OPTIONAL",s[s.REQUIRED=2]="REQUIRED",s[s.REPEATED=3]="REPEATED"})(ri||(ri={})),A.util.setEnumType(ri,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class wr extends x{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Ht.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new wr().fromBinary(e,n)}static fromJson(e,n){return new wr().fromJson(e,n)}static fromJsonString(e,n){return new wr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(wr,e,n)}}wr.runtime=A,wr.typeName="google.protobuf.Enum",wr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:rr,repeated:!0},{no:3,name:"options",kind:"message",T:lt,repeated:!0},{no:4,name:"source_context",kind:"message",T:Gt},{no:5,name:"syntax",kind:"enum",T:A.getEnumType(Ht)},{no:6,name:"edition",kind:"scalar",T:9}]);class rr extends x{constructor(e){super(),this.name="",this.number=0,this.options=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new rr().fromBinary(e,n)}static fromJson(e,n){return new rr().fromJson(e,n)}static fromJsonString(e,n){return new rr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(rr,e,n)}}rr.runtime=A,rr.typeName="google.protobuf.EnumValue",rr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:lt,repeated:!0}]);class lt extends x{constructor(e){super(),this.name="",A.util.initPartial(e,this)}static fromBinary(e,n){return new lt().fromBinary(e,n)}static fromJson(e,n){return new lt().fromJson(e,n)}static fromJsonString(e,n){return new lt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(lt,e,n)}}lt.runtime=A,lt.typeName="google.protobuf.Option",lt.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Nt}]);class kr extends x{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Ht.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new kr().fromBinary(e,n)}static fromJson(e,n){return new kr().fromJson(e,n)}static fromJsonString(e,n){return new kr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(kr,e,n)}}kr.runtime=A,kr.typeName="google.protobuf.Api",kr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:sr,repeated:!0},{no:3,name:"options",kind:"message",T:lt,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Gt},{no:6,name:"mixins",kind:"message",T:ir,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Ht)}]);class sr extends x{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Ht.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new sr().fromBinary(e,n)}static fromJson(e,n){return new sr().fromJson(e,n)}static fromJsonString(e,n){return new sr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(sr,e,n)}}sr.runtime=A,sr.typeName="google.protobuf.Method",sr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:lt,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Ht)}]);class ir extends x{constructor(e){super(),this.name="",this.root="",A.util.initPartial(e,this)}static fromBinary(e,n){return new ir().fromBinary(e,n)}static fromJson(e,n){return new ir().fromJson(e,n)}static fromJsonString(e,n){return new ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ir,e,n)}}ir.runtime=A,ir.typeName="google.protobuf.Mixin",ir.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);const Iu=Object.freeze(Object.defineProperty({__proto__:null,Any:Nt,Api:kr,BinaryReader:$r,BinaryWriter:In,BoolValue:Wt,BytesValue:Kt,CodeGeneratorRequest:vr,CodeGeneratorResponse:Tr,get CodeGeneratorResponse_Feature(){return La},CodeGeneratorResponse_File:tr,DescriptorProto:on,DescriptorProto_ExtensionRange:_n,DescriptorProto_ReservedRange:An,DoubleValue:Ft,Duration:ln,get Edition(){return Te},Empty:Qn,Enum:wr,EnumDescriptorProto:an,EnumDescriptorProto_EnumReservedRange:Cn,EnumOptions:$n,EnumValue:rr,EnumValueDescriptorProto:Dn,EnumValueOptions:Fn,ExtensionRangeOptions:On,ExtensionRangeOptions_Declaration:xn,get ExtensionRangeOptions_VerificationState(){return Qs},FeatureSet:De,FeatureSetDefaults:qn,FeatureSetDefaults_FeatureSetEditionDefault:Yn,get FeatureSet_EnumType(){return oo},get FeatureSet_FieldPresence(){return io},get FeatureSet_JsonFormat(){return uo},get FeatureSet_MessageEncoding(){return lo},get FeatureSet_RepeatedFieldEncoding(){return ws},get FeatureSet_Utf8Validation(){return ao},Field:nr,FieldDescriptorProto:Jt,get FieldDescriptorProto_Label(){return jr},get FieldDescriptorProto_Type(){return le},FieldMask:Zn,FieldOptions:Mn,get FieldOptions_CType(){return ei},FieldOptions_EditionDefault:Jn,get FieldOptions_JSType(){return zr},get FieldOptions_OptionRetention(){return ro},get FieldOptions_OptionTargetType(){return so},get Field_Cardinality(){return ri},get Field_Kind(){return ni},FileDescriptorProto:Mt,FileDescriptorSet:Bt,FileOptions:Ln,get FileOptions_OptimizeMode(){return Zs},FloatValue:jt,GeneratedCodeInfo:Gn,GeneratedCodeInfo_Annotation:Hn,get GeneratedCodeInfo_Annotation_Semantic(){return co},Int32Value:qt,Int64Value:zt,ListValue:$t,get LongType(){return ee},Message:x,MessageOptions:Bn,Method:sr,MethodDescriptorProto:bn,get MethodIdempotency(){return no},get MethodKind(){return Lt},MethodOptions:zn,get MethodOptions_IdempotencyLevel(){return yr},Mixin:ir,get NullValue(){return ks},OneofDescriptorProto:Pn,OneofOptions:Un,Option:lt,get ScalarType(){return w},ServiceDescriptorProto:Rn,ServiceOptions:jn,SourceCodeInfo:Wn,SourceCodeInfo_Location:Kn,SourceContext:Gt,StringValue:Es,Struct:Ut,get Syntax(){return Ht},Timestamp:fo,Type:Sr,UInt32Value:Yt,UInt64Value:Vt,UninterpretedOption:We,UninterpretedOption_NamePart:Vn,Value:pt,Version:er,get WireType(){return ge},codegenInfo:l0,createDescriptorSet:Md,createRegistry:A0,createRegistryFromDescriptors:P0,proto2:k,proto3:A,protoBase64:Qi,protoDelimited:ku,protoDouble:s0,protoInt64:ce,toPlainMessage:zd},Symbol.toStringTag,{value:"Module"}));function Vd(s){const e=m[s];return typeof e!="string"?s.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class ze extends Error{constructor(e,n=m.Unknown,i,a,u){super(B0(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i!=null?i:{}),this.details=a!=null?a:[],this.cause=u}static from(e,n=m.Unknown){return e instanceof ze?e:e instanceof Error?e.name=="AbortError"?new ze(e.message,m.Canceled):new ze(e.message,n,void 0,void 0,e):new ze(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:a=>a===e.typeName?e:void 0}:e,i=[];for(const a of this.details){if(a instanceof x){n.findMessage(a.getType().typeName)&&i.push(a);continue}const u=n.findMessage(a.type);if(u)try{i.push(u.fromBinary(a.value))}catch{}}return i}}function B0(s,e){return s.length?`[${Vd(e)}] ${s}`:`[${Vd(e)}]`}function M0(s,e,n){try{const i=Qi.dec(s);return e?e.fromBinary(i,n):i}catch(i){throw ze.from(i,m.DataLoss)}}function J0(s,e){const n={};for(const[i,a]of Object.entries(s.methods)){const u=e(Object.assign(Object.assign({},a),{localName:i,service:s}));u!=null&&(n[i]=u)}return n}function qd(s){let e,n=new Uint8Array(0);function i(a){const u=new Uint8Array(n.length+a.length);u.set(n),u.set(a,n.length),n=u}return new ReadableStream({start(){e=s.getReader()},async pull(a){let u;for(;;){if(u===void 0&&n.byteLength>=5){let p=0;for(let g=1;g<5;g++)p=(p<<8)+n[g];u={flags:n[0],length:p}}if(u!==void 0&&n.byteLength>=u.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(u===void 0){if(n.byteLength==0){a.close();return}a.error(new ze("premature end of stream",m.DataLoss));return}const d=n.subarray(5,5+u.length);n=n.subarray(5+u.length),a.enqueue({flags:u.flags,data:d})}})}function Yd(s,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,s),i.setUint32(1,e.length),n}var U0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},ho=globalThis&&globalThis.__await||function(s){return this instanceof ho?(this.v=s,this):new ho(s)},$0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(E){i[E]&&(a[E]=function(P){return new Promise(function(U,V){u.push([E,P,U,V])>1||h(E,P)})})}function h(E,P){try{p(i[E](P))}catch(U){O(u[0][3],U)}}function p(E){E.value instanceof ho?Promise.resolve(E.value.v).then(g,T):O(u[0][2],E)}function g(E){h("next",E)}function T(E){h("throw",E)}function O(E,P){E(P),u.shift(),u.length&&h(u[0][0],u[0][1])}},F0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:ho(s[a](d)),done:!1}:u?u(d):d}:u}};function j0(s){return $0(this,arguments,function*(){yield ho(yield*F0(U0(s)))})}var Wd=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},si=globalThis&&globalThis.__await||function(s){return this instanceof si?(this.v=s,this):new si(s)},z0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:si(s[a](d)),done:!1}:u?u(d):d}:u}},V0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(E){i[E]&&(a[E]=function(P){return new Promise(function(U,V){u.push([E,P,U,V])>1||h(E,P)})})}function h(E,P){try{p(i[E](P))}catch(U){O(u[0][3],U)}}function p(E){E.value instanceof si?Promise.resolve(E.value.v).then(g,T):O(u[0][2],E)}function g(E){h("next",E)}function T(E){h("throw",E)}function O(E,P){E(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function q0(s,e){return J0(s,n=>{switch(n.kind){case Lt.Unary:return Y0(e,s,n);case Lt.ServerStreaming:return W0(e,s,n);case Lt.ClientStreaming:return K0(e,s,n);case Lt.BiDiStreaming:return G0(e,s,n);default:return null}})}function Y0(s,e,n){return async function(i,a){var u,d;const h=await s.unary(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);return(u=a==null?void 0:a.onHeader)===null||u===void 0||u.call(a,h.header),(d=a==null?void 0:a.onTrailer)===null||d===void 0||d.call(a,h.trailer),h.message}}function W0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,j0([i]),a==null?void 0:a.contextValues),a)}}function K0(s,e,n){return async function(i,a){var u,d,h,p,g,T;const O=await s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);(g=a==null?void 0:a.onHeader)===null||g===void 0||g.call(a,O.header);let E;try{for(var P=!0,U=Wd(O.message),V;V=await U.next(),u=V.done,!u;P=!0)p=V.value,P=!1,E=p}catch(Q){d={error:Q}}finally{try{!P&&!u&&(h=U.return)&&await h.call(U)}finally{if(d)throw d.error}}if(!E)throw new ze("protocol error: missing response message",m.Internal);return(T=a==null?void 0:a.onTrailer)===null||T===void 0||T.call(a,O.trailer),E}}function G0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues),a)}}function Kd(s,e){const n=function(){var i,a;return V0(this,arguments,function*(){const u=yield si(s);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,u.header),yield si(yield*z0(Wd(u.message))),(a=e==null?void 0:e.onTrailer)===null||a===void 0||a.call(e,u.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function H0(...s){const e=new AbortController,n=s.filter(a=>a!==void 0).concat(e.signal);for(const a of n){if(a.aborted){i.apply(a);break}a.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(Gd(this));for(const a of n)a.removeEventListener("abort",i)}return e}function X0(s){const e=new AbortController,n=()=>{e.abort(new ze("the operation timed out",m.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?n():i=setTimeout(n,s)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function Gd(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Hd(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,e){return this[s.id]=e,this},delete(s){return delete this[s.id],this}}}const _u=128;function Xd(s){const e=new Headers,n=new TextDecoder().decode(s).split(`\r
`);for(const i of n){if(i==="")continue;const a=i.indexOf(":");if(a>0){const u=i.substring(0,a).trim(),d=i.substring(a+1).trim();e.append(u,d)}}return e}const Q0="Content-Type",Z0="Grpc-Timeout",Qd="Grpc-Status",Zd="Grpc-Message",eT="Grpc-Status-Details-Bin",tT="User-Agent",nT="X-User-Agent",rT="X-Grpc-Web",sT="application/grpc-web+proto",iT="application/grpc-web+json";class Er extends x{constructor(e){super(),this.code=0,this.message="",this.details=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new Er().fromBinary(e,n)}static fromJson(e,n){return new Er().fromJson(e,n)}static fromJsonString(e,n){return new Er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Er,e,n)}}Er.runtime=A,Er.typeName="google.rpc.Status",Er.fields=A.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Nt,repeated:!0}]);const oT="0";function eh(s){var e;const n=s.get(eT);if(n!=null){const a=M0(n,Er);if(a.code==0)return;const u=new ze(a.message,a.code,s);return u.details=a.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),u}const i=s.get(Qd);if(i!=null){if(i===oT)return;const a=parseInt(i,10);return a in m?new ze(decodeURIComponent((e=s.get(Zd))!==null&&e!==void 0?e:""),a,s):new ze(`invalid grpc-status: ${i}`,m.Internal,s)}}function th(s,e,n){const i=typeof e=="string"?e:e.typeName,a=typeof n=="string"?n:n.name;return s.toString().replace(/\/?$/,`/${i}/${a}`)}function nh(s,e){return e instanceof x?e:new s(e)}function aT(s,e){function n(i){return i.done===!0?i:{done:i.done,value:nh(s,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),a={next:()=>i.next().then(n)};return i.throw!==void 0&&(a.throw=u=>i.throw(u).then(n)),i.return!==void 0&&(a.return=u=>i.return(u).then(n)),a}}}function lT(s){var e;const n=Object.assign({},s);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function rh(s,e,n,i){const a=e?sh(s.I,i):ih(s.I,n);return{parse:(e?sh(s.O,i):ih(s.O,n)).parse,serialize:a.serialize}}function sh(s,e){return{parse(n){try{return s.fromBinary(n,e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new ze(`parse binary: ${a}`,m.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new ze(`serialize binary: ${a}`,m.Internal)}}}}function ih(s,e){var n,i;const a=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,u=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=lT(e);return{parse(h){try{const p=u.decode(h);return s.fromJsonString(p,d)}catch(p){throw ze.from(p,m.InvalidArgument)}},serialize(h){try{const p=h.toJsonString(d);return a.encode(p)}catch(p){throw ze.from(p,m.Internal)}}}}function uT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:nh(s.req.method.I,s.req.message),signal:n});return e(u).then(d=>(a(),d),i)}function cT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:aT(s.req.method.I,s.req.message),signal:n});let d=!1;return n.addEventListener("abort",function(){var h,p;const g=s.req.message[Symbol.asyncIterator]();d||(h=g.throw)===null||h===void 0||h.call(g,this.reason).catch(()=>{}),(p=g.return)===null||p===void 0||p.call(g).catch(()=>{})}),e(u).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const p=h.message[Symbol.asyncIterator]();return{next(){return p.next().then(g=>(g.done==!0&&(d=!0,a()),g),i)}}}}}),i)}function oh(s){const{signal:e,cleanup:n}=X0(s.timeoutMs),i=H0(s.signal,e);return[i.signal,function(u){const d=ze.from(e.aborted?Gd(e):u);return i.abort(d),n(),Promise.reject(d)},function(){n(),i.abort()}]}function ah(s,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((i,a)=>a(i),s))!==null&&n!==void 0?n:s}function fT(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function lh(s,e){const n=eh(s);if(n)throw e.forEach((i,a)=>{n.metadata.append(a,i)}),n}function uh(s,e,n,i){const a=new Headers(n!=null?n:{});return a.set(Q0,s?sT:iT),a.set(rT,"1"),a.set(nT,"connect-es/1.2.0"),i&&a.set(tT,"connect-es/1.2.0"),e!==void 0&&a.set(Z0,`${e}m`),a}function dT(s){switch(s){case 400:return m.Internal;case 401:return m.Unauthenticated;case 403:return m.PermissionDenied;case 404:return m.Unimplemented;case 429:return m.Unavailable;case 502:return m.Unavailable;case 503:return m.Unavailable;case 504:return m.Unavailable;default:return m.Unknown}}function ch(s,e){var n;if(s>=200&&s<300){const i=eh(e);if(i)throw i;return{foundStatus:e.has(Qd)}}throw new ze(decodeURIComponent((n=e.get(Zd))!==null&&n!==void 0?n:`HTTP ${s}`),dT(s),e)}var Ns=globalThis&&globalThis.__await||function(s){return this instanceof Ns?(this.v=s,this):new Ns(s)},hT=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(E){i[E]&&(a[E]=function(P){return new Promise(function(U,V){u.push([E,P,U,V])>1||h(E,P)})})}function h(E,P){try{p(i[E](P))}catch(U){O(u[0][3],U)}}function p(E){E.value instanceof Ns?Promise.resolve(E.value.v).then(g,T):O(u[0][2],E)}function g(E){h("next",E)}function T(E){h("throw",E)}function O(E,P){E(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function mT(s){var e;fT();const n=(e=s.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,a,u,d,h,p,g){var T;const{serialize:O,parse:E}=rh(a,n,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await uT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!1,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g!=null?g:Hd(),message:p},next:async P=>{var U;const Q=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(P.url,Object.assign(Object.assign({},P.init),{headers:P.header,signal:P.signal,body:Yd(0,O(P.message))}));if(ch(Q.status,Q.headers),!Q.body)throw"missing response body";const fe=qd(Q.body).getReader();let ne,we;for(;;){const Oe=await fe.read();if(Oe.done)break;const{flags:$e,data:Ds}=Oe.value;if($e===_u){if(ne!==void 0)throw"extra trailer";ne=Xd(Ds);continue}if(we!==void 0)throw"extra message";we=E(Ds)}if(ne===void 0)throw"missing trailer";if(lh(ne,Q.headers),we===void 0)throw"missing message";return{stream:!1,header:Q.headers,message:we,trailer:ne}}})},async stream(i,a,u,d,h,p,g){var T;const{serialize:O,parse:E}=rh(a,n,s.jsonOptions,s.binaryOptions);function P(V,Q,fe,ne){return hT(this,arguments,function*(){const Oe=qd(V).getReader();if(Q){if(!(yield Ns(Oe.read())).done)throw"extra data for trailers-only";return yield Ns(void 0)}let $e=!1;for(;;){const Ds=yield Ns(Oe.read());if(Ds.done)break;const{flags:Ti,data:Do}=Ds.value;if((Ti&_u)===_u){if($e)throw"extra trailer";$e=!0;const mp=Xd(Do);lh(mp,ne),mp.forEach(($w,Fw)=>fe.set(Fw,$w));continue}if($e)throw"extra message";yield yield Ns(E(Do))}if(!$e)throw"missing trailer"})}async function U(V){if(a.kind!=Lt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Q=await V[Symbol.asyncIterator]().next();if(Q.done==!0)throw"missing request message";return Yd(0,O(Q.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,cT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!0,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g!=null?g:Hd(),message:p},next:async V=>{var Q;const ne=await((Q=s.fetch)!==null&&Q!==void 0?Q:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await U(V.message)})),{foundStatus:we}=ch(ne.status,ne.headers);if(!ne.body)throw"missing response body";const Oe=new Headers;return Object.assign(Object.assign({},V),{header:ne.headers,trailer:Oe,message:P(ne.body,we,Oe,ne.headers)})}})}}}var b={exports:{}},te=b.exports;Object.defineProperty(te,"__esModule",{value:!0});const{proto3:Z,StringValue:Au,Timestamp:ii}=Iu,Ba=Z.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),fh=Z.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),pT=Z.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:Ja},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Du}}]),gT=Z.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Mh},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:dh,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:G},{no:6,name:"is_removed",kind:"scalar",T:8}]),dh=Z.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:hh},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:mh,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Lh}]),hh=Z.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),mh=Z.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:ph,oneof:"body"},{no:2,name:"add",kind:"message",T:gh,oneof:"body"},{no:3,name:"move",kind:"message",T:yh,oneof:"body"},{no:4,name:"remove",kind:"message",T:vh,oneof:"body"},{no:5,name:"edit",kind:"message",T:Th,oneof:"body"},{no:6,name:"select",kind:"message",T:Sh,oneof:"body"},{no:7,name:"style",kind:"message",T:wh,oneof:"body"},{no:8,name:"increase",kind:"message",T:kh,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Eh,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Nh,oneof:"body"}]),ph=Z.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ma},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Set"}),gh=Z.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"prev_created_at",kind:"message",T:G},{no:3,name:"value",kind:"message",T:Ma},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Add"}),yh=Z.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"prev_created_at",kind:"message",T:G},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Move"}),vh=Z.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Remove"}),Th=Z.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:G},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),Sh=Z.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Select"}),wh=Z.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:G},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}}],{localName:"Operation_Style"}),kh=Z.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"value",kind:"message",T:Ma},{no:3,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Increase"}),Eh=Z.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}},{no:5,name:"contents",kind:"message",T:Rh,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:G}],{localName:"Operation_TreeEdit"}),Nh=Z.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:G},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}}],{localName:"Operation_TreeStyle"}),Ma=Z.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"moved_at",kind:"message",T:G},{no:3,name:"removed_at",kind:"message",T:G},{no:4,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:5,name:"value",kind:"scalar",T:12}]),Ja=Z.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:Ih,oneof:"body"},{no:2,name:"json_array",kind:"message",T:_h,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Ah,oneof:"body"},{no:5,name:"text",kind:"message",T:Oh,oneof:"body"},{no:6,name:"counter",kind:"message",T:xh,oneof:"body"},{no:7,name:"tree",kind:"message",T:Ph,oneof:"body"}]),Ih=Z.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:Ch,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_JSONObject"}),_h=Z.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:Ou,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_JSONArray"}),Ah=Z.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"moved_at",kind:"message",T:G},{no:5,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Primitive"}),Oh=Z.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Dh,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Text"}),xh=Z.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"moved_at",kind:"message",T:G},{no:5,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Counter"}),Ph=Z.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:Cu,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Tree"}),Ch=Z.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ja}]),Ou=Z.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:Ou},{no:2,name:"element",kind:"message",T:Ja}]),xu=Z.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:G}]),Dh=Z.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Pu},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:G},{no:4,name:"ins_prev_id",kind:"message",T:Pu},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:xu}}]),Pu=Z.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5}]),Cu=Z.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:oi},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:G},{no:5,name:"ins_prev_id",kind:"message",T:oi},{no:6,name:"ins_next_id",kind:"message",T:oi},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:xu}}]),Rh=Z.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:Cu,repeated:!0}]),oi=Z.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5}]),mo=Z.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:oi},{no:2,name:"left_sibling_id",kind:"message",T:oi}]),yT=Z.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:ii}]),vT=Z.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:ii},{no:9,name:"updated_at",kind:"message",T:ii}]),TT=Z.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:Au},{no:2,name:"auth_webhook_url",kind:"message",T:Au},{no:3,name:"auth_webhook_methods",kind:"message",T:bh},{no:4,name:"client_deactivate_threshold",kind:"message",T:Au}]),bh=Z.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),ST=Z.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:ii},{no:5,name:"accessed_at",kind:"message",T:ii},{no:6,name:"updated_at",kind:"message",T:ii}]),Lh=Z.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Bh)},{no:2,name:"presence",kind:"message",T:Du}]),Bh=Z.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Du=Z.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Mh=Z.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),Is=Z.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),G=Z.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Jh=Z.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),wT=Z.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(fh)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Jh}]);te.ValueType=Ba,te.DocEventType=fh,te.Snapshot=pT,te.ChangePack=gT,te.Change=dh,te.ChangeID=hh,te.Operation=mh,te.Operation_Set=ph,te.Operation_Add=gh,te.Operation_Move=yh,te.Operation_Remove=vh,te.Operation_Edit=Th,te.Operation_Select=Sh,te.Operation_Style=wh,te.Operation_Increase=kh,te.Operation_TreeEdit=Eh,te.Operation_TreeStyle=Nh,te.JSONElementSimple=Ma,te.JSONElement=Ja,te.JSONElement_JSONObject=Ih,te.JSONElement_JSONArray=_h,te.JSONElement_Primitive=Ah,te.JSONElement_Text=Oh,te.JSONElement_Counter=xh,te.JSONElement_Tree=Ph,te.RHTNode=Ch,te.RGANode=Ou,te.NodeAttr=xu,te.TextNode=Dh,te.TextNodeID=Pu,te.TreeNode=Cu,te.TreeNodes=Rh,te.TreeNodeID=oi,te.TreePos=mo,te.User=yT,te.Project=vT,te.UpdatableProjectFields=TT,te.UpdatableProjectFields_AuthWebhookMethods=bh,te.DocumentSummary=ST,te.PresenceChange=Lh,te.PresenceChange_ChangeType=Bh,te.Presence=Du,te.Checkpoint=Mh,te.TextNodePos=Is,te.TimeTicket=G,te.DocEventBody=Jh,te.DocEvent=wT;const Uh=(b.exports==null?{}:b.exports).default||b.exports,oe=(b.exports==null?{}:b.exports).ValueType,Ua=(b.exports==null?{}:b.exports).DocEventType,$h=(b.exports==null?{}:b.exports).Snapshot,Fh=(b.exports==null?{}:b.exports).ChangePack,jh=(b.exports==null?{}:b.exports).Change,$a=(b.exports==null?{}:b.exports).ChangeID,Ru=(b.exports==null?{}:b.exports).Operation,zh=(b.exports==null?{}:b.exports).Operation_Set,Vh=(b.exports==null?{}:b.exports).Operation_Add,qh=(b.exports==null?{}:b.exports).Operation_Move,Yh=(b.exports==null?{}:b.exports).Operation_Remove,Wh=(b.exports==null?{}:b.exports).Operation_Edit,kT=(b.exports==null?{}:b.exports).Operation_Select,Kh=(b.exports==null?{}:b.exports).Operation_Style,Gh=(b.exports==null?{}:b.exports).Operation_Increase,Hh=(b.exports==null?{}:b.exports).Operation_TreeEdit,Xh=(b.exports==null?{}:b.exports).Operation_TreeStyle,_s=(b.exports==null?{}:b.exports).JSONElementSimple,or=(b.exports==null?{}:b.exports).JSONElement,Qh=(b.exports==null?{}:b.exports).JSONElement_JSONObject,Zh=(b.exports==null?{}:b.exports).JSONElement_JSONArray,em=(b.exports==null?{}:b.exports).JSONElement_Primitive,tm=(b.exports==null?{}:b.exports).JSONElement_Text,nm=(b.exports==null?{}:b.exports).JSONElement_Counter,rm=(b.exports==null?{}:b.exports).JSONElement_Tree,sm=(b.exports==null?{}:b.exports).RHTNode,im=(b.exports==null?{}:b.exports).RGANode,bu=(b.exports==null?{}:b.exports).NodeAttr,om=(b.exports==null?{}:b.exports).TextNode,am=(b.exports==null?{}:b.exports).TextNodeID,lm=(b.exports==null?{}:b.exports).TreeNode,um=(b.exports==null?{}:b.exports).TreeNodes,cm=(b.exports==null?{}:b.exports).TreeNodeID,fm=(b.exports==null?{}:b.exports).TreePos,ET=(b.exports==null?{}:b.exports).User,NT=(b.exports==null?{}:b.exports).Project,IT=(b.exports==null?{}:b.exports).UpdatableProjectFields,_T=(b.exports==null?{}:b.exports).UpdatableProjectFields_AuthWebhookMethods,AT=(b.exports==null?{}:b.exports).DocumentSummary,Lu=(b.exports==null?{}:b.exports).PresenceChange,po=(b.exports==null?{}:b.exports).PresenceChange_ChangeType,dm=(b.exports==null?{}:b.exports).Presence,hm=(b.exports==null?{}:b.exports).Checkpoint,mm=(b.exports==null?{}:b.exports).TextNodePos,pm=(b.exports==null?{}:b.exports).TimeTicket,OT=(b.exports==null?{}:b.exports).DocEventBody,xT=(b.exports==null?{}:b.exports).DocEvent,PT=Object.freeze(Object.defineProperty({__proto__:null,Change:jh,ChangeID:$a,ChangePack:Fh,Checkpoint:hm,DocEvent:xT,DocEventBody:OT,DocEventType:Ua,DocumentSummary:AT,JSONElement:or,JSONElementSimple:_s,JSONElement_Counter:nm,JSONElement_JSONArray:Zh,JSONElement_JSONObject:Qh,JSONElement_Primitive:em,JSONElement_Text:tm,JSONElement_Tree:rm,NodeAttr:bu,Operation:Ru,Operation_Add:Vh,Operation_Edit:Wh,Operation_Increase:Gh,Operation_Move:qh,Operation_Remove:Yh,Operation_Select:kT,Operation_Set:zh,Operation_Style:Kh,Operation_TreeEdit:Hh,Operation_TreeStyle:Xh,Presence:dm,PresenceChange:Lu,PresenceChange_ChangeType:po,Project:NT,RGANode:im,RHTNode:sm,Snapshot:$h,TextNode:om,TextNodeID:am,TextNodePos:mm,TimeTicket:pm,TreeNode:lm,TreeNodeID:cm,TreeNodes:um,TreePos:fm,UpdatableProjectFields:IT,UpdatableProjectFields_AuthWebhookMethods:_T,User:ET,ValueType:oe,default:Uh},Symbol.toStringTag,{value:"Module"}));var ae={exports:{}},Ke=ae.exports;Object.defineProperty(Ke,"__esModule",{value:!0});const{proto3:Xe}=Iu,{ChangePack:Vr,DocEvent:CT}=Uh||PT,DT=Xe.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),RT=Xe.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),bT=Xe.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),LT=Xe.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),BT=Xe.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Vr}]),MT=Xe.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Vr}]),JT=Xe.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),UT=Xe.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:Vr}]),$T=Xe.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),FT=Xe.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:gm,oneof:"body"},{no:2,name:"event",kind:"message",T:CT,oneof:"body"}]),gm=Xe.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),jT=Xe.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr}]),zT=Xe.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:Vr}]),VT=Xe.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr},{no:4,name:"push_only",kind:"scalar",T:8}]),qT=Xe.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:Vr}]),YT=Xe.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),WT=Xe.makeMessageType("yorkie.v1.BroadcastResponse",[]);Ke.ActivateClientRequest=DT,Ke.ActivateClientResponse=RT,Ke.DeactivateClientRequest=bT,Ke.DeactivateClientResponse=LT,Ke.AttachDocumentRequest=BT,Ke.AttachDocumentResponse=MT,Ke.DetachDocumentRequest=JT,Ke.DetachDocumentResponse=UT,Ke.WatchDocumentRequest=$T,Ke.WatchDocumentResponse=FT,Ke.WatchDocumentResponse_Initialization=gm,Ke.RemoveDocumentRequest=jT,Ke.RemoveDocumentResponse=zT,Ke.PushPullChangesRequest=VT,Ke.PushPullChangesResponse=qT,Ke.BroadcastRequest=YT,Ke.BroadcastResponse=WT;const ym=(ae.exports==null?{}:ae.exports).default||ae.exports,KT=(ae.exports==null?{}:ae.exports).ActivateClientRequest,GT=(ae.exports==null?{}:ae.exports).ActivateClientResponse,HT=(ae.exports==null?{}:ae.exports).DeactivateClientRequest,XT=(ae.exports==null?{}:ae.exports).DeactivateClientResponse,QT=(ae.exports==null?{}:ae.exports).AttachDocumentRequest,ZT=(ae.exports==null?{}:ae.exports).AttachDocumentResponse,eS=(ae.exports==null?{}:ae.exports).DetachDocumentRequest,tS=(ae.exports==null?{}:ae.exports).DetachDocumentResponse,nS=(ae.exports==null?{}:ae.exports).WatchDocumentRequest,rS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse,sS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse_Initialization,iS=(ae.exports==null?{}:ae.exports).RemoveDocumentRequest,oS=(ae.exports==null?{}:ae.exports).RemoveDocumentResponse,aS=(ae.exports==null?{}:ae.exports).PushPullChangesRequest,lS=(ae.exports==null?{}:ae.exports).PushPullChangesResponse,uS=(ae.exports==null?{}:ae.exports).BroadcastRequest,cS=(ae.exports==null?{}:ae.exports).BroadcastResponse,fS=Object.freeze(Object.defineProperty({__proto__:null,ActivateClientRequest:KT,ActivateClientResponse:GT,AttachDocumentRequest:QT,AttachDocumentResponse:ZT,BroadcastRequest:uS,BroadcastResponse:cS,DeactivateClientRequest:HT,DeactivateClientResponse:XT,DetachDocumentRequest:eS,DetachDocumentResponse:tS,PushPullChangesRequest:aS,PushPullChangesResponse:lS,RemoveDocumentRequest:iS,RemoveDocumentResponse:oS,WatchDocumentRequest:nS,WatchDocumentResponse:rS,WatchDocumentResponse_Initialization:sS,default:ym},Symbol.toStringTag,{value:"Module"}));var ai={exports:{}},vm=ai.exports;Object.defineProperty(vm,"__esModule",{value:!0});const{ActivateClientRequest:dS,ActivateClientResponse:hS,AttachDocumentRequest:mS,AttachDocumentResponse:pS,BroadcastRequest:gS,BroadcastResponse:yS,DeactivateClientRequest:vS,DeactivateClientResponse:TS,DetachDocumentRequest:SS,DetachDocumentResponse:wS,PushPullChangesRequest:kS,PushPullChangesResponse:ES,RemoveDocumentRequest:NS,RemoveDocumentResponse:IS,WatchDocumentRequest:_S,WatchDocumentResponse:AS}=ym||fS,{MethodKind:qr}=Iu,OS={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:dS,O:hS,kind:qr.Unary},deactivateClient:{name:"DeactivateClient",I:vS,O:TS,kind:qr.Unary},attachDocument:{name:"AttachDocument",I:mS,O:pS,kind:qr.Unary},detachDocument:{name:"DetachDocument",I:SS,O:wS,kind:qr.Unary},removeDocument:{name:"RemoveDocument",I:NS,O:IS,kind:qr.Unary},pushPullChanges:{name:"PushPullChanges",I:kS,O:ES,kind:qr.Unary},watchDocument:{name:"WatchDocument",I:_S,O:AS,kind:qr.ServerStreaming},broadcast:{name:"Broadcast",I:gS,O:yS,kind:qr.Unary}}};vm.YorkieService=OS,(ai.exports==null?{}:ai.exports).default||ai.exports;const xS=(ai.exports==null?{}:ai.exports).YorkieService;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Xt=null;try{Xt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function se(s,e,n){this.low=s|0,this.high=e|0,this.unsigned=!!n}se.prototype.__isLong__,Object.defineProperty(se.prototype,"__isLong__",{value:!0});function nt(s){return(s&&s.__isLong__)===!0}function Tm(s){var e=Math.clz32(s&-s);return s?31-e:e}se.isLong=nt;var Sm={},wm={};function As(s,e){var n,i,a;return e?(s>>>=0,(a=0<=s&&s<256)&&(i=wm[s],i)?i:(n=me(s,0,!0),a&&(wm[s]=n),n)):(s|=0,(a=-128<=s&&s<128)&&(i=Sm[s],i)?i:(n=me(s,s<0?-1:0,!1),a&&(Sm[s]=n),n))}se.fromInt=As;function Qt(s,e){if(isNaN(s))return e?Nr:cn;if(e){if(s<0)return Nr;if(s>=Em)return Om}else{if(s<=-Nm)return gt;if(s+1>=Nm)return Am}return s<0?Qt(-s,e).neg():me(s%li|0,s/li|0,e)}se.fromNumber=Qt;function me(s,e,n){return new se(s,e,n)}se.fromBits=me;var Fa=Math.pow;function Bu(s,e,n){if(s.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return e?Nr:cn;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Bu(s.substring(1),e,n).neg();for(var a=Qt(Fa(n,8)),u=cn,d=0;d<s.length;d+=8){var h=Math.min(8,s.length-d),p=parseInt(s.substring(d,d+h),n);if(h<8){var g=Qt(Fa(n,h));u=u.mul(g).add(Qt(p))}else u=u.mul(a),u=u.add(Qt(p))}return u.unsigned=e,u}se.fromString=Bu;function un(s,e){return typeof s=="number"?Qt(s,e):typeof s=="string"?Bu(s,e):me(s.low,s.high,typeof e=="boolean"?e:s.unsigned)}se.fromValue=un;var km=1<<16,PS=1<<24,li=km*km,Em=li*li,Nm=Em/2,Im=As(PS),cn=As(0);se.ZERO=cn;var Nr=As(0,!0);se.UZERO=Nr;var ui=As(1);se.ONE=ui;var _m=As(1,!0);se.UONE=_m;var Mu=As(-1);se.NEG_ONE=Mu;var Am=me(-1,2147483647,!1);se.MAX_VALUE=Am;var Om=me(-1,-1,!0);se.MAX_UNSIGNED_VALUE=Om;var gt=me(0,-2147483648,!1);se.MIN_VALUE=gt;var J=se.prototype;J.toInt=function(){return this.unsigned?this.low>>>0:this.low},J.toNumber=function(){return this.unsigned?(this.high>>>0)*li+(this.low>>>0):this.high*li+(this.low>>>0)},J.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(gt)){var n=Qt(e),i=this.div(n),a=i.mul(n).sub(this);return i.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=Qt(Fa(e,6),this.unsigned),d=this,h="";;){var p=d.div(u),g=d.sub(p.mul(u)).toInt()>>>0,T=g.toString(e);if(d=p,d.isZero())return T+h;for(;T.length<6;)T="0"+T;h=""+T+h}},J.getHighBits=function(){return this.high},J.getHighBitsUnsigned=function(){return this.high>>>0},J.getLowBits=function(){return this.low},J.getLowBitsUnsigned=function(){return this.low>>>0},J.getNumBitsAbs=function(){if(this.isNegative())return this.eq(gt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1},J.isZero=function(){return this.high===0&&this.low===0},J.eqz=J.isZero,J.isNegative=function(){return!this.unsigned&&this.high<0},J.isPositive=function(){return this.unsigned||this.high>=0},J.isOdd=function(){return(this.low&1)===1},J.isEven=function(){return(this.low&1)===0},J.equals=function(e){return nt(e)||(e=un(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},J.eq=J.equals,J.notEquals=function(e){return!this.eq(e)},J.neq=J.notEquals,J.ne=J.notEquals,J.lessThan=function(e){return this.comp(e)<0},J.lt=J.lessThan,J.lessThanOrEqual=function(e){return this.comp(e)<=0},J.lte=J.lessThanOrEqual,J.le=J.lessThanOrEqual,J.greaterThan=function(e){return this.comp(e)>0},J.gt=J.greaterThan,J.greaterThanOrEqual=function(e){return this.comp(e)>=0},J.gte=J.greaterThanOrEqual,J.ge=J.greaterThanOrEqual,J.compare=function(e){if(nt(e)||(e=un(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},J.comp=J.compare,J.negate=function(){return!this.unsigned&&this.eq(gt)?gt:this.not().add(ui)},J.neg=J.negate,J.add=function(e){nt(e)||(e=un(e));var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,u=this.low&65535,d=e.high>>>16,h=e.high&65535,p=e.low>>>16,g=e.low&65535,T=0,O=0,E=0,P=0;return P+=u+g,E+=P>>>16,P&=65535,E+=a+p,O+=E>>>16,E&=65535,O+=i+h,T+=O>>>16,O&=65535,T+=n+d,T&=65535,me(E<<16|P,T<<16|O,this.unsigned)},J.subtract=function(e){return nt(e)||(e=un(e)),this.add(e.neg())},J.sub=J.subtract,J.multiply=function(e){if(this.isZero())return this;if(nt(e)||(e=un(e)),Xt){var n=Xt.mul(this.low,this.high,e.low,e.high);return me(n,Xt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Nr:cn;if(this.eq(gt))return e.isOdd()?gt:cn;if(e.eq(gt))return this.isOdd()?gt:cn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Im)&&e.lt(Im))return Qt(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,a=this.high&65535,u=this.low>>>16,d=this.low&65535,h=e.high>>>16,p=e.high&65535,g=e.low>>>16,T=e.low&65535,O=0,E=0,P=0,U=0;return U+=d*T,P+=U>>>16,U&=65535,P+=u*T,E+=P>>>16,P&=65535,P+=d*g,E+=P>>>16,P&=65535,E+=a*T,O+=E>>>16,E&=65535,E+=u*g,O+=E>>>16,E&=65535,E+=d*p,O+=E>>>16,E&=65535,O+=i*T+a*g+u*p+d*h,O&=65535,me(P<<16|U,O<<16|E,this.unsigned)},J.mul=J.multiply,J.divide=function(e){if(nt(e)||(e=un(e)),e.isZero())throw Error("division by zero");if(Xt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Xt.div_u:Xt.div_s)(this.low,this.high,e.low,e.high);return me(n,Xt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Nr:cn;var i,a,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Nr;if(e.gt(this.shru(1)))return _m;u=Nr}else{if(this.eq(gt)){if(e.eq(ui)||e.eq(Mu))return gt;if(e.eq(gt))return ui;var d=this.shr(1);return i=d.div(e).shl(1),i.eq(cn)?e.isNegative()?ui:Mu:(a=this.sub(e.mul(i)),u=i.add(a.div(e)),u)}else if(e.eq(gt))return this.unsigned?Nr:cn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=cn}for(a=this;a.gte(e);){i=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(i)/Math.LN2),p=h<=48?1:Fa(2,h-48),g=Qt(i),T=g.mul(e);T.isNegative()||T.gt(a);)i-=p,g=Qt(i,this.unsigned),T=g.mul(e);g.isZero()&&(g=ui),u=u.add(g),a=a.sub(T)}return u},J.div=J.divide,J.modulo=function(e){if(nt(e)||(e=un(e)),Xt){var n=(this.unsigned?Xt.rem_u:Xt.rem_s)(this.low,this.high,e.low,e.high);return me(n,Xt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},J.mod=J.modulo,J.rem=J.modulo,J.not=function(){return me(~this.low,~this.high,this.unsigned)},J.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},J.clz=J.countLeadingZeros,J.countTrailingZeros=function(){return this.low?Tm(this.low):Tm(this.high)+32},J.ctz=J.countTrailingZeros,J.and=function(e){return nt(e)||(e=un(e)),me(this.low&e.low,this.high&e.high,this.unsigned)},J.or=function(e){return nt(e)||(e=un(e)),me(this.low|e.low,this.high|e.high,this.unsigned)},J.xor=function(e){return nt(e)||(e=un(e)),me(this.low^e.low,this.high^e.high,this.unsigned)},J.shiftLeft=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):me(0,this.low<<e-32,this.unsigned)},J.shl=J.shiftLeft,J.shiftRight=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):me(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},J.shr=J.shiftRight,J.shiftRightUnsigned=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?me(this.high,0,this.unsigned):me(this.high>>>e-32,0,this.unsigned)},J.shru=J.shiftRightUnsigned,J.shr_u=J.shiftRightUnsigned,J.rotateLeft=function(e){var n;return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?me(this.high,this.low,this.unsigned):e<32?(n=32-e,me(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,me(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},J.rotl=J.rotateLeft,J.rotateRight=function(e){var n;return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?me(this.high,this.low,this.unsigned):e<32?(n=32-e,me(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,me(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},J.rotr=J.rotateRight,J.toSigned=function(){return this.unsigned?me(this.low,this.high,!1):this},J.toUnsigned=function(){return this.unsigned?this:me(this.low,this.high,!0)},J.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},J.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},J.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},se.fromBytes=function(e,n,i){return i?se.fromBytesLE(e,n):se.fromBytesBE(e,n)},se.fromBytesLE=function(e,n){return new se(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},se.fromBytesBE=function(e,n){return new se(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var de=(s=>(s.Ok="ok",s.ClientNotActive="client-not-active",s.Unimplemented="unimplemented",s.Unsupported="unsupported",s.DocumentNotAttached="document-not-attached",s.DocumentNotDetached="document-not-detached",s.DocumentRemoved="document-removed",s.InvalidObjectKey="invalid-object-key",s.InvalidArgument="invalid-argument",s))(de||{});class pe extends Error{constructor(e,n){super(n),c(this,"name","YorkieError"),c(this,"stack"),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function fn(s){if(s instanceof Map){const e=Array.from(s);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(s))}const xm=s=>s?Object.entries(s).length===0:!0,ci=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.stringify(i);return e},fi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.parse(i);return e};var Yr=(s=>(s.Put="put",s.Clear="clear",s))(Yr||{});class Ju{constructor(e,n){c(this,"context"),c(this,"presence"),this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:"put",presence:fn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ja="000000000000000000000000",CS="FFFFFFFFFFFFFFFFFFFFFFFF";class ut{constructor(e,n,i){c(this,"lamport"),c(this,"delimiter"),c(this,"actorID"),this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new ut(e,n,i)}static fromStruct(e){return ut.of(se.fromString(e.lamport,!0),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new ut(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport.greaterThan(e.lamport))return 1;if(e.lamport.greaterThan(this.lamport))return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uu=0,DS=4294967295,RS=se.MAX_VALUE,ar=new ut(se.fromNumber(0),Uu,ja);new ut(se.fromNumber(1),Uu+1,ja);const za=new ut(RS,DS,CS);var It=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(It||{});let Os=2;function bS(s){Os=s}const B={trivial:(...s)=>{Os>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Os>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Os>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Os>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Os>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(s,...e)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e)),new Error(`YORKIE F: ${s}`)},isEnabled:s=>Os<=s};function Ir(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Va{constructor(e){c(this,"createdAt"),c(this,"movedAt"),c(this,"removedAt"),this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.getPositionedAt())&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}}class Wr extends Va{constructor(e){super(e)}}class Pm extends Va{}class $u{constructor(e,n){c(this,"strKey"),c(this,"value"),this.strKey=e,this.value=n}static of(e,n){return new $u(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class go{constructor(){c(this,"nodeMapByKey"),c(this,"nodeMapByCreatedAt"),this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new go}set(e,n,i){let a;const u=this.nodeMapByKey.get(e);u!=null&&!u.isRemoved()&&u.remove(i)&&(a=u.getValue());const d=$u.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),d),(u==null||i.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,d),n.setMovedAt(i)),a}delete(e,n){this.nodeMapByCreatedAt.has(e.toIDString())||B.fatal(`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(!!n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n){B.fatal(`fail to find ${e.getCreatedAt().toIDString()}`);return}const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i!=null&&!!i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n==null?!1:!n.isRemoved()}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class yt extends Wr{constructor(e,n){super(e),c(this,"memberNodes"),this.memberNodes=n}static create(e,n){if(!n)return new yt(e,go.create());const i=go.create();for(const[a,u]of Object.entries(n))i.set(a,u.deepcopy(),u.getCreatedAt());return new yt(e,i)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,n,i){return this.memberNodes.set(e,n,i)}delete(e,n){return this.memberNodes.delete(e,n)}deleteByKey(e,n){return this.memberNodes.deleteByKey(e,n)}get(e){const n=this.memberNodes.get(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.memberNodes.getByID(e);return n==null?void 0:n.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[n,i]of this)e.push(`"${Ir(n)}":${i.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[n,i]of this){const{createdAt:a,value:u,type:d}=i.toJSForTest();e[n]={key:n,createdAt:a,value:u,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[n]of this)e.push(n);return e}toSortedJSON(){var e;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const u=(e=this.memberNodes.get(a))==null?void 0:e.getValue();i.push(`"${Ir(a)}":${u.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=yt.create(this.getCreatedAt());for(const n of this.memberNodes)e.memberNodes.set(n.getStrKey(),n.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const n of this.memberNodes){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const n of this.memberNodes)e.has(n.getStrKey())||(e.add(n.getStrKey()),n.isRemoved()||(yield[n.getStrKey(),n.getValue()]))}}var Se=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Se||{});class dn{constructor(e,n){c(this,"parentCreatedAt"),c(this,"executedAt"),this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class Cm{constructor(e){c(this,"value"),c(this,"left"),c(this,"right"),c(this,"parent"),c(this,"weight"),this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class yo{constructor(e){c(this,"root"),this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}return e>n.getLength()&&B.fatal(`out of index range: pos: ${e} > node.length: ${n.getLength()}`),[n,e]}indexOf(e){if(!e||e!==this.root&&!e.hasLinks())return-1;let n=0,i=e,a;for(;i;)(!a||a===i.getRight())&&(n+=i.getLength()+(i.hasLeft()?i.getLeftWeight():0)),a=i,i=i.getParent();return n-e.getLength()}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(!!e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new yo(e.getLeft());n.root&&n.root.setParent();const i=new yo(e.getRight());if(i.root&&i.root.setParent(),n.root){const a=n.getRightmost();n.splayNode(a),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){!e||(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){!e||(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var Ve=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(Ve||{});class _e extends Va{constructor(e,n){super(n),c(this,"valueType"),c(this,"value"),this.valueType=_e.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,n){return new _e(e,n)}static valueFromBytes(e,n){switch(e){case 0:return null;case 1:return!!n[0];case 2:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 4:{const i=new DataView(n.buffer);return n.forEach(function(a,u){i.setUint8(u,a)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(n);case 3:return se.fromBytesLE(Array.from(n));case 6:return n;case 7:return new Date(se.fromBytesLE(Array.from(n),!0).toNumber());default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${Ir(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=_e.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof se)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return _e.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),n}case 5:return new TextEncoder().encode(this.value);case 3:{const n=this.value.toBytesLE();return Uint8Array.from(n)}case 6:return this.value;case 7:{const e=this.value,n=se.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(n)}default:throw new pe(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class qa extends Cm{constructor(e){super(e),c(this,"prev"),c(this,"next"),this.value=e}static createAfter(e,n){const i=new qa(n),a=e.next;return e.next=i,i.prev=e,i.next=a,a&&(a.prev=i),i}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class vo{constructor(){c(this,"dummyHead"),c(this,"last"),c(this,"nodeMapByIndex"),c(this,"nodeMapByCreatedAt");const e=_e.of(0,ar);e.setRemovedAt(ar),this.dummyHead=new qa(e),this.last=this.dummyHead,this.nodeMapByIndex=new yo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new vo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());for(i||B.fatal(`cant find the given node: ${e.toIDString()}`);i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const a=this.findNextBeforeExecutedAt(e,i),u=qa.createAfter(a,n);a===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(a,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u)}moveAfter(e,n,i){const a=this.nodeMapByCreatedAt.get(e.toIDString());a||B.fatal(`cant find the given node: ${e.toIDString()}`);const u=this.nodeMapByCreatedAt.get(n.toIDString());u||B.fatal(`cant find the given node: ${n.toIDString()}`),a!==u&&(!u.getValue().getMovedAt()||i.after(u.getValue().getMovedAt()))&&(this.release(u),this.insertAfter(a.getCreatedAt(),u.getValue(),i),u.getValue().setMovedAt(i))}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(!!n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());n||B.fatal(`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`),this.release(n)}getByIndex(e){if(e>=this.length)return;const[n,i]=this.nodeMapByIndex.find(e);let a=n;if(e===0&&n===this.dummyHead||i>0)do a&&(a=a.getNext());while(a&&a.isRemoved());return a}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),a=i.isRemoved();return i.remove(n)&&!a&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(e,n){const i=this.getByIndex(e);if(!!i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class _t extends Wr{constructor(e,n){super(e),c(this,"elements"),this.elements=n}static create(e,n){if(!n)return new _t(e,vo.create());const i=vo.create();for(const a of n)i.insertAfter(i.getLastCreatedAt(),a.deepcopy());return new _t(e,i)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,n){this.elements.insertAfter(e,n)}moveAfter(e,n,i){this.elements.moveAfter(e,n,i)}get(e){const n=this.elements.getByIndex(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.elements.getByID(e);return n==null?void 0:n.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,n){return this.elements.delete(e,n)}deleteByIndex(e,n){return this.elements.deleteByIndex(e,n)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const n of this.elements){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}toJSON(){const e=[];for(const n of this)e.push(n.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let n=0;n<this.length;n++){const{createdAt:i,value:a,type:u}=this.get(n).toJSForTest();e[n]={key:String(n),createdAt:i,value:a,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=_t.create(this.getCreatedAt());for(const n of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),n.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Kr extends dn{constructor(e,n,i){super(e,i),c(this,"createdAt"),this.createdAt=n}static create(e,n,i){return new Kr(e,n,i)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof Wr||B.fatal(`only object and array can execute remove: ${a}`),n===Se.UndoRedo){let g=a.getByID(this.createdAt);for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.subPathOf(this.createdAt),d=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof _t?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:d}}toReverseOperation(e){if(e instanceof yt){const n=e.subPathOf(this.createdAt);if(n!==void 0){const i=e.get(n);if(i!==void 0)return xs.create(n,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class xs extends dn{constructor(e,n,i,a){super(i,a),c(this,"key"),c(this,"value"),this.key=e,this.value=n}static create(e,n,i,a){return new xs(e,n,i,a)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof yt||B.fatal("fail to execute, only object can execute set"),n===Se.UndoRedo){let g=a;for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.get(this.key),d=this.toReverseOperation(u),h=this.value.deepcopy(),p=a.set(this.key,h,this.getExecutedAt());return n===Se.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let n=Kr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(n=xs.create(this.key,e.deepcopy(),this.getParentCreatedAt())),n}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class To extends dn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"value"),this.prevCreatedAt=n,this.value=i}static create(e,n,i,a){return new To(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof _t||B.fatal("fail to execute, only array can execute add");const i=n,a=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,a),e.registerElement(a,i),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Gr extends dn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"createdAt"),this.prevCreatedAt=n,this.createdAt=i}static create(e,n,i,a){return new Gr(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof _t||B.fatal("fail to execute, only array can execute move");const i=n,a=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const u=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:u,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class di{constructor(e,n,i,a){c(this,"key"),c(this,"value"),c(this,"updatedAt"),c(this,"_isRemoved"),this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=a}static of(e,n,i,a){return new di(e,n,i,a)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}}class _r{constructor(){c(this,"nodeMapByKey"),c(this,"numberOfRemovedElement"),this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new _r}set(e,n,i){const a=this.nodeMapByKey.get(e);if(a===void 0||i.after(a.getUpdatedAt())){a!==void 0&&!a.isRemoved()&&(this.numberOfRemovedElement-=1);const u=di.of(e,n,i,!1);return this.nodeMapByKey.set(e,u),!0}return!1}remove(e,n){const i=this.nodeMapByKey.get(e);if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const d=di.of(e,"",n,!0);return this.nodeMapByKey.set(e,d),""}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1);const u=di.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,u),a?"":i.getValue()}return""}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(!!this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new _r;for(const[,n]of this.nodeMapByKey)e.set(n.getKey(),n.getValue(),n.getUpdatedAt());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${Ir(n)}":"${Ir(i.getValue())}"`);return`{${e.join(",")}}`}toXML(){return this.size()?` ${[...this.nodeMapByKey].filter(([,n])=>n instanceof di&&!n.isRemoved()).sort((n,i)=>n[0].localeCompare(i[0])).map(([n,i])=>`${n}="${JSON.parse(i.getValue())}"`).join(" ")}`:""}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class So{constructor(e){c(this,"attributes"),c(this,"content"),this.attributes=_r.create(),this.content=e}static create(e){return new So(e)}get length(){return this.content.length}substring(e,n){const i=new So(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const e=Ir(this.content),n=this.attributes.toObject(),i=[];for(const[a,u]of Object.entries(n)){const d=JSON.parse(u),h=typeof d=="string"?`"${Ir(a)}":"${Ir(d)}"`:`"${Ir(a)}":${String(d)}`;i.push(h)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}}class hn extends Pm{constructor(e,n){super(n),c(this,"rgaTreeSplit"),this.rgaTreeSplit=e}static create(e,n){return new hn(e,n)}edit(e,n,i,a,u){const d=n?So.create(n):void 0;if(d&&a)for(const[O,E]of Object.entries(a))d.setAttr(O,E,i);const[h,p,g]=this.rgaTreeSplit.edit(e,i,d,u),T=g.map(O=>({...O,value:O.value?{attributes:fi(O.value.getAttributes()),content:O.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[p,T,[h,h]]}setStyle(e,n,i,a){const[,u]=this.rgaTreeSplit.findNodeWithSplit(e[1],i),[,d]=this.rgaTreeSplit.findNodeWithSplit(e[0],i),h=[],p=this.rgaTreeSplit.findBetween(d,u),g=new Map,T=[];for(const O of p){const E=O.getCreatedAt().getActorID(),P=a!=null&&a.size?a.has(E)?a.get(E):ar:za;if(O.canStyle(i,P)){const U=g.get(E),V=O.getCreatedAt();(!U||V.after(U))&&g.set(E,V),T.push(O)}}for(const O of T){if(O.isRemoved())continue;const[E,P]=this.rgaTreeSplit.findIndexesFromRange(O.createPosRange());h.push({type:"style",actor:i.getActorID(),from:E,to:P,value:{attributes:fi(n)}});for(const[U,V]of Object.entries(n))O.getValue().setAttr(U,V,i)}return[g,h]}indexRangeToPosRange(e,n){const i=this.rgaTreeSplit.indexToPos(e);return e===n?[i,i]:[i,this.rgaTreeSplit.indexToPos(n)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const e=[];for(const n of this.rgaTreeSplit)n.isRemoved()||e.push(n.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const n of this.rgaTreeSplit)if(!n.isRemoved()){const i=n.getValue();e.push({attributes:fi(i.getAttributes()),content:i.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}getRemovedNodesLen(){return this.rgaTreeSplit.getRemovedNodesLen()}purgeRemovedNodesBefore(e){return this.rgaTreeSplit.purgeRemovedNodesBefore(e)}deepcopy(){const e=new hn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}}class wo extends dn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"content"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.content=u,this.attributes=d}static create(e,n,i,a,u,d,h){return new wo(e,n,i,a,u,d,h)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof hn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a]=i.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||e.registerElementHasRemovedNodes(i),{opInfos:a.map(({from:u,to:d,value:h})=>({type:"edit",from:u,to:d,value:h,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.content;return`${e}.EDIT(${n},${i},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class ko extends dn{constructor(e,n,i,a,u,d){super(e,d),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u}static create(e,n,i,a,u,d){return new ko(e,n,i,a,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof hn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a]=i.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);return{opInfos:a.map(({from:u,to:d,value:h})=>({type:"style",from:u,to:d,value:h,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.attributes;return`${e}.STYL(${n},${i},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const LS=2,BS="root",Ar="text";function Eo(s,e){let n=0;const i=s.children;for(let a=0;a<e;a++){const u=i[a];!u||u.isRemoved||(n+=u.paddedSize)}return n}class MS{constructor(e,n=[]){if(c(this,"type"),c(this,"parent"),c(this,"_children"),c(this,"size"),this.type=e,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let e=this.parent;const n=this.isRemoved?-1:1;for(;e;)e.size+=this.paddedSize*n,e=e.parent}get isText(){return this.type===Ar}get paddedSize(){return this.size+(this.isText?0:LS)}isAncestorOf(e){return JS(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}splitText(e,n){if(e===0||e===this.size)return;const i=this.value.slice(0,e),a=this.value.slice(e);if(!a.length)return;this.value=i;const u=this.cloneText(e+n);return u.value=a,this.parent.insertAfterInternal(u,this),u}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}append(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize()}prepend(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this,n.isRemoved||n.updateAncestorsSize()}insertBefore(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i),e.updateAncestorsSize()}insertAfter(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize()}insertAt(e,n){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize()}removeChild(e){if(this.isText)throw new Error("Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new Error("child not found");this._children.splice(n,1),e.parent=void 0}splitElement(e,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const a=this.children.slice(0,e),u=this.children.slice(e);this._children=a,i._children=u,this.size=this._children.reduce((d,h)=>d+h.paddedSize,0),i.size=i._children.reduce((d,h)=>d+h.paddedSize,0);for(const d of i._children)d.parent=i;return i}insertAfterInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e){if(this.isText)throw new Error("Text node cannot have children");if(e.isRemoved){const n=this._children.indexOf(e);return this.allChildren.splice(0,n).filter(a=>!a.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new Error("Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function JS(s,e){if(s===e)return!1;for(;e.parent;){if(e.parent===s)return!0;e=e.parent}return!1}var Je=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Je||{});function Dm(s,e,n,i){if(e>n)throw new Error(`from is greater than to: ${e} > ${n}`);if(e>s.size)throw new Error(`from is out of range: ${e} > ${s.size}`);if(n>s.size)throw new Error(`to is out of range: ${n} > ${s.size}`);if(e===n)return;let a=0;for(const u of s.children){if(e-u.paddedSize<a&&a<n){const d=u.isText?e-a:e-a-1,h=u.isText?n-a:n-a-1,p=!u.isText&&d<0,g=!u.isText&&h>u.size;(u.isText||p)&&i([u,u.isText?"Text":"Start"],g),Dm(u,Math.max(0,d),Math.min(h,u.size),i),g&&i([u,"End"],g)}a+=u.paddedSize}}function Fu(s,e,n=0){for(const i of s.children)Fu(i,e,n+1);e(s,n)}function ju(s,e,n=0){for(const i of s._children)ju(i,e,n+1);e(s,n)}function zu(s,e,n=!0){if(e>s.size)throw new Error(`index is out of range: ${e} > ${s.size}`);if(s.isText)return{node:s,offset:e};let i=0,a=0;for(const u of s.children){if(n&&u.isText&&u.size>=e-a)return zu(u,e-a,n);if(e===a)return{node:s,offset:i};if(!n&&u.paddedSize===e-a)return{node:s,offset:i+1};if(u.paddedSize>e-a)return zu(u,e-a-1,n);a+=u.paddedSize,i+=1}return{node:s,offset:i}}function Rm(s){return s.isText||s.children.length===0?s:Rm(s.children[0])}function US(s,e){if(s.size<e)throw new Error("unacceptable path");for(let n=0;n<s.children.length;n++){const i=s.children[n];if(i.size<e)e-=i.size;else{s=i;break}}return{node:s,offset:e}}class $S{constructor(e){c(this,"root"),this.root=e}tokensBetween(e,n,i){Dm(this.root,e,n,i)}traverse(e){Fu(this.root,e,0)}traverseAll(e){ju(this.root,e,0)}findTreePos(e,n=!0){return zu(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");const u=Eo(i.parent,a);n.push(u+e.offset),i=i.parent}else if(i.hasTextChild()){const a=Eo(i,e.offset);n.push(a)}else n.push(e.offset);for(;i.parent;){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");n.push(a),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new Error("unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const a=e[i];if(n=n.children[a],!n)throw new Error("unacceptable path")}if(n.hasTextChild())return US(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new Error("unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.size===i){const a=n.nextSibling;return a||n.parent}return n}return n.children.length===i?n:Rm(n.children[i])}indexOf(e){let{node:n}=e;const{offset:i}=e;let a=0,u=1;if(n.isText){a+=i;const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=Eo(d,h),n=n.parent}else a+=Eo(n,i);for(;n!=null&&n.parent;){const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=Eo(d,h),u++,n=n.parent}return a+u-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}const FS=(s,e)=>s===e?0:s<e?-1:1;class jS{constructor(e,n,i){c(this,"key"),c(this,"value"),c(this,"parent"),c(this,"left"),c(this,"right"),c(this,"isRed"),this.key=e,this.value=n,this.isRed=i}}class zS{constructor(e){c(this,"stack"),this.stack=[],this.traverseInorder(e)}traverseInorder(e){!e||(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class bm{constructor(e){c(this,"root"),c(this,"comparator"),c(this,"counter"),this.comparator=typeof e<"u"?e:FS,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new zS(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root;for(;n;){const i=this.comparator(e,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let a=n.parent,u=n;for(;a&&u===a.left;)u=a,a=a.parent;return a}else return n}}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new jS(e,n,!0);const a=this.comparator(e,i.key);return a<0?i.left=this.putInternal(e,n,i.left):a>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(!!e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class mn{constructor(e,n){c(this,"parentID"),c(this,"leftSiblingID"),this.parentID=e,this.leftSiblingID=n}static of(e,n){return new mn(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,a;return i.isText?(i.parent.children[0]===i&&n===0?a=i.parent:a=i,i=i.parent):n===0?a=i:a=i.children[n-1],mn.of(i.id,Qe.of(a.getCreatedAt(),a.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return mn.of(Qe.of(ut.fromStruct(e.parentID.createdAt),e.parentID.offset),Qe.of(ut.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodes(e){const n=this.getParentID(),i=this.getLeftSiblingID(),a=e.findFloorNode(n);let u=e.findFloorNode(i);if(!a||!u)throw new Error(`cannot find node at ${this}`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[a,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Qe{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new Qe(e,n)}static fromStruct(e){return Qe.of(ut.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class At extends MS{constructor(e,n,i,a,u){super(n),c(this,"id"),c(this,"removedAt"),c(this,"attrs"),c(this,"insPrevID"),c(this,"insNextID"),c(this,"_value",""),this.id=e,this.removedAt=u,a&&(this.attrs=a),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}static create(e,n,i,a){return new At(e,n,i,a)}deepcopy(){var e;const n=new At(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(e=this.attrs)==null?void 0:e.deepcopy(),n._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const n=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),n&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(e){return new At(Qe.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new At(Qe.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,n,i){const a=this.isText?this.splitText(n,this.id.getOffset()):this.splitElement(n,i);if(a){if(a.insPrevID=this.id,this.insNextID){const u=e.findFloorNode(this.insNextID);u.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,e.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}}function Vu(s){var e;if(s.isText){const n=s;return{type:n.type,value:n.value}}return{type:s.type,children:s.children.map(Vu),attributes:s.attrs?fi((e=s.attrs)==null?void 0:e.toObject()):void 0}}function qu(s){var e;return s.isText?s.value:`<${s.type}${((e=s.attrs)==null?void 0:e.toXML())||""}>${s.children.map(n=>qu(n)).join("")}</${s.type}>`}function Lm(s){if(s.isText){const e=s;return{type:e.type,value:e.value,size:e.size,isRemoved:e.isRemoved}}return{type:s.type,children:s.children.map(Lm),size:s.size,isRemoved:s.isRemoved}}class pn extends Pm{constructor(e,n){super(n),c(this,"indexTree"),c(this,"nodeMapByID"),c(this,"removedNodeMap"),this.indexTree=new $S(e),this.nodeMapByID=new bm(Qe.createComparator()),this.removedNodeMap=new Map,this.indexTree.traverse(i=>{this.nodeMapByID.put(i.id,i)})}static create(e,n){return new pn(e,n)}findFloorNode(e){const n=this.nodeMapByID.floorEntry(e);if(!(!n||!n.key.getCreatedAt().equals(e.getCreatedAt())))return n.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,n){const[i,a]=e.toTreeNodes(this);let u=a;const d=i===u,h=u.parent&&!d?u.parent:i;if(u.isText&&u.split(this,e.getLeftSiblingID().getOffset()-u.id.getOffset()),n){const p=h.allChildren,g=d?0:p.indexOf(u)+1;for(let T=g;T<p.length;T++){const O=p[T];if(!O.id.getCreatedAt().after(n))break;u=O}}return[h,u]}style(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,p]=this.findNodesAndSplitText(e[1],i),g=[],T=n?fi(n):{},O=new Map;return this.traverseInPosRange(u,d,h,p,([E])=>{const P=E.getCreatedAt().getActorID();let U=a?a.has(P)?a.get(P):ar:za;if(E.canStyle(i,U)&&!E.isText&&n){U=O.get(P);const V=E.getCreatedAt();(!U||V.after(U))&&O.set(P,V),E.attrs||(E.attrs=new _r);const Q=new Set;for(const[fe,ne]of Object.entries(n))E.attrs.set(fe,ne,i)&&Q.add(fe);if(Q.size>0){const fe=Array.from(Q).reduce((ne,we)=>(ne[we]=T[we],ne),{});g.push({type:"style",from:this.toIndex(u,d),to:this.toIndex(h,p),fromPath:this.toPath(u,d),toPath:this.toPath(h,p),actor:i.getActorID(),value:fe})}}}),[O,g]}removeStyle(e,n,i){const[a,u]=this.findNodesAndSplitText(e[0],i),[d,h]=this.findNodesAndSplitText(e[1],i),p=[],g=n||void 0;return this.traverseInPosRange(a,u,d,h,([T])=>{if(!T.isRemoved&&!T.isText&&n){T.attrs||(T.attrs=new _r);for(const O of n)T.attrs.remove(O,i);p.push({type:"removeStyle",from:this.toIndex(a,u),to:this.toIndex(d,h),fromPath:this.toPath(a,u),toPath:this.toPath(d,h),actor:i.getActorID(),value:g})}}),p}edit(e,n,i,a,u,d){const[h,p]=this.findNodesAndSplitText(e[0],a),[g,T]=this.findNodesAndSplitText(e[1],a),O=this.toIndex(h,p),E=this.toPath(h,p),P=[],U=[],V=[],Q=new Map;this.traverseInPosRange(h,p,g,T,([ne,we],Oe)=>{if(we===Je.Start&&!Oe)for(const Ti of ne.children)V.push(Ti);const $e=ne.getCreatedAt().getActorID(),Ds=d?d.has($e)?d.get($e):ar:za;if(ne.canDelete(a,Ds)||P.includes(ne.parent)){const Ti=Q.get($e),Do=ne.getCreatedAt();(!Ti||Do.after(Ti))&&Q.set($e,Do),(we===Je.Text||we===Je.Start)&&P.push(ne),U.push([ne,we])}});const fe=this.makeDeletionChanges(U,a);for(const ne of P)ne.remove(a),ne.isRemoved&&this.removedNodeMap.set(ne.id.toIDString(),ne);for(const ne of V)ne.removedAt||h.append(ne);if(i>0){let ne=0,we=h,Oe=p;for(;ne<i;)we.split(this,we.findOffset(Oe)+1,u),Oe=we,we=we.parent,ne++;fe.push({type:"content",from:O,to:O,fromPath:E,toPath:E,actor:a.getActorID()})}if(n!=null&&n.length){const ne=[];let we=p;for(const Oe of n)we===h?h.insertAt(Oe,0):h.insertAfter(Oe,we),we=Oe,ju(Oe,$e=>{h.isRemoved&&($e.remove(a),this.removedNodeMap.set($e.id.toIDString(),$e)),this.nodeMapByID.put($e.id,$e)}),Oe.isRemoved||ne.push(Oe);if(ne.length){const Oe=ne.map($e=>Vu($e));fe.length&&fe[fe.length-1].from===O?fe[fe.length-1].value=Oe:fe.push({type:"content",from:O,to:O,fromPath:E,toPath:E,actor:a.getActorID(),value:Oe})}}return[fe,Q]}editT(e,n,i,a,u){const d=this.findPos(e[0]),h=this.findPos(e[1]);this.edit([d,h],n,i,a,u)}move(e,n,i){throw new Error(`not implemented: ${e}, ${n}, ${i}`)}purgeRemovedNodesBefore(e){var n;const i=new Set;let a=0;for(const[,u]of this.removedNodeMap)u.removedAt&&e.compare(u.removedAt)>=0&&(i.add(u),a++);for(const u of i)(n=u.parent)==null||n.removeChild(u),this.nodeMapByID.remove(u.id),this.purge(u),this.removedNodeMap.delete(u.id.toIDString());return a}purge(e){const n=e.insPrevID,i=e.insNextID;if(n){const a=this.findFloorNode(n);a.insNextID=i}if(i){const a=this.findFloorNode(i);a.insPrevID=n}e.insPrevID=void 0,e.insNextID=void 0}findPos(e,n=!0){const i=this.indexTree.findTreePos(e,n);return mn.fromTreePos(i)}getRemovedNodesLen(){return this.removedNodeMap.size}pathToPosRange(e){const n=this.pathToIndex(e);return[this.findPos(n),this.findPos(n+1)]}pathToPos(e){const n=this.indexTree.pathToIndex(e);return this.findPos(n)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getIndexTree(){return this.indexTree}toXML(){return qu(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),n=(i,a=void 0,u=void 0,d=0)=>{var h,p,g,T;let O,E,P;const U=i.isText?{node:i,offset:0}:a&&u?this.toTreePos(a,u):null;U&&(O=this.indexTree.indexOf(U),E=this.indexTree.treePosToPath(U),P=mn.fromTreePos(U).toStruct());const V={type:i.type,parent:a==null?void 0:a.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(h=i.removedAt)==null?void 0:h.toTestString(),insPrev:(p=i.insPrevID)==null?void 0:p.toTestString(),insNext:(g=i.insNextID)==null?void 0:g.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:d,attributes:i.attrs?fi((T=i.attrs)==null?void 0:T.toObject()):void 0,index:O,path:E,pos:P};for(let Q=0;Q<i.children.length;Q++){const fe=Q===0?i:i.children[Q-1];V.children.push(n(i.children[Q],i,fe,d+1))}return V};return n(e)}getRootTreeNode(){return Vu(this.indexTree.getRoot())}toTestTreeNode(){return Lm(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new pn(e.deepcopy(),this.getCreatedAt())}toPath(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.treePosToPath(i):[]}toIndex(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.indexOf(i):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const n=this.findPos(e[0]);return e[0]===e[1]?[n,n]:[n,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[n,i]=e,a=this.findPos(n);return n===i?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toPath(n,i),this.toPath(a,u)]}posRangeToIndexRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toIndex(n,i),this.toIndex(a,u)]}traverseInPosRange(e,n,i,a,u){const d=this.toIndex(e,n),h=this.toIndex(i,a);return this.indexTree.tokensBetween(d,h,u)}toTreePos(e,n){if(!e||!n)return;if(e.isRemoved){let a;for(;e.isRemoved;)a=e,e=a.parent;const u=e.findOffset(a);return{node:e,offset:u}}if(e===n)return{node:e,offset:0};let i=e.findOffset(n);if(!n.isRemoved){if(n.isText)return{node:n,offset:n.paddedSize};i++}return{node:e,offset:i}}makeDeletionChanges(e,n){const i=[],a=[];let u=null,d=null;for(let h=0;h<e.length;h++){const p=e[h],g=e[h+1];u||(u=p),d=p;const T=this.findRightToken(p);(!T||!g||T[0]!==g[0]||T[1]!==g[1])&&(a.push([u,d]),u=null,d=null)}for(const h of a){const[p,g]=h,[T,O]=this.findLeftToken(p),[E,P]=g,U=O===Je.Start?T:T.parent,V=P===Je.Start?E:E.parent,Q=this.toIndex(U,T),fe=this.toIndex(V,E);Q<fe&&(i.length>0&&Q===i[i.length-1].to?(i[i.length-1].to=fe,i[i.length-1].toPath=this.toPath(V,E)):i.push({type:"content",from:Q,to:fe,fromPath:this.toPath(U,T),toPath:this.toPath(V,E),actor:n.getActorID()}))}return i.reverse()}findRightToken([e,n]){if(n===Je.Start){const h=e.allChildren;return h.length>0?[h[0],h[0].isText?Je.Text:Je.Start]:[e,Je.End]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===a.length-1)return[i,Je.End];const d=a[u+1];return[d,d.isText?Je.Text:Je.Start]}findLeftToken([e,n]){if(n===Je.End){const h=e.allChildren;if(h.length>0){const p=h[h.length-1];return[p,p.isText?Je.Text:Je.End]}return[e,Je.Start]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===0)return[i,Je.Start];const d=a[u-1];return[d,d.isText?Je.Text:Je.End]}}class No extends dn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"contents"),c(this,"splitLevel"),c(this,"maxCreatedAtMapByActor"),this.fromPos=n,this.toPos=i,this.contents=a,this.splitLevel=u,this.maxCreatedAtMapByActor=d}static create(e,n,i,a,u,d,h){return new No(e,n,i,a,u,d,h)}execute(e){var n;const i=e.findByCreatedAt(this.getParentCreatedAt());i||B.fatal(`fail to find ${this.getParentCreatedAt()}`),i instanceof pn||B.fatal("fail to execute, only Tree can execute edit");const a=this.getExecutedAt(),u=i,[d]=u.edit([this.fromPos,this.toPos],(n=this.contents)==null?void 0:n.map(h=>h.deepcopy()),this.splitLevel,a,(()=>{let h=a.getDelimiter();return this.contents!==void 0&&(h+=this.contents.length),()=>ut.of(a.getLamport(),++h,a.getActorID())})(),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||e.registerElementHasRemovedNodes(u),{opInfos:d.map(({from:h,to:p,value:g,splitLevel:T,fromPath:O,toPath:E})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:h,to:p,value:g,splitLevel:T,fromPath:O,toPath:E}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${e}.EDIT(${n},${i},${a.map(u=>qu(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Hr{constructor(e,n,i){c(this,"clientSeq"),c(this,"serverSeq"),c(this,"lamport"),c(this,"actor"),this.clientSeq=e,this.lamport=n,this.actor=i}static of(e,n,i){return new Hr(e,n,i)}next(){return new Hr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(e){return e.greaterThan(this.lamport)?new Hr(this.clientSeq,e,this.actor):new Hr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(e){return ut.of(this.lamport,e,this.actor)}setActor(e){return new Hr(this.clientSeq,this.lamport,e)}getClientSeq(){return this.clientSeq}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const VS=new Hr(0,se.fromInt(0,!0),ja);class Ps{constructor({id:e,operations:n,presenceChange:i,message:a}){c(this,"id"),c(this,"operations"),c(this,"presenceChange"),c(this,"message"),this.id=e,this.operations=n||[],this.presenceChange=i,this.message=a}static create({id:e,operations:n,presenceChange:i,message:a}){return new Ps({id:e,operations:n,presenceChange:i,message:a})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const a=[],u=[];for(const d of this.operations){const h=d.execute(e,i);if(!h)continue;const{opInfos:p,reverseOp:g}=h;a.push(...p),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===Yr.Put?n.set(this.id.getActorID(),fn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:a,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Ue.bytesToHex(Ue.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(e=>Ue.bytesToHex(Ue.toOperation(e).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:a,message:u}=e;return Ps.create({id:Ue.bytesToChangeID(Ue.hexToBytes(n)),operations:i==null?void 0:i.map(d=>Ue.bytesToOperation(Ue.hexToBytes(d))),presenceChange:a,message:u})}}class Ya{constructor(e,n,i,a,u,d){c(this,"documentKey"),c(this,"checkpoint"),c(this,"isRemoved"),c(this,"changes"),c(this,"snapshot"),c(this,"minSyncedTicket"),this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=a,this.snapshot=u,this.minSyncedTicket=d}static create(e,n,i,a,u,d){return new Ya(e,n,i,a,u,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class hi{constructor(e,n){c(this,"serverSeq"),c(this,"clientSeq"),this.serverSeq=e,this.clientSeq=n}static of(e,n){return new hi(e,n)}increaseClientSeq(e){return e===0?this:new hi(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq.greaterThan(e.serverSeq)?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return hi.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq.equals(e.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const qS=new hi(se.fromInt(0,!0),0);class lr{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new lr(e,n)}static fromStruct(e){return lr.of(ut.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new lr(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const YS=lr.of(ar,0);class gn{constructor(e,n){c(this,"id"),c(this,"relativeOffset"),this.id=e,this.relativeOffset=n}static of(e,n){return new gn(e,n)}static fromStruct(e){const n=lr.fromStruct(e.id);return gn.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return lr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Xr extends Cm{constructor(e,n,i){super(n),c(this,"id"),c(this,"removedAt"),c(this,"prev"),c(this,"next"),c(this,"insPrev"),c(this,"insNext"),this.id=e,this.removedAt=i}static create(e,n){return new Xr(e,n)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Xr(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[gn.of(this.id,0),gn.of(this.id,this.getLength())]}deepcopy(){return new Xr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const n=this.value;return this.value=n.substring(0,e),n.substring(e,n.length)}}class mi{constructor(){c(this,"head"),c(this,"treeByIndex"),c(this,"treeByID"),c(this,"removedNodeMap"),this.head=Xr.create(YS),this.treeByIndex=new yo,this.treeByID=new bm(Xr.createComparator()),this.removedNodeMap=new Map,this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new mi}edit(e,n,i,a){const[u,d]=this.findNodeWithSplit(e[1],n),[h,p]=this.findNodeWithSplit(e[0],n),g=this.findBetween(p,d),[T,O,E]=this.deleteNodes(g,n,a),P=d?d.getID():u.getID();let U=gn.of(P,0);if(i){const V=this.posToIndex(h.createPosRange()[1],!0),Q=this.insertAfter(h,Xr.create(lr.of(n,0),i));T.length&&T[T.length-1].from===V?T[T.length-1].value=i:T.push({actor:n.getActorID(),from:V,to:V,value:i}),U=gn.of(Q.getID(),Q.getContentLength())}for(const[V,Q]of E)this.removedNodeMap.set(V,Q);return[U,O,T]}indexToPos(e){const[n,i]=this.treeByIndex.find(e),a=n;return gn.of(a.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),a=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);a||B.fatal(`the node of the given id should be found: ${i.toTestString()}`);const u=this.treeByIndex.indexOf(a),d=a.isRemoved()?0:i.getOffset()-a.getID().getOffset();return u+d}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new mi;let n=this.head.getNext(),i=e.head,a;for(;n;){if(a=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const u=e.findNode(n.getInsPrevID());a.setInsPrev(u)}i=a,n=n.getNext()}return e}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let a=this.findFloorNodePreferToLeft(i);const u=i.getOffset()-a.getID().getOffset();for(this.splitNode(a,u);a.hasNext()&&a.getNext().getCreatedAt().after(n);)a=a.getNext();return[a,a.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(n||B.fatal(`the node of the given id should be found: ${e.toTestString()}`),e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(!!n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let a=e;for(;a&&a!==n;)i.push(a),a=a.getNext();return i}splitNode(e,n){if(n>e.getContentLength()&&B.fatal("offset should be less than or equal to length"),n===0)return e;if(n===e.getContentLength())return e.getNext();const i=e.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(e,i);const a=e.getInsNext();return a&&a.setInsPrev(i),i.setInsPrev(e),i}deleteNodes(e,n,i){if(!e.length)return[[],new Map,new Map];const[a,u]=this.filterNodes(e,n,i),d=new Map,h=new Map,p=this.makeChanges(u,n);for(const g of a){const T=g.getCreatedAt().getActorID();(!d.has(T)||g.getID().getCreatedAt().after(d.get(T)))&&d.set(T,g.getID().getCreatedAt()),h.set(g.getID().toIDString(),g),g.remove(n)}return this.deleteIndexNodes(u),[p,d,h]}filterNodes(e,n,i){const a=!!i,u=[],d=[],[h,p]=this.findEdgesOfCandidates(e);d.push(h);for(const g of e){const T=g.getCreatedAt().getActorID(),O=a?i.has(T)?i.get(T):ar:za;g.canDelete(n,O)?u.push(g):d.push(g)}return d.push(p),[u,d]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let a,u;for(let d=0;d<e.length-1;d++){const h=e[d],p=e[d+1];h.getNext()!=p&&([a]=this.findIndexesFromRange(h.getNext().createPosRange()),p?[,u]=this.findIndexesFromRange(p.getPrev().createPosRange()):u=this.treeByIndex.length,a<u&&i.push({actor:n.getActorID(),from:a,to:u}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];i.getNext()!=a&&this.treeByIndex.deleteRange(i,a)}}getRemovedNodesLen(){return this.removedNodeMap.size}purgeRemovedNodesBefore(e){let n=0;for(const[,i]of this.removedNodeMap)i.getRemovedAt()&&e.compare(i.getRemovedAt())>=0&&(this.treeByIndex.delete(i),this.purge(i),this.treeByID.remove(i.getID()),this.removedNodeMap.delete(i.getID().toIDString()),n++);return n}purge(e){const n=e.getPrev(),i=e.getNext(),a=e.getInsPrev(),u=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),a&&a.setInsNext(u),u&&u.setInsPrev(a),e.setInsPrev(void 0),e.setInsNext(void 0)}}const Bm=s=>s<0?Math.ceil(s):Math.floor(s);var ur=(s=>(s[s.IntegerCnt=0]="IntegerCnt",s[s.LongCnt=1]="LongCnt",s))(ur||{});class Ot extends Va{constructor(e,n,i){switch(super(i),c(this,"valueType"),c(this,"value"),this.valueType=e,e){case 0:typeof n=="number"?n>Math.pow(2,31)-1||n<-Math.pow(2,31)?this.value=se.fromNumber(n).toInt():this.value=Bm(n):this.value=n.toInt();break;case 1:typeof n=="number"?this.value=se.fromNumber(n):this.value=n;break;default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}static create(e,n,i){return new Ot(e,n,i)}static valueFromBytes(e,n){switch(e){case 0:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 1:return se.fromBytesLE(Array.from(n));default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ot.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof se?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ot.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const n=this.value.toBytesLE();return Uint8Array.from(n)}default:throw new pe(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function n(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return n(this),n(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ve.Long?this.value=this.value+e.getValue().toInt():this.value=se.fromNumber(this.value+Bm(e.getValue())).toInt(),this}}class pi extends dn{constructor(e,n,i){super(e,i),c(this,"value"),this.value=n}static create(e,n,i){return new pi(e,n,i)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Ot||B.fatal("fail to execute, only Counter can execute increase");const i=n,a=this.value.deepcopy();return i.increase(a),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),i=e.getType()===Ve.Long?e.getValue().multiply(-1):e.getValue()*-1;return pi.create(this.getParentCreatedAt(),_e.of(i,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Or extends dn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),c(this,"attributesToRemove"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u,this.attributesToRemove=d}static create(e,n,i,a,u,d){return new Or(e,n,i,a,u,new Array,d)}static createTreeRemoveStyleOperation(e,n,i,a,u){return new Or(e,n,i,new Map,new Map,a,u)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof pn||B.fatal("fail to execute, only Tree can execute edit");const i=n;let a;if(this.attributes.size){const u={};[...this.attributes].forEach(([h,p])=>u[h]=p);const[,d]=i.style([this.fromPos,this.toPos],u,this.getExecutedAt(),this.maxCreatedAtMapByActor);a=d}else{const u=this.attributesToRemove;a=i.removeStyle([this.fromPos,this.toPos],u,this.getExecutedAt())}return{opInfos:a.map(({from:u,to:d,value:h,fromPath:p})=>({type:"tree-style",from:u,to:d,value:h,fromPath:p,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${n},${i},${Object.entries(this.attributes||{}).map(([a,u])=>`${a}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function WS(s){const e=new dm,n=e.data;for(const[i,a]of Object.entries(s))n[i]=JSON.stringify(a);return e}function KS(s){if(s.type===Yr.Put)return new Lu({type:po.PUT,presence:WS(s.presence)});if(s.type===Yr.Clear)return new Lu({type:po.CLEAR});throw new pe(de.Unimplemented,"unimplemented type")}function GS(s){return new hm({serverSeq:s.getServerSeqAsString(),clientSeq:s.getClientSeq()})}function Mm(s){return new $a({clientSeq:s.getClientSeq(),lamport:s.getLamportAsString(),actorId:Qu(s.getActorID())})}function K(s){if(!!s)return new pm({lamport:s.getLamportAsString(),delimiter:s.getDelimiter(),actorId:Qu(s.getActorID())})}function Jm(s){switch(s){case Ve.Null:return oe.NULL;case Ve.Boolean:return oe.BOOLEAN;case Ve.Integer:return oe.INTEGER;case Ve.Long:return oe.LONG;case Ve.Double:return oe.DOUBLE;case Ve.String:return oe.STRING;case Ve.Bytes:return oe.BYTES;case Ve.Date:return oe.DATE;default:throw new pe(de.Unsupported,`unsupported type: ${s}`)}}function Um(s){switch(s){case ur.IntegerCnt:return oe.INTEGER_CNT;case ur.LongCnt:return oe.LONG_CNT;default:throw new pe(de.Unsupported,`unsupported type: ${s}`)}}function Yu(s){if(s instanceof yt)return new _s({type:oe.JSON_OBJECT,createdAt:K(s.getCreatedAt()),value:ep(s)});if(s instanceof _t)return new _s({type:oe.JSON_ARRAY,createdAt:K(s.getCreatedAt()),value:kw(s)});if(s instanceof hn)return new _s({type:oe.TEXT,createdAt:K(s.getCreatedAt())});if(s instanceof _e)return new _s({type:Jm(s.getType()),createdAt:K(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ot)return new _s({type:Um(s.getType()),createdAt:K(s.getCreatedAt()),value:s.toBytes()});if(s instanceof pn)return new _s({type:oe.TREE,createdAt:K(s.getCreatedAt()),value:Nw(s)});throw new pe(de.Unimplemented,"unimplemented element")}function HS(s){return new am({createdAt:K(s.getCreatedAt()),offset:s.getOffset()})}function Wa(s){return new mm({createdAt:K(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Ka(s){return new fm({parentId:Io(s.getParentID()),leftSiblingId:Io(s.getLeftSiblingID())})}function Io(s){return new cm({createdAt:K(s.getCreatedAt()),offset:s.getOffset()})}function $m(s){const e=new Ru;if(s instanceof xs){const n=s,i=new zh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(s instanceof To){const n=s,i=new Vh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.prevCreatedAt=K(n.getPrevCreatedAt()),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(s instanceof Gr){const n=s,i=new qh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.prevCreatedAt=K(n.getPrevCreatedAt()),i.createdAt=K(n.getCreatedAt()),i.executedAt=K(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(s instanceof Kr){const n=s,i=new Yh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.createdAt=K(n.getCreatedAt()),i.executedAt=K(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(s instanceof wo){const n=s,i=new Wh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Wa(n.getFromPos()),i.to=Wa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);i.content=n.getContent();const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=K(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(s instanceof ko){const n=s,i=new Kh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Wa(n.getFromPos()),i.to=Wa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=K(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(s instanceof pi){const n=s,i=new Gh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(s instanceof No){const n=s,i=new Hh,a=i.createdAtMapByActor;for(const[u,d]of n.getMaxCreatedAtMapByActor())a[u]=K(d);i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Ka(n.getFromPos()),i.to=Ka(n.getToPos()),i.contents=rw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=K(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(s instanceof Or){const n=s,i=new Xh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Ka(n.getFromPos()),i.to=Ka(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);const u=n.getAttributesToRemove();if(u.length>0)i.attributesToRemove=u;else{const d=i.attributes;for(const[h,p]of n.getAttributes())d[h]=p}i.executedAt=K(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else throw new pe(de.Unimplemented,"unimplemented operation");return e}function XS(s){const e=[];for(const n of s)e.push($m(n));return e}function QS(s){const e=new jh({id:Mm(s.getID()),message:s.getMessage()});return s.hasOperations()&&(e.operations=XS(s.getOperations())),s.hasPresenceChange()&&(e.presenceChange=KS(s.getPresenceChange())),e}function ZS(s){const e=[];for(const n of s)e.push(QS(n));return e}function ew(s){const e=[];for(const n of s)e.push(new sm({key:n.getStrKey(),element:Wu(n.getValue())}));return e}function tw(s){const e=[];for(const n of s)e.push(new im({element:Wu(n.getValue())}));return e}function nw(s){const e=[];for(const n of s){const i=new om;i.id=HS(n.getID()),i.value=n.getValue().getContent(),i.removedAt=K(n.getRemovedAt());const a=i.attributes,u=n.getValue().getAttrs();for(const d of u){const h=new bu;h.value=d.getValue(),h.updatedAt=K(d.getUpdatedAt()),a[d.getKey()]=h}e.push(i)}return e}function rw(s){const e=[];if(!s||!s.length)return e;for(const n of s)e.push(new um({content:Fm(n)}));return e}function Fm(s){if(!s)return[];const e=[];return Fu(s,(n,i)=>{const a=new lm({id:Io(n.id),type:n.type,removedAt:K(n.removedAt),depth:i});if(n.isText&&(a.value=n.value),n.insPrevID&&(a.insPrevId=Io(n.insPrevID)),n.insNextID&&(a.insNextId=Io(n.insNextID)),n.attrs)for(const u of n.attrs)a.attributes[u.getKey()]=new bu({value:u.getValue(),updatedAt:K(u.getUpdatedAt())});e.push(a)}),e}function sw(s){const e=new or;return e.body.case="jsonObject",e.body.value=new Qh({nodes:ew(s.getRHT()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function jm(s){const e=new or;return e.body.case="jsonArray",e.body.value=new Zh({nodes:tw(s.getElements()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function iw(s){const e=new or;return e.body.case="primitive",e.body.value=new em({type:Jm(s.getType()),value:s.toBytes(),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function ow(s){const e=new or;return e.body.case="text",e.body.value=new tm({nodes:nw(s.getRGATreeSplit()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function aw(s){const e=new or;return e.body.case="counter",e.body.value=new nm({type:Um(s.getType()),value:s.toBytes(),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function zm(s){const e=new or;return e.body.case="tree",e.body.value=new rm({nodes:Fm(s.getRoot()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function Wu(s){if(s instanceof yt)return sw(s);if(s instanceof _t)return jm(s);if(s instanceof _e)return iw(s);if(s instanceof hn)return ow(s);if(s instanceof Ot)return aw(s);if(s instanceof pn)return zm(s);throw new pe(de.Unimplemented,"unimplemented element")}function lw(s){return new Fh({documentKey:s.getDocumentKey(),checkpoint:GS(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:ZS(s.getChanges()),snapshot:s.getSnapshot(),minSyncedTicket:K(s.getMinSyncedTicket())})}function Vm(s){return Hr.of(s.clientSeq,se.fromString(s.lamport,!0),Xu(s.actorId))}function H(s){if(!!s)return ut.of(se.fromString(s.lamport,!0),s.delimiter,Xu(s.actorId))}function Ku(s){const e={};return Object.entries(s.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function uw(s){const e=s.type;if(e===po.PUT){const n=Ku(s.presence);return{type:Yr.Put,presence:n}}if(e===po.CLEAR)return{type:Yr.Clear};throw new pe(de.Unsupported,`unsupported type: ${e}`)}function cw(s){const e=new Map;return Object.entries(s).forEach(([n,i])=>{e.set(n,Ku(i))}),e}function qm(s){switch(s){case oe.NULL:return Ve.Null;case oe.BOOLEAN:return Ve.Boolean;case oe.INTEGER:return Ve.Integer;case oe.LONG:return Ve.Long;case oe.DOUBLE:return Ve.Double;case oe.STRING:return Ve.String;case oe.BYTES:return Ve.Bytes;case oe.DATE:return Ve.Date}throw new pe(de.Unimplemented,`unimplemented value type: ${s}`)}function Ga(s){switch(s){case oe.INTEGER_CNT:return ur.IntegerCnt;case oe.LONG_CNT:return ur.LongCnt}throw new pe(de.Unimplemented,`unimplemented value type: ${s}`)}function Gu(s){switch(s.type){case oe.JSON_OBJECT:return s.value?Zm(s.value):yt.create(H(s.createdAt));case oe.JSON_ARRAY:return s.value?ww(s.value):_t.create(H(s.createdAt));case oe.TEXT:return hn.create(mi.create(),H(s.createdAt));case oe.TREE:return Ew(s.value);case oe.NULL:case oe.BOOLEAN:case oe.INTEGER:case oe.LONG:case oe.DOUBLE:case oe.STRING:case oe.BYTES:case oe.DATE:return _e.of(_e.valueFromBytes(qm(s.type),s.value),H(s.createdAt));case oe.INTEGER_CNT:case oe.LONG_CNT:return Ot.create(Ga(s.type),Ot.valueFromBytes(Ga(s.type),s.value),H(s.createdAt))}}function Ha(s){return gn.of(lr.of(H(s.createdAt),s.offset),s.relativeOffset)}function Ym(s){return lr.of(H(s.createdAt),s.offset)}function fw(s){const e=So.create(s.value);Object.entries(s.attributes).forEach(([i,a])=>{e.setAttr(i,a.value,H(a.updatedAt))});const n=Xr.create(Ym(s.id),e);return n.remove(H(s.removedAt)),n}function gi(s){return mn.of(_o(s.parentId),_o(s.leftSiblingId))}function _o(s){return Qe.of(H(s.createdAt),s.offset)}function dw(s){if(!s.length)return;const e=[];return s.forEach(n=>{const i=Wm(n.content);e.push(i)}),e}function Wm(s){if(s.length===0)return;const e=[];for(const i of s)e.push(hw(i));const n=e[e.length-1];for(let i=e.length-2;i>=0;i--){let a;for(let u=i+1;u<e.length;u++)if(s[i].depth-1===s[u].depth){a=e[u];break}a.prepend(e[i])}return pn.create(n,ar).getRoot()}function hw(s){const e=_o(s.id),n=At.create(e,s.type);if(n.isText)n.value=s.value;else{const i=_r.create();Object.entries(s.attributes).forEach(([a,u])=>{i.set(a,u.value,H(u.updatedAt))}),n.attrs=i}return s.insPrevId&&(n.insPrevID=_o(s.insPrevId)),s.insNextId&&(n.insNextID=_o(s.insNextId)),n.removedAt=H(s.removedAt),n}function Km(s){if(s.body.case==="set"){const e=s.body.value;return xs.create(e.key,Gu(e.value),H(e.parentCreatedAt),H(e.executedAt))}else if(s.body.case==="add"){const e=s.body.value;return To.create(H(e.parentCreatedAt),H(e.prevCreatedAt),Gu(e.value),H(e.executedAt))}else if(s.body.case==="move"){const e=s.body.value;return Gr.create(H(e.parentCreatedAt),H(e.prevCreatedAt),H(e.createdAt),H(e.executedAt))}else if(s.body.case==="remove"){const e=s.body.value;return Kr.create(H(e.parentCreatedAt),H(e.createdAt),H(e.executedAt))}else if(s.body.case==="edit"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,H(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),wo.create(H(e.parentCreatedAt),Ha(e.from),Ha(e.to),n,e.content,i,H(e.executedAt))}else if(s.body.case==="style"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,H(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),ko.create(H(e.parentCreatedAt),Ha(e.from),Ha(e.to),n,i,H(e.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const e=s.body.value;return pi.create(H(e.parentCreatedAt),Gu(e.value),H(e.executedAt))}else if(s.body.case==="treeEdit"){const e=s.body.value,n=new Map;return Object.entries(e.createdAtMapByActor).forEach(([i,a])=>{n.set(i,H(a))}),No.create(H(e.parentCreatedAt),gi(e.from),gi(e.to),dw(e.contents),e.splitLevel,n,H(e.executedAt))}else if(s.body.case==="treeStyle"){const e=s.body.value,n=new Map,i=e.attributesToRemove,a=new Map;return Object.entries(e.createdAtMapByActor).forEach(([u,d])=>{a.set(u,H(d))}),i.length>0?Or.createTreeRemoveStyleOperation(H(e.parentCreatedAt),gi(e.from),gi(e.to),i,H(e.executedAt)):(Object.entries(e.attributes).forEach(([u,d])=>{n.set(u,d)}),Or.create(H(e.parentCreatedAt),gi(e.from),gi(e.to),a,n,H(e.executedAt)))}else throw new pe(de.Unimplemented,"unimplemented operation")}}function mw(s){const e=[];for(const n of s){const i=Km(n);i&&e.push(i)}return e}function Gm(s){const e=[];for(const n of s)e.push(Ps.create({id:Vm(n.id),operations:mw(n.operations),presenceChange:n.presenceChange?uw(n.presenceChange):void 0,message:n.message}));return e}function pw(s){return hi.of(se.fromString(s.serverSeq,!0),s.clientSeq)}function gw(s){return Ya.create(s.documentKey,pw(s.checkpoint),s.isRemoved,Gm(s.changes),s.snapshot,H(s.minSyncedTicket))}function Hm(s){const e=new go;for(const i of s.nodes){const a=Hu(i.element);e.set(i.key,a,a.getPositionedAt())}const n=new yt(H(s.createdAt),e);return n.setMovedAt(H(s.movedAt)),n.setRemovedAt(H(s.removedAt)),n}function Xm(s){const e=new vo;for(const i of s.nodes)e.insert(Hu(i.element));const n=new _t(H(s.createdAt),e);return n.setMovedAt(H(s.movedAt)),n.setRemovedAt(H(s.removedAt)),n}function yw(s){const e=_e.of(_e.valueFromBytes(qm(s.type),s.value),H(s.createdAt));return e.setMovedAt(H(s.movedAt)),e.setRemovedAt(H(s.removedAt)),e}function vw(s){const e=new mi;let n=e.getHead();for(const a of s.nodes){const u=e.insertAfter(n,fw(a));a.insPrevId&&u.setInsPrev(e.findNode(Ym(a.insPrevId))),n=u}const i=new hn(e,H(s.createdAt));return i.setMovedAt(H(s.movedAt)),i.setRemovedAt(H(s.removedAt)),i}function Tw(s){const e=Ot.create(Ga(s.type),Ot.valueFromBytes(Ga(s.type),s.value),H(s.createdAt));return e.setMovedAt(H(s.movedAt)),e.setRemovedAt(H(s.removedAt)),e}function Qm(s){const e=Wm(s.nodes);return pn.create(e,H(s.createdAt))}function Hu(s){if(s.body.case==="jsonObject")return Hm(s.body.value);if(s.body.case==="jsonArray")return Xm(s.body.value);if(s.body.case==="primitive")return yw(s.body.value);if(s.body.case==="text")return vw(s.body.value);if(s.body.case==="counter")return Tw(s.body.value);if(s.body.case==="tree")return Qm(s.body.value);throw new pe(de.Unimplemented,"unimplemented element")}function Sw(s){if(!s)return{root:yt.create(ar),presences:new Map};const e=$h.fromBinary(s);return{root:Hu(e.root),presences:cw(e.presences)}}function Zm(s){if(!s)throw new Error("bytes is empty");const e=or.fromBinary(s);return Hm(e.body.value)}function ep(s){return Wu(s).toBinary()}function ww(s){if(!s)throw new Error("bytes is empty");const e=or.fromBinary(s);return Xm(e.body.value)}function kw(s){return jm(s).toBinary()}function Ew(s){if(!s)throw new Error("bytes is empty");const e=or.fromBinary(s);return Qm(e.body.value)}function Nw(s){return zm(s).toBinary()}function tp(s){return s?Array.from(s).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Xu(s){return tp(s)}function np(s){return new Uint8Array(s.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Qu(s){return np(s)}function Iw(s){const e=$a.fromBinary(s);return Vm(e)}function _w(s){const e=Ru.fromBinary(s);return Km(e)}const Ue={fromPresence:Ku,toChangePack:lw,fromChangePack:gw,fromChanges:Gm,objectToBytes:ep,bytesToObject:Zm,bytesToSnapshot:Sw,bytesToHex:tp,hexToBytes:np,toHexString:Xu,toUint8Array:Qu,toOperation:$m,toChangeID:Mm,PbChangeID:$a,bytesToChangeID:Iw,bytesToOperation:_w};function rp(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16)})}class Aw{constructor(e,n,i,a){c(this,"reconnectStreamDelay"),c(this,"doc"),c(this,"docID"),c(this,"syncMode"),c(this,"remoteChangeEventReceived"),c(this,"watchStream"),c(this,"watchLoopTimerID"),c(this,"watchAbortController"),this.reconnectStreamDelay=e,this.doc=n,this.docID=i,this.syncMode=a,this.remoteChangeEventReceived=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===tl.RealtimeSyncOff?!1:this.syncMode!==tl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Zu=()=>{};class Ow{constructor(e){c(this,"finalized",!1),c(this,"observers",[]),c(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;e||B.fatal("missing observer"),this.finalized&&B.fatal("observable is finalized due to previous error"),typeof e=="object"?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zu),a.error===void 0&&(a.error=Zu),a.complete===void 0&&(a.complete=Zu);const u=rp(),d=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:a}),this.finalized)try{this.finalError?a.error(this.finalError):a.complete()}catch(h){B.warn(h)}return d}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){B.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function xw(s){const e=new Ow(s);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class yi{constructor(e,n,i,a){c(this,"id"),c(this,"delimiter"),c(this,"message"),c(this,"root"),c(this,"operations"),c(this,"presenceChange"),c(this,"previousPresence"),c(this,"reversePresenceKeys"),this.id=e,this.delimiter=Uu,this.root=n,this.operations=[],this.previousPresence=fn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=a}static create(e,n,i,a){return new yi(e,n,i,a)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerElementHasRemovedNodes(e){this.root.registerElementHasRemovedNodes(e)}getChange(){return Ps.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Ao{constructor(e){c(this,"rootObject"),c(this,"elementPairMapByCreatedAt"),c(this,"removedElementSetByCreatedAt"),c(this,"elementHasRemovedNodesSetByCreatedAt"),this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.removedElementSetByCreatedAt=new Set,this.elementHasRemovedNodesSetByCreatedAt=new Set,this.registerElement(e,void 0)}static create(){return new Ao(yt.create(ar))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!!n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const a=n.element.getCreatedAt(),u=n.parent.subPathOf(a);u===void 0&&B.fatal(`cant find the given element: ${a.toIDString()}`),i.unshift(u),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),e instanceof Wr&&e.getDescendants((i,a)=>(this.registerElement(i,a),!1))}deregisterElement(e){let n=0;const i=a=>{const u=a.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(u),this.removedElementSetByCreatedAt.delete(u),n++};return i(e),e instanceof Wr&&e.getDescendants(a=>(i(a),!1)),n}registerRemovedElement(e){this.removedElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerElementHasRemovedNodes(e){this.elementHasRemovedNodesSetByCreatedAt.add(e.getCreatedAt().toIDString())}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getRemovedElementSetSize(){return this.removedElementSetByCreatedAt.size}getObject(){return this.rootObject}getGarbageLen(){let e=0;const n=new Set;for(const i of this.removedElementSetByCreatedAt){n.add(i);const a=this.elementPairMapByCreatedAt.get(i);a.element instanceof Wr&&a.element.getDescendants(u=>(n.add(u.getCreatedAt().toIDString()),!1))}e+=n.size;for(const i of this.elementHasRemovedNodesSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(i).element;e+=u.getRemovedNodesLen()}return e}deepcopy(){return new Ao(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.removedElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(i);a.element.getRemovedAt()&&e.compare(a.element.getRemovedAt())>=0&&(a.parent.purge(a.element),n+=this.deregisterElement(a.element))}for(const i of this.elementHasRemovedNodesSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(i).element,d=u.purgeRemovedNodesBefore(e);u.getRemovedNodesLen()===0&&this.elementHasRemovedNodesSetByCreatedAt.delete(u.getCreatedAt().toIDString()),n+=d}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function sp(s,e){const n=new Oo(s);return new Proxy(e,n.getHandlers())}class Oo{constructor(e){c(this,"context"),c(this,"handlers"),this.context=e,this.handlers={set:(n,i,a)=>(B.isEnabled(It.Trivial)&&B.trivial(`obj[${i}]=${JSON.stringify(a)}`),Oo.setInternal(e,n,i,a),!0),get:(n,i)=>(B.isEnabled(It.Trivial)&&B.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Cs(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(B.isEnabled(It.Trivial)&&B.trivial(`obj[${i}]`),Oo.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,a){if(i.includes("."))throw new pe(de.InvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),d=Xa(e,a,u),h=n.set(i,d,u);e.registerElement(d,n),h&&e.registerRemovedElement(h),e.push(xs.create(i,d.deepcopy(),n.getCreatedAt(),u))}static buildObjectMembers(e,n){const i={};for(const[a,u]of Object.entries(n)){if(a.includes("."))throw new pe(de.InvalidObjectKey,"key must not contain the '.'.");const d=e.issueTimeTicket(),h=Xa(e,u,d);i[a]=h}return i}static deleteInternal(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByKey(i,a);!u||(e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function Pw(s,e){const n=new Re(s,e);return new Proxy(e,n.getHandlers())}function Cw(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function Dw(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Re{constructor(e,n){c(this,"context"),c(this,"handlers"),c(this,"array"),this.context=e,this.array=n,this.handlers={get:(i,a,u)=>a==="getID"?()=>i.getCreatedAt():a==="getElementByID"?d=>{const h=i.getByID(d);if(!(!h||h.isRemoved()))return Qr(e,h)}:a==="getElementByIndex"?d=>{const h=i.get(d);return Qr(e,h)}:a==="getLast"?()=>Qr(e,i.getLast()):a==="deleteByID"?d=>{const h=Re.deleteInternalByID(e,i,d);return Qr(e,h)}:a==="insertAfter"?(d,h)=>{const p=Re.insertAfterInternal(e,i,d,h);return Qr(e,p)}:a==="insertBefore"?(d,h)=>{const p=Re.insertBeforeInternal(e,i,d,h);return Qr(e,p)}:a==="moveBefore"?(d,h)=>{Re.moveBeforeInternal(e,i,d,h)}:a==="moveAfter"?(d,h)=>{Re.moveAfterInternal(e,i,d,h)}:a==="moveFront"?d=>{Re.moveFrontInternal(e,i,d)}:a==="moveLast"?d=>{Re.moveLastInternal(e,i,d)}:Cw(a)?Cs(e,i.get(Number(a))):a==="push"?d=>Re.pushInternal(e,i,d):a==="splice"?(d,h,...p)=>Re.splice(e,i,d,h,...p):a==="length"?i.length:typeof a=="symbol"&&a===Symbol.iterator?Re.iteratorInternal.bind(this,e,i):a==="includes"?(d,h)=>Re.includes(e,i,d,h):a==="indexOf"?(d,h)=>Re.indexOf(e,i,d,h):a==="lastIndexOf"?(d,h)=>Re.lastIndexOf(e,i,d,h):a==="toJSForTest"?()=>i.toJSForTest():a==="toTestString"?()=>Re.toTestString(i):typeof a=="string"&&Dw(a)?(...d)=>{const h=Array.from(i).map(p=>Cs(e,p));return Array.prototype[a].apply(h,d)}:Reflect.get(i,a,u),deleteProperty:(i,a)=>(B.isEnabled(It.Trivial)&&B.trivial(`array[${a}]`),Re.deleteInternalByIndex(e,i,Number.parseInt(a)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield Qr(e,i)}static buildArrayElements(e,n){const i=[];for(const a of n){const u=e.issueTimeTicket(),d=Xa(e,a,u);i.push(d)}return i}static pushInternal(e,n,i){return Re.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,a){const u=e.issueTimeTicket(),d=n.getPrevCreatedAt(i);n.moveAfter(d,a,u),e.push(Gr.create(n.getCreatedAt(),d,a,u))}static moveAfterInternal(e,n,i,a){const u=e.issueTimeTicket();n.moveAfter(i,a,u),e.push(Gr.create(n.getCreatedAt(),i,a,u))}static moveFrontInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getHead();n.moveAfter(u.getCreatedAt(),i,a),e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),i,a))}static moveLastInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getLastCreatedAt();n.moveAfter(u,i,a),e.push(Gr.create(n.getCreatedAt(),u,i,a))}static insertAfterInternal(e,n,i,a){const u=e.issueTimeTicket(),d=Xa(e,a,u);return n.insertAfter(i,d),e.registerElement(d,n),e.push(To.create(n.getCreatedAt(),i,d.deepcopy(),u)),d}static insertBeforeInternal(e,n,i,a){return Re.insertAfterInternal(e,n,n.getPrevCreatedAt(i),a)}static deleteInternalByIndex(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByIndex(i,a);if(!!u)return e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static deleteInternalByID(e,n,i){const a=e.issueTimeTicket(),u=n.delete(i,a);return e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static splice(e,n,i,a,...u){const d=n.length,h=i>=0?Math.min(i,d):Math.max(d+i,0),p=a===void 0?d:a<0?h:Math.min(h+a,d),g=[];for(let T=h;T<p;T++){const O=Re.deleteInternalByIndex(e,n,h);if(O){const E=O.deepcopy();E.setRemovedAt(),g.push(Cs(e,E))}}if(u){let T=h===0?n.getHead().getID():n.get(h-1).getID();for(const O of u)T=Re.insertAfterInternal(e,n,T,O).getID()}return g}static includes(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return!1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).includes(i,h);for(let p=h;p<d;p++)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return-1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).indexOf(i,h);for(let p=h;p<d;p++)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return p;return-1}static lastIndexOf(e,n,i,a){var u;const d=n.length,h=a===void 0||a>=d?d-1:a<0?a+d:a;if(h<0)return-1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).lastIndexOf(i,h);for(let p=h;p>0;p--)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return p;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class xo{constructor(e,n){c(this,"context"),c(this,"text"),this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,a){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}if(e>n){B.fatal("from should be less than or equal to to");return}const u=this.text.indexRangeToPosRange(e,n);B.isEnabled(It.Debug)&&B.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${n}->${u[1].toTestString()} c:${i}`);const d=a?ci(a):void 0,h=this.context.issueTimeTicket(),[p,,g]=this.text.edit(u,i,h,d);return this.context.push(new wo(this.text.getCreatedAt(),u[0],u[1],p,i,d?new Map(Object.entries(d)):new Map,h)),u[0].equals(u[1])||this.context.registerElementHasRemovedNodes(this.text),this.text.findIndexesFromRange(g)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)return B.fatal("it is not initialized yet"),!1;if(e>n)return B.fatal("from should be less than or equal to to"),!1;const a=this.text.indexRangeToPosRange(e,n);B.isEnabled(It.Debug)&&B.debug(`STYL: f:${e}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} a:${JSON.stringify(i)}`);const u=ci(i),d=this.context.issueTimeTicket(),[h]=this.text.setStyle(a,u,d);return this.context.push(new ko(this.text.getCreatedAt(),a[0],a[1],h,new Map(Object.entries(u)),d)),!0}indexRangeToPosRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.findIndexesFromRange([gn.fromStruct(e[0]),gn.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(B.fatal("it is not initialized yet"),""):this.text.toString()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(e,n)}}class Po{constructor(e,n){c(this,"valueType"),c(this,"value"),c(this,"context"),c(this,"counter"),this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter){B.fatal("it is not initialized yet");return}const n=this.context.issueTimeTicket(),i=_e.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(pi.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function ec(s,e,n){const{type:i}=s,a=n.issueTimeTicket();if(i===Ar){ip(s);const{value:u}=s,d=At.create(Qe.of(a,0),i,u);e.append(d)}else{const{children:u=[]}=s;let{attributes:d}=s,h;if(typeof d=="object"&&!xm(d)){d=ci(d),h=new _r;for(const[g,T]of Object.entries(d))h.set(g,T,a)}const p=At.create(Qe.of(a,0),i,void 0,h);e.append(p);for(const g of u)ec(g,p,n)}}function Rw(s,e){const{type:n}=e,i=s.issueTimeTicket();let a;if(e.type===Ar){const{value:u}=e;a=At.create(Qe.of(i,0),n,u)}else if(e){const{children:u=[]}=e;let{attributes:d}=e,h;if(typeof d=="object"&&!xm(d)){d=ci(d),h=new _r;for(const[p,g]of Object.entries(d))h.set(p,g,i)}a=At.create(Qe.of(s.issueTimeTicket(),0),n,void 0,h);for(const p of u)ec(p,a,s)}return a}function ip(s){if(!s.value.length)throw new Error("text node cannot have empty value");return!0}function op(s){if(!s.length)return!0;if(s[0].type===Ar)for(const n of s){const{type:i}=n;if(i!==Ar)throw new Error("element node and text node cannot be passed together");ip(n)}else for(const n of s){const{type:i}=n;if(i===Ar)throw new Error("element node and text node cannot be passed together")}return!0}class Co{constructor(e){c(this,"initialRoot"),c(this,"context"),c(this,"tree"),this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return At.create(Qe.of(e.issueTimeTicket(),0),BS);const n=At.create(Qe.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)ec(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(e,n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!e.length)throw new Error("path should not be empty");const[i,a]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),d=n?ci(n):void 0,[h]=this.tree.style([i,a],d,u,void 0);this.context.push(Or.create(this.tree.getCreatedAt(),i,a,h,d?new Map(Object.entries(d)):new Map,u))}style(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),h=i?ci(i):void 0,[p]=this.tree.style([a,u],h,d,void 0);this.context.push(Or.create(this.tree.getCreatedAt(),a,u,p,h?new Map(Object.entries(h)):new Map,d))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket();this.tree.removeStyle([a,u],i,d),this.context.push(Or.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),a,u,i,d))}editInternal(e,n,i,a=0){var u;if(i.length!==0&&i[0]&&(op(i),i[0].type!==Ar))for(const g of i){const{children:T=[]}=g;op(T)}const d=this.context.getLastTimeTicket();let h=new Array;if(((u=i[0])==null?void 0:u.type)===Ar){let g="";for(const T of i){const{value:O}=T;g+=O}h.push(At.create(Qe.of(this.context.issueTimeTicket(),0),Ar,g))}else h=i.map(g=>g&&Rw(this.context,g)).filter(g=>g);const[,p]=this.tree.edit([e,n],h.length?h.map(g=>g==null?void 0:g.deepcopy()):void 0,a,d,()=>this.context.issueTimeTicket());return this.context.push(No.create(this.tree.getCreatedAt(),e,n,h.length?h:void 0,a,p,d)),e.equals(n)||this.context.registerElementHasRemovedNodes(this.tree),!0}editByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulkByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i,a)}edit(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulk(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i,a)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[mn.fromStruct(e[0]),mn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[mn.fromStruct(e[0]),mn.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function ap(s,e){return sp(s,e)}function Qr(s,e){if(e){if(e instanceof _e)return e;if(e instanceof yt)return sp(s,e);if(e instanceof _t)return Pw(s,e);if(e instanceof hn)return new xo(s,e);if(e instanceof Ot){const n=new Po(ur.IntegerCnt,0);return n.initialize(s,e),n}else if(e instanceof pn){const n=new Co;return n.initialize(s,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function Cs(s,e){const n=Qr(s,e);return n instanceof _e?n.getValue():n}function Xa(s,e,n){let i;if(_e.isSupport(e))i=_e.of(e,n);else if(Array.isArray(e))i=_t.create(n,Re.buildArrayElements(s,e));else if(typeof e=="object")e instanceof xo?(i=hn.create(mi.create(),n),e.initialize(s,i)):e instanceof Po?(i=Ot.create(e.getValueType(),e.getValue(),n),e.initialize(s,i)):e instanceof Co?(i=pn.create(e.buildRoot(s),n),e.initialize(s,i)):i=yt.create(n,Oo.buildObjectMembers(s,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}const lp=50;class bw{constructor(){c(this,"undoStack",[]),c(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=lp&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=lp&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const up="yorkie-devtools-panel",cp="yorkie-devtools-sdk";let vi="disconnected";const fp=new Map,tc=new Map;function Qa(s,e){!((e==null?void 0:e.force)||vi!=="disconnected")||window.postMessage({source:cp,...s},"*")}function Lw(s){if(!s.isEnableDevtools()||typeof window>"u"||fp.has(s.getKey()))return;tc.set(s.getKey(),[]);const e=s.subscribe("all",n=>{n.some(i=>i.type!==ct.StatusChanged&&i.type!==ct.Snapshot&&i.type!==ct.LocalChange&&i.type!==ct.RemoteChange&&i.type!==ct.Initialized&&i.type!==ct.Watched&&i.type!==ct.Unwatched&&i.type!==ct.PresenceChanged)||(tc.get(s.getKey()).push(n),vi==="synced"&&Qa({msg:"doc::sync::partial",docKey:s.getKey(),event:n}))});fp.set(s.getKey(),[e]),Qa({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var i;if(((i=n.data)==null?void 0:i.source)!==up)return;switch(n.data.msg){case"devtools::connect":if(vi!=="disconnected")break;vi="connected",Qa({msg:"doc::available",docKey:s.getKey()}),B.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":vi="disconnected",B.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":vi="synced",Qa({msg:"doc::sync::full",docKey:s.getKey(),events:tc.get(s.getKey())}),B.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var Zr=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(Zr||{}),ct=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s))(ct||{}),Za=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Za||{}),el=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(el||{});class nc{constructor(e,n){c(this,"key"),c(this,"status"),c(this,"opts"),c(this,"changeID"),c(this,"checkpoint"),c(this,"localChanges"),c(this,"root"),c(this,"clone"),c(this,"eventStream"),c(this,"eventStreamObserver"),c(this,"onlineClients"),c(this,"presences"),c(this,"history"),c(this,"internalHistory"),c(this,"isUpdating"),this.opts=n||{},this.key=e,this.status="detached",this.root=Ao.create(),this.changeID=VS,this.checkpoint=qS,this.localChanges=[],this.eventStream=xw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new bw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Lw(this)}update(e,n){if(this.getStatus()==="removed")throw new pe(de.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),a=yi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const u=ap(a,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(u,new Ju(a,this.clone.presences.get(i)))}catch(u){throw this.clone=void 0,B.error(u),u}finally{this.isUpdating=!1}if(a.hasChange()){B.isEnabled(It.Trivial)&&B.trivial(`trying to update a local change: ${this.toJSON()}`);const u=a.getChange(),{opInfos:d,reverseOps:h}=u.execute(this.root,this.presences,Se.Local),p=a.getReversePresence();p&&h.push({type:"presence",value:p}),this.localChanges.push(u),h.length>0&&this.internalHistory.pushUndo(h),d.length>0&&this.internalHistory.clearRedo(),this.changeID=u.getID();const g=[];d.length>0&&g.push({type:"local-change",source:Se.Local,value:{message:u.getMessage()||"",operations:d,actor:i},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&g.push({type:"presence-changed",source:Se.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(g),B.isEnabled(It.Trivial)&&B.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,a){if(typeof e=="string"){if(typeof n!="function")throw new Error("Second argument must be a callback function");if(e==="presence"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||h(g)},i,a)}if(e==="my-presence"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.type!=="initialized"&&g.value.clientID!==this.changeID.getActorID()||h(g)},i,a)}if(e==="others"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.value.clientID!==this.changeID.getActorID()&&h(g)},i,a)}if(e==="connection"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type==="connection-changed"&&h(g)},i,a)}if(e==="sync"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type==="sync-status-changed"&&h(g)},i,a)}if(e==="all"){const h=n;return this.eventStream.subscribe(h,i,a)}const u=e,d=n;return this.eventStream.subscribe(h=>{for(const p of h){if(p.type!=="snapshot"&&p.type!=="local-change"&&p.type!=="remote-change")continue;if(p.type==="snapshot"){u==="$"&&d(p);continue}const g=[];for(const T of p.value.operations)this.isSameElementOrChildOf(T.path,u)&&g.push(T);g.length&&d({...p,value:{...p.value,operations:g}})}},i,a)}if(typeof e=="function"){const u=e,d=n,h=i;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="snapshot"&&g.type!=="local-change"&&g.type!=="remote-change"||u(g)},d,h)}throw new Error(`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((u,d)=>u===i[d])}applyChangePack(e){for(e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getSnapshot()):e.hasChanges()&&this.applyChanges(e.getChanges(),Se.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),this.garbageCollect(e.getMinSyncedTicket()),e.getIsRemoved()&&this.applyStatus("removed"),B.isEnabled(It.Trivial)&&B.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:fn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Ya.create(this.key,n,!1,e)}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(!!this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=yi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return ap(e,this.clone.root.getObject())}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n){const{root:i,presences:a}=Ue.bytesToSnapshot(n);this.root=new Ao(i),this.presences=a,this.changeID=this.changeID.syncLamport(e),this.clone=void 0,this.publish([{type:"snapshot",source:Se.Remote,value:{snapshot:this.isEnableDevtools()?Ue.bytesToHex(n):void 0,serverSeq:e.toString()}}])}applyChanges(e,n){B.isEnabled(It.Debug)&&B.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getRemovedElementSetSize()}`),B.isEnabled(It.Trivial)&&B.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);B.isEnabled(It.Debug)&&B.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getRemovedElementSetSize()}`)}applyChange(e,n){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],a=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(a)){const d=e.getPresenceChange();switch(d.type){case Yr.Put:i.push(this.presences.has(a)?{type:"presence-changed",source:n,value:{clientID:a,presence:d.presence}}:{type:"watched",source:Se.Remote,value:{clientID:a,presence:d.presence}});break;case Yr.Clear:i.push({type:"unwatched",source:Se.Remote,value:{clientID:a,presence:this.getPresence(a)}}),this.removeOnlineClient(a);break}}const{opInfos:u}=e.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncLamport(e.getID().getLamport()),u.length>0){const d=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===Se.Remote?{type:"remote-change",source:n,value:{actor:a,message:e.getMessage()||"",operations:u},rawChange:d}:{type:"local-change",source:n,value:{actor:a,message:e.getMessage()||"",operations:u},rawChange:d})}i.length>0&&this.publish(i)}applyWatchStream(e){if(e.body.case==="initialization"){const n=e.body.value.clientIds,i=new Set;for(const a of n)a!==this.changeID.getActorID()&&i.add(a);this.setOnlineClients(i),this.publish([{type:"initialized",source:Se.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:n,publisher:i}=e.body.value,a=[];if(n===Ua.DOCUMENT_WATCHED)this.addOnlineClient(i),this.hasPresence(i)&&a.push({type:"watched",source:Se.Remote,value:{clientID:i,presence:this.getPresence(i)}});else if(n===Ua.DOCUMENT_UNWATCHED){const u=this.getPresence(i);this.removeOnlineClient(i),u&&a.push({type:"unwatched",source:Se.Remote,value:{clientID:i,presence:u}})}a.length>0&&this.publish(a)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(ja),this.publish([{source:e==="removed"?Se.Remote:Se.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEvent(e){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);return}if(e.type==="snapshot"){const{snapshot:n,serverSeq:i}=e.value;if(!n)return;this.applySnapshot(se.fromString(i),Ue.hexToBytes(n));return}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)return;const n=Ps.fromStruct(e.rawChange);this.applyChange(n,e.source)}if(e.type==="initialized"){const n=new Set;for(const{clientID:i,presence:a}of e.value)n.add(i),this.presences.set(i,a);this.setOnlineClients(n);return}if(e.type==="watched"){const{clientID:n,presence:i}=e.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(e.type==="unwatched"){const{clientID:n}=e.value;this.removeOnlineClient(n),this.presences.delete(n)}if(e.type==="presence-changed"){const{clientID:n,presence:i}=e.value;this.presences.set(n,i)}}applyTransactionEvent(e){for(const n of e)this.applyDocEvent(n)}getValueByPath(e){if(!e.startsWith("$"))throw new pe(de.InvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const a of n)if(i=i[a],i===void 0)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?fn(e):{}}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?fn(n):void 0}getPresenceForTest(e){const n=this.presences.get(e);return n?fn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:fn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:fn(this.presences.get(n))});return e}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const e=this.internalHistory.popUndo();if(e===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const n=yi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof dn)){new Ju(n,fn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,Se.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,Se.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushRedo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),p=[];a.length>0&&p.push({type:"local-change",source:Se.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:Se.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(p)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const e=this.internalHistory.popRedo();if(e===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const n=yi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof dn)){new Ju(n,fn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,Se.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,Se.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushUndo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),p=[];a.length>0&&p.push({type:"local-change",source:Se.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:Se.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function Bw(s,e){return n=>async i=>(s&&i.header.set("x-api-key",s),e&&i.header.set("authorization",e),await n(i))}const dp={name:"yorkie-js-sdk",version:"0.4.19",description:"Yorkie JS SDK",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts",files:["dist"],scripts:{build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:examples":"npm run build --workspace examples","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",lint:"eslint . --fix --max-warnings=0 --ext .ts",prepare:"npm run build"},engines:{node:">=18.0.0",npm:">=7.1.0"},repository:{type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},author:{name:"hackerwins",email:"susukang98@gmail.com"},license:"Apache-2.0",bugs:{url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},homepage:"https://github.com/yorkie-team/yorkie-js-sdk#readme",devDependencies:{"@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.2.0","@types/google-protobuf":"^3.15.5","@types/jsdom":"^21.1.3","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5",eslint:"^8.19.0","eslint-plugin-jsdoc":"^39.3.3","eslint-plugin-prettier":"^4.2.1","eslint-plugin-tsdoc":"^0.2.16",husky:"^8.0.3",jsdom:"^22.1.0",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^4.7.4","typescript-transform-paths":"^3.3.1",vite:"^4.4.9","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.2.1",vitest:"^0.34.5","vitest-environment-custom-jsdom":"file:test/vitest/env"},dependencies:{"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.2.0","@connectrpc/connect-web":"^1.2.0",long:"^5.2.0"},husky:{hooks:{"pre-commit":"npm run lint"}},workspaces:["examples/*"]};function Mw(){return s=>async e=>(e.header.set("x-yorkie-user-agent",dp.name+"/"+dp.version),await s(e))}var tl=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(tl||{}),hp=(s=>(s.Deactivated="deactivated",s.Activated="activated",s))(hp||{});const nl={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class rc{constructor(e,n){c(this,"id"),c(this,"key"),c(this,"status"),c(this,"attachmentMap"),c(this,"apiKey"),c(this,"syncLoopDuration"),c(this,"reconnectStreamDelay"),c(this,"retrySyncLoopDelay"),c(this,"rpcClient"),n=n||nl,this.key=n.key?n.key:rp(),this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.syncLoopDuration=n.syncLoopDuration||nl.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay||nl.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay||nl.retrySyncLoopDelay,this.rpcClient=q0(xS,mT({baseUrl:e,interceptors:[Bw(n.apiKey,n.token),Mw()]}))}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(e=>{this.id=e.clientId,this.status="activated",this.runSyncLoop(),B.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(e=>{throw B.error(`[AC] c:"${this.getKey()}" err :`,e),e})}deactivate(){if(this.status==="deactivated")return Promise.resolve();for(const[e]of this.attachmentMap)this.detachInternal(e);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status="deactivated",B.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(e=>{throw B.error(`[DC] c:"${this.getKey()}" err :`,e),e})}attach(e,n={}){var a;if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);if(e.getStatus()!==Zr.Detached)throw new pe(de.DocumentNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((u,d)=>d.set(n.initialPresence||{}));const i=(a=n.syncMode)!=null?a:"realtime";return this.rpcClient.attachDocument({clientId:this.id,changePack:Ue.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(async u=>{const d=Ue.fromChangePack(u.changePack);return e.applyChangePack(d),e.getStatus()===Zr.Removed||(e.applyStatus(Zr.Attached),this.attachmentMap.set(e.getKey(),new Aw(this.reconnectStreamDelay,e,u.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),B.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`)),e}).catch(u=>{throw B.error(`[AD] c:"${this.getKey()}" err :`,u),u})}detach(e,n={}){var a;if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);return e.update((u,d)=>d.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Ue.toChangePack(e.createChangePack()),removeIfNotAttached:(a=n.removeIfNotAttached)!=null?a:!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(u=>{const d=Ue.fromChangePack(u.changePack);return e.applyChangePack(d),e.getStatus()!==Zr.Removed&&e.applyStatus(Zr.Detached),this.detachInternal(e.getKey()),B.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}).catch(u=>{throw B.error(`[DD] c:"${this.getKey()}" err :`,u),u})}async changeSyncMode(e,n){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);const a=i.syncMode;return a===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.remoteChangeEventReceived=!0),a==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const n=[];if(e){const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);n.push(this.syncInternal(i,"realtime"))}else this.attachmentMap.forEach(i=>{n.push(this.syncInternal(i,i.syncMode))});return Promise.all(n)}remove(e){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=Ue.toChangePack(e.createChangePack());return i.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=Ue.fromChangePack(a.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),B.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}).catch(a=>{throw B.error(`[RD] c:"${this.getKey()}" err :`,a),a})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}runSyncLoop(){const e=()=>{if(!this.isActive()){B.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode)));Promise.all(n).then(()=>setTimeout(e,this.syncLoopDuration)).catch(i=>{B.error(`[SL] c:"${this.getKey()}" sync failed:`,i),setTimeout(e,this.retrySyncLoopDelay)})};B.debug(`[SL] c:"${this.getKey()}" run sync loop`),e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new pe(de.DocumentNotAttached,`${e} is not attached`);return n.runWatchLoop(i=>{if(!this.isActive())return Promise.reject(new pe(de.ClientNotActive,`${this.key} is not active`));const a=new AbortController,u=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:a.signal});return n.doc.publish([{type:ct.ConnectionChanged,value:Za.Connected}]),B.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),new Promise((d,h)=>{(async()=>{try{for await(const g of u)this.handleWatchDocumentsResponse(n,g),g.body.case==="initialization"&&d([u,a])}catch(g){n.doc.resetOnlineClients(),n.doc.publish([{type:ct.Initialized,source:Se.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:ct.ConnectionChanged,value:Za.Disconnected}]),B.debug(`[WD] c:"${this.getKey()}" unwatches`),g instanceof ze&&g.code!=m.Canceled&&i(),h(g)}})()})})}handleWatchDocumentsResponse(e,n){if(n.body.case==="event"&&n.body.value.type===Ua.DOCUMENT_CHANGED){e.remoteChangeEventReceived=!0;return}e.doc.applyWatchStream(n)}detachInternal(e){const n=this.attachmentMap.get(e);!n||(n.cancelWatchStream(),B.debug(`[WD] c:"${this.getKey()}" unwatches`),this.attachmentMap.delete(e))}syncInternal(e,n){const{doc:i,docID:a}=e,u=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:Ue.toChangePack(u),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(d=>{const h=Ue.fromChangePack(d.changePack);if(h.hasChanges()&&e.syncMode==="realtime-pushonly")return i;i.applyChangePack(h),e.doc.publish([{type:ct.SyncStatusChanged,value:el.Synced}]),i.getStatus()===Zr.Removed&&this.detachInternal(i.getKey());const p=i.getKey(),g=h.getChangeSize();return B.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${u.getChangeSize()} pull:${g} cp:${h.getCheckpoint().toTestString()}`),i}).catch(d=>{throw i.publish([{type:ct.SyncStatusChanged,value:el.SyncFailed}]),B.error(`[PP] c:"${this.getKey()}" err :`,d),d})}}const Jw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Uw={Client:rc,Document:nc,Primitive:_e,Text:xo,Counter:Po,Tree:Co,IntType:ur.IntegerCnt,LongType:ur.LongCnt};typeof globalThis<"u"&&(globalThis.yorkie={Client:rc,Document:nc,Primitive:_e,Text:xo,Counter:Po,Tree:Co,IntType:ur.IntegerCnt,LongType:ur.LongCnt}),o.Change=Ps,o.Client=rc,o.ClientStatus=hp,o.Counter=Po,o.Devtools=Jw,o.DocEventType=ct,o.Document=nc,o.DocumentStatus=Zr,o.DocumentSyncStatus=el,o.EventSourceDevPanel=up,o.EventSourceSDK=cp,o.OpSource=Se,o.Primitive=_e,o.StreamConnectionStatus=Za,o.SyncMode=tl,o.Text=xo,o.TimeTicket=ut,o.Tree=Co,o.converter=Ue,o.default=Uw,o.setLogLevel=bS,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(Nf,Nf.exports);const Ng=zw(Nf.exports);var bv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function o(){for(var l=[],f=0;f<arguments.length;f++){var c=arguments[f];if(!!c){var m=typeof c;if(m==="string"||m==="number")l.push(c);else if(Array.isArray(c)){if(c.length){var y=o.apply(null,c);y&&l.push(y)}}else if(m==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){l.push(c.toString());continue}for(var v in c)r.call(c,v)&&c[v]&&l.push(v)}}}return l.join(" ")}t.exports?(o.default=o,t.exports=o):window.classNames=o})()})(bv);const Td=bv.exports;var Sd={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=Rr.exports,lE=Symbol.for("react.element"),uE=Symbol.for("react.fragment"),cE=Object.prototype.hasOwnProperty,fE=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dE={key:!0,ref:!0,__self:!0,__source:!0};function Lv(t,r,o){var l,f={},c=null,m=null;o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(m=r.ref);for(l in r)cE.call(r,l)&&!dE.hasOwnProperty(l)&&(f[l]=r[l]);if(t&&t.defaultProps)for(l in r=t.defaultProps,r)f[l]===void 0&&(f[l]=r[l]);return{$$typeof:lE,type:t,key:c,ref:m,props:f,_owner:fE.current}}yu.Fragment=uE;yu.jsx=Lv;yu.jsxs=Lv;(function(t){t.exports=yu})(Sd);const je=Sd.exports.jsx,Yi=Sd.exports.jsxs;function Bv(t){const[r,o]=Rr.exports.useState(t.text||"");return je("input",{className:Td({edit:t.editing,"new-todo":t.newTodo}),type:"text",placeholder:t.placeholder,value:r,onBlur:l=>{t.newTodo||t.onSave(l.target.value)},onChange:l=>{o(l.target.value)},onKeyDown:l=>{const f=l.target;l.which===13&&(t.onSave(f.value.trim()),t.newTodo&&o(""))}})}function hE(t){return Yi("header",{className:"header",children:[je("h1",{children:"todos"}),je(Bv,{newTodo:!0,onSave:r=>{r.length!==0&&t.addTodo(r)},placeholder:"What needs to be done?"})]})}function mE(t){const[r,o]=Rr.exports.useState(!1),{todo:l,completeTodo:f,editTodo:c,deleteTodo:m}=t;return je("li",{className:Td({completed:l.completed,editing:r}),children:r?je(Bv,{text:l.text,editing:r,onSave:y=>{y.length===0?m(l.id):c(l.id,y),o(!1)}}):Yi("div",{className:"view",children:[je("input",{id:`item-input-${l.id}`,className:"toggle",type:"checkbox",checked:l.completed,onChange:()=>f(l.id)}),je("label",{htmlFor:`item-input-${l.id}`,onDoubleClick:()=>o(!0),children:l.text}),je("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>m(l.id)})]})})}const pE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function gE(t){const{activeCount:r,completedCount:o,filter:l,onClearCompleted:f,onShow:c}=t;return Yi("footer",{className:"footer",children:[Yi("span",{className:"todo-count",children:[je("strong",{children:r||"No"}),"\xA0",r===1?"item":"items"," left"]}),je("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(m=>je("li",{children:je("button",{type:"button",className:Td({selected:m===l}),style:{cursor:"pointer"},onClick:()=>c(m),children:pE[m]})},m))}),!!o&&je("button",{type:"button",className:"clear-completed",onClick:f,children:"Clear completed"})]})}const yE={SHOW_ALL:t=>!0,SHOW_ACTIVE:t=>!t.completed,SHOW_COMPLETED:t=>t.completed};function vE(t){const[r,o]=Rr.exports.useState("SHOW_ALL"),{todos:l,actions:f}=t,c=l.filter(yE[r]),m=l.reduce((v,N)=>N.completed?v+1:v,0),y=l.length-m;return l.length===0?null:Yi("section",{className:"main",children:[je("input",{className:"toggle-all",type:"checkbox",defaultChecked:m===l.length,onChange:f.completeAll}),je("ul",{className:"todo-list",children:c.map(v=>je(mE,{todo:v,editTodo:f.editTodo,deleteTodo:f.deleteTodo,completeTodo:f.completeTodo},v.id))}),je(gE,{completedCount:m,activeCount:y,filter:r,onClearCompleted:()=>f.clearCompleted(),onShow:o})]})}const TE=[{id:0,text:"Yorkie JS SDK",completed:!1},{id:1,text:"Garbage collection",completed:!1},{id:2,text:"RichText datatype",completed:!1}];function SE(){const[t]=Rr.exports.useState(()=>new Ng.Document(`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`)),[r,o]=Rr.exports.useState([]),l={addTodo:f=>{t==null||t.update(c=>{c.todos.push({id:c.todos.reduce((m,y)=>Math.max(y.id,m),-1)+1,completed:!1,text:f})})},deleteTodo:f=>{t==null||t.update(c=>{let m;for(const y of c.todos)if(y.id===f){m=y;break}m&&c.todos.deleteByID(m.getID())})},editTodo:(f,c)=>{t==null||t.update(m=>{let y;for(const v of m.todos)if(v.id===f){y=v;break}y&&(y.text=c)})},completeTodo:f=>{t==null||t.update(c=>{let m;for(const y of c.todos)if(y.id===f){m=y;break}m&&(m.completed=!m.completed)})},clearCompleted:()=>{t==null||t.update(f=>{for(const c of f.todos)if(c.completed){const m=c;f.todos.deleteByID(m.getID())}},"")}};return Rr.exports.useEffect(()=>{const f=new Ng.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"});async function c(m,y){await f.activate(),await f.attach(m),m.update(v=>{v.todos||(v.todos=TE)},"create default todos if not exists"),m.subscribe(v=>{y(m.getRoot().todos)}),y(m.getRoot().todos)}c(t,m=>{o(m)})},[]),Yi("div",{className:"App",children:[je(hE,{addTodo:l.addTodo}),je(vE,{todos:r,actions:l})]})}Pc.createRoot(document.getElementById("root")).render(je(SE,{}));
