(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerpolicy&&(c.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?c.credentials="include":f.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(f){if(f.ep)return;f.ep=!0;const c=o(f);fetch(f.href,c)}})();var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xc={},Ng={exports:{}},bt={},br={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),qw=Symbol.for("react.portal"),Yw=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Kw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Qw=Symbol.for("react.suspense"),Zw=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),pm=Symbol.iterator;function t1(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var Ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_g=Object.assign,Ag={};function Ki(t,r,o){this.props=t,this.context=r,this.refs=Ag,this.updater=o||Ig}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pg(){}Pg.prototype=Ki.prototype;function If(t,r,o){this.props=t,this.context=r,this.refs=Ag,this.updater=o||Ig}var _f=If.prototype=new Pg;_f.constructor=If;_g(_f,Ki.prototype);_f.isPureReactComponent=!0;var mm=Array.isArray,Og=Object.prototype.hasOwnProperty,Af={current:null},xg={key:!0,ref:!0,__self:!0,__source:!0};function Cg(t,r,o){var l,f={},c=null,p=null;if(r!=null)for(l in r.ref!==void 0&&(p=r.ref),r.key!==void 0&&(c=""+r.key),r)Og.call(r,l)&&!xg.hasOwnProperty(l)&&(f[l]=r[l]);var y=arguments.length-2;if(y===1)f.children=o;else if(1<y){for(var v=Array(y),N=0;N<y;N++)v[N]=arguments[N+2];f.children=v}if(t&&t.defaultProps)for(l in y=t.defaultProps,y)f[l]===void 0&&(f[l]=y[l]);return{$$typeof:ka,type:t,key:c,ref:p,props:f,_owner:Af.current}}function n1(t,r){return{$$typeof:ka,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function r1(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return r[o]})}var gm=/\/+/g;function sc(t,r){return typeof t=="object"&&t!==null&&t.key!=null?r1(""+t.key):r.toString(36)}function El(t,r,o,l,f){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(c){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case ka:case qw:p=!0}}if(p)return p=t,f=f(p),t=l===""?"."+sc(p,0):l,mm(f)?(o="",t!=null&&(o=t.replace(gm,"$&/")+"/"),El(f,r,o,"",function(N){return N})):f!=null&&(Pf(f)&&(f=n1(f,o+(!f.key||p&&p.key===f.key?"":(""+f.key).replace(gm,"$&/")+"/")+t)),r.push(f)),1;if(p=0,l=l===""?".":l+":",mm(t))for(var y=0;y<t.length;y++){c=t[y];var v=l+sc(c,y);p+=El(c,r,o,v,f)}else if(v=t1(t),typeof v=="function")for(t=v.call(t),y=0;!(c=t.next()).done;)c=c.value,v=l+sc(c,y++),p+=El(c,r,o,v,f);else if(c==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return p}function ol(t,r,o){if(t==null)return t;var l=[],f=0;return El(t,l,"","",function(c){return r.call(o,c,f++)}),l}function s1(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Nl={transition:null},i1={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:Af};ce.Children={map:ol,forEach:function(t,r,o){ol(t,function(){r.apply(this,arguments)},o)},count:function(t){var r=0;return ol(t,function(){r++}),r},toArray:function(t){return ol(t,function(r){return r})||[]},only:function(t){if(!Pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ki;ce.Fragment=Yw;ce.Profiler=Kw;ce.PureComponent=If;ce.StrictMode=Ww;ce.Suspense=Qw;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;ce.cloneElement=function(t,r,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=_g({},t.props),f=t.key,c=t.ref,p=t._owner;if(r!=null){if(r.ref!==void 0&&(c=r.ref,p=Af.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var y=t.type.defaultProps;for(v in r)Og.call(r,v)&&!xg.hasOwnProperty(v)&&(l[v]=r[v]===void 0&&y!==void 0?y[v]:r[v])}var v=arguments.length-2;if(v===1)l.children=o;else if(1<v){y=Array(v);for(var N=0;N<v;N++)y[N]=arguments[N+2];l.children=y}return{$$typeof:ka,type:t.type,key:f,ref:c,props:l,_owner:p}};ce.createContext=function(t){return t={$$typeof:Hw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gw,_context:t},t.Consumer=t};ce.createElement=Cg;ce.createFactory=function(t){var r=Cg.bind(null,t);return r.type=t,r};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:Xw,render:t}};ce.isValidElement=Pf;ce.lazy=function(t){return{$$typeof:e1,_payload:{_status:-1,_result:t},_init:s1}};ce.memo=function(t,r){return{$$typeof:Zw,type:t,compare:r===void 0?null:r}};ce.startTransition=function(t){var r=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=r}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,r){return pt.current.useCallback(t,r)};ce.useContext=function(t){return pt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};ce.useEffect=function(t,r){return pt.current.useEffect(t,r)};ce.useId=function(){return pt.current.useId()};ce.useImperativeHandle=function(t,r,o){return pt.current.useImperativeHandle(t,r,o)};ce.useInsertionEffect=function(t,r){return pt.current.useInsertionEffect(t,r)};ce.useLayoutEffect=function(t,r){return pt.current.useLayoutEffect(t,r)};ce.useMemo=function(t,r){return pt.current.useMemo(t,r)};ce.useReducer=function(t,r,o){return pt.current.useReducer(t,r,o)};ce.useRef=function(t){return pt.current.useRef(t)};ce.useState=function(t){return pt.current.useState(t)};ce.useSyncExternalStore=function(t,r,o){return pt.current.useSyncExternalStore(t,r,o)};ce.useTransition=function(){return pt.current.useTransition()};ce.version="18.2.0";(function(t){t.exports=ce})(br);var Dg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(z,re){var se=z.length;z.push(re);e:for(;0<se;){var Ae=se-1>>>1,Je=z[Ae];if(0<f(Je,re))z[Ae]=re,z[se]=Je,se=Ae;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var re=z[0],se=z.pop();if(se!==re){z[0]=se;e:for(var Ae=0,Je=z.length,Qs=Je>>>1;Ae<Qs;){var fe=2*(Ae+1)-1,ge=z[fe],An=fe+1,Fr=z[An];if(0>f(ge,se))An<Je&&0>f(Fr,ge)?(z[Ae]=Fr,z[An]=se,Ae=An):(z[Ae]=ge,z[fe]=se,Ae=fe);else if(An<Je&&0>f(Fr,se))z[Ae]=Fr,z[An]=se,Ae=An;else break e}}return re}function f(z,re){var se=z.sortIndex-re.sortIndex;return se!==0?se:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],N=[],R=1,D=null,C=3,$=!1,F=!1,j=!1,Te=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var re=o(N);re!==null;){if(re.callback===null)l(N);else if(re.startTime<=z)l(N),re.sortIndex=re.expirationTime,r(v,re);else break;re=o(N)}}function L(z){if(j=!1,_(z),!F)if(o(v)!==null)F=!0,Xs(V);else{var re=o(N);re!==null&&Qi(L,re.startTime-z)}}function V(z,re){F=!1,j&&(j=!1,I(Q),Q=-1),$=!0;var se=C;try{for(_(re),D=o(v);D!==null&&(!(D.expirationTime>re)||z&&!Nt());){var Ae=D.callback;if(typeof Ae=="function"){D.callback=null,C=D.priorityLevel;var Je=Ae(D.expirationTime<=re);re=t.unstable_now(),typeof Je=="function"?D.callback=Je:D===o(v)&&l(v),_(re)}else l(v);D=o(v)}if(D!==null)var Qs=!0;else{var fe=o(N);fe!==null&&Qi(L,fe.startTime-re),Qs=!1}return Qs}finally{D=null,C=se,$=!1}}var x=!1,K=null,Q=-1,w=5,ee=-1;function Nt(){return!(t.unstable_now()-ee<w)}function yr(){if(K!==null){var z=t.unstable_now();ee=z;var re=!0;try{re=K(!0,z)}finally{re?_n():(x=!1,K=null)}}else x=!1}var _n;if(typeof S=="function")_n=function(){S(yr)};else if(typeof MessageChannel<"u"){var Xi=new MessageChannel,wu=Xi.port2;Xi.port1.onmessage=yr,_n=function(){wu.postMessage(null)}}else _n=function(){Te(yr,0)};function Xs(z){K=z,x||(x=!0,_n())}function Qi(z,re){Q=Te(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){F||$||(F=!0,Xs(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(v)},t.unstable_next=function(z){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var se=C;C=re;try{return z()}finally{C=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=C;C=z;try{return re()}finally{C=se}},t.unstable_scheduleCallback=function(z,re,se){var Ae=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,z){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=se+Je,z={id:R++,callback:re,priorityLevel:z,startTime:se,expirationTime:Je,sortIndex:-1},se>Ae?(z.sortIndex=se,r(N,z),o(v)===null&&z===o(N)&&(j?(I(Q),Q=-1):j=!0,Qi(L,se-Ae))):(z.sortIndex=Je,r(v,z),F||$||(F=!0,Xs(V))),z},t.unstable_shouldYield=Nt,t.unstable_wrapCallback=function(z){var re=C;return function(){var se=C;C=re;try{return z.apply(this,arguments)}finally{C=se}}}})(Rg);(function(t){t.exports=Rg})(Dg);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=br.exports,Rt=Dg.exports;function B(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lg=new Set,ia={};function Gs(t,r){$i(t,r),$i(t+"Capture",r)}function $i(t,r){for(ia[t]=r,t=0;t<r.length;t++)Lg.add(r[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=Object.prototype.hasOwnProperty,o1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},vm={};function a1(t){return Cc.call(vm,t)?!0:Cc.call(ym,t)?!1:o1.test(t)?vm[t]=!0:(ym[t]=!0,!1)}function l1(t,r,o,l){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u1(t,r,o,l){if(r===null||typeof r>"u"||l1(t,r,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function mt(t,r,o,l,f,c,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=c,this.removeEmptyString=p}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];nt[r]=new mt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Of,xf);nt[r]=new mt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Of,xf);nt[r]=new mt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Of,xf);nt[r]=new mt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cf(t,r,o,l){var f=nt.hasOwnProperty(r)?nt[r]:null;(f!==null?f.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(u1(r,o,f,l)&&(o=null),l||f===null?a1(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,l=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,l?t.setAttributeNS(l,r,o):t.setAttribute(r,o))))}var $r=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,al=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),Jg=Symbol.for("react.offscreen"),Tm=Symbol.iterator;function Bo(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,ic;function qo(t){if(ic===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ic=r&&r[1]||""}return`
`+ic+t}var oc=!1;function ac(t,r){if(!t||oc)return"";oc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(N){var l=N}Reflect.construct(t,[],r)}else{try{r.call()}catch(N){l=N}t.call(r.prototype)}else{try{throw Error()}catch(N){l=N}t()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),c=l.stack.split(`
`),p=f.length-1,y=c.length-1;1<=p&&0<=y&&f[p]!==c[y];)y--;for(;1<=p&&0<=y;p--,y--)if(f[p]!==c[y]){if(p!==1||y!==1)do if(p--,y--,0>y||f[p]!==c[y]){var v=`
`+f[p].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=p&&0<=y);break}}}finally{oc=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?qo(t):""}function c1(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function Lc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case ki:return"Portal";case Dc:return"Profiler";case Df:return"StrictMode";case Rc:return"Suspense";case bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bg:return(t.displayName||"Context")+".Consumer";case Mg:return(t._context.displayName||"Context")+".Provider";case Rf:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bf:return r=t.displayName||null,r!==null?r:Lc(t.type)||"Memo";case ns:r=t._payload,t=t._init;try{return Lc(t(r))}catch{}}return null}function f1(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(r);case 8:return r===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ug(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function d1(t){var r=Ug(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,c=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(p){l=""+p,c.call(this,p)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ll(t){t._valueTracker||(t._valueTracker=d1(t))}function $g(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return t&&(l=Ug(t)?t.checked?"true":"false":t.value),t=l,t!==o?(r.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mc(t,r){var o=r.checked;return Re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:t._wrapperState.initialChecked})}function Sm(t,r){var o=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;o=gs(r.value!=null?r.value:o),t._wrapperState={initialChecked:l,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Fg(t,r){r=r.checked,r!=null&&Cf(t,"checked",r,!1)}function Bc(t,r){Fg(t,r);var o=gs(r.value),l=r.type;if(o!=null)l==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Jc(t,r.type,o):r.hasOwnProperty("defaultValue")&&Jc(t,r.type,gs(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function wm(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Jc(t,r,o){(r!=="number"||Ll(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yo=Array.isArray;function bi(t,r,o,l){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&l&&(t[o].defaultSelected=!0)}else{for(o=""+gs(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Uc(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(B(91));return Re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function km(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(B(92));if(Yo(o)){if(1<o.length)throw Error(B(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:gs(o)}}function jg(t,r){var o=gs(r.value),l=gs(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),l!=null&&(t.defaultValue=""+l)}function Em(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function zg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $c(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?zg(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ul,Vg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,l,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,l,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function oa(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h1=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){h1.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ho[r]=Ho[t]})});function qg(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+r).trim():r+"px"}function Yg(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var l=o.indexOf("--")===0,f=qg(o,r[o],l);o==="float"&&(o="cssFloat"),l?t.setProperty(o,f):t[o]=f}}var p1=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,r){if(r){if(p1[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(B(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(B(61))}if(r.style!=null&&typeof r.style!="object")throw Error(B(62))}}function jc(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function Lf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vc=null,Li=null,Mi=null;function Nm(t){if(t=Ia(t)){if(typeof Vc!="function")throw Error(B(280));var r=t.stateNode;r&&(r=uu(r),Vc(t.stateNode,t.type,r))}}function Wg(t){Li?Mi?Mi.push(t):Mi=[t]:Li=t}function Kg(){if(Li){var t=Li,r=Mi;if(Mi=Li=null,Nm(t),r)for(t=0;t<r.length;t++)Nm(r[t])}}function Gg(t,r){return t(r)}function Hg(){}var lc=!1;function Xg(t,r,o){if(lc)return t(r,o);lc=!0;try{return Gg(t,r,o)}finally{lc=!1,(Li!==null||Mi!==null)&&(Hg(),Kg())}}function aa(t,r){var o=t.stateNode;if(o===null)return null;var l=uu(o);if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(B(231,r,typeof o));return o}var qc=!1;if(Mr)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{qc=!1}function m1(t,r,o,l,f,c,p,y,v){var N=Array.prototype.slice.call(arguments,3);try{r.apply(o,N)}catch(R){this.onError(R)}}var Xo=!1,Ml=null,Bl=!1,Yc=null,g1={onError:function(t){Xo=!0,Ml=t}};function y1(t,r,o,l,f,c,p,y,v){Xo=!1,Ml=null,m1.apply(g1,arguments)}function v1(t,r,o,l,f,c,p,y,v){if(y1.apply(this,arguments),Xo){if(Xo){var N=Ml;Xo=!1,Ml=null}else throw Error(B(198));Bl||(Bl=!0,Yc=N)}}function Hs(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Qg(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Im(t){if(Hs(t)!==t)throw Error(B(188))}function T1(t){var r=t.alternate;if(!r){if(r=Hs(t),r===null)throw Error(B(188));return r!==t?null:t}for(var o=t,l=r;;){var f=o.return;if(f===null)break;var c=f.alternate;if(c===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===c.child){for(c=f.child;c;){if(c===o)return Im(f),t;if(c===l)return Im(f),r;c=c.sibling}throw Error(B(188))}if(o.return!==l.return)o=f,l=c;else{for(var p=!1,y=f.child;y;){if(y===o){p=!0,o=f,l=c;break}if(y===l){p=!0,l=f,o=c;break}y=y.sibling}if(!p){for(y=c.child;y;){if(y===o){p=!0,o=c,l=f;break}if(y===l){p=!0,l=c,o=f;break}y=y.sibling}if(!p)throw Error(B(189))}}if(o.alternate!==l)throw Error(B(190))}if(o.tag!==3)throw Error(B(188));return o.stateNode.current===o?t:r}function Zg(t){return t=T1(t),t!==null?ey(t):null}function ey(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ey(t);if(r!==null)return r;t=t.sibling}return null}var ty=Rt.unstable_scheduleCallback,_m=Rt.unstable_cancelCallback,S1=Rt.unstable_shouldYield,w1=Rt.unstable_requestPaint,Be=Rt.unstable_now,k1=Rt.unstable_getCurrentPriorityLevel,Mf=Rt.unstable_ImmediatePriority,ny=Rt.unstable_UserBlockingPriority,Jl=Rt.unstable_NormalPriority,E1=Rt.unstable_LowPriority,ry=Rt.unstable_IdlePriority,iu=null,mr=null;function N1(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:A1,I1=Math.log,_1=Math.LN2;function A1(t){return t>>>=0,t===0?32:31-(I1(t)/_1|0)|0}var cl=64,fl=4194304;function Wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ul(t,r){var o=t.pendingLanes;if(o===0)return 0;var l=0,f=t.suspendedLanes,c=t.pingedLanes,p=o&268435455;if(p!==0){var y=p&~f;y!==0?l=Wo(y):(c&=p,c!==0&&(l=Wo(c)))}else p=o&~f,p!==0?l=Wo(p):c!==0&&(l=Wo(c));if(l===0)return 0;if(r!==0&&r!==l&&(r&f)===0&&(f=l&-l,c=r&-r,f>=c||f===16&&(c&4194240)!==0))return r;if((l&4)!==0&&(l|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)o=31-En(r),f=1<<o,l|=t[o],r&=~f;return l}function P1(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O1(t,r){for(var o=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,c=t.pendingLanes;0<c;){var p=31-En(c),y=1<<p,v=f[p];v===-1?((y&o)===0||(y&l)!==0)&&(f[p]=P1(y,r)):v<=r&&(t.expiredLanes|=y),c&=~y}}function Wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sy(){var t=cl;return cl<<=1,(cl&4194240)===0&&(cl=64),t}function uc(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ea(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-En(r),t[r]=o}function x1(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-En(o),c=1<<f;r[f]=0,l[f]=-1,t[f]=-1,o&=~c}}function Bf(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var l=31-En(o),f=1<<l;f&r|t[l]&r&&(t[l]|=r),o&=~f}}var ye=0;function iy(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var oy,Jf,ay,ly,uy,Kc=!1,dl=[],ls=null,us=null,cs=null,la=new Map,ua=new Map,ss=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(t,r){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":la.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(r.pointerId)}}function Uo(t,r,o,l,f,c){return t===null||t.nativeEvent!==c?(t={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:c,targetContainers:[f]},r!==null&&(r=Ia(r),r!==null&&Jf(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function D1(t,r,o,l,f){switch(r){case"focusin":return ls=Uo(ls,t,r,o,l,f),!0;case"dragenter":return us=Uo(us,t,r,o,l,f),!0;case"mouseover":return cs=Uo(cs,t,r,o,l,f),!0;case"pointerover":var c=f.pointerId;return la.set(c,Uo(la.get(c)||null,t,r,o,l,f)),!0;case"gotpointercapture":return c=f.pointerId,ua.set(c,Uo(ua.get(c)||null,t,r,o,l,f)),!0}return!1}function cy(t){var r=Us(t.target);if(r!==null){var o=Hs(r);if(o!==null){if(r=o.tag,r===13){if(r=Qg(o),r!==null){t.blockedOn=r,uy(t.priority,function(){ay(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Il(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gc(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);zc=l,o.target.dispatchEvent(l),zc=null}else return r=Ia(o),r!==null&&Jf(r),t.blockedOn=o,!1;r.shift()}return!0}function Pm(t,r,o){Il(t)&&o.delete(r)}function R1(){Kc=!1,ls!==null&&Il(ls)&&(ls=null),us!==null&&Il(us)&&(us=null),cs!==null&&Il(cs)&&(cs=null),la.forEach(Pm),ua.forEach(Pm)}function $o(t,r){t.blockedOn===r&&(t.blockedOn=null,Kc||(Kc=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,R1)))}function ca(t){function r(f){return $o(f,t)}if(0<dl.length){$o(dl[0],t);for(var o=1;o<dl.length;o++){var l=dl[o];l.blockedOn===t&&(l.blockedOn=null)}}for(ls!==null&&$o(ls,t),us!==null&&$o(us,t),cs!==null&&$o(cs,t),la.forEach(r),ua.forEach(r),o=0;o<ss.length;o++)l=ss[o],l.blockedOn===t&&(l.blockedOn=null);for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)cy(o),o.blockedOn===null&&ss.shift()}var Bi=$r.ReactCurrentBatchConfig,$l=!0;function b1(t,r,o,l){var f=ye,c=Bi.transition;Bi.transition=null;try{ye=1,Uf(t,r,o,l)}finally{ye=f,Bi.transition=c}}function L1(t,r,o,l){var f=ye,c=Bi.transition;Bi.transition=null;try{ye=4,Uf(t,r,o,l)}finally{ye=f,Bi.transition=c}}function Uf(t,r,o,l){if($l){var f=Gc(t,r,o,l);if(f===null)Tc(t,r,l,Fl,o),Am(t,l);else if(D1(f,t,r,o,l))l.stopPropagation();else if(Am(t,l),r&4&&-1<C1.indexOf(t)){for(;f!==null;){var c=Ia(f);if(c!==null&&oy(c),c=Gc(t,r,o,l),c===null&&Tc(t,r,l,Fl,o),c===f)break;f=c}f!==null&&l.stopPropagation()}else Tc(t,r,l,null,o)}}var Fl=null;function Gc(t,r,o,l){if(Fl=null,t=Lf(l),t=Us(t),t!==null)if(r=Hs(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Qg(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Fl=t,null}function fy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k1()){case Mf:return 1;case ny:return 4;case Jl:case E1:return 16;case ry:return 536870912;default:return 16}default:return 16}}var os=null,$f=null,_l=null;function dy(){if(_l)return _l;var t,r=$f,o=r.length,l,f="value"in os?os.value:os.textContent,c=f.length;for(t=0;t<o&&r[t]===f[t];t++);var p=o-t;for(l=1;l<=p&&r[o-l]===f[c-l];l++);return _l=f.slice(t,1<l?1-l:void 0)}function Al(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hl(){return!0}function Om(){return!1}function Lt(t){function r(o,l,f,c,p){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(o=t[y],this[y]=o?o(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?hl:Om,this.isPropagationStopped=Om,this}return Re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),r}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=Lt(Gi),Na=Re({},Gi,{view:0,detail:0}),M1=Lt(Na),cc,fc,Fo,ou=Re({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(cc=t.screenX-Fo.screenX,fc=t.screenY-Fo.screenY):fc=cc=0,Fo=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),xm=Lt(ou),B1=Re({},ou,{dataTransfer:0}),J1=Lt(B1),U1=Re({},Na,{relatedTarget:0}),dc=Lt(U1),$1=Re({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),F1=Lt($1),j1=Re({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z1=Lt(j1),V1=Re({},Gi,{data:0}),Cm=Lt(V1),q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=W1[t])?!!r[t]:!1}function jf(){return K1}var G1=Re({},Na,{key:function(t){if(t.key){var r=q1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H1=Lt(G1),X1=Re({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=Lt(X1),Q1=Re({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),Z1=Lt(Q1),ek=Re({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tk=Lt(ek),nk=Re({},ou,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=Lt(nk),sk=[9,13,27,32],zf=Mr&&"CompositionEvent"in window,Qo=null;Mr&&"documentMode"in document&&(Qo=document.documentMode);var ik=Mr&&"TextEvent"in window&&!Qo,hy=Mr&&(!zf||Qo&&8<Qo&&11>=Qo),Rm=String.fromCharCode(32),bm=!1;function py(t,r){switch(t){case"keyup":return sk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function ok(t,r){switch(t){case"compositionend":return my(r);case"keypress":return r.which!==32?null:(bm=!0,Rm);case"textInput":return t=r.data,t===Rm&&bm?null:t;default:return null}}function ak(t,r){if(Ni)return t==="compositionend"||!zf&&py(t,r)?(t=dy(),_l=$f=os=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hy&&r.locale!=="ko"?null:r.data;default:return null}}var lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!lk[t.type]:r==="textarea"}function gy(t,r,o,l){Wg(l),r=jl(r,"onChange"),0<r.length&&(o=new Ff("onChange","change",null,o,l),t.push({event:o,listeners:r}))}var Zo=null,fa=null;function uk(t){Ay(t,0)}function au(t){var r=Ai(t);if($g(r))return t}function ck(t,r){if(t==="change")return r}var yy=!1;if(Mr){var hc;if(Mr){var pc="oninput"in document;if(!pc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),pc=typeof Mm.oninput=="function"}hc=pc}else hc=!1;yy=hc&&(!document.documentMode||9<document.documentMode)}function Bm(){Zo&&(Zo.detachEvent("onpropertychange",vy),fa=Zo=null)}function vy(t){if(t.propertyName==="value"&&au(fa)){var r=[];gy(r,fa,t,Lf(t)),Xg(uk,r)}}function fk(t,r,o){t==="focusin"?(Bm(),Zo=r,fa=o,Zo.attachEvent("onpropertychange",vy)):t==="focusout"&&Bm()}function dk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(fa)}function hk(t,r){if(t==="click")return au(r)}function pk(t,r){if(t==="input"||t==="change")return au(r)}function mk(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:mk;function da(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Cc.call(r,f)||!In(t[f],r[f]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,r){var o=Jm(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=r&&l>=r)return{node:o,offset:r-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jm(o)}}function Ty(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ty(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sy(){for(var t=window,r=Ll();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ll(t.document)}return r}function Vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function gk(t){var r=Sy(),o=t.focusedElem,l=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Ty(o.ownerDocument.documentElement,o)){if(l!==null&&Vf(o)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,c=Math.min(l.start,f);l=l.end===void 0?c:Math.min(l.end,f),!t.extend&&c>l&&(f=l,l=c,c=f),f=Um(o,c);var p=Um(o,l);f&&p&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),c>l?(t.addRange(r),t.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yk=Mr&&"documentMode"in document&&11>=document.documentMode,Ii=null,Hc=null,ea=null,Xc=!1;function $m(t,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xc||Ii==null||Ii!==Ll(l)||(l=Ii,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ea&&da(ea,l)||(ea=l,l=jl(Hc,"onSelect"),0<l.length&&(r=new Ff("onSelect","select",null,r,o),t.push({event:r,listeners:l}),r.target=Ii)))}function pl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var _i={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},mc={},wy={};Mr&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function lu(t){if(mc[t])return mc[t];if(!_i[t])return t;var r=_i[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in wy)return mc[t]=r[o];return t}var ky=lu("animationend"),Ey=lu("animationiteration"),Ny=lu("animationstart"),Iy=lu("transitionend"),_y=new Map,Fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,r){_y.set(t,r),Gs(r,[t])}for(var gc=0;gc<Fm.length;gc++){var yc=Fm[gc],vk=yc.toLowerCase(),Tk=yc[0].toUpperCase()+yc.slice(1);vs(vk,"on"+Tk)}vs(ky,"onAnimationEnd");vs(Ey,"onAnimationIteration");vs(Ny,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(Iy,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function jm(t,r,o){var l=t.type||"unknown-event";t.currentTarget=o,v1(l,r,void 0,t),t.currentTarget=null}function Ay(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],f=l.event;l=l.listeners;e:{var c=void 0;if(r)for(var p=l.length-1;0<=p;p--){var y=l[p],v=y.instance,N=y.currentTarget;if(y=y.listener,v!==c&&f.isPropagationStopped())break e;jm(f,y,N),c=v}else for(p=0;p<l.length;p++){if(y=l[p],v=y.instance,N=y.currentTarget,y=y.listener,v!==c&&f.isPropagationStopped())break e;jm(f,y,N),c=v}}}if(Bl)throw t=Yc,Bl=!1,Yc=null,t}function Ie(t,r){var o=r[nf];o===void 0&&(o=r[nf]=new Set);var l=t+"__bubble";o.has(l)||(Py(r,t,2,!1),o.add(l))}function vc(t,r,o){var l=0;r&&(l|=4),Py(o,t,l,r)}var ml="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[ml]){t[ml]=!0,Lg.forEach(function(o){o!=="selectionchange"&&(Sk.has(o)||vc(o,!1,t),vc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ml]||(r[ml]=!0,vc("selectionchange",!1,r))}}function Py(t,r,o,l){switch(fy(r)){case 1:var f=b1;break;case 4:f=L1;break;default:f=Uf}o=f.bind(null,r,o,t),f=void 0,!qc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Tc(t,r,o,l,f){var c=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var y=l.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(p===4)for(p=l.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===f||v.nodeType===8&&v.parentNode===f))return;p=p.return}for(;y!==null;){if(p=Us(y),p===null)return;if(v=p.tag,v===5||v===6){l=c=p;continue e}y=y.parentNode}}l=l.return}Xg(function(){var N=c,R=Lf(o),D=[];e:{var C=_y.get(t);if(C!==void 0){var $=Ff,F=t;switch(t){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":$=H1;break;case"focusin":F="focus",$=dc;break;case"focusout":F="blur",$=dc;break;case"beforeblur":case"afterblur":$=dc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Z1;break;case ky:case Ey:case Ny:$=F1;break;case Iy:$=tk;break;case"scroll":$=M1;break;case"wheel":$=rk;break;case"copy":case"cut":case"paste":$=z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Dm}var j=(r&4)!==0,Te=!j&&t==="scroll",I=j?C!==null?C+"Capture":null:C;j=[];for(var S=N,_;S!==null;){_=S;var L=_.stateNode;if(_.tag===5&&L!==null&&(_=L,I!==null&&(L=aa(S,I),L!=null&&j.push(pa(S,L,_)))),Te)break;S=S.return}0<j.length&&(C=new $(C,F,null,o,R),D.push({event:C,listeners:j}))}}if((r&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",C&&o!==zc&&(F=o.relatedTarget||o.fromElement)&&(Us(F)||F[Br]))break e;if(($||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,$?(F=o.relatedTarget||o.toElement,$=N,F=F?Us(F):null,F!==null&&(Te=Hs(F),F!==Te||F.tag!==5&&F.tag!==6)&&(F=null)):($=null,F=N),$!==F)){if(j=xm,L="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(j=Dm,L="onPointerLeave",I="onPointerEnter",S="pointer"),Te=$==null?C:Ai($),_=F==null?C:Ai(F),C=new j(L,S+"leave",$,o,R),C.target=Te,C.relatedTarget=_,L=null,Us(R)===N&&(j=new j(I,S+"enter",F,o,R),j.target=_,j.relatedTarget=Te,L=j),Te=L,$&&F)t:{for(j=$,I=F,S=0,_=j;_;_=wi(_))S++;for(_=0,L=I;L;L=wi(L))_++;for(;0<S-_;)j=wi(j),S--;for(;0<_-S;)I=wi(I),_--;for(;S--;){if(j===I||I!==null&&j===I.alternate)break t;j=wi(j),I=wi(I)}j=null}else j=null;$!==null&&zm(D,C,$,j,!1),F!==null&&Te!==null&&zm(D,Te,F,j,!0)}}e:{if(C=N?Ai(N):window,$=C.nodeName&&C.nodeName.toLowerCase(),$==="select"||$==="input"&&C.type==="file")var V=ck;else if(Lm(C))if(yy)V=pk;else{V=dk;var x=fk}else($=C.nodeName)&&$.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(V=hk);if(V&&(V=V(t,N))){gy(D,V,o,R);break e}x&&x(t,C,N),t==="focusout"&&(x=C._wrapperState)&&x.controlled&&C.type==="number"&&Jc(C,"number",C.value)}switch(x=N?Ai(N):window,t){case"focusin":(Lm(x)||x.contentEditable==="true")&&(Ii=x,Hc=N,ea=null);break;case"focusout":ea=Hc=Ii=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,$m(D,o,R);break;case"selectionchange":if(yk)break;case"keydown":case"keyup":$m(D,o,R)}var K;if(zf)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else Ni?py(t,o)&&(Q="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Q="onCompositionStart");Q&&(hy&&o.locale!=="ko"&&(Ni||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Ni&&(K=dy()):(os=R,$f="value"in os?os.value:os.textContent,Ni=!0)),x=jl(N,Q),0<x.length&&(Q=new Cm(Q,t,null,o,R),D.push({event:Q,listeners:x}),K?Q.data=K:(K=my(o),K!==null&&(Q.data=K)))),(K=ik?ok(t,o):ak(t,o))&&(N=jl(N,"onBeforeInput"),0<N.length&&(R=new Cm("onBeforeInput","beforeinput",null,o,R),D.push({event:R,listeners:N}),R.data=K))}Ay(D,r)})}function pa(t,r,o){return{instance:t,listener:r,currentTarget:o}}function jl(t,r){for(var o=r+"Capture",l=[];t!==null;){var f=t,c=f.stateNode;f.tag===5&&c!==null&&(f=c,c=aa(t,o),c!=null&&l.unshift(pa(t,c,f)),c=aa(t,r),c!=null&&l.push(pa(t,c,f))),t=t.return}return l}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zm(t,r,o,l,f){for(var c=r._reactName,p=[];o!==null&&o!==l;){var y=o,v=y.alternate,N=y.stateNode;if(v!==null&&v===l)break;y.tag===5&&N!==null&&(y=N,f?(v=aa(o,c),v!=null&&p.unshift(pa(o,v,y))):f||(v=aa(o,c),v!=null&&p.push(pa(o,v,y)))),o=o.return}p.length!==0&&t.push({event:r,listeners:p})}var wk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function Vm(t){return(typeof t=="string"?t:""+t).replace(wk,`
`).replace(kk,"")}function gl(t,r,o){if(r=Vm(r),Vm(t)!==r&&o)throw Error(B(425))}function zl(){}var Qc=null,Zc=null;function ef(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,Ek=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Nk=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(Ik)}:tf;function Ik(t){setTimeout(function(){throw t})}function Sc(t,r){var o=r,l=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){t.removeChild(f),ca(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);ca(r)}function fs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ym(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),pr="__reactFiber$"+Hi,ma="__reactProps$"+Hi,Br="__reactContainer$"+Hi,nf="__reactEvents$"+Hi,_k="__reactListeners$"+Hi,Ak="__reactHandles$"+Hi;function Us(t){var r=t[pr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Br]||o[pr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ym(t);t!==null;){if(o=t[pr])return o;t=Ym(t)}return r}t=o,o=t.parentNode}return null}function Ia(t){return t=t[pr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function uu(t){return t[ma]||null}var rf=[],Pi=-1;function Ts(t){return{current:t}}function _e(t){0>Pi||(t.current=rf[Pi],rf[Pi]=null,Pi--)}function Ne(t,r){Pi++,rf[Pi]=t.current,t.current=r}var ys={},at=Ts(ys),wt=Ts(!1),Vs=ys;function Fi(t,r){var o=t.type.contextTypes;if(!o)return ys;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var f={},c;for(c in o)f[c]=r[c];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function kt(t){return t=t.childContextTypes,t!=null}function Vl(){_e(wt),_e(at)}function Wm(t,r,o){if(at.current!==ys)throw Error(B(168));Ne(at,r),Ne(wt,o)}function Oy(t,r,o){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in r))throw Error(B(108,f1(t)||"Unknown",f));return Re({},o,l)}function ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,Vs=at.current,Ne(at,t),Ne(wt,wt.current),!0}function Km(t,r,o){var l=t.stateNode;if(!l)throw Error(B(169));o?(t=Oy(t,r,Vs),l.__reactInternalMemoizedMergedChildContext=t,_e(wt),_e(at),Ne(at,t)):_e(wt),Ne(wt,o)}var Cr=null,cu=!1,wc=!1;function xy(t){Cr===null?Cr=[t]:Cr.push(t)}function Pk(t){cu=!0,xy(t)}function Ss(){if(!wc&&Cr!==null){wc=!0;var t=0,r=ye;try{var o=Cr;for(ye=1;t<o.length;t++){var l=o[t];do l=l(!0);while(l!==null)}Cr=null,cu=!1}catch(f){throw Cr!==null&&(Cr=Cr.slice(t+1)),ty(Mf,Ss),f}finally{ye=r,wc=!1}}return null}var Oi=[],xi=0,Yl=null,Wl=0,nn=[],rn=0,qs=null,Dr=1,Rr="";function Ms(t,r){Oi[xi++]=Wl,Oi[xi++]=Yl,Yl=t,Wl=r}function Cy(t,r,o){nn[rn++]=Dr,nn[rn++]=Rr,nn[rn++]=qs,qs=t;var l=Dr;t=Rr;var f=32-En(l)-1;l&=~(1<<f),o+=1;var c=32-En(r)+f;if(30<c){var p=f-f%5;c=(l&(1<<p)-1).toString(32),l>>=p,f-=p,Dr=1<<32-En(r)+f|o<<f|l,Rr=c+t}else Dr=1<<c|o<<f|l,Rr=t}function qf(t){t.return!==null&&(Ms(t,1),Cy(t,1,0))}function Yf(t){for(;t===Yl;)Yl=Oi[--xi],Oi[xi]=null,Wl=Oi[--xi],Oi[xi]=null;for(;t===qs;)qs=nn[--rn],nn[rn]=null,Rr=nn[--rn],nn[rn]=null,Dr=nn[--rn],nn[rn]=null}var Dt=null,Ct=null,xe=!1,kn=null;function Dy(t,r){var o=sn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Gm(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Dt=t,Ct=fs(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Dt=t,Ct=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=qs!==null?{id:Dr,overflow:Rr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=sn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Dt=t,Ct=null,!0):!1;default:return!1}}function sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(xe){var r=Ct;if(r){var o=r;if(!Gm(t,r)){if(sf(t))throw Error(B(418));r=fs(o.nextSibling);var l=Dt;r&&Gm(t,r)?Dy(l,o):(t.flags=t.flags&-4097|2,xe=!1,Dt=t)}}else{if(sf(t))throw Error(B(418));t.flags=t.flags&-4097|2,xe=!1,Dt=t}}}function Hm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function yl(t){if(t!==Dt)return!1;if(!xe)return Hm(t),xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ef(t.type,t.memoizedProps)),r&&(r=Ct)){if(sf(t))throw Ry(),Error(B(418));for(;r;)Dy(t,r),r=fs(r.nextSibling)}if(Hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ct=fs(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ct=null}}else Ct=Dt?fs(t.stateNode.nextSibling):null;return!0}function Ry(){for(var t=Ct;t;)t=fs(t.nextSibling)}function ji(){Ct=Dt=null,xe=!1}function Wf(t){kn===null?kn=[t]:kn.push(t)}var Ok=$r.ReactCurrentBatchConfig;function Sn(t,r){if(t&&t.defaultProps){r=Re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Kl=Ts(null),Gl=null,Ci=null,Kf=null;function Gf(){Kf=Ci=Gl=null}function Hf(t){var r=Kl.current;_e(Kl),t._currentValue=r}function af(t,r,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===o)break;t=t.return}}function Ji(t,r){Gl=t,Kf=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(St=!0),t.firstContext=null)}function an(t){var r=t._currentValue;if(Kf!==t)if(t={context:t,memoizedValue:r,next:null},Ci===null){if(Gl===null)throw Error(B(308));Ci=t,Gl.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return r}var $s=null;function Xf(t){$s===null?$s=[t]:$s.push(t)}function by(t,r,o,l){var f=r.interleaved;return f===null?(o.next=o,Xf(r)):(o.next=f.next,f.next=o),r.interleaved=o,Jr(t,l)}function Jr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var rs=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ds(t,r,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,Jr(t,o)}return f=l.interleaved,f===null?(r.next=r,Xf(l)):(r.next=f.next,f.next=r),l.interleaved=r,Jr(t,o)}function Pl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Bf(t,o)}}function Xm(t,r){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?f=c=p:c=c.next=p,o=o.next}while(o!==null);c===null?f=c=r:c=c.next=r}else f=c=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:c,shared:l.shared,effects:l.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Hl(t,r,o,l){var f=t.updateQueue;rs=!1;var c=f.firstBaseUpdate,p=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var v=y,N=v.next;v.next=null,p===null?c=N:p.next=N,p=v;var R=t.alternate;R!==null&&(R=R.updateQueue,y=R.lastBaseUpdate,y!==p&&(y===null?R.firstBaseUpdate=N:y.next=N,R.lastBaseUpdate=v))}if(c!==null){var D=f.baseState;p=0,R=N=v=null,y=c;do{var C=y.lane,$=y.eventTime;if((l&C)===C){R!==null&&(R=R.next={eventTime:$,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var F=t,j=y;switch(C=r,$=o,j.tag){case 1:if(F=j.payload,typeof F=="function"){D=F.call($,D,C);break e}D=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,C=typeof F=="function"?F.call($,D,C):F,C==null)break e;D=Re({},D,C);break e;case 2:rs=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,C=f.effects,C===null?f.effects=[y]:C.push(y))}else $={eventTime:$,lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},R===null?(N=R=$,v=D):R=R.next=$,p|=C;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;C=y,y=C.next,C.next=null,f.lastBaseUpdate=C,f.shared.pending=null}}while(1);if(R===null&&(v=D),f.baseState=v,f.firstBaseUpdate=N,f.lastBaseUpdate=R,r=f.shared.interleaved,r!==null){f=r;do p|=f.lane,f=f.next;while(f!==r)}else c===null&&(f.shared.lanes=0);Ws|=p,t.lanes=p,t.memoizedState=D}}function Qm(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(B(191,f));f.call(l)}}}var My=new bg.Component().refs;function lf(t,r,o,l){r=t.memoizedState,o=o(l,r),o=o==null?r:Re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var fu={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var l=ht(),f=ps(t),c=Lr(l,f);c.payload=r,o!=null&&(c.callback=o),r=ds(t,c,f),r!==null&&(Nn(r,t,f,l),Pl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var l=ht(),f=ps(t),c=Lr(l,f);c.tag=1,c.payload=r,o!=null&&(c.callback=o),r=ds(t,c,f),r!==null&&(Nn(r,t,f,l),Pl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ht(),l=ps(t),f=Lr(o,l);f.tag=2,r!=null&&(f.callback=r),r=ds(t,f,l),r!==null&&(Nn(r,t,l,o),Pl(r,t,l))}};function Zm(t,r,o,l,f,c,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,p):r.prototype&&r.prototype.isPureReactComponent?!da(o,l)||!da(f,c):!0}function By(t,r,o){var l=!1,f=ys,c=r.contextType;return typeof c=="object"&&c!==null?c=an(c):(f=kt(r)?Vs:at.current,l=r.contextTypes,c=(l=l!=null)?Fi(t,f):ys),r=new r(o,c),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=fu,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=c),r}function eg(t,r,o,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==t&&fu.enqueueReplaceState(r,r.state,null)}function uf(t,r,o,l){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs=My,Qf(t);var c=r.contextType;typeof c=="object"&&c!==null?f.context=an(c):(c=kt(r)?Vs:at.current,f.context=Fi(t,c)),f.state=t.memoizedState,c=r.getDerivedStateFromProps,typeof c=="function"&&(lf(t,r,c,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&fu.enqueueReplaceState(f,f.state,null),Hl(t,o,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(B(309));var l=o.stateNode}if(!l)throw Error(B(147,t));var f=l,c=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(p){var y=f.refs;y===My&&(y=f.refs={}),p===null?delete y[c]:y[c]=p},r._stringRef=c,r)}if(typeof t!="string")throw Error(B(284));if(!o._owner)throw Error(B(290,t))}return t}function vl(t,r){throw t=Object.prototype.toString.call(r),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function tg(t){var r=t._init;return r(t._payload)}function Jy(t){function r(I,S){if(t){var _=I.deletions;_===null?(I.deletions=[S],I.flags|=16):_.push(S)}}function o(I,S){if(!t)return null;for(;S!==null;)r(I,S),S=S.sibling;return null}function l(I,S){for(I=new Map;S!==null;)S.key!==null?I.set(S.key,S):I.set(S.index,S),S=S.sibling;return I}function f(I,S){return I=ms(I,S),I.index=0,I.sibling=null,I}function c(I,S,_){return I.index=_,t?(_=I.alternate,_!==null?(_=_.index,_<S?(I.flags|=2,S):_):(I.flags|=2,S)):(I.flags|=1048576,S)}function p(I){return t&&I.alternate===null&&(I.flags|=2),I}function y(I,S,_,L){return S===null||S.tag!==6?(S=Pc(_,I.mode,L),S.return=I,S):(S=f(S,_),S.return=I,S)}function v(I,S,_,L){var V=_.type;return V===Ei?R(I,S,_.props.children,L,_.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ns&&tg(V)===S.type)?(L=f(S,_.props),L.ref=jo(I,S,_),L.return=I,L):(L=bl(_.type,_.key,_.props,null,I.mode,L),L.ref=jo(I,S,_),L.return=I,L)}function N(I,S,_,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Oc(_,I.mode,L),S.return=I,S):(S=f(S,_.children||[]),S.return=I,S)}function R(I,S,_,L,V){return S===null||S.tag!==7?(S=zs(_,I.mode,L,V),S.return=I,S):(S=f(S,_),S.return=I,S)}function D(I,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Pc(""+S,I.mode,_),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case al:return _=bl(S.type,S.key,S.props,null,I.mode,_),_.ref=jo(I,null,S),_.return=I,_;case ki:return S=Oc(S,I.mode,_),S.return=I,S;case ns:var L=S._init;return D(I,L(S._payload),_)}if(Yo(S)||Bo(S))return S=zs(S,I.mode,_,null),S.return=I,S;vl(I,S)}return null}function C(I,S,_,L){var V=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:y(I,S,""+_,L);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case al:return _.key===V?v(I,S,_,L):null;case ki:return _.key===V?N(I,S,_,L):null;case ns:return V=_._init,C(I,S,V(_._payload),L)}if(Yo(_)||Bo(_))return V!==null?null:R(I,S,_,L,null);vl(I,_)}return null}function $(I,S,_,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(_)||null,y(S,I,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case al:return I=I.get(L.key===null?_:L.key)||null,v(S,I,L,V);case ki:return I=I.get(L.key===null?_:L.key)||null,N(S,I,L,V);case ns:var x=L._init;return $(I,S,_,x(L._payload),V)}if(Yo(L)||Bo(L))return I=I.get(_)||null,R(S,I,L,V,null);vl(S,L)}return null}function F(I,S,_,L){for(var V=null,x=null,K=S,Q=S=0,w=null;K!==null&&Q<_.length;Q++){K.index>Q?(w=K,K=null):w=K.sibling;var ee=C(I,K,_[Q],L);if(ee===null){K===null&&(K=w);break}t&&K&&ee.alternate===null&&r(I,K),S=c(ee,S,Q),x===null?V=ee:x.sibling=ee,x=ee,K=w}if(Q===_.length)return o(I,K),xe&&Ms(I,Q),V;if(K===null){for(;Q<_.length;Q++)K=D(I,_[Q],L),K!==null&&(S=c(K,S,Q),x===null?V=K:x.sibling=K,x=K);return xe&&Ms(I,Q),V}for(K=l(I,K);Q<_.length;Q++)w=$(K,I,Q,_[Q],L),w!==null&&(t&&w.alternate!==null&&K.delete(w.key===null?Q:w.key),S=c(w,S,Q),x===null?V=w:x.sibling=w,x=w);return t&&K.forEach(function(Nt){return r(I,Nt)}),xe&&Ms(I,Q),V}function j(I,S,_,L){var V=Bo(_);if(typeof V!="function")throw Error(B(150));if(_=V.call(_),_==null)throw Error(B(151));for(var x=V=null,K=S,Q=S=0,w=null,ee=_.next();K!==null&&!ee.done;Q++,ee=_.next()){K.index>Q?(w=K,K=null):w=K.sibling;var Nt=C(I,K,ee.value,L);if(Nt===null){K===null&&(K=w);break}t&&K&&Nt.alternate===null&&r(I,K),S=c(Nt,S,Q),x===null?V=Nt:x.sibling=Nt,x=Nt,K=w}if(ee.done)return o(I,K),xe&&Ms(I,Q),V;if(K===null){for(;!ee.done;Q++,ee=_.next())ee=D(I,ee.value,L),ee!==null&&(S=c(ee,S,Q),x===null?V=ee:x.sibling=ee,x=ee);return xe&&Ms(I,Q),V}for(K=l(I,K);!ee.done;Q++,ee=_.next())ee=$(K,I,Q,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&K.delete(ee.key===null?Q:ee.key),S=c(ee,S,Q),x===null?V=ee:x.sibling=ee,x=ee);return t&&K.forEach(function(yr){return r(I,yr)}),xe&&Ms(I,Q),V}function Te(I,S,_,L){if(typeof _=="object"&&_!==null&&_.type===Ei&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case al:e:{for(var V=_.key,x=S;x!==null;){if(x.key===V){if(V=_.type,V===Ei){if(x.tag===7){o(I,x.sibling),S=f(x,_.props.children),S.return=I,I=S;break e}}else if(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ns&&tg(V)===x.type){o(I,x.sibling),S=f(x,_.props),S.ref=jo(I,x,_),S.return=I,I=S;break e}o(I,x);break}else r(I,x);x=x.sibling}_.type===Ei?(S=zs(_.props.children,I.mode,L,_.key),S.return=I,I=S):(L=bl(_.type,_.key,_.props,null,I.mode,L),L.ref=jo(I,S,_),L.return=I,I=L)}return p(I);case ki:e:{for(x=_.key;S!==null;){if(S.key===x)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){o(I,S.sibling),S=f(S,_.children||[]),S.return=I,I=S;break e}else{o(I,S);break}else r(I,S);S=S.sibling}S=Oc(_,I.mode,L),S.return=I,I=S}return p(I);case ns:return x=_._init,Te(I,S,x(_._payload),L)}if(Yo(_))return F(I,S,_,L);if(Bo(_))return j(I,S,_,L);vl(I,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(o(I,S.sibling),S=f(S,_),S.return=I,I=S):(o(I,S),S=Pc(_,I.mode,L),S.return=I,I=S),p(I)):o(I,S)}return Te}var zi=Jy(!0),Uy=Jy(!1),_a={},gr=Ts(_a),ga=Ts(_a),ya=Ts(_a);function Fs(t){if(t===_a)throw Error(B(174));return t}function Zf(t,r){switch(Ne(ya,r),Ne(ga,t),Ne(gr,_a),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$c(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=$c(r,t)}_e(gr),Ne(gr,r)}function Vi(){_e(gr),_e(ga),_e(ya)}function $y(t){Fs(ya.current);var r=Fs(gr.current),o=$c(r,t.type);r!==o&&(Ne(ga,t),Ne(gr,o))}function ed(t){ga.current===t&&(_e(gr),_e(ga))}var Ce=Ts(0);function Xl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function td(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var Ol=$r.ReactCurrentDispatcher,Ec=$r.ReactCurrentBatchConfig,Ys=0,De=null,Ye=null,He=null,Ql=!1,ta=!1,va=0,xk=0;function st(){throw Error(B(321))}function nd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function rd(t,r,o,l,f,c){if(Ys=c,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ol.current=t===null||t.memoizedState===null?bk:Lk,t=o(l,f),ta){c=0;do{if(ta=!1,va=0,25<=c)throw Error(B(301));c+=1,He=Ye=null,r.updateQueue=null,Ol.current=Mk,t=o(l,f)}while(ta)}if(Ol.current=Zl,r=Ye!==null&&Ye.next!==null,Ys=0,He=Ye=De=null,Ql=!1,r)throw Error(B(300));return t}function sd(){var t=va!==0;return va=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?De.memoizedState=He=t:He=He.next=t,He}function ln(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=He===null?De.memoizedState:He.next;if(r!==null)He=r,Ye=t;else{if(t===null)throw Error(B(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},He===null?De.memoizedState=He=t:He=He.next=t}return He}function Ta(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=ln(),o=r.queue;if(o===null)throw Error(B(311));o.lastRenderedReducer=t;var l=Ye,f=l.baseQueue,c=o.pending;if(c!==null){if(f!==null){var p=f.next;f.next=c.next,c.next=p}l.baseQueue=f=c,o.pending=null}if(f!==null){c=f.next,l=l.baseState;var y=p=null,v=null,N=c;do{var R=N.lane;if((Ys&R)===R)v!==null&&(v=v.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:t(l,N.action);else{var D={lane:R,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};v===null?(y=v=D,p=l):v=v.next=D,De.lanes|=R,Ws|=R}N=N.next}while(N!==null&&N!==c);v===null?p=l:v.next=y,In(l,r.memoizedState)||(St=!0),r.memoizedState=l,r.baseState=p,r.baseQueue=v,o.lastRenderedState=l}if(t=o.interleaved,t!==null){f=t;do c=f.lane,De.lanes|=c,Ws|=c,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ic(t){var r=ln(),o=r.queue;if(o===null)throw Error(B(311));o.lastRenderedReducer=t;var l=o.dispatch,f=o.pending,c=r.memoizedState;if(f!==null){o.pending=null;var p=f=f.next;do c=t(c,p.action),p=p.next;while(p!==f);In(c,r.memoizedState)||(St=!0),r.memoizedState=c,r.baseQueue===null&&(r.baseState=c),o.lastRenderedState=c}return[c,l]}function Fy(){}function jy(t,r){var o=De,l=ln(),f=r(),c=!In(l.memoizedState,f);if(c&&(l.memoizedState=f,St=!0),l=l.queue,id(qy.bind(null,o,l,t),[t]),l.getSnapshot!==r||c||He!==null&&He.memoizedState.tag&1){if(o.flags|=2048,Sa(9,Vy.bind(null,o,l,f,r),void 0,null),Xe===null)throw Error(B(349));(Ys&30)!==0||zy(o,r,f)}return f}function zy(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Vy(t,r,o,l){r.value=o,r.getSnapshot=l,Yy(r)&&Wy(t)}function qy(t,r,o){return o(function(){Yy(r)&&Wy(t)})}function Yy(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function Wy(t){var r=Jr(t,1);r!==null&&Nn(r,t,1,-1)}function ng(t){var r=hr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},r.queue=t,t=t.dispatch=Rk.bind(null,De,t),[r.memoizedState,t]}function Sa(t,r,o,l){return t={tag:t,create:r,destroy:o,deps:l,next:null},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,r.lastEffect=t)),t}function Ky(){return ln().memoizedState}function xl(t,r,o,l){var f=hr();De.flags|=t,f.memoizedState=Sa(1|r,o,void 0,l===void 0?null:l)}function du(t,r,o,l){var f=ln();l=l===void 0?null:l;var c=void 0;if(Ye!==null){var p=Ye.memoizedState;if(c=p.destroy,l!==null&&nd(l,p.deps)){f.memoizedState=Sa(r,o,c,l);return}}De.flags|=t,f.memoizedState=Sa(1|r,o,c,l)}function rg(t,r){return xl(8390656,8,t,r)}function id(t,r){return du(2048,8,t,r)}function Gy(t,r){return du(4,2,t,r)}function Hy(t,r){return du(4,4,t,r)}function Xy(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qy(t,r,o){return o=o!=null?o.concat([t]):null,du(4,4,Xy.bind(null,r,t),o)}function od(){}function Zy(t,r){var o=ln();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&nd(r,l[1])?l[0]:(o.memoizedState=[t,r],t)}function ev(t,r){var o=ln();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&nd(r,l[1])?l[0]:(t=t(),o.memoizedState=[t,r],t)}function tv(t,r,o){return(Ys&21)===0?(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=o):(In(o,r)||(o=sy(),De.lanes|=o,Ws|=o,t.baseState=!0),r)}function Ck(t,r){var o=ye;ye=o!==0&&4>o?o:4,t(!0);var l=Ec.transition;Ec.transition={};try{t(!1),r()}finally{ye=o,Ec.transition=l}}function nv(){return ln().memoizedState}function Dk(t,r,o){var l=ps(t);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},rv(t))sv(r,o);else if(o=by(t,r,o,l),o!==null){var f=ht();Nn(o,t,l,f),iv(o,r,l)}}function Rk(t,r,o){var l=ps(t),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(rv(t))sv(r,f);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=r.lastRenderedReducer,c!==null))try{var p=r.lastRenderedState,y=c(p,o);if(f.hasEagerState=!0,f.eagerState=y,In(y,p)){var v=r.interleaved;v===null?(f.next=f,Xf(r)):(f.next=v.next,v.next=f),r.interleaved=f;return}}catch{}finally{}o=by(t,r,f,l),o!==null&&(f=ht(),Nn(o,t,l,f),iv(o,r,l))}}function rv(t){var r=t.alternate;return t===De||r!==null&&r===De}function sv(t,r){ta=Ql=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function iv(t,r,o){if((o&4194240)!==0){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Bf(t,o)}}var Zl={readContext:an,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},bk={readContext:an,useCallback:function(t,r){return hr().memoizedState=[t,r===void 0?null:r],t},useContext:an,useEffect:rg,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,xl(4194308,4,Xy.bind(null,r,t),o)},useLayoutEffect:function(t,r){return xl(4194308,4,t,r)},useInsertionEffect:function(t,r){return xl(4,2,t,r)},useMemo:function(t,r){var o=hr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var l=hr();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=Dk.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=hr();return t={current:t},r.memoizedState=t},useState:ng,useDebugValue:od,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=ng(!1),r=t[0];return t=Ck.bind(null,t[1]),hr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var l=De,f=hr();if(xe){if(o===void 0)throw Error(B(407));o=o()}else{if(o=r(),Xe===null)throw Error(B(349));(Ys&30)!==0||zy(l,r,o)}f.memoizedState=o;var c={value:o,getSnapshot:r};return f.queue=c,rg(qy.bind(null,l,c,t),[t]),l.flags|=2048,Sa(9,Vy.bind(null,l,c,o,r),void 0,null),o},useId:function(){var t=hr(),r=Xe.identifierPrefix;if(xe){var o=Rr,l=Dr;o=(l&~(1<<32-En(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=va++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=xk++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Lk={readContext:an,useCallback:Zy,useContext:an,useEffect:id,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Hy,useMemo:ev,useReducer:Nc,useRef:Ky,useState:function(){return Nc(Ta)},useDebugValue:od,useDeferredValue:function(t){var r=ln();return tv(r,Ye.memoizedState,t)},useTransition:function(){var t=Nc(Ta)[0],r=ln().memoizedState;return[t,r]},useMutableSource:Fy,useSyncExternalStore:jy,useId:nv,unstable_isNewReconciler:!1},Mk={readContext:an,useCallback:Zy,useContext:an,useEffect:id,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Hy,useMemo:ev,useReducer:Ic,useRef:Ky,useState:function(){return Ic(Ta)},useDebugValue:od,useDeferredValue:function(t){var r=ln();return Ye===null?r.memoizedState=t:tv(r,Ye.memoizedState,t)},useTransition:function(){var t=Ic(Ta)[0],r=ln().memoizedState;return[t,r]},useMutableSource:Fy,useSyncExternalStore:jy,useId:nv,unstable_isNewReconciler:!1};function qi(t,r){try{var o="",l=r;do o+=c1(l),l=l.return;while(l);var f=o}catch(c){f=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:r,stack:f,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o!=null?o:null,digest:r!=null?r:null}}function cf(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Bk=typeof WeakMap=="function"?WeakMap:Map;function ov(t,r,o){o=Lr(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){tu||(tu=!0,Sf=l),cf(t,r)},o}function av(t,r,o){o=Lr(-1,o),o.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=r.value;o.payload=function(){return l(f)},o.callback=function(){cf(t,r)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){cf(t,r),typeof l!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),o}function sg(t,r,o){var l=t.pingCache;if(l===null){l=t.pingCache=new Bk;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(f.add(o),t=Xk.bind(null,t,r,o),r.then(t,t))}function ig(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function og(t,r,o,l,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Lr(-1,1),r.tag=2,ds(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Jk=$r.ReactCurrentOwner,St=!1;function dt(t,r,o,l){r.child=t===null?Uy(r,null,o,l):zi(r,t.child,o,l)}function ag(t,r,o,l,f){o=o.render;var c=r.ref;return Ji(r,f),l=rd(t,r,o,l,c,f),o=sd(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ur(t,r,f)):(xe&&o&&qf(r),r.flags|=1,dt(t,r,l,f),r.child)}function lg(t,r,o,l,f){if(t===null){var c=o.type;return typeof c=="function"&&!pd(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,lv(t,r,c,l,f)):(t=bl(o.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(c=t.child,(t.lanes&f)===0){var p=c.memoizedProps;if(o=o.compare,o=o!==null?o:da,o(p,l)&&t.ref===r.ref)return Ur(t,r,f)}return r.flags|=1,t=ms(c,l),t.ref=r.ref,t.return=r,r.child=t}function lv(t,r,o,l,f){if(t!==null){var c=t.memoizedProps;if(da(c,l)&&t.ref===r.ref)if(St=!1,r.pendingProps=l=c,(t.lanes&f)!==0)(t.flags&131072)!==0&&(St=!0);else return r.lanes=t.lanes,Ur(t,r,f)}return ff(t,r,o,l,f)}function uv(t,r,o){var l=r.pendingProps,f=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ri,xt),xt|=o;else{if((o&1073741824)===0)return t=c!==null?c.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ne(Ri,xt),xt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:o,Ne(Ri,xt),xt|=l}else c!==null?(l=c.baseLanes|o,r.memoizedState=null):l=o,Ne(Ri,xt),xt|=l;return dt(t,r,f,o),r.child}function cv(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ff(t,r,o,l,f){var c=kt(o)?Vs:at.current;return c=Fi(r,c),Ji(r,f),o=rd(t,r,o,l,c,f),l=sd(),t!==null&&!St?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ur(t,r,f)):(xe&&l&&qf(r),r.flags|=1,dt(t,r,o,f),r.child)}function ug(t,r,o,l,f){if(kt(o)){var c=!0;ql(r)}else c=!1;if(Ji(r,f),r.stateNode===null)Cl(t,r),By(r,o,l),uf(r,o,l,f),l=!0;else if(t===null){var p=r.stateNode,y=r.memoizedProps;p.props=y;var v=p.context,N=o.contextType;typeof N=="object"&&N!==null?N=an(N):(N=kt(o)?Vs:at.current,N=Fi(r,N));var R=o.getDerivedStateFromProps,D=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==l||v!==N)&&eg(r,p,l,N),rs=!1;var C=r.memoizedState;p.state=C,Hl(r,l,p,f),v=r.memoizedState,y!==l||C!==v||wt.current||rs?(typeof R=="function"&&(lf(r,o,R,l),v=r.memoizedState),(y=rs||Zm(r,o,y,l,C,v,N))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=v),p.props=l,p.state=v,p.context=N,l=y):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Ly(t,r),y=r.memoizedProps,N=r.type===r.elementType?y:Sn(r.type,y),p.props=N,D=r.pendingProps,C=p.context,v=o.contextType,typeof v=="object"&&v!==null?v=an(v):(v=kt(o)?Vs:at.current,v=Fi(r,v));var $=o.getDerivedStateFromProps;(R=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==D||C!==v)&&eg(r,p,l,v),rs=!1,C=r.memoizedState,p.state=C,Hl(r,l,p,f);var F=r.memoizedState;y!==D||C!==F||wt.current||rs?(typeof $=="function"&&(lf(r,o,$,l),F=r.memoizedState),(N=rs||Zm(r,o,N,l,C,F,v)||!1)?(R||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,F,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,F,v)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=v,l=N):(typeof p.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),l=!1)}return df(t,r,o,l,c,f)}function df(t,r,o,l,f,c){cv(t,r);var p=(r.flags&128)!==0;if(!l&&!p)return f&&Km(r,o,!1),Ur(t,r,c);l=r.stateNode,Jk.current=r;var y=p&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&p?(r.child=zi(r,t.child,null,c),r.child=zi(r,null,y,c)):dt(t,r,y,c),r.memoizedState=l.state,f&&Km(r,o,!0),r.child}function fv(t){var r=t.stateNode;r.pendingContext?Wm(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Wm(t,r.context,!1),Zf(t,r.containerInfo)}function cg(t,r,o,l,f){return ji(),Wf(f),r.flags|=256,dt(t,r,o,l),r.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function dv(t,r,o){var l=r.pendingProps,f=Ce.current,c=!1,p=(r.flags&128)!==0,y;if((y=p)||(y=t!==null&&t.memoizedState===null?!1:(f&2)!==0),y?(c=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Ne(Ce,f&1),t===null)return of(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(p=l.children,t=l.fallback,c?(l=r.mode,c=r.child,p={mode:"hidden",children:p},(l&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=p):c=mu(p,l,0,null),t=zs(t,l,o,null),c.return=r,t.return=r,c.sibling=t,r.child=c,r.child.memoizedState=pf(o),r.memoizedState=hf,t):ad(r,p));if(f=t.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return Uk(t,r,p,l,y,f,o);if(c){c=l.fallback,p=r.mode,f=t.child,y=f.sibling;var v={mode:"hidden",children:l.children};return(p&1)===0&&r.child!==f?(l=r.child,l.childLanes=0,l.pendingProps=v,r.deletions=null):(l=ms(f,v),l.subtreeFlags=f.subtreeFlags&14680064),y!==null?c=ms(y,c):(c=zs(c,p,o,null),c.flags|=2),c.return=r,l.return=r,l.sibling=c,r.child=l,l=c,c=r.child,p=t.child.memoizedState,p=p===null?pf(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=t.childLanes&~o,r.memoizedState=hf,l}return c=t.child,t=c.sibling,l=ms(c,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=o),l.return=r,l.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=l,r.memoizedState=null,l}function ad(t,r){return r=mu({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Tl(t,r,o,l){return l!==null&&Wf(l),zi(r,t.child,null,o),t=ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Uk(t,r,o,l,f,c,p){if(o)return r.flags&256?(r.flags&=-257,l=_c(Error(B(422))),Tl(t,r,p,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(c=l.fallback,f=r.mode,l=mu({mode:"visible",children:l.children},f,0,null),c=zs(c,f,p,null),c.flags|=2,l.return=r,c.return=r,l.sibling=c,r.child=l,(r.mode&1)!==0&&zi(r,t.child,null,p),r.child.memoizedState=pf(p),r.memoizedState=hf,c);if((r.mode&1)===0)return Tl(t,r,p,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var y=l.dgst;return l=y,c=Error(B(419)),l=_c(c,l,void 0),Tl(t,r,p,l)}if(y=(p&t.childLanes)!==0,St||y){if(l=Xe,l!==null){switch(p&-p){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(l.suspendedLanes|p))!==0?0:f,f!==0&&f!==c.retryLane&&(c.retryLane=f,Jr(t,f),Nn(l,t,f,-1))}return hd(),l=_c(Error(B(421))),Tl(t,r,p,l)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Qk.bind(null,t),f._reactRetry=r,null):(t=c.treeContext,Ct=fs(f.nextSibling),Dt=r,xe=!0,kn=null,t!==null&&(nn[rn++]=Dr,nn[rn++]=Rr,nn[rn++]=qs,Dr=t.id,Rr=t.overflow,qs=r),r=ad(r,l.children),r.flags|=4096,r)}function fg(t,r,o){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),af(t.return,r,o)}function Ac(t,r,o,l,f){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=o,c.tailMode=f)}function hv(t,r,o){var l=r.pendingProps,f=l.revealOrder,c=l.tail;if(dt(t,r,l.children,o),l=Ce.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,o,r);else if(t.tag===19)fg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ne(Ce,l),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&Xl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Ac(r,!1,f,o,c);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Xl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Ac(r,!0,o,null,c);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ws|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(B(153));if(r.child!==null){for(t=r.child,o=ms(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ms(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function $k(t,r,o){switch(r.tag){case 3:fv(r),ji();break;case 5:$y(r);break;case 1:kt(r.type)&&ql(r);break;case 4:Zf(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,f=r.memoizedProps.value;Ne(Kl,l._currentValue),l._currentValue=f;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ne(Ce,Ce.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?dv(t,r,o):(Ne(Ce,Ce.current&1),t=Ur(t,r,o),t!==null?t.sibling:null);Ne(Ce,Ce.current&1);break;case 19:if(l=(o&r.childLanes)!==0,(t.flags&128)!==0){if(l)return hv(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(Ce,Ce.current),l)break;return null;case 22:case 23:return r.lanes=0,uv(t,r,o)}return Ur(t,r,o)}var pv,mf,mv,gv;pv=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};mf=function(){};mv=function(t,r,o,l){var f=t.memoizedProps;if(f!==l){t=r.stateNode,Fs(gr.current);var c=null;switch(o){case"input":f=Mc(t,f),l=Mc(t,l),c=[];break;case"select":f=Re({},f,{value:void 0}),l=Re({},l,{value:void 0}),c=[];break;case"textarea":f=Uc(t,f),l=Uc(t,l),c=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=zl)}Fc(o,l);var p;o=null;for(N in f)if(!l.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var y=f[N];for(p in y)y.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(ia.hasOwnProperty(N)?c||(c=[]):(c=c||[]).push(N,null));for(N in l){var v=l[N];if(y=f!=null?f[N]:void 0,l.hasOwnProperty(N)&&v!==y&&(v!=null||y!=null))if(N==="style")if(y){for(p in y)!y.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in v)v.hasOwnProperty(p)&&y[p]!==v[p]&&(o||(o={}),o[p]=v[p])}else o||(c||(c=[]),c.push(N,o)),o=v;else N==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(c=c||[]).push(N,v)):N==="children"?typeof v!="string"&&typeof v!="number"||(c=c||[]).push(N,""+v):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(ia.hasOwnProperty(N)?(v!=null&&N==="onScroll"&&Ie("scroll",t),c||y===v||(c=[])):(c=c||[]).push(N,v))}o&&(c=c||[]).push("style",o);var N=c;(r.updateQueue=N)&&(r.flags|=4)}};gv=function(t,r,o,l){o!==l&&(r.flags|=4)};function zo(t,r){if(!xe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=o,r}function Fk(t,r,o){var l=r.pendingProps;switch(Yf(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return kt(r.type)&&Vl(),it(r),null;case 3:return l=r.stateNode,Vi(),_e(wt),_e(at),td(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(yl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kn!==null&&(Ef(kn),kn=null))),mf(t,r),it(r),null;case 5:ed(r);var f=Fs(ya.current);if(o=r.type,t!==null&&r.stateNode!=null)mv(t,r,o,l,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(B(166));return it(r),null}if(t=Fs(gr.current),yl(r)){l=r.stateNode,o=r.type;var c=r.memoizedProps;switch(l[pr]=r,l[ma]=c,t=(r.mode&1)!==0,o){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(f=0;f<Ko.length;f++)Ie(Ko[f],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":Sm(l,c),Ie("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},Ie("invalid",l);break;case"textarea":km(l,c),Ie("invalid",l)}Fc(o,c),f=null;for(var p in c)if(c.hasOwnProperty(p)){var y=c[p];p==="children"?typeof y=="string"?l.textContent!==y&&(c.suppressHydrationWarning!==!0&&gl(l.textContent,y,t),f=["children",y]):typeof y=="number"&&l.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&gl(l.textContent,y,t),f=["children",""+y]):ia.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Ie("scroll",l)}switch(o){case"input":ll(l),wm(l,c,!0);break;case"textarea":ll(l),Em(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=zl)}l=f,r.updateQueue=l,l!==null&&(r.flags|=4)}else{p=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zg(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=p.createElement(o,{is:l.is}):(t=p.createElement(o),o==="select"&&(p=t,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):t=p.createElementNS(t,o),t[pr]=r,t[ma]=l,pv(t,r,!1,!1),r.stateNode=t;e:{switch(p=jc(o,l),o){case"dialog":Ie("cancel",t),Ie("close",t),f=l;break;case"iframe":case"object":case"embed":Ie("load",t),f=l;break;case"video":case"audio":for(f=0;f<Ko.length;f++)Ie(Ko[f],t);f=l;break;case"source":Ie("error",t),f=l;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),f=l;break;case"details":Ie("toggle",t),f=l;break;case"input":Sm(t,l),f=Mc(t,l),Ie("invalid",t);break;case"option":f=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=Re({},l,{value:void 0}),Ie("invalid",t);break;case"textarea":km(t,l),f=Uc(t,l),Ie("invalid",t);break;default:f=l}Fc(o,f),y=f;for(c in y)if(y.hasOwnProperty(c)){var v=y[c];c==="style"?Yg(t,v):c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Vg(t,v)):c==="children"?typeof v=="string"?(o!=="textarea"||v!=="")&&oa(t,v):typeof v=="number"&&oa(t,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?v!=null&&c==="onScroll"&&Ie("scroll",t):v!=null&&Cf(t,c,v,p))}switch(o){case"input":ll(t),wm(t,l,!1);break;case"textarea":ll(t),Em(t);break;case"option":l.value!=null&&t.setAttribute("value",""+gs(l.value));break;case"select":t.multiple=!!l.multiple,c=l.value,c!=null?bi(t,!!l.multiple,c,!1):l.defaultValue!=null&&bi(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=zl)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(t&&r.stateNode!=null)gv(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(B(166));if(o=Fs(ya.current),Fs(gr.current),yl(r)){if(l=r.stateNode,o=r.memoizedProps,l[pr]=r,(c=l.nodeValue!==o)&&(t=Dt,t!==null))switch(t.tag){case 3:gl(l.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gl(l.nodeValue,o,(t.mode&1)!==0)}c&&(r.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[pr]=r,r.stateNode=l}return it(r),null;case 13:if(_e(Ce),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Ct!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ry(),ji(),r.flags|=98560,c=!1;else if(c=yl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(B(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(B(317));c[pr]=r}else ji(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),c=!1}else kn!==null&&(Ef(kn),kn=null),c=!0;if(!c)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ce.current&1)!==0?We===0&&(We=3):hd())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return Vi(),mf(t,r),t===null&&ha(r.stateNode.containerInfo),it(r),null;case 10:return Hf(r.type._context),it(r),null;case 17:return kt(r.type)&&Vl(),it(r),null;case 19:if(_e(Ce),c=r.memoizedState,c===null)return it(r),null;if(l=(r.flags&128)!==0,p=c.rendering,p===null)if(l)zo(c,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=Xl(t),p!==null){for(r.flags|=128,zo(c,!1),l=p.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=o,o=r.child;o!==null;)c=o,t=l,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,t=p.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ne(Ce,Ce.current&1|2),r.child}t=t.sibling}c.tail!==null&&Be()>Yi&&(r.flags|=128,l=!0,zo(c,!1),r.lanes=4194304)}else{if(!l)if(t=Xl(p),t!==null){if(r.flags|=128,l=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!xe)return it(r),null}else 2*Be()-c.renderingStartTime>Yi&&o!==1073741824&&(r.flags|=128,l=!0,zo(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(o=c.last,o!==null?o.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Be(),r.sibling=null,o=Ce.current,Ne(Ce,l?o&1|2:o&1),r):(it(r),null);case 22:case 23:return dd(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?(xt&1073741824)!==0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(B(156,r.tag))}function jk(t,r){switch(Yf(r),r.tag){case 1:return kt(r.type)&&Vl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vi(),_e(wt),_e(at),td(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ed(r),null;case 13:if(_e(Ce),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(B(340));ji()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return _e(Ce),null;case 4:return Vi(),null;case 10:return Hf(r.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Sl=!1,ot=!1,zk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Di(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Me(t,r,l)}else o.current=null}function gf(t,r,o){try{o()}catch(l){Me(t,r,l)}}var dg=!1;function Vk(t,r){if(Qc=$l,t=Sy(),Vf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var p=0,y=-1,v=-1,N=0,R=0,D=t,C=null;t:for(;;){for(var $;D!==o||f!==0&&D.nodeType!==3||(y=p+f),D!==c||l!==0&&D.nodeType!==3||(v=p+l),D.nodeType===3&&(p+=D.nodeValue.length),($=D.firstChild)!==null;)C=D,D=$;for(;;){if(D===t)break t;if(C===o&&++N===f&&(y=p),C===c&&++R===l&&(v=p),($=D.nextSibling)!==null)break;D=C,C=D.parentNode}D=$}o=y===-1||v===-1?null:{start:y,end:v}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zc={focusedElem:t,selectionRange:o},$l=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var F=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var j=F.memoizedProps,Te=F.memoizedState,I=r.stateNode,S=I.getSnapshotBeforeUpdate(r.elementType===r.type?j:Sn(r.type,j),Te);I.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(L){Me(r,r.return,L)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return F=dg,dg=!1,F}function na(t,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&t)===t){var c=f.destroy;f.destroy=void 0,c!==void 0&&gf(r,o,c)}f=f.next}while(f!==l)}}function hu(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function yf(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function yv(t){var r=t.alternate;r!==null&&(t.alternate=null,yv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[pr],delete r[ma],delete r[nf],delete r[_k],delete r[Ak])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vv(t){return t.tag===5||t.tag===3||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=zl));else if(l!==4&&(t=t.child,t!==null))for(vf(t,r,o),t=t.sibling;t!==null;)vf(t,r,o),t=t.sibling}function Tf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Tf(t,r,o),t=t.sibling;t!==null;)Tf(t,r,o),t=t.sibling}var et=null,wn=!1;function ts(t,r,o){for(o=o.child;o!==null;)Tv(t,r,o),o=o.sibling}function Tv(t,r,o){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(iu,o)}catch{}switch(o.tag){case 5:ot||Di(o,r);case 6:var l=et,f=wn;et=null,ts(t,r,o),et=l,wn=f,et!==null&&(wn?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(wn?(t=et,o=o.stateNode,t.nodeType===8?Sc(t.parentNode,o):t.nodeType===1&&Sc(t,o),ca(t)):Sc(et,o.stateNode));break;case 4:l=et,f=wn,et=o.stateNode.containerInfo,wn=!0,ts(t,r,o),et=l,wn=f;break;case 0:case 11:case 14:case 15:if(!ot&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var c=f,p=c.destroy;c=c.tag,p!==void 0&&((c&2)!==0||(c&4)!==0)&&gf(o,r,p),f=f.next}while(f!==l)}ts(t,r,o);break;case 1:if(!ot&&(Di(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(y){Me(o,r,y)}ts(t,r,o);break;case 21:ts(t,r,o);break;case 22:o.mode&1?(ot=(l=ot)||o.memoizedState!==null,ts(t,r,o),ot=l):ts(t,r,o);break;default:ts(t,r,o)}}function pg(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new zk),r.forEach(function(l){var f=Zk.bind(null,t,l);o.has(l)||(o.add(l),l.then(f,f))})}}function Tn(t,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var c=t,p=r,y=p;e:for(;y!==null;){switch(y.tag){case 5:et=y.stateNode,wn=!1;break e;case 3:et=y.stateNode.containerInfo,wn=!0;break e;case 4:et=y.stateNode.containerInfo,wn=!0;break e}y=y.return}if(et===null)throw Error(B(160));Tv(c,p,f),et=null,wn=!1;var v=f.alternate;v!==null&&(v.return=null),f.return=null}catch(N){Me(f,r,N)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Sv(r,t),r=r.sibling}function Sv(t,r){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(r,t),dr(t),l&4){try{na(3,t,t.return),hu(3,t)}catch(j){Me(t,t.return,j)}try{na(5,t,t.return)}catch(j){Me(t,t.return,j)}}break;case 1:Tn(r,t),dr(t),l&512&&o!==null&&Di(o,o.return);break;case 5:if(Tn(r,t),dr(t),l&512&&o!==null&&Di(o,o.return),t.flags&32){var f=t.stateNode;try{oa(f,"")}catch(j){Me(t,t.return,j)}}if(l&4&&(f=t.stateNode,f!=null)){var c=t.memoizedProps,p=o!==null?o.memoizedProps:c,y=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&Fg(f,c),jc(y,p);var N=jc(y,c);for(p=0;p<v.length;p+=2){var R=v[p],D=v[p+1];R==="style"?Yg(f,D):R==="dangerouslySetInnerHTML"?Vg(f,D):R==="children"?oa(f,D):Cf(f,R,D,N)}switch(y){case"input":Bc(f,c);break;case"textarea":jg(f,c);break;case"select":var C=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!c.multiple;var $=c.value;$!=null?bi(f,!!c.multiple,$,!1):C!==!!c.multiple&&(c.defaultValue!=null?bi(f,!!c.multiple,c.defaultValue,!0):bi(f,!!c.multiple,c.multiple?[]:"",!1))}f[ma]=c}catch(j){Me(t,t.return,j)}}break;case 6:if(Tn(r,t),dr(t),l&4){if(t.stateNode===null)throw Error(B(162));f=t.stateNode,c=t.memoizedProps;try{f.nodeValue=c}catch(j){Me(t,t.return,j)}}break;case 3:if(Tn(r,t),dr(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{ca(r.containerInfo)}catch(j){Me(t,t.return,j)}break;case 4:Tn(r,t),dr(t);break;case 13:Tn(r,t),dr(t),f=t.child,f.flags&8192&&(c=f.memoizedState!==null,f.stateNode.isHidden=c,!c||f.alternate!==null&&f.alternate.memoizedState!==null||(cd=Be())),l&4&&pg(t);break;case 22:if(R=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(N=ot)||R,Tn(r,t),ot=N):Tn(r,t),dr(t),l&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!R&&(t.mode&1)!==0)for(Y=t,R=t.child;R!==null;){for(D=Y=R;Y!==null;){switch(C=Y,$=C.child,C.tag){case 0:case 11:case 14:case 15:na(4,C,C.return);break;case 1:Di(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){l=C,o=C.return;try{r=l,F.props=r.memoizedProps,F.state=r.memoizedState,F.componentWillUnmount()}catch(j){Me(l,o,j)}}break;case 5:Di(C,C.return);break;case 22:if(C.memoizedState!==null){gg(D);continue}}$!==null?($.return=C,Y=$):gg(D)}R=R.sibling}e:for(R=null,D=t;;){if(D.tag===5){if(R===null){R=D;try{f=D.stateNode,N?(c=f.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=D.stateNode,v=D.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=qg("display",p))}catch(j){Me(t,t.return,j)}}}else if(D.tag===6){if(R===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(j){Me(t,t.return,j)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===t)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===t)break e;for(;D.sibling===null;){if(D.return===null||D.return===t)break e;R===D&&(R=null),D=D.return}R===D&&(R=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Tn(r,t),dr(t),l&4&&pg(t);break;case 21:break;default:Tn(r,t),dr(t)}}function dr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(vv(o)){var l=o;break e}o=o.return}throw Error(B(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(oa(f,""),l.flags&=-33);var c=hg(t);Tf(t,c,f);break;case 3:case 4:var p=l.stateNode.containerInfo,y=hg(t);vf(t,y,p);break;default:throw Error(B(161))}}catch(v){Me(t,t.return,v)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function qk(t,r,o){Y=t,wv(t)}function wv(t,r,o){for(var l=(t.mode&1)!==0;Y!==null;){var f=Y,c=f.child;if(f.tag===22&&l){var p=f.memoizedState!==null||Sl;if(!p){var y=f.alternate,v=y!==null&&y.memoizedState!==null||ot;y=Sl;var N=ot;if(Sl=p,(ot=v)&&!N)for(Y=f;Y!==null;)p=Y,v=p.child,p.tag===22&&p.memoizedState!==null?yg(f):v!==null?(v.return=p,Y=v):yg(f);for(;c!==null;)Y=c,wv(c),c=c.sibling;Y=f,Sl=y,ot=N}mg(t)}else(f.subtreeFlags&8772)!==0&&c!==null?(c.return=f,Y=c):mg(t)}}function mg(t){for(;Y!==null;){var r=Y;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ot||hu(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!ot)if(o===null)l.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Sn(r.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=r.updateQueue;c!==null&&Qm(r,c,l);break;case 3:var p=r.updateQueue;if(p!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Qm(r,p,o)}break;case 5:var y=r.stateNode;if(o===null&&r.flags&4){o=y;var v=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&o.focus();break;case"img":v.src&&(o.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var N=r.alternate;if(N!==null){var R=N.memoizedState;if(R!==null){var D=R.dehydrated;D!==null&&ca(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ot||r.flags&512&&yf(r)}catch(C){Me(r,r.return,C)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function gg(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function yg(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{hu(4,r)}catch(v){Me(r,o,v)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var f=r.return;try{l.componentDidMount()}catch(v){Me(r,f,v)}}var c=r.return;try{yf(r)}catch(v){Me(r,c,v)}break;case 5:var p=r.return;try{yf(r)}catch(v){Me(r,p,v)}}}catch(v){Me(r,r.return,v)}if(r===t){Y=null;break}var y=r.sibling;if(y!==null){y.return=r.return,Y=y;break}Y=r.return}}var Yk=Math.ceil,eu=$r.ReactCurrentDispatcher,ld=$r.ReactCurrentOwner,on=$r.ReactCurrentBatchConfig,he=0,Xe=null,je=null,tt=0,xt=0,Ri=Ts(0),We=0,wa=null,Ws=0,pu=0,ud=0,ra=null,Tt=null,cd=0,Yi=1/0,xr=null,tu=!1,Sf=null,hs=null,wl=!1,as=null,nu=0,sa=0,wf=null,Dl=-1,Rl=0;function ht(){return(he&6)!==0?Be():Dl!==-1?Dl:Dl=Be()}function ps(t){return(t.mode&1)===0?1:(he&2)!==0&&tt!==0?tt&-tt:Ok.transition!==null?(Rl===0&&(Rl=sy()),Rl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:fy(t.type)),t)}function Nn(t,r,o,l){if(50<sa)throw sa=0,wf=null,Error(B(185));Ea(t,o,l),((he&2)===0||t!==Xe)&&(t===Xe&&((he&2)===0&&(pu|=o),We===4&&is(t,tt)),Et(t,l),o===1&&he===0&&(r.mode&1)===0&&(Yi=Be()+500,cu&&Ss()))}function Et(t,r){var o=t.callbackNode;O1(t,r);var l=Ul(t,t===Xe?tt:0);if(l===0)o!==null&&_m(o),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(o!=null&&_m(o),r===1)t.tag===0?Pk(vg.bind(null,t)):xy(vg.bind(null,t)),Nk(function(){(he&6)===0&&Ss()}),o=null;else{switch(iy(l)){case 1:o=Mf;break;case 4:o=ny;break;case 16:o=Jl;break;case 536870912:o=ry;break;default:o=Jl}o=Ov(o,kv.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function kv(t,r){if(Dl=-1,Rl=0,(he&6)!==0)throw Error(B(327));var o=t.callbackNode;if(Ui()&&t.callbackNode!==o)return null;var l=Ul(t,t===Xe?tt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||r)r=ru(t,l);else{r=l;var f=he;he|=2;var c=Nv();(Xe!==t||tt!==r)&&(xr=null,Yi=Be()+500,js(t,r));do try{Gk();break}catch(y){Ev(t,y)}while(1);Gf(),eu.current=c,he=f,je!==null?r=0:(Xe=null,tt=0,r=We)}if(r!==0){if(r===2&&(f=Wc(t),f!==0&&(l=f,r=kf(t,f))),r===1)throw o=wa,js(t,0),is(t,l),Et(t,Be()),o;if(r===6)is(t,l);else{if(f=t.current.alternate,(l&30)===0&&!Wk(f)&&(r=ru(t,l),r===2&&(c=Wc(t),c!==0&&(l=c,r=kf(t,c))),r===1))throw o=wa,js(t,0),is(t,l),Et(t,Be()),o;switch(t.finishedWork=f,t.finishedLanes=l,r){case 0:case 1:throw Error(B(345));case 2:Bs(t,Tt,xr);break;case 3:if(is(t,l),(l&130023424)===l&&(r=cd+500-Be(),10<r)){if(Ul(t,0)!==0)break;if(f=t.suspendedLanes,(f&l)!==l){ht(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=tf(Bs.bind(null,t,Tt,xr),r);break}Bs(t,Tt,xr);break;case 4:if(is(t,l),(l&4194240)===l)break;for(r=t.eventTimes,f=-1;0<l;){var p=31-En(l);c=1<<p,p=r[p],p>f&&(f=p),l&=~c}if(l=f,l=Be()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Yk(l/1960))-l,10<l){t.timeoutHandle=tf(Bs.bind(null,t,Tt,xr),l);break}Bs(t,Tt,xr);break;case 5:Bs(t,Tt,xr);break;default:throw Error(B(329))}}}return Et(t,Be()),t.callbackNode===o?kv.bind(null,t):null}function kf(t,r){var o=ra;return t.current.memoizedState.isDehydrated&&(js(t,r).flags|=256),t=ru(t,r),t!==2&&(r=Tt,Tt=o,r!==null&&Ef(r)),t}function Ef(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function Wk(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],c=f.getSnapshot;f=f.value;try{if(!In(c(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(t,r){for(r&=~ud,r&=~pu,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-En(r),l=1<<o;t[o]=-1,r&=~l}}function vg(t){if((he&6)!==0)throw Error(B(327));Ui();var r=Ul(t,0);if((r&1)===0)return Et(t,Be()),null;var o=ru(t,r);if(t.tag!==0&&o===2){var l=Wc(t);l!==0&&(r=l,o=kf(t,l))}if(o===1)throw o=wa,js(t,0),is(t,r),Et(t,Be()),o;if(o===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Bs(t,Tt,xr),Et(t,Be()),null}function fd(t,r){var o=he;he|=1;try{return t(r)}finally{he=o,he===0&&(Yi=Be()+500,cu&&Ss())}}function Ks(t){as!==null&&as.tag===0&&(he&6)===0&&Ui();var r=he;he|=1;var o=on.transition,l=ye;try{if(on.transition=null,ye=1,t)return t()}finally{ye=l,on.transition=o,he=r,(he&6)===0&&Ss()}}function dd(){xt=Ri.current,_e(Ri)}function js(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ek(o)),je!==null)for(o=je.return;o!==null;){var l=o;switch(Yf(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Vl();break;case 3:Vi(),_e(wt),_e(at),td();break;case 5:ed(l);break;case 4:Vi();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Hf(l.type._context);break;case 22:case 23:dd()}o=o.return}if(Xe=t,je=t=ms(t.current,null),tt=xt=r,We=0,wa=null,ud=pu=Ws=0,Tt=ra=null,$s!==null){for(r=0;r<$s.length;r++)if(o=$s[r],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,c=o.pending;if(c!==null){var p=c.next;c.next=f,l.next=p}o.pending=l}$s=null}return t}function Ev(t,r){do{var o=je;try{if(Gf(),Ol.current=Zl,Ql){for(var l=De.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Ql=!1}if(Ys=0,He=Ye=De=null,ta=!1,va=0,ld.current=null,o===null||o.return===null){We=1,wa=r,je=null;break}e:{var c=t,p=o.return,y=o,v=r;if(r=tt,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var N=v,R=y,D=R.tag;if((R.mode&1)===0&&(D===0||D===11||D===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=ig(p);if($!==null){$.flags&=-257,og($,p,y,c,r),$.mode&1&&sg(c,N,r),r=$,v=N;var F=r.updateQueue;if(F===null){var j=new Set;j.add(v),r.updateQueue=j}else F.add(v);break e}else{if((r&1)===0){sg(c,N,r),hd();break e}v=Error(B(426))}}else if(xe&&y.mode&1){var Te=ig(p);if(Te!==null){(Te.flags&65536)===0&&(Te.flags|=256),og(Te,p,y,c,r),Wf(qi(v,y));break e}}c=v=qi(v,y),We!==4&&(We=2),ra===null?ra=[c]:ra.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var I=ov(c,v,r);Xm(c,I);break e;case 1:y=v;var S=c.type,_=c.stateNode;if((c.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hs===null||!hs.has(_)))){c.flags|=65536,r&=-r,c.lanes|=r;var L=av(c,y,r);Xm(c,L);break e}}c=c.return}while(c!==null)}_v(o)}catch(V){r=V,je===o&&o!==null&&(je=o=o.return);continue}break}while(1)}function Nv(){var t=eu.current;return eu.current=Zl,t===null?Zl:t}function hd(){(We===0||We===3||We===2)&&(We=4),Xe===null||(Ws&268435455)===0&&(pu&268435455)===0||is(Xe,tt)}function ru(t,r){var o=he;he|=2;var l=Nv();(Xe!==t||tt!==r)&&(xr=null,js(t,r));do try{Kk();break}catch(f){Ev(t,f)}while(1);if(Gf(),he=o,eu.current=l,je!==null)throw Error(B(261));return Xe=null,tt=0,We}function Kk(){for(;je!==null;)Iv(je)}function Gk(){for(;je!==null&&!S1();)Iv(je)}function Iv(t){var r=Pv(t.alternate,t,xt);t.memoizedProps=t.pendingProps,r===null?_v(t):je=r,ld.current=null}function _v(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Fk(o,r,xt),o!==null){je=o;return}}else{if(o=jk(o,r),o!==null){o.flags&=32767,je=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}if(r=r.sibling,r!==null){je=r;return}je=r=t}while(r!==null);We===0&&(We=5)}function Bs(t,r,o){var l=ye,f=on.transition;try{on.transition=null,ye=1,Hk(t,r,o,l)}finally{on.transition=f,ye=l}return null}function Hk(t,r,o,l){do Ui();while(as!==null);if((he&6)!==0)throw Error(B(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var c=o.lanes|o.childLanes;if(x1(t,c),t===Xe&&(je=Xe=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||wl||(wl=!0,Ov(Jl,function(){return Ui(),null})),c=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||c){c=on.transition,on.transition=null;var p=ye;ye=1;var y=he;he|=4,ld.current=null,Vk(t,o),Sv(o,t),gk(Zc),$l=!!Qc,Zc=Qc=null,t.current=o,qk(o),w1(),he=y,ye=p,on.transition=c}else t.current=o;if(wl&&(wl=!1,as=t,nu=f),c=t.pendingLanes,c===0&&(hs=null),N1(o.stateNode),Et(t,Be()),r!==null)for(l=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],l(f.value,{componentStack:f.stack,digest:f.digest});if(tu)throw tu=!1,t=Sf,Sf=null,t;return(nu&1)!==0&&t.tag!==0&&Ui(),c=t.pendingLanes,(c&1)!==0?t===wf?sa++:(sa=0,wf=t):sa=0,Ss(),null}function Ui(){if(as!==null){var t=iy(nu),r=on.transition,o=ye;try{if(on.transition=null,ye=16>t?16:t,as===null)var l=!1;else{if(t=as,as=null,nu=0,(he&6)!==0)throw Error(B(331));var f=he;for(he|=4,Y=t.current;Y!==null;){var c=Y,p=c.child;if((Y.flags&16)!==0){var y=c.deletions;if(y!==null){for(var v=0;v<y.length;v++){var N=y[v];for(Y=N;Y!==null;){var R=Y;switch(R.tag){case 0:case 11:case 15:na(8,R,c)}var D=R.child;if(D!==null)D.return=R,Y=D;else for(;Y!==null;){R=Y;var C=R.sibling,$=R.return;if(yv(R),R===N){Y=null;break}if(C!==null){C.return=$,Y=C;break}Y=$}}}var F=c.alternate;if(F!==null){var j=F.child;if(j!==null){F.child=null;do{var Te=j.sibling;j.sibling=null,j=Te}while(j!==null)}}Y=c}}if((c.subtreeFlags&2064)!==0&&p!==null)p.return=c,Y=p;else e:for(;Y!==null;){if(c=Y,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:na(9,c,c.return)}var I=c.sibling;if(I!==null){I.return=c.return,Y=I;break e}Y=c.return}}var S=t.current;for(Y=S;Y!==null;){p=Y;var _=p.child;if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,Y=_;else e:for(p=S;Y!==null;){if(y=Y,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:hu(9,y)}}catch(V){Me(y,y.return,V)}if(y===p){Y=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,Y=L;break e}Y=y.return}}if(he=f,Ss(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(iu,t)}catch{}l=!0}return l}finally{ye=o,on.transition=r}}return!1}function Tg(t,r,o){r=qi(o,r),r=ov(t,r,1),t=ds(t,r,1),r=ht(),t!==null&&(Ea(t,1,r),Et(t,r))}function Me(t,r,o){if(t.tag===3)Tg(t,t,o);else for(;r!==null;){if(r.tag===3){Tg(r,t,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){t=qi(o,t),t=av(r,t,1),r=ds(r,t,1),t=ht(),r!==null&&(Ea(r,1,t),Et(r,t));break}}r=r.return}}function Xk(t,r,o){var l=t.pingCache;l!==null&&l.delete(r),r=ht(),t.pingedLanes|=t.suspendedLanes&o,Xe===t&&(tt&o)===o&&(We===4||We===3&&(tt&130023424)===tt&&500>Be()-cd?js(t,0):ud|=o),Et(t,r)}function Av(t,r){r===0&&((t.mode&1)===0?r=1:(r=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var o=ht();t=Jr(t,r),t!==null&&(Ea(t,r,o),Et(t,o))}function Qk(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Av(t,o)}function Zk(t,r){var o=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(B(314))}l!==null&&l.delete(r),Av(t,o)}var Pv;Pv=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||wt.current)St=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return St=!1,$k(t,r,o);St=(t.flags&131072)!==0}else St=!1,xe&&(r.flags&1048576)!==0&&Cy(r,Wl,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Cl(t,r),t=r.pendingProps;var f=Fi(r,at.current);Ji(r,o),f=rd(null,r,l,t,f,o);var c=sd();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,kt(l)?(c=!0,ql(r)):c=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Qf(r),f.updater=fu,r.stateNode=f,f._reactInternals=r,uf(r,l,t,o),r=df(null,r,l,!0,c,o)):(r.tag=0,xe&&c&&qf(r),dt(null,r,f,o),r=r.child),r;case 16:l=r.elementType;e:{switch(Cl(t,r),t=r.pendingProps,f=l._init,l=f(l._payload),r.type=l,f=r.tag=tE(l),t=Sn(l,t),f){case 0:r=ff(null,r,l,t,o);break e;case 1:r=ug(null,r,l,t,o);break e;case 11:r=ag(null,r,l,t,o);break e;case 14:r=lg(null,r,l,Sn(l.type,t),o);break e}throw Error(B(306,l,""))}return r;case 0:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Sn(l,f),ff(t,r,l,f,o);case 1:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Sn(l,f),ug(t,r,l,f,o);case 3:e:{if(fv(r),t===null)throw Error(B(387));l=r.pendingProps,c=r.memoizedState,f=c.element,Ly(t,r),Hl(r,l,null,o);var p=r.memoizedState;if(l=p.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){f=qi(Error(B(423)),r),r=cg(t,r,l,o,f);break e}else if(l!==f){f=qi(Error(B(424)),r),r=cg(t,r,l,o,f);break e}else for(Ct=fs(r.stateNode.containerInfo.firstChild),Dt=r,xe=!0,kn=null,o=Uy(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ji(),l===f){r=Ur(t,r,o);break e}dt(t,r,l,o)}r=r.child}return r;case 5:return $y(r),t===null&&of(r),l=r.type,f=r.pendingProps,c=t!==null?t.memoizedProps:null,p=f.children,ef(l,f)?p=null:c!==null&&ef(l,c)&&(r.flags|=32),cv(t,r),dt(t,r,p,o),r.child;case 6:return t===null&&of(r),null;case 13:return dv(t,r,o);case 4:return Zf(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=zi(r,null,l,o):dt(t,r,l,o),r.child;case 11:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Sn(l,f),ag(t,r,l,f,o);case 7:return dt(t,r,r.pendingProps,o),r.child;case 8:return dt(t,r,r.pendingProps.children,o),r.child;case 12:return dt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,f=r.pendingProps,c=r.memoizedProps,p=f.value,Ne(Kl,l._currentValue),l._currentValue=p,c!==null)if(In(c.value,p)){if(c.children===f.children&&!wt.current){r=Ur(t,r,o);break e}}else for(c=r.child,c!==null&&(c.return=r);c!==null;){var y=c.dependencies;if(y!==null){p=c.child;for(var v=y.firstContext;v!==null;){if(v.context===l){if(c.tag===1){v=Lr(-1,o&-o),v.tag=2;var N=c.updateQueue;if(N!==null){N=N.shared;var R=N.pending;R===null?v.next=v:(v.next=R.next,R.next=v),N.pending=v}}c.lanes|=o,v=c.alternate,v!==null&&(v.lanes|=o),af(c.return,o,r),y.lanes|=o;break}v=v.next}}else if(c.tag===10)p=c.type===r.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(B(341));p.lanes|=o,y=p.alternate,y!==null&&(y.lanes|=o),af(p,o,r),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===r){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}dt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,l=r.pendingProps.children,Ji(r,o),f=an(f),l=l(f),r.flags|=1,dt(t,r,l,o),r.child;case 14:return l=r.type,f=Sn(l,r.pendingProps),f=Sn(l.type,f),lg(t,r,l,f,o);case 15:return lv(t,r,r.type,r.pendingProps,o);case 17:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Sn(l,f),Cl(t,r),r.tag=1,kt(l)?(t=!0,ql(r)):t=!1,Ji(r,o),By(r,l,f),uf(r,l,f,o),df(null,r,l,!0,t,o);case 19:return hv(t,r,o);case 22:return uv(t,r,o)}throw Error(B(156,r.tag))};function Ov(t,r){return ty(t,r)}function eE(t,r,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,r,o,l){return new eE(t,r,o,l)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tE(t){if(typeof t=="function")return pd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rf)return 11;if(t===bf)return 14}return 2}function ms(t,r){var o=t.alternate;return o===null?(o=sn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function bl(t,r,o,l,f,c){var p=2;if(l=t,typeof t=="function")pd(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Ei:return zs(o.children,f,c,r);case Df:p=8,f|=8;break;case Dc:return t=sn(12,o,r,f|2),t.elementType=Dc,t.lanes=c,t;case Rc:return t=sn(13,o,r,f),t.elementType=Rc,t.lanes=c,t;case bc:return t=sn(19,o,r,f),t.elementType=bc,t.lanes=c,t;case Jg:return mu(o,f,c,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mg:p=10;break e;case Bg:p=9;break e;case Rf:p=11;break e;case bf:p=14;break e;case ns:p=16,l=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return r=sn(p,o,r,f),r.elementType=t,r.type=l,r.lanes=c,r}function zs(t,r,o,l){return t=sn(7,t,l,r),t.lanes=o,t}function mu(t,r,o,l){return t=sn(22,t,l,r),t.elementType=Jg,t.lanes=o,t.stateNode={isHidden:!1},t}function Pc(t,r,o){return t=sn(6,t,null,r),t.lanes=o,t}function Oc(t,r,o){return r=sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function nE(t,r,o,l,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function md(t,r,o,l,f,c,p,y,v){return t=new nE(t,r,o,y,v),r===1?(r=1,c===!0&&(r|=8)):r=0,c=sn(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(c),t}function rE(t,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:l==null?null:""+l,children:t,containerInfo:r,implementation:o}}function xv(t){if(!t)return ys;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(B(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(B(171))}if(t.tag===1){var o=t.type;if(kt(o))return Oy(t,o,r)}return r}function Cv(t,r,o,l,f,c,p,y,v){return t=md(o,l,!0,t,f,c,p,y,v),t.context=xv(null),o=t.current,l=ht(),f=ps(o),c=Lr(l,f),c.callback=r!=null?r:null,ds(o,c,f),t.current.lanes=f,Ea(t,f,l),Et(t,l),t}function gu(t,r,o,l){var f=r.current,c=ht(),p=ps(f);return o=xv(o),r.context===null?r.context=o:r.pendingContext=o,r=Lr(c,p),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=ds(f,r,p),t!==null&&(Nn(t,f,p,c),Pl(t,f,p)),p}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function gd(t,r){Sg(t,r),(t=t.alternate)&&Sg(t,r)}function sE(){return null}var Dv=typeof reportError=="function"?reportError:function(t){console.error(t)};function yd(t){this._internalRoot=t}yu.prototype.render=yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(B(409));gu(t,r,null,null)};yu.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ks(function(){gu(null,t,null,null)}),r[Br]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var r=ly();t={blockedOn:null,target:t,priority:r};for(var o=0;o<ss.length&&r!==0&&r<ss[o].priority;o++);ss.splice(o,0,t),o===0&&cy(t)}};function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wg(){}function iE(t,r,o,l,f){if(f){if(typeof l=="function"){var c=l;l=function(){var N=su(p);c.call(N)}}var p=Cv(r,l,t,0,null,!1,!1,"",wg);return t._reactRootContainer=p,t[Br]=p.current,ha(t.nodeType===8?t.parentNode:t),Ks(),p}for(;f=t.lastChild;)t.removeChild(f);if(typeof l=="function"){var y=l;l=function(){var N=su(v);y.call(N)}}var v=md(t,0,!1,null,null,!1,!1,"",wg);return t._reactRootContainer=v,t[Br]=v.current,ha(t.nodeType===8?t.parentNode:t),Ks(function(){gu(r,v,o,l)}),v}function Tu(t,r,o,l,f){var c=o._reactRootContainer;if(c){var p=c;if(typeof f=="function"){var y=f;f=function(){var v=su(p);y.call(v)}}gu(r,p,t,f)}else p=iE(o,r,t,f,l);return su(p)}oy=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Wo(r.pendingLanes);o!==0&&(Bf(r,o|1),Et(r,Be()),(he&6)===0&&(Yi=Be()+500,Ss()))}break;case 13:Ks(function(){var l=Jr(t,1);if(l!==null){var f=ht();Nn(l,t,1,f)}}),gd(t,1)}};Jf=function(t){if(t.tag===13){var r=Jr(t,134217728);if(r!==null){var o=ht();Nn(r,t,134217728,o)}gd(t,134217728)}};ay=function(t){if(t.tag===13){var r=ps(t),o=Jr(t,r);if(o!==null){var l=ht();Nn(o,t,r,l)}gd(t,r)}};ly=function(){return ye};uy=function(t,r){var o=ye;try{return ye=t,r()}finally{ye=o}};Vc=function(t,r,o){switch(r){case"input":if(Bc(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==t&&l.form===t.form){var f=uu(l);if(!f)throw Error(B(90));$g(l),Bc(l,f)}}}break;case"textarea":jg(t,o);break;case"select":r=o.value,r!=null&&bi(t,!!o.multiple,r,!1)}};Gg=fd;Hg=Ks;var oE={usingClientEntryPoint:!1,Events:[Ia,Ai,uu,Wg,Kg,fd]},Vo={findFiberByHostInstance:Us,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aE={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zg(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||sE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{iu=kl.inject(aE),mr=kl}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oE;bt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(r))throw Error(B(200));return rE(t,r,null,o)};bt.createRoot=function(t,r){if(!vd(t))throw Error(B(299));var o=!1,l="",f=Dv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=md(t,1,!1,null,null,o,!1,l,f),t[Br]=r.current,ha(t.nodeType===8?t.parentNode:t),new yd(r)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Zg(r),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return Ks(t)};bt.hydrate=function(t,r,o){if(!vu(r))throw Error(B(200));return Tu(null,t,r,!0,o)};bt.hydrateRoot=function(t,r,o){if(!vd(t))throw Error(B(405));var l=o!=null&&o.hydratedSources||null,f=!1,c="",p=Dv;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),r=Cv(r,null,t,1,o!=null?o:null,f,!1,c,p),t[Br]=r.current,ha(t),l)for(t=0;t<l.length;t++)o=l[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new yu(r)};bt.render=function(t,r,o){if(!vu(r))throw Error(B(200));return Tu(null,t,r,!1,o)};bt.unmountComponentAtNode=function(t){if(!vu(t))throw Error(B(40));return t._reactRootContainer?(Ks(function(){Tu(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};bt.unstable_batchedUpdates=fd;bt.unstable_renderSubtreeIntoContainer=function(t,r,o,l){if(!vu(o))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Tu(t,r,o,!1,l)};bt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}r(),t.exports=bt})(Ng);var kg=Ng.exports;xc.createRoot=kg.createRoot,xc.hydrateRoot=kg.hydrateRoot;var Nf={exports:{}};(function(t,r){(function(o,l){l(r)})(zw,function(o){var l=Object.defineProperty,f=(s,e,n)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,c=(s,e,n)=>(f(s,typeof e!="symbol"?e+"":e,n),n),p;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(p||(p={}));function y(s,e){if(!s)throw new Error(e)}const v=34028234663852886e22,N=-34028234663852886e22,R=4294967295,D=2147483647,C=-2147483648;function $(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>D||s<C)throw new Error("invalid int 32: "+s)}function F(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>R||s<0)throw new Error("invalid uint 32: "+s)}function j(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(!!Number.isFinite(s)&&(s>v||s<N))throw new Error("invalid float 32: "+s)}const Te=Symbol("@bufbuild/protobuf/enum-type");function I(s){const e=s[Te];return y(e,"missing enum type on enum object"),e}function S(s,e,n,i){s[Te]=_(e,n.map(a=>({no:a.no,name:a.name,localName:s[a.no]})))}function _(s,e,n){const i=Object.create(null),a=Object.create(null),u=[];for(const d of e){const h=V(d);u.push(h),i[d.name]=h,a[d.no]=h}return{typeName:s,values:u,findName(d){return i[d]},findNumber(d){return a[d]}}}function L(s,e,n){const i={};for(const a of e){const u=V(a);i[u.localName]=u.no,i[u.no]=u.localName}return S(i,s,e),i}function V(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class x{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),a=i.runtime.bin,u=a.makeReadOptions(n);return a.readMessage(this,u.readerFactory(e),e.byteLength,u),this}fromJson(e,n){const i=this.getType(),a=i.runtime.json,u=a.makeReadOptions(n);return a.readMessage(i,e,u,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(a){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${a instanceof Error?a.message:String(a)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,a=i.makeWriteOptions(e),u=a.writerFactory();return i.writeMessage(this,u,a),u.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,a=i.makeWriteOptions(e);return i.writeMessage(this,a)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function K(s,e,n,i){var a;const u=(a=i==null?void 0:i.localName)!==null&&a!==void 0?a:e.substring(e.lastIndexOf(".")+1),d={[u]:function(h){s.util.initFields(this),s.util.initPartial(h,this)}}[u];return Object.setPrototypeOf(d.prototype,new x),Object.assign(d,{runtime:s,typeName:e,fields:s.util.newFieldList(n),fromBinary(h,m){return new d().fromBinary(h,m)},fromJson(h,m){return new d().fromJson(h,m)},fromJsonString(h,m){return new d().fromJsonString(h,m)},equals(h,m){return s.util.equals(d,h,m)}}),d}function Q(s,e,n,i){return{syntax:s,json:e,bin:n,util:i,makeMessageType(a,u,d){return K(this,a,u,d)},makeEnum:L,makeEnumType:_,getEnumType:I}}var w;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(w||(w={}));var ee;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ee||(ee={}));function Nt(){let s=0,e=0;for(let i=0;i<28;i+=7){let a=this.buf[this.pos++];if(s|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[s,e]}let n=this.buf[this.pos++];if(s|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[s,e];for(let i=3;i<=31;i+=7){let a=this.buf[this.pos++];if(e|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[s,e]}throw new Error("invalid varint")}function yr(s,e,n){for(let u=0;u<28;u=u+7){const d=s>>>u,h=!(d>>>7==0&&e==0),m=(h?d|128:d)&255;if(n.push(m),!h)return}const i=s>>>28&15|(e&7)<<4,a=e>>3!=0;if(n.push((a?i|128:i)&255),!!a){for(let u=3;u<31;u=u+7){const d=e>>>u,h=d>>>7!=0,m=(h?d|128:d)&255;if(n.push(m),!h)return}n.push(e>>>31&1)}}const _n=4294967296;function Xi(s){const e=s[0]==="-";e&&(s=s.slice(1));const n=1e6;let i=0,a=0;function u(d,h){const m=Number(s.slice(d,h));a*=n,i=i*n+m,i>=_n&&(a=a+(i/_n|0),i=i%_n)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?re(i,a):z(i,a)}function wu(s,e){let n=z(s,e);const i=n.hi&2147483648;i&&(n=re(n.lo,n.hi));const a=Xs(n.lo,n.hi);return i?"-"+a:a}function Xs(s,e){if({lo:s,hi:e}=Qi(s,e),e<=2097151)return String(_n*e+s);const n=s&16777215,i=(s>>>24|e<<8)&16777215,a=e>>16&65535;let u=n+i*6777216+a*6710656,d=i+a*8147497,h=a*2;const m=1e7;return u>=m&&(d+=Math.floor(u/m),u%=m),d>=m&&(h+=Math.floor(d/m),d%=m),h.toString()+se(d)+se(u)}function Qi(s,e){return{lo:s>>>0,hi:e>>>0}}function z(s,e){return{lo:s|0,hi:e|0}}function re(s,e){return e=~e,s?s=~s+1:e+=1,z(s,e)}const se=s=>{const e=String(s);return"0000000".slice(e.length)+e};function Ae(s,e){if(s>=0){for(;s>127;)e.push(s&127|128),s=s>>>7;e.push(s)}else{for(let n=0;n<9;n++)e.push(s&127|128),s=s>>7;e.push(1)}}function Je(){let s=this.buf[this.pos++],e=s&127;if((s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<7,(s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<14,(s&128)==0)return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<21,(s&128)==0)return this.assertBounds(),e;s=this.buf[this.pos++],e|=(s&15)<<28;for(let n=5;(s&128)!==0&&n<10;n++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function Qs(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),d=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(m){const g=typeof m=="bigint"?m:BigInt(m);if(g>u||g<a)throw new Error(`int64 invalid: ${m}`);return g},uParse(m){const g=typeof m=="bigint"?m:BigInt(m);if(g>h||g<d)throw new Error(`uint64 invalid: ${m}`);return g},enc(m){return s.setBigInt64(0,this.parse(m),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(m){return s.setBigInt64(0,this.uParse(m),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(m,g){return s.setInt32(0,m,!0),s.setInt32(4,g,!0),s.getBigInt64(0,!0)},uDec(m,g){return s.setInt32(0,m,!0),s.setInt32(4,g,!0),s.getBigUint64(0,!0)}}}const n=a=>y(/^-?[0-9]+$/.test(a),`int64 invalid: ${a}`),i=a=>y(/^[0-9]+$/.test(a),`uint64 invalid: ${a}`);return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),n(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),i(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),n(a),Xi(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),i(a),Xi(a)},dec(a,u){return wu(a,u)},uDec(a,u){return Xs(a,u)}}}const fe=Qs();var ge;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ge||(ge={}));class An{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let a=0;a<this.chunks.length;a++)e+=this.chunks[a].length;let n=new Uint8Array(e),i=0;for(let a=0;a<this.chunks.length;a++)n.set(this.chunks[a],i),i+=this.chunks[a].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(F(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return $(e),Ae(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){j(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){F(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){$(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return $(e),e=(e<<1^e>>31)>>>0,Ae(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=fe.enc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=fe.uEnc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}int64(e){let n=fe.enc(e);return yr(n.lo,n.hi,this.buf),this}sint64(e){let n=fe.enc(e),i=n.hi>>31,a=n.lo<<1^i,u=(n.hi<<1|n.lo>>>31)^i;return yr(a,u,this.buf),this}uint64(e){let n=fe.uEnc(e);return yr(n.lo,n.hi,this.buf),this}}class Fr{constructor(e,n){this.varint64=Nt,this.uint32=Je,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n!=null?n:new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case ge.Varint:for(;this.buf[this.pos++]&128;);break;case ge.Bit64:this.pos+=4;case ge.Bit32:this.pos+=4;break;case ge.LengthDelimited:let i=this.uint32();this.pos+=i;break;case ge.StartGroup:let a;for(;(a=this.tag()[1])!==ge.EndGroup;)this.skip(a);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return fe.dec(...this.varint64())}uint64(){return fe.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,fe.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return fe.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return fe.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function Aa(s,e){return e instanceof x||!s.fieldWrapper?e:s.fieldWrapper.wrapField(e)}function Mv(s){if(s.fieldKind==="message"&&!s.repeated&&s.oneof==null)return Bv[s.message.typeName]}const Bv={"google.protobuf.DoubleValue":w.DOUBLE,"google.protobuf.FloatValue":w.FLOAT,"google.protobuf.Int64Value":w.INT64,"google.protobuf.UInt64Value":w.UINT64,"google.protobuf.Int32Value":w.INT32,"google.protobuf.UInt32Value":w.UINT32,"google.protobuf.BoolValue":w.BOOL,"google.protobuf.StringValue":w.STRING,"google.protobuf.BytesValue":w.BYTES};function jr(s,e,n){if(e===n)return!0;if(s==w.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(s){case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==n}return!1}function Pa(s,e){switch(s){case w.BOOL:return!1;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==0?fe.zero:"0";case w.DOUBLE:case w.FLOAT:return 0;case w.BYTES:return new Uint8Array(0);case w.STRING:return"";default:return 0}}function wd(s,e){const n=e===void 0;let i=ge.Varint,a=e===0;switch(s){case w.STRING:a=n||!e.length,i=ge.LengthDelimited;break;case w.BOOL:a=e===!1;break;case w.DOUBLE:i=ge.Bit64;break;case w.FLOAT:i=ge.Bit32;break;case w.INT64:a=n||e==0;break;case w.UINT64:a=n||e==0;break;case w.FIXED64:a=n||e==0,i=ge.Bit64;break;case w.BYTES:a=n||!e.byteLength,i=ge.LengthDelimited;break;case w.FIXED32:i=ge.Bit32;break;case w.SFIXED32:i=ge.Bit32;break;case w.SFIXED64:a=n||e==0,i=ge.Bit64;break;case w.SINT64:a=n||e==0;break}const u=w[s].toLowerCase();return[i,u,n||a]}const Zs=Symbol("@bufbuild/protobuf/unknown-fields"),kd={readUnknownFields:!0,readerFactory:s=>new Fr(s)},Ed={writeUnknownFields:!0,writerFactory:()=>new An};function Jv(s){return s?Object.assign(Object.assign({},kd),s):kd}function Uv(s){return s?Object.assign(Object.assign({},Ed),s):Ed}function Oa(){return{makeReadOptions:Jv,makeWriteOptions:Uv,listUnknownFields(s){var e;return(e=s[Zs])!==null&&e!==void 0?e:[]},discardUnknownFields(s){delete s[Zs]},writeUnknownFields(s,e){const i=s[Zs];if(i)for(const a of i)e.tag(a.no,a.wireType).raw(a.data)},onUnknownField(s,e,n,i){const a=s;Array.isArray(a[Zs])||(a[Zs]=[]),a[Zs].push({no:e,wireType:n,data:i})},readMessage(s,e,n,i,a){const u=s.getType(),d=a?e.len:e.pos+n;let h,m;for(;e.pos<d&&([h,m]=e.tag(),m!=ge.EndGroup);){const g=u.fields.find(h);if(!g){const P=e.skip(m);i.readUnknownFields&&this.onUnknownField(s,h,m,P);continue}let T=s,O=g.repeated,k=g.localName;switch(g.oneof&&(T=T[g.oneof.localName],T.case!=k&&delete T.value,T.case=k,k="value"),g.kind){case"scalar":case"enum":const P=g.kind=="enum"?w.INT32:g.T;let U=Ca;if(g.kind=="scalar"&&g.L>0&&(U=Fv),O){let ke=T[k];if(m==ge.LengthDelimited&&P!=w.STRING&&P!=w.BYTES){let ue=e.uint32()+e.pos;for(;e.pos<ue;)ke.push(U(e,P))}else ke.push(U(e,P))}else T[k]=U(e,P);break;case"message":const q=g.T;O?T[k].push(xa(e,new q,i,g)):T[k]instanceof x?xa(e,T[k],i,g):(T[k]=xa(e,new q,i,g),q.fieldWrapper&&!g.oneof&&!g.repeated&&(T[k]=q.fieldWrapper.unwrapField(T[k])));break;case"map":let[W,ie]=$v(g,e,i);T[k][W]=ie;break}}if(a&&(m!=ge.EndGroup||h!==n))throw new Error("invalid end group tag")}}}function xa(s,e,n,i){const a=e.getType().runtime.bin,u=i==null?void 0:i.delimited;return a.readMessage(e,s,u?i==null?void 0:i.no:s.uint32(),n,u),e}function $v(s,e,n){const i=e.uint32(),a=e.pos+i;let u,d;for(;e.pos<a;){let[h]=e.tag();switch(h){case 1:u=Ca(e,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Ca(e,s.V.T);break;case"enum":d=e.int32();break;case"message":d=xa(e,new s.V.T,n,void 0);break}break}}if(u===void 0){let h=Pa(s.K,ee.BIGINT);u=s.K==w.BOOL?h.toString():h}if(typeof u!="string"&&typeof u!="number"&&(u=u.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Pa(s.V.T,ee.BIGINT);break;case"enum":d=0;break;case"message":d=new s.V.T;break}return[u,d]}function Fv(s,e){const n=Ca(s,e);return typeof n=="bigint"?n.toString():n}function Ca(s,e){switch(e){case w.STRING:return s.string();case w.BOOL:return s.bool();case w.DOUBLE:return s.double();case w.FLOAT:return s.float();case w.INT32:return s.int32();case w.INT64:return s.int64();case w.UINT64:return s.uint64();case w.FIXED64:return s.fixed64();case w.BYTES:return s.bytes();case w.FIXED32:return s.fixed32();case w.SFIXED32:return s.sfixed32();case w.SFIXED64:return s.sfixed64();case w.SINT64:return s.sint64();case w.UINT32:return s.uint32();case w.SINT32:return s.sint32()}}function Nd(s,e,n,i,a){s.tag(n.no,ge.LengthDelimited),s.fork();let u=i;switch(n.K){case w.INT32:case w.FIXED32:case w.UINT32:case w.SFIXED32:case w.SINT32:u=Number.parseInt(i);break;case w.BOOL:y(i=="true"||i=="false"),u=i=="true";break}switch(ws(s,n.K,1,u,!0),n.V.kind){case"scalar":ws(s,n.V.T,2,a,!0);break;case"enum":ws(s,w.INT32,2,a,!0);break;case"message":s.tag(2,ge.LengthDelimited).bytes(a.toBinary(e));break}s.join()}function Da(s,e,n,i){if(i!==void 0){const a=Aa(n.T,i);n!=null&&n.delimited?s.tag(n.no,ge.StartGroup).raw(a.toBinary(e)).tag(n.no,ge.EndGroup):s.tag(n.no,ge.LengthDelimited).bytes(a.toBinary(e))}}function ws(s,e,n,i,a){let[u,d,h]=wd(e,i);(!h||a)&&s.tag(n,u)[d](i)}function Id(s,e,n,i){if(!i.length)return;s.tag(n,ge.LengthDelimited).fork();let[,a]=wd(e);for(let u=0;u<i.length;u++)s[a](i[u]);s.join()}function jv(){return Object.assign(Object.assign({},Oa()),{writeMessage(s,e,n){const i=s.getType();for(const a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const m=s[a.oneof.localName];if(m.case!==h)continue;u=m.value}else u=s[h];switch(a.kind){case"scalar":case"enum":let m=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,m,a.no,u);else for(const g of u)ws(e,m,a.no,g,!0);else u!==void 0&&ws(e,m,a.no,u,!!a.oneof||a.opt);break;case"message":if(d)for(const g of u)Da(e,n,a,g);else Da(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}let vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ra=[];for(let s=0;s<vr.length;s++)Ra[vr[s].charCodeAt(0)]=s;Ra["-".charCodeAt(0)]=vr.indexOf("+"),Ra["_".charCodeAt(0)]=vr.indexOf("/");const Zi={dec(s){let e=s.length*3/4;s[s.length-2]=="="?e-=2:s[s.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,a=0,u,d=0;for(let h=0;h<s.length;h++){if(u=Ra[s.charCodeAt(h)],u===void 0)switch(s[h]){case"=":a=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:d=u,a=1;break;case 1:n[i++]=d<<2|(u&48)>>4,d=u,a=2;break;case 2:n[i++]=(d&15)<<4|(u&60)>>2,d=u,a=3;break;case 3:n[i++]=(d&3)<<6|u,a=0;break}}if(a==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(s){let e="",n=0,i,a=0;for(let u=0;u<s.length;u++)switch(i=s[u],n){case 0:e+=vr[i>>2],a=(i&3)<<4,n=1;break;case 1:e+=vr[a|i>>4],a=(i&15)<<2,n=2;break;case 2:e+=vr[a|i>>6],e+=vr[i&63],n=0;break}return n&&(e+=vr[a],e+="=",n==1&&(e+="=")),e}},_d={ignoreUnknownFields:!1},Ad={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function zv(s){return s?Object.assign(Object.assign({},_d),s):_d}function Vv(s){return s?Object.assign(Object.assign({},Ad),s):Ad}function Pd(s){const e=s(qv,xd);return{makeReadOptions:zv,makeWriteOptions:Vv,readMessage(n,i,a,u){if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(i)}`);u=u!=null?u:new n;const d={};for(const[h,m]of Object.entries(i)){const g=n.fields.findJsonName(h);if(!g){if(!a.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${h}" is unknown`);continue}let T=g.localName,O=u;if(g.oneof){if(m===null&&g.kind=="scalar")continue;const k=d[g.oneof.localName];if(k)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${g.oneof.name}" present: "${k}", "${h}"`);d[g.oneof.localName]=h,O=O[g.oneof.localName]={case:T},T="value"}if(g.repeated){if(m===null)continue;if(!Array.isArray(m))throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`);const k=O[T];for(const P of m){if(P===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`);let U;switch(g.kind){case"message":U=g.T.fromJson(P,a);break;case"enum":if(U=ku(g.T,P,a.ignoreUnknownFields),U===void 0)continue;break;case"scalar":try{U=eo(g.T,P,g.L)}catch(q){let W=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`;throw q instanceof Error&&q.message.length>0&&(W+=`: ${q.message}`),new Error(W)}break}k.push(U)}}else if(g.kind=="map"){if(m===null)continue;if(Array.isArray(m)||typeof m!="object")throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`);const k=O[T];for(const[P,U]of Object.entries(m)){if(U===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: map value null`);let q;switch(g.V.kind){case"message":q=g.V.T.fromJson(U,a);break;case"enum":if(q=ku(g.V.T,U,a.ignoreUnknownFields),q===void 0)continue;break;case"scalar":try{q=eo(g.V.T,U,ee.BIGINT)}catch(W){let ie=`cannot decode map value for field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw W instanceof Error&&W.message.length>0&&(ie+=`: ${W.message}`),new Error(ie)}break}try{k[eo(g.K,g.K==w.BOOL?P=="true"?!0:P=="false"?!1:P:P,ee.BIGINT).toString()]=q}catch(W){let ie=`cannot decode map key for field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw W instanceof Error&&W.message.length>0&&(ie+=`: ${W.message}`),new Error(ie)}}}else switch(g.kind){case"message":const k=g.T;if(m===null&&k.typeName!="google.protobuf.Value"){if(g.oneof)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: null is invalid for oneof field "${h}"`);continue}O[T]instanceof x?O[T].fromJson(m,a):(O[T]=k.fromJson(m,a),k.fieldWrapper&&!g.oneof&&(O[T]=k.fieldWrapper.unwrapField(O[T])));break;case"enum":const P=ku(g.T,m,a.ignoreUnknownFields);P!==void 0&&(O[T]=P);break;case"scalar":try{O[T]=eo(g.T,m,g.L)}catch(U){let q=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw U instanceof Error&&U.message.length>0&&(q+=`: ${U.message}`),new Error(q)}break}}return u},writeMessage(n,i){const a=n.getType(),u={};let d;try{for(const h of a.fields.byMember()){let m;if(h.kind=="oneof"){const g=n[h.localName];if(g.value===void 0)continue;if(d=h.findField(g.case),!d)throw"oneof case not found: "+g.case;m=e(d,g.value,i)}else d=h,m=e(d,n[d.localName],i);m!==void 0&&(u[i.useProtoFieldName?d.name:d.jsonName]=m)}}catch(h){const m=d?`cannot encode field ${a.typeName}.${d.name} to JSON`:`cannot encode message ${a.typeName} to JSON`,g=h instanceof Error?h.message:String(h);throw new Error(m+(g.length>0?`: ${g}`:""))}return u},readScalar:eo,writeScalar:xd,debug:Od}}function Od(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function eo(s,e,n){switch(s){case w.DOUBLE:case w.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return s==w.FLOAT&&j(i),i;case w.INT32:case w.FIXED32:case w.SFIXED32:case w.SINT32:case w.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return s==w.UINT32?F(a):$(a),a;case w.INT64:case w.SFIXED64:case w.SINT64:if(e===null)return fe.zero;if(typeof e!="number"&&typeof e!="string")break;const u=fe.parse(e);return n?u.toString():u;case w.FIXED64:case w.UINT64:if(e===null)return fe.zero;if(typeof e!="number"&&typeof e!="string")break;const d=fe.uParse(e);return n?d.toString():d;case w.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case w.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case w.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return Zi.dec(e)}throw new Error}function ku(s,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=s.findName(e);if(i||n)return i==null?void 0:i.no;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Od(e)}`)}function qv(s,e,n,i){var a;if(e===void 0)return e;if(e===0&&!n)return;if(i)return e;if(s.typeName=="google.protobuf.NullValue")return null;const u=s.findNumber(e);return(a=u==null?void 0:u.name)!==null&&a!==void 0?a:e}function xd(s,e,n){if(e!==void 0)switch(s){case w.INT32:case w.SFIXED32:case w.SINT32:case w.FIXED32:case w.UINT32:return y(typeof e=="number"),e!=0||n?e:void 0;case w.FLOAT:case w.DOUBLE:return y(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case w.STRING:return y(typeof e=="string"),e.length>0||n?e:void 0;case w.BOOL:return y(typeof e=="boolean"),e||n?e:void 0;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return y(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case w.BYTES:return y(e instanceof Uint8Array),n||e.byteLength>0?Zi.enc(e):void 0}}function Yv(){return Pd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[m,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[m.toString()]=T}break;case"message":for(const[m,g]of Object.entries(a))d[m.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[m,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[m.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(Aa(i.T,a[h]).toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else switch(i.kind){case"scalar":return e(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues);case"enum":return s(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues,u.enumAsInteger);case"message":return a!==void 0?Aa(i.T,a).toJson(u):void 0}})}function Cd(){return{setEnumType:S,initPartial(s,e){if(s===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const a=i.localName,u=e,d=s;if(d[a]!==void 0)switch(i.kind){case"oneof":const h=d[a].case;if(h===void 0)continue;const m=i.findField(h);let g=d[a].value;m&&m.kind=="message"&&!(g instanceof m.T)?g=new m.T(g):m&&m.kind==="scalar"&&m.T===w.BYTES&&(g=to(g)),u[a]={case:h,value:g};break;case"scalar":case"enum":let T=d[a];i.T===w.BYTES&&(T=i.repeated?T.map(to):to(T)),u[a]=T;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===w.BYTES)for(const[P,U]of Object.entries(d[a]))u[a][P]=to(U);else Object.assign(u[a],d[a]);break;case"message":const k=i.V.T;for(const P of Object.keys(d[a])){let U=d[a][P];k.fieldWrapper||(U=new k(U)),u[a][P]=U}break}break;case"message":const O=i.T;if(i.repeated)u[a]=d[a].map(k=>k instanceof O?k:new O(k));else if(d[a]!==void 0){const k=d[a];O.fieldWrapper?O.typeName==="google.protobuf.BytesValue"?u[a]=to(k):u[a]=k:u[a]=k instanceof O?k:new O(k)}break}}},equals(s,e,n){return e===n?!0:!e||!n?!1:s.fields.byMember().every(i=>{const a=e[i.localName],u=n[i.localName];if(i.repeated){if(a.length!==u.length)return!1;switch(i.kind){case"message":return a.every((d,h)=>i.T.equals(d,u[h]));case"scalar":return a.every((d,h)=>jr(i.T,d,u[h]));case"enum":return a.every((d,h)=>jr(w.INT32,d,u[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(a,u);case"enum":return jr(w.INT32,a,u);case"scalar":return jr(i.T,a,u);case"oneof":if(a.case!==u.case)return!1;const d=i.findField(a.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(a.value,u.value);case"enum":return jr(w.INT32,a.value,u.value);case"scalar":return jr(d.T,a.value,u.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const h=Object.keys(a).concat(Object.keys(u));switch(i.V.kind){case"message":const m=i.V.T;return h.every(T=>m.equals(a[T],u[T]));case"enum":return h.every(T=>jr(w.INT32,a[T],u[T]));case"scalar":const g=i.V.T;return h.every(T=>jr(g,a[T],u[T]))}break}})},clone(s){const e=s.getType(),n=new e,i=n;for(const a of e.fields.byMember()){const u=s[a.localName];let d;if(a.repeated)d=u.map(ba);else if(a.kind=="map"){d=i[a.localName];for(const[h,m]of Object.entries(u))d[h]=ba(m)}else a.kind=="oneof"?d=a.findField(u.case)?{case:u.case,value:ba(u.value)}:{case:void 0}:d=ba(u);i[a.localName]=d}return n}}}function ba(s){if(s===void 0)return s;if(s instanceof x)return s.clone();if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}function to(s){return s instanceof Uint8Array?s:new Uint8Array(s)}class Dd{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function La(s){switch(s.kind){case"field":return Ma(s.name,s.oneof!==void 0);case"oneof":return Rd(s.name);case"enum":case"message":case"service":{const e=s.file.proto.package,n=e===void 0?0:e.length+1,i=s.typeName.substring(n).replace(/\./g,"_");return no(Ld(i))}case"enum_value":{const e=s.parent.sharedPrefix;if(e===void 0)return s.name;const n=s.name.substring(e.length);return no(n)}case"rpc":{let e=s.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),no(e))}}}function Ma(s,e){const n=bd(s);return e?n:no(Qv(n))}function Rd(s){return Ma(s,!1)}const Eu=bd;function Wv(s,e){const n=Kv(s)+"_";for(const i of e){if(!i.toLowerCase().startsWith(n))return;const a=i.substring(n.length);if(a.length==0||/^\d/.test(a))return}return n}function Kv(s){return(s.substring(0,1)+s.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function bd(s){let e=!1;const n=[];for(let i=0;i<s.length;i++){let a=s.charAt(i);switch(a){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(a),e=!1;break;default:e&&(e=!1,a=a.toUpperCase()),n.push(a);break}}return n.join("")}const Gv=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),Hv=new Set(["constructor","toString","toJSON","valueOf"]),Xv=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Nu=s=>`${s}$`,Qv=s=>Xv.has(s)?Nu(s):s,no=s=>Hv.has(s)?Nu(s):s,Ld=s=>Gv.has(s)?Nu(s):s;class Md{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Rd(e)}addField(e){y(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const A=Q("proto3",Yv(),jv(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,Zv)},initFields(s){for(const e of s.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Pa(e.T,e.L);break}}}}));function Zv(s){var e,n,i,a;const u=[];let d;for(const h of typeof s=="function"?s():s){const m=h;if(m.localName=Ma(h.name,h.oneof!==void 0),m.jsonName=(e=h.jsonName)!==null&&e!==void 0?e:Eu(h.name),m.repeated=(n=h.repeated)!==null&&n!==void 0?n:!1,h.kind=="scalar"&&(m.L=(i=h.L)!==null&&i!==void 0?i:ee.BIGINT),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!d||d.name!=g)&&(d=new Md(g)),m.oneof=d,d.addField(m)}h.kind=="message"&&(m.delimited=!1),m.packed=(a=h.packed)!==null&&a!==void 0?a:h.kind=="enum"||h.kind=="scalar"&&h.T!=w.BYTES&&h.T!=w.STRING,u.push(m)}return u}function e0(){return Object.assign(Object.assign({},Oa()),{writeMessage(s,e,n){const i=s.getType();let a;try{for(a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const m=s[a.oneof.localName];if(m.case!==h)continue;u=m.value}else if(u=s[h],u===void 0&&!a.oneof&&!a.opt)throw new Error(`cannot encode field ${i.typeName}.${a.name} to binary: required field not set`);switch(a.kind){case"scalar":case"enum":let m=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,m,a.no,u);else for(const g of u)ws(e,m,a.no,g,!0);else u!==void 0&&ws(e,m,a.no,u,!0);break;case"message":if(d)for(const g of u)Da(e,n,a,g);else Da(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}}catch(u){let d=a?`cannot encode field ${i.typeName}.${a==null?void 0:a.name} to binary`:`cannot encode message ${i.typeName} to binary`,h=u instanceof Error?u.message:String(u);throw new Error(d+(h.length>0?`: ${h}`:""))}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}function t0(){return Pd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[m,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[m.toString()]=T}break;case"message":for(const[m,g]of Object.entries(a))d[m.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[m,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[m.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(a[h].toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else{if(a===void 0){if(!i.oneof&&!i.opt)throw"required field not set";return}switch(i.kind){case"scalar":return e(i.T,a,!0);case"enum":return s(i.T,a,!0,u.enumAsInteger);case"message":return Aa(i.T,a).toJson(u)}}})}const E=Q("proto2",t0(),e0(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,n0)},initFields(s){for(const e of s.getType().fields.byMember()){const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"map":i[n]={};break}}}}));function n0(s){var e,n,i,a,u;const d=[];let h;for(const m of typeof s=="function"?s():s){const g=m;if(g.localName=Ma(m.name,m.oneof!==void 0),g.jsonName=(e=m.jsonName)!==null&&e!==void 0?e:Eu(m.name),g.repeated=(n=m.repeated)!==null&&n!==void 0?n:!1,m.kind=="scalar"&&(g.L=(i=m.L)!==null&&i!==void 0?i:ee.BIGINT),m.oneof!==void 0){const T=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!h||h.name!=T)&&(h=new Md(T)),g.oneof=h,h.addField(g)}m.kind=="message"&&(g.delimited=(a=m.delimited)!==null&&a!==void 0?a:!1),g.packed=(u=m.packed)!==null&&u!==void 0?u:!1,d.push(g)}return d}const r0={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var s0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},ei=globalThis&&globalThis.__await||function(s){return this instanceof ei?(this.v=s,this):new ei(s)},i0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(P){return function(U){return Promise.resolve(U).then(P,O)}}function h(P,U){i[P]&&(a[P]=function(q){return new Promise(function(W,ie){u.push([P,q,W,ie])>1||m(P,q)})},U&&(a[P]=U(a[P])))}function m(P,U){try{g(i[P](U))}catch(q){k(u[0][3],q)}}function g(P){P.value instanceof ei?Promise.resolve(P.value.v).then(T,O):k(u[0][2],P)}function T(P){m("next",P)}function O(P){m("throw",P)}function k(P,U){P(U),u.shift(),u.length&&m(u[0][0],u[0][1])}};const Iu={enc(s,e){const n=Oa().makeWriteOptions(e);return n.writerFactory().bytes(s.toBinary(n)).finish()},dec(s,e,n){const i=Oa().makeReadOptions(n);return s.fromBinary(i.readerFactory(e).bytes(),i)},decStream(s,e){return i0(this,arguments,function*(){var i,a,u,d;function h(k,P){const U=new Uint8Array(k.byteLength+P.byteLength);return U.set(k),U.set(P,k.length),U}let m=new Uint8Array(0);try{for(var g=!0,T=s0(e),O;O=yield ei(T.next()),i=O.done,!i;g=!0)for(d=O.value,g=!1,m=h(m,d);;){const P=Iu.peekSize(m);if(P.eof||P.offset+P.size>m.byteLength)break;yield yield ei(Iu.dec(s,m)),m=m.subarray(P.offset+P.size)}}catch(k){a={error:k}}finally{try{!g&&!i&&(u=T.return)&&(yield ei(u.call(T)))}finally{if(a)throw a.error}}if(m.byteLength>0)throw new Error("incomplete data")})},peekSize(s){const e={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>s.byteLength)return e;if((s[n]&128)==0){const i=new Fr(s);let a;try{a=i.uint32()}catch(u){if(u instanceof RangeError)return e;throw u}return{eof:!1,size:a,offset:i.pos}}}throw new Error("invalid varint")}};function o0(s){switch(s.typeName){case"google.protobuf.Any":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.STRING),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.BYTES);if(e&&n)return{typeName:s.typeName,typeUrl:e,value:n};break}case"google.protobuf.Timestamp":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Duration":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Struct":{const e=s.fields.find(n=>n.number==1&&!n.repeated);if((e==null?void 0:e.fieldKind)!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,fields:e}}case"google.protobuf.Value":{const e=s.oneofs.find(m=>m.name==="kind"),n=s.fields.find(m=>m.number==1&&m.oneof===e);if((n==null?void 0:n.fieldKind)!=="enum"||n.enum.typeName!=="google.protobuf.NullValue")return;const i=s.fields.find(m=>m.number==2&&m.fieldKind=="scalar"&&m.scalar===w.DOUBLE&&m.oneof===e),a=s.fields.find(m=>m.number==3&&m.fieldKind=="scalar"&&m.scalar===w.STRING&&m.oneof===e),u=s.fields.find(m=>m.number==4&&m.fieldKind=="scalar"&&m.scalar===w.BOOL&&m.oneof===e),d=s.fields.find(m=>m.number==5&&m.oneof===e);if((d==null?void 0:d.fieldKind)!=="message"||d.message.typeName!=="google.protobuf.Struct")return;const h=s.fields.find(m=>m.number==6&&m.oneof===e);if((h==null?void 0:h.fieldKind)!=="message"||h.message.typeName!=="google.protobuf.ListValue")return;if(e&&i&&a&&u)return{typeName:s.typeName,kind:e,nullValue:n,numberValue:i,stringValue:a,boolValue:u,structValue:d,listValue:h};break}case"google.protobuf.ListValue":{const e=s.fields.find(n=>n.number==1&&n.repeated);if((e==null?void 0:e.fieldKind)!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,values:e}}case"google.protobuf.FieldMask":{const e=s.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===w.STRING&&n.repeated);if(e)return{typeName:s.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const e=s.fields.find(n=>n.number==1&&n.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:s.typeName,value:e}}}}const Ue="@bufbuild/protobuf",a0={packageName:"@bufbuild/protobuf",localName:La,reifyWkt:o0,getUnwrappedFieldType:Mv,scalarDefaultValue:Pa,safeIdentifier:Ld,safeObjectProperty:no,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:Ue},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:Ue},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:Ue},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Ue},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Ue},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:Ue},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:Ue},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Ue},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Ue},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Ue},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Ue},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Ue},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Ue},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:Ue},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:Ue},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Ue},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Ue},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Ue},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Ue},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:Ue}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Mt;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Mt||(Mt={}));var ro;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(ro||(ro={}));var Se;(function(s){s[s.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",s[s.EDITION_PROTO2=998]="EDITION_PROTO2",s[s.EDITION_PROTO3=999]="EDITION_PROTO3",s[s.EDITION_2023=1e3]="EDITION_2023",s[s.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",s[s.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",s[s.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",s[s.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",s[s.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(Se||(Se={})),E.util.setEnumType(Se,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class Bt extends x{constructor(e){super(),this.file=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Bt().fromBinary(e,n)}static fromJson(e,n){return new Bt().fromJson(e,n)}static fromJsonString(e,n){return new Bt().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Bt,e,n)}}Bt.runtime=E,Bt.typeName="google.protobuf.FileDescriptorSet",Bt.fields=E.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Jt,repeated:!0}]);class Jt extends x{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Jt().fromBinary(e,n)}static fromJson(e,n){return new Jt().fromJson(e,n)}static fromJsonString(e,n){return new Jt().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Jt,e,n)}}Jt.runtime=E,Jt.typeName="google.protobuf.FileDescriptorProto",Jt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:un,repeated:!0},{no:5,name:"enum_type",kind:"message",T:cn,repeated:!0},{no:6,name:"service",kind:"message",T:Ln,repeated:!0},{no:7,name:"extension",kind:"message",T:Ut,repeated:!0},{no:8,name:"options",kind:"message",T:Bn,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Gn,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0}]);class un extends x{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new un().fromBinary(e,n)}static fromJson(e,n){return new un().fromJson(e,n)}static fromJsonString(e,n){return new un().fromJsonString(e,n)}static equals(e,n){return E.util.equals(un,e,n)}}un.runtime=E,un.typeName="google.protobuf.DescriptorProto",un.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:Ut,repeated:!0},{no:6,name:"extension",kind:"message",T:Ut,repeated:!0},{no:3,name:"nested_type",kind:"message",T:un,repeated:!0},{no:4,name:"enum_type",kind:"message",T:cn,repeated:!0},{no:5,name:"extension_range",kind:"message",T:Pn,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Dn,repeated:!0},{no:7,name:"options",kind:"message",T:Jn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:On,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Pn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Pn().fromBinary(e,n)}static fromJson(e,n){return new Pn().fromJson(e,n)}static fromJsonString(e,n){return new Pn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Pn,e,n)}}Pn.runtime=E,Pn.typeName="google.protobuf.DescriptorProto.ExtensionRange",Pn.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:xn,opt:!0}]);class On extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new On().fromBinary(e,n)}static fromJson(e,n){return new On().fromJson(e,n)}static fromJsonString(e,n){return new On().fromJsonString(e,n)}static equals(e,n){return E.util.equals(On,e,n)}}On.runtime=E,On.typeName="google.protobuf.DescriptorProto.ReservedRange",On.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class xn extends x{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new xn().fromBinary(e,n)}static fromJson(e,n){return new xn().fromJson(e,n)}static fromJsonString(e,n){return new xn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(xn,e,n)}}xn.runtime=E,xn.typeName="google.protobuf.ExtensionRangeOptions",xn.fields=E.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0},{no:2,name:"declaration",kind:"message",T:Cn,repeated:!0},{no:50,name:"features",kind:"message",T:be,opt:!0},{no:3,name:"verification",kind:"enum",T:E.getEnumType(ti),opt:!0,default:ti.UNVERIFIED}]);var ti;(function(s){s[s.DECLARATION=0]="DECLARATION",s[s.UNVERIFIED=1]="UNVERIFIED"})(ti||(ti={})),E.util.setEnumType(ti,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Cn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Cn().fromBinary(e,n)}static fromJson(e,n){return new Cn().fromJson(e,n)}static fromJsonString(e,n){return new Cn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Cn,e,n)}}Cn.runtime=E,Cn.typeName="google.protobuf.ExtensionRangeOptions.Declaration",Cn.fields=E.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class Ut extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Ut().fromBinary(e,n)}static fromJson(e,n){return new Ut().fromJson(e,n)}static fromJsonString(e,n){return new Ut().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Ut,e,n)}}Ut.runtime=E,Ut.typeName="google.protobuf.FieldDescriptorProto",Ut.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:E.getEnumType(zr),opt:!0},{no:5,name:"type",kind:"enum",T:E.getEnumType(le),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:Un,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var le;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.GROUP=10]="GROUP",s[s.MESSAGE=11]="MESSAGE",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.ENUM=14]="ENUM",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(le||(le={})),E.util.setEnumType(le,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var zr;(function(s){s[s.OPTIONAL=1]="OPTIONAL",s[s.REPEATED=3]="REPEATED",s[s.REQUIRED=2]="REQUIRED"})(zr||(zr={})),E.util.setEnumType(zr,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Dn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Dn().fromBinary(e,n)}static fromJson(e,n){return new Dn().fromJson(e,n)}static fromJsonString(e,n){return new Dn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Dn,e,n)}}Dn.runtime=E,Dn.typeName="google.protobuf.OneofDescriptorProto",Dn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:Fn,opt:!0}]);class cn extends x{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new cn().fromBinary(e,n)}static fromJson(e,n){return new cn().fromJson(e,n)}static fromJsonString(e,n){return new cn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(cn,e,n)}}cn.runtime=E,cn.typeName="google.protobuf.EnumDescriptorProto",cn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:bn,repeated:!0},{no:3,name:"options",kind:"message",T:jn,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Rn,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Rn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Rn().fromBinary(e,n)}static fromJson(e,n){return new Rn().fromJson(e,n)}static fromJsonString(e,n){return new Rn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Rn,e,n)}}Rn.runtime=E,Rn.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Rn.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class bn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new bn().fromBinary(e,n)}static fromJson(e,n){return new bn().fromJson(e,n)}static fromJsonString(e,n){return new bn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(bn,e,n)}}bn.runtime=E,bn.typeName="google.protobuf.EnumValueDescriptorProto",bn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:zn,opt:!0}]);class Ln extends x{constructor(e){super(),this.method=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Ln().fromBinary(e,n)}static fromJson(e,n){return new Ln().fromJson(e,n)}static fromJsonString(e,n){return new Ln().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Ln,e,n)}}Ln.runtime=E,Ln.typeName="google.protobuf.ServiceDescriptorProto",Ln.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:Mn,repeated:!0},{no:3,name:"options",kind:"message",T:Vn,opt:!0}]);class Mn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Mn().fromBinary(e,n)}static fromJson(e,n){return new Mn().fromJson(e,n)}static fromJsonString(e,n){return new Mn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Mn,e,n)}}Mn.runtime=E,Mn.typeName="google.protobuf.MethodDescriptorProto",Mn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:qn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class Bn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Bn().fromBinary(e,n)}static fromJson(e,n){return new Bn().fromJson(e,n)}static fromJsonString(e,n){return new Bn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Bn,e,n)}}Bn.runtime=E,Bn.typeName="google.protobuf.FileOptions",Bn.fields=E.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:E.getEnumType(ni),opt:!0,default:ni.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);var ni;(function(s){s[s.SPEED=1]="SPEED",s[s.CODE_SIZE=2]="CODE_SIZE",s[s.LITE_RUNTIME=3]="LITE_RUNTIME"})(ni||(ni={})),E.util.setEnumType(ni,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class Jn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Jn().fromBinary(e,n)}static fromJson(e,n){return new Jn().fromJson(e,n)}static fromJsonString(e,n){return new Jn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Jn,e,n)}}Jn.runtime=E,Jn.typeName="google.protobuf.MessageOptions",Jn.fields=E.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);class Un extends x{constructor(e){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Un().fromBinary(e,n)}static fromJson(e,n){return new Un().fromJson(e,n)}static fromJsonString(e,n){return new Un().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Un,e,n)}}Un.runtime=E,Un.typeName="google.protobuf.FieldOptions",Un.fields=E.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:E.getEnumType(ri),opt:!0,default:ri.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:E.getEnumType(Vr),opt:!0,default:Vr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:E.getEnumType(so),opt:!0},{no:19,name:"targets",kind:"enum",T:E.getEnumType(io),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:$n,repeated:!0},{no:21,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);var ri;(function(s){s[s.STRING=0]="STRING",s[s.CORD=1]="CORD",s[s.STRING_PIECE=2]="STRING_PIECE"})(ri||(ri={})),E.util.setEnumType(ri,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var Vr;(function(s){s[s.JS_NORMAL=0]="JS_NORMAL",s[s.JS_STRING=1]="JS_STRING",s[s.JS_NUMBER=2]="JS_NUMBER"})(Vr||(Vr={})),E.util.setEnumType(Vr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var so;(function(s){s[s.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",s[s.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",s[s.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(so||(so={})),E.util.setEnumType(so,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var io;(function(s){s[s.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",s[s.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",s[s.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",s[s.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",s[s.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",s[s.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",s[s.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",s[s.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",s[s.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",s[s.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(io||(io={})),E.util.setEnumType(io,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class $n extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new $n().fromBinary(e,n)}static fromJson(e,n){return new $n().fromJson(e,n)}static fromJsonString(e,n){return new $n().fromJsonString(e,n)}static equals(e,n){return E.util.equals($n,e,n)}}$n.runtime=E,$n.typeName="google.protobuf.FieldOptions.EditionDefault",$n.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class Fn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Fn().fromBinary(e,n)}static fromJson(e,n){return new Fn().fromJson(e,n)}static fromJsonString(e,n){return new Fn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Fn,e,n)}}Fn.runtime=E,Fn.typeName="google.protobuf.OneofOptions",Fn.fields=E.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);class jn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new jn().fromBinary(e,n)}static fromJson(e,n){return new jn().fromJson(e,n)}static fromJsonString(e,n){return new jn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(jn,e,n)}}jn.runtime=E,jn.typeName="google.protobuf.EnumOptions",jn.fields=E.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);class zn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new zn().fromBinary(e,n)}static fromJson(e,n){return new zn().fromJson(e,n)}static fromJsonString(e,n){return new zn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(zn,e,n)}}zn.runtime=E,zn.typeName="google.protobuf.EnumValueOptions",zn.fields=E.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:be,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);class Vn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Vn().fromBinary(e,n)}static fromJson(e,n){return new Vn().fromJson(e,n)}static fromJsonString(e,n){return new Vn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Vn,e,n)}}Vn.runtime=E,Vn.typeName="google.protobuf.ServiceOptions",Vn.fields=E.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:be,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);class qn extends x{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new qn().fromBinary(e,n)}static fromJson(e,n){return new qn().fromJson(e,n)}static fromJsonString(e,n){return new qn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(qn,e,n)}}qn.runtime=E,qn.typeName="google.protobuf.MethodOptions",qn.fields=E.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:E.getEnumType(Tr),opt:!0,default:Tr.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Ke,repeated:!0}]);var Tr;(function(s){s[s.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",s[s.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",s[s.IDEMPOTENT=2]="IDEMPOTENT"})(Tr||(Tr={})),E.util.setEnumType(Tr,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class Ke extends x{constructor(e){super(),this.name=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Ke().fromBinary(e,n)}static fromJson(e,n){return new Ke().fromJson(e,n)}static fromJsonString(e,n){return new Ke().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Ke,e,n)}}Ke.runtime=E,Ke.typeName="google.protobuf.UninterpretedOption",Ke.fields=E.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Yn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class Yn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Yn().fromBinary(e,n)}static fromJson(e,n){return new Yn().fromJson(e,n)}static fromJsonString(e,n){return new Yn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Yn,e,n)}}Yn.runtime=E,Yn.typeName="google.protobuf.UninterpretedOption.NamePart",Yn.fields=E.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class be extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new be().fromBinary(e,n)}static fromJson(e,n){return new be().fromJson(e,n)}static fromJsonString(e,n){return new be().fromJsonString(e,n)}static equals(e,n){return E.util.equals(be,e,n)}}be.runtime=E,be.typeName="google.protobuf.FeatureSet",be.fields=E.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:E.getEnumType(oo),opt:!0},{no:2,name:"enum_type",kind:"enum",T:E.getEnumType(ao),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:E.getEnumType(ks),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:E.getEnumType(lo),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:E.getEnumType(uo),opt:!0},{no:6,name:"json_format",kind:"enum",T:E.getEnumType(co),opt:!0}]);var oo;(function(s){s[s.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",s[s.EXPLICIT=1]="EXPLICIT",s[s.IMPLICIT=2]="IMPLICIT",s[s.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(oo||(oo={})),E.util.setEnumType(oo,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var ao;(function(s){s[s.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",s[s.OPEN=1]="OPEN",s[s.CLOSED=2]="CLOSED"})(ao||(ao={})),E.util.setEnumType(ao,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var ks;(function(s){s[s.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",s[s.PACKED=1]="PACKED",s[s.EXPANDED=2]="EXPANDED"})(ks||(ks={})),E.util.setEnumType(ks,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var lo;(function(s){s[s.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",s[s.NONE=1]="NONE",s[s.VERIFY=2]="VERIFY"})(lo||(lo={})),E.util.setEnumType(lo,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var uo;(function(s){s[s.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",s[s.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",s[s.DELIMITED=2]="DELIMITED"})(uo||(uo={})),E.util.setEnumType(uo,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var co;(function(s){s[s.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",s[s.ALLOW=1]="ALLOW",s[s.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(co||(co={})),E.util.setEnumType(co,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class Wn extends x{constructor(e){super(),this.defaults=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Wn().fromBinary(e,n)}static fromJson(e,n){return new Wn().fromJson(e,n)}static fromJsonString(e,n){return new Wn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Wn,e,n)}}Wn.runtime=E,Wn.typeName="google.protobuf.FeatureSetDefaults",Wn.fields=E.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Kn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:E.getEnumType(Se),opt:!0}]);class Kn extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Kn().fromBinary(e,n)}static fromJson(e,n){return new Kn().fromJson(e,n)}static fromJsonString(e,n){return new Kn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Kn,e,n)}}Kn.runtime=E,Kn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Kn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:2,name:"features",kind:"message",T:be,opt:!0}]);class Gn extends x{constructor(e){super(),this.location=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Gn().fromBinary(e,n)}static fromJson(e,n){return new Gn().fromJson(e,n)}static fromJsonString(e,n){return new Gn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Gn,e,n)}}Gn.runtime=E,Gn.typeName="google.protobuf.SourceCodeInfo",Gn.fields=E.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Hn,repeated:!0}]);class Hn extends x{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Hn().fromBinary(e,n)}static fromJson(e,n){return new Hn().fromJson(e,n)}static fromJsonString(e,n){return new Hn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Hn,e,n)}}Hn.runtime=E,Hn.typeName="google.protobuf.SourceCodeInfo.Location",Hn.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Xn extends x{constructor(e){super(),this.annotation=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Xn().fromBinary(e,n)}static fromJson(e,n){return new Xn().fromJson(e,n)}static fromJsonString(e,n){return new Xn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Xn,e,n)}}Xn.runtime=E,Xn.typeName="google.protobuf.GeneratedCodeInfo",Xn.fields=E.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Qn,repeated:!0}]);class Qn extends x{constructor(e){super(),this.path=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Qn().fromBinary(e,n)}static fromJson(e,n){return new Qn().fromJson(e,n)}static fromJsonString(e,n){return new Qn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Qn,e,n)}}Qn.runtime=E,Qn.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Qn.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:E.getEnumType(fo),opt:!0}]);var fo;(function(s){s[s.NONE=0]="NONE",s[s.SET=1]="SET",s[s.ALIAS=2]="ALIAS"})(fo||(fo={})),E.util.setEnumType(fo,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function l0(s,e){const n=s.values.find(i=>i.name===e);return y(n,`cannot parse ${s.name} default value: ${e}`),n.number}function u0(s,e){switch(s){case w.STRING:return e;case w.BYTES:{const n=c0(e);if(n===!1)throw new Error(`cannot parse ${w[s]} default value: ${e}`);return n}case w.INT64:case w.SFIXED64:case w.SINT64:return fe.parse(e);case w.UINT64:case w.FIXED64:return fe.uParse(e);case w.DOUBLE:case w.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case w.BOOL:return e==="true";case w.INT32:case w.UINT32:case w.SINT32:case w.FIXED32:case w.SFIXED32:return parseInt(e,10)}}function c0(s){const e=[],n={tail:s,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const a=this.tail.substring(0,i);return this.tail=this.tail.substring(i),a}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,8);if(isNaN(u))return!1;e.push(u);break}case"x":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;e.push(u);break}case"u":{const i=n.c,a=n.take(4);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;const d=new Uint8Array(4);new DataView(d.buffer).setInt32(0,u,!0),e.push(d[0],d[1],d[2],d[3]);break}case"U":{const i=n.c,a=n.take(8);if(a===!1)return!1;const u=fe.uEnc(i+a),d=new Uint8Array(8),h=new DataView(d.buffer);h.setInt32(0,u.lo,!0),h.setInt32(4,u.hi,!0),e.push(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}const f0=Wn.fromBinary(Zi.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function d0(s){const e=s.minimumEdition,n=s.maximumEdition;if(e===void 0||n===void 0||s.defaults.some(a=>a.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const i=new Map;return(a,...u)=>{var d,h;let m=i.get(a);if(m===void 0){if(a<e)throw new Error(`Edition ${Se[a]} is earlier than the minimum supported edition ${Se[e]}`);if(n<a)throw new Error(`Edition ${Se[a]} is later than the maximum supported edition ${Se[n]}`);let T;for(const O of s.defaults){const k=(d=O.edition)!==null&&d!==void 0?d:0;k>a||T!==void 0&&T.e>k||(T={e:k,f:(h=O.features)!==null&&h!==void 0?h:new be})}if(T===void 0)throw new Error(`No valid default found for edition ${Se[a]}`);m=T.f.toBinary(),i.set(a,m)}const g=be.fromBinary(m);for(const T of u)T!==void 0&&g.fromBinary(T.toBinary());if(!h0(g))throw new Error(`Invalid FeatureSet for edition ${Se[a]}`);return g}}function h0(s){for(const e of be.fields.list()){const n=s[e.localName];if(n===void 0||e.kind=="enum"&&n===0)return!1}return!0}function Bd(s,e){var n;const i={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:d0((n=e==null?void 0:e.featureSetDefaults)!==null&&n!==void 0?n:f0)},u=(s instanceof Bt?s.file:s instanceof Uint8Array?Bt.fromBinary(s).file:s).map(d=>p0(d,i));return Object.assign({files:u},i)}function p0(s,e){var n,i;y(s.name,"invalid FileDescriptorProto: missing name");const a=Object.assign(Object.assign({kind:"file",proto:s,deprecated:(i=(n=s.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1},v0(s.syntax,s.edition)),{name:s.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return Zn(this.proto.sourceCodeInfo,[lt.FileDescriptorProto_Syntax])},getPackageComments(){return Zn(this.proto.sourceCodeInfo,[lt.FileDescriptorProto_Package])},getFeatures(){var u;return e.resolveFeatures(this.edition,(u=this.proto.options)===null||u===void 0?void 0:u.features)}});e.mapEntries.clear();for(const u of s.enumType)Jd(u,a,void 0,e);for(const u of s.messageType)Ud(u,a,void 0,e);for(const u of s.service)m0(u,a,e);_u(a,e);for(const u of e.mapEntries.values())Au(u,e);for(const u of a.messages)Au(u,e),_u(u,e);return e.mapEntries.clear(),a}function _u(s,e){switch(s.kind){case"file":for(const n of s.proto.extension){const i=Fd(n,s,void 0,e);s.extensions.push(i),e.extensions.set(i.typeName,i)}break;case"message":for(const n of s.proto.extension){const i=Fd(n,s.file,s,e);s.nestedExtensions.push(i),e.extensions.set(i.typeName,i)}for(const n of s.nestedMessages)_u(n,e);break}}function Au(s,e){const n=s.proto.oneofDecl.map(a=>y0(a,s,e)),i=new Set;for(const a of s.proto.field){const u=S0(a,n),d=$d(a,s.file,s,u,e);s.fields.push(d),u===void 0?s.members.push(d):(u.fields.push(d),i.has(u)||(i.add(u),s.members.push(u)))}for(const a of n.filter(u=>i.has(u)))s.oneofs.push(a);for(const a of s.nestedMessages)Au(a,e)}function Jd(s,e,n,i){var a,u,d;y(s.name,"invalid EnumDescriptorProto: missing name");const h={kind:"enum",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ba(s,n,e),values:[],sharedPrefix:Wv(s.name,s.value.map(m=>{var g;return(g=m.name)!==null&&g!==void 0?g:""})),toString(){return`enum ${this.typeName}`},getComments(){const m=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[lt.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return Zn(e.proto.sourceCodeInfo,m)},getFeatures(){var m,g,T;const O=(g=(m=this.parent)===null||m===void 0?void 0:m.getFeatures())!==null&&g!==void 0?g:this.file.getFeatures();return i.resolveFeatures(this.file.edition,O,(T=this.proto.options)===null||T===void 0?void 0:T.features)}};i.enums.set(h.typeName,h),s.value.forEach(m=>{var g,T;y(m.name,"invalid EnumValueDescriptorProto: missing name"),y(m.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),h.values.push({kind:"enum_value",proto:m,deprecated:(T=(g=m.options)===null||g===void 0?void 0:g.deprecated)!==null&&T!==void 0?T:!1,parent:h,name:m.name,number:m.number,toString(){return`enum value ${h.typeName}.${this.name}`},declarationString(){var O;let k=`${this.name} = ${this.number}`;return((O=this.proto.options)===null||O===void 0?void 0:O.deprecated)===!0&&(k+=" [deprecated = true]"),k},getComments(){const O=[...this.parent.getComments().sourcePath,lt.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return Zn(e.proto.sourceCodeInfo,O)},getFeatures(){var O;return i.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(O=this.proto.options)===null||O===void 0?void 0:O.features)}})}),((d=n==null?void 0:n.nestedEnums)!==null&&d!==void 0?d:e.enums).push(h)}function Ud(s,e,n,i){var a,u,d,h;y(s.name,"invalid DescriptorProto: missing name");const m={kind:"message",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ba(s,n,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const g=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[lt.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return Zn(e.proto.sourceCodeInfo,g)},getFeatures(){var g,T,O;const k=(T=(g=this.parent)===null||g===void 0?void 0:g.getFeatures())!==null&&T!==void 0?T:this.file.getFeatures();return i.resolveFeatures(this.file.edition,k,(O=this.proto.options)===null||O===void 0?void 0:O.features)}};((d=s.options)===null||d===void 0?void 0:d.mapEntry)===!0?i.mapEntries.set(m.typeName,m):(((h=n==null?void 0:n.nestedMessages)!==null&&h!==void 0?h:e.messages).push(m),i.messages.set(m.typeName,m));for(const g of s.enumType)Jd(g,e,m,i);for(const g of s.nestedType)Ud(g,e,m,i)}function m0(s,e,n){var i,a;y(s.name,"invalid ServiceDescriptorProto: missing name");const u={kind:"service",proto:s,deprecated:(a=(i=s.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,name:s.name,typeName:Ba(s,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){const d=[lt.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return Zn(e.proto.sourceCodeInfo,d)},getFeatures(){var d;return n.resolveFeatures(this.file.edition,this.file.getFeatures(),(d=this.proto.options)===null||d===void 0?void 0:d.features)}};e.services.push(u),n.services.set(u.typeName,u);for(const d of s.method)u.methods.push(g0(d,u,n))}function g0(s,e,n){var i,a,u;y(s.name,"invalid MethodDescriptorProto: missing name"),y(s.inputType,"invalid MethodDescriptorProto: missing input_type"),y(s.outputType,"invalid MethodDescriptorProto: missing output_type");let d;s.clientStreaming===!0&&s.serverStreaming===!0?d=Mt.BiDiStreaming:s.clientStreaming===!0?d=Mt.ClientStreaming:s.serverStreaming===!0?d=Mt.ServerStreaming:d=Mt.Unary;let h;switch((i=s.options)===null||i===void 0?void 0:i.idempotencyLevel){case Tr.IDEMPOTENT:h=ro.Idempotent;break;case Tr.NO_SIDE_EFFECTS:h=ro.NoSideEffects;break;case Tr.IDEMPOTENCY_UNKNOWN:case void 0:h=void 0;break}const m=n.messages.get(si(s.inputType)),g=n.messages.get(si(s.outputType));y(m,`invalid MethodDescriptorProto: input_type ${s.inputType} not found`),y(g,`invalid MethodDescriptorProto: output_type ${s.inputType} not found`);const T=s.name;return{kind:"rpc",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,parent:e,name:T,methodKind:d,input:m,output:g,idempotency:h,toString(){return`rpc ${e.typeName}.${T}`},getComments(){const O=[...this.parent.getComments().sourcePath,lt.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return Zn(e.file.proto.sourceCodeInfo,O)},getFeatures(){var O;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(O=this.proto.options)===null||O===void 0?void 0:O.features)}}}function y0(s,e,n){return y(s.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:s,deprecated:!1,parent:e,fields:[],name:s.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){const i=[...this.parent.getComments().sourcePath,lt.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return Zn(e.file.proto.sourceCodeInfo,i)},getFeatures(){var i;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(i=this.proto.options)===null||i===void 0?void 0:i.features)}}}function $d(s,e,n,i,a){var u,d,h;y(s.name,"invalid FieldDescriptorProto: missing name"),y(s.number,"invalid FieldDescriptorProto: missing number"),y(s.type,"invalid FieldDescriptorProto: missing type");const m={proto:s,deprecated:(d=(u=s.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,name:s.name,number:s.number,parent:n,oneof:i,optional:w0(s,e.syntax),packedByDefault:k0(e,s,a.resolveFeatures),packed:E0(e,n,s,a.resolveFeatures),jsonName:s.jsonName===Eu(s.name)?void 0:s.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:I0,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const T=[...this.parent.getComments().sourcePath,lt.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return Zn(e.proto.sourceCodeInfo,T)},getFeatures(){var T;return a.resolveFeatures(e.edition,this.parent.getFeatures(),(T=this.proto.options)===null||T===void 0?void 0:T.features)}},g=s.label===zr.REPEATED;switch(s.type){case le.MESSAGE:case le.GROUP:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.mapEntries.get(si(s.typeName));if(T!==void 0)return y(g,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},m),{kind:"field",fieldKind:"map",repeated:!1}),T0(T));const O=a.messages.get(si(s.typeName));return y(O!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"message",repeated:g,message:O})}case le.ENUM:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.enums.get(si(s.typeName));return y(T!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"enum",getDefaultValue:jd,repeated:g,enum:T})}default:{const T=N0[s.type];return y(T,`invalid FieldDescriptorProto: unknown type ${s.type}`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"scalar",getDefaultValue:jd,repeated:g,scalar:T,longType:((h=s.options)===null||h===void 0?void 0:h.jstype)==Vr.JS_STRING?ee.STRING:ee.BIGINT})}}}function Fd(s,e,n,i){y(s.extendee,"invalid FieldDescriptorProto: missing extendee");const a=$d(s,e,null,void 0,i),u=i.messages.get(si(s.extendee));return y(u,`invalid FieldDescriptorProto: extendee ${s.extendee} not found`),Object.assign(Object.assign({},a),{kind:"extension",typeName:Ba(s,n,e),parent:n,file:e,extendee:u,toString(){return`extension ${this.typeName}`},getComments(){const d=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_Extension,this.parent.proto.extension.indexOf(s)]:[lt.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(s)];return Zn(e.proto.sourceCodeInfo,d)},getFeatures(){var d,h;return i.resolveFeatures(this.file.edition,((d=this.parent)!==null&&d!==void 0?d:this.file).getFeatures(),(h=this.proto.options)===null||h===void 0?void 0:h.features)}})}function v0(s,e){let n,i;switch(s){case void 0:case"proto2":i="proto2",n=Se.EDITION_PROTO2;break;case"proto3":i="proto3",n=Se.EDITION_PROTO3;break;case"editions":switch(i="editions",e){case void 0:case Se.EDITION_1_TEST_ONLY:case Se.EDITION_2_TEST_ONLY:case Se.EDITION_99997_TEST_ONLY:case Se.EDITION_99998_TEST_ONLY:case Se.EDITION_99999_TEST_ONLY:case Se.EDITION_UNKNOWN:n=Se.EDITION_UNKNOWN;break;default:n=e;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${s}`)}if(s==="editions"&&e===Se.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${s} cannot have edition ${String(e)}`);return{syntax:i,edition:n}}function Ba(s,e,n){y(s.name,`invalid ${s.getType().typeName}: missing name`);let i;return e?i=`${e.typeName}.${s.name}`:n.proto.package!==void 0?i=`${n.proto.package}.${s.name}`:i=`${s.name}`,i}function si(s){return s.startsWith(".")?s.substring(1):s}function T0(s){var e,n;y((e=s.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${s.toString()} to be a map entry`),y(s.fields.length===2,`invalid DescriptorProto: map entry ${s.toString()} has ${s.fields.length} fields`);const i=s.fields.find(d=>d.proto.number===1);y(i,`invalid DescriptorProto: map entry ${s.toString()} is missing key field`);const a=i.scalar;y(a!==void 0&&a!==w.BYTES&&a!==w.FLOAT&&a!==w.DOUBLE,`invalid DescriptorProto: map entry ${s.toString()} has unexpected key type ${(n=i.proto.type)!==null&&n!==void 0?n:-1}`);const u=s.fields.find(d=>d.proto.number===2);switch(y(u,`invalid DescriptorProto: map entry ${s.toString()} is missing value field`),u.fieldKind){case"scalar":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"scalar"})};case"message":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"message"})};case"enum":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function S0(s,e){var n;const i=s.oneofIndex;if(i===void 0)return;let a;return s.proto3Optional!==!0&&(a=e[i],y(a,`invalid FieldDescriptorProto: oneof #${i} for field #${(n=s.number)!==null&&n!==void 0?n:-1} not found`)),a}function w0(s,e){switch(e){case"proto2":return s.oneofIndex===void 0&&s.label===zr.OPTIONAL;case"proto3":return s.proto3Optional===!0;case"editions":return!1}}function k0(s,e,n){const{repeatedFieldEncoding:i}=n(s.edition);if(i!=ks.PACKED)return!1;switch(e.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:return!0}}function E0(s,e,n,i){var a,u,d,h,m,g;switch(n.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:switch(s.edition){case Se.EDITION_PROTO2:return(u=(a=n.options)===null||a===void 0?void 0:a.packed)!==null&&u!==void 0?u:!1;case Se.EDITION_PROTO3:return(h=(d=n.options)===null||d===void 0?void 0:d.packed)!==null&&h!==void 0?h:!0;default:{const{repeatedFieldEncoding:T}=i(s.edition,(m=e==null?void 0:e.getFeatures())!==null&&m!==void 0?m:s.getFeatures(),(g=n.options)===null||g===void 0?void 0:g.features);return T==ks.PACKED}}}}const N0={[le.DOUBLE]:w.DOUBLE,[le.FLOAT]:w.FLOAT,[le.INT64]:w.INT64,[le.UINT64]:w.UINT64,[le.INT32]:w.INT32,[le.FIXED64]:w.FIXED64,[le.FIXED32]:w.FIXED32,[le.BOOL]:w.BOOL,[le.STRING]:w.STRING,[le.GROUP]:void 0,[le.MESSAGE]:void 0,[le.BYTES]:w.BYTES,[le.UINT32]:w.UINT32,[le.ENUM]:void 0,[le.SFIXED32]:w.SFIXED32,[le.SFIXED64]:w.SFIXED64,[le.SINT32]:w.SINT32,[le.SINT64]:w.SINT64};function Zn(s,e){if(!s)return{leadingDetached:[],sourcePath:e};for(const n of s.location)if(n.path.length===e.length&&!n.path.some((i,a)=>e[a]!==i))return{leadingDetached:n.leadingDetachedComments,leading:n.leadingComments,trailing:n.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var lt;(function(s){s[s.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",s[s.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",s[s.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",s[s.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",s[s.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",s[s.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",s[s.DescriptorProto_Field=2]="DescriptorProto_Field",s[s.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",s[s.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",s[s.DescriptorProto_Extension=6]="DescriptorProto_Extension",s[s.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",s[s.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",s[s.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(lt||(lt={}));function I0(){var s,e,n;const i=[];this.repeated&&i.push("repeated"),this.optional&&i.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===zr.REQUIRED&&i.push("required");let u;switch(this.fieldKind){case"scalar":u=w[this.scalar].toLowerCase();break;case"enum":u=this.enum.typeName;break;case"message":u=this.message.typeName;break;case"map":{const m=w[this.mapKey].toLowerCase();let g;switch(this.mapValue.kind){case"scalar":g=w[this.mapValue.scalar].toLowerCase();break;case"enum":g=this.mapValue.enum.typeName;break;case"message":g=this.mapValue.message.typeName;break}u=`map<${m}, ${g}>`;break}}i.push(`${u} ${this.name} = ${this.number}`);const d=[];((s=this.proto.options)===null||s===void 0?void 0:s.packed)!==void 0&&d.push(`packed = ${this.proto.options.packed.toString()}`);let h=this.proto.defaultValue;return h!==void 0&&((this.proto.type==le.BYTES||this.proto.type==le.STRING)&&(h='"'+h.replace('"','\\"')+'"'),d.push(`default = ${h}`)),this.jsonName!==void 0&&d.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.jstype)!==void 0&&d.push(`jstype = ${Vr[this.proto.options.jstype]}`),((n=this.proto.options)===null||n===void 0?void 0:n.deprecated)===!0&&d.push("deprecated = true"),d.length>0&&i.push("["+d.join(", ")+"]"),i.join(" ")}function jd(){const s=this.proto.defaultValue;if(s!==void 0)switch(this.fieldKind){case"enum":return l0(this.enum,s);case"scalar":return u0(this.scalar,s);default:return}}function _0(...s){const e={},n={},i={},a={add(u){if("fields"in u){if(!this.findMessage(u.typeName)){e[u.typeName]=u;for(const d of u.fields.list())d.kind=="message"?this.add(d.T):d.kind=="map"&&d.V.kind=="message"?this.add(d.V.T):d.kind=="enum"&&this.add(d.T)}}else if("methods"in u){if(!this.findService(u.typeName)){i[u.typeName]=u;for(const d of Object.values(u.methods))this.add(d.I),this.add(d.O)}}else n[u.typeName]=u},findMessage(u){return e[u]},findEnum(u){return n[u]},findService(u){return i[u]}};for(const u of s)a.add(u);return a}let ho=class Js extends x{constructor(e){super(),this.seconds=fe.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${A.json.debug(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=fe.parse(a/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const a=(this.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Js.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new Js({seconds:fe.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new Js().fromBinary(e,n)}static fromJson(e,n){return new Js().fromJson(e,n)}static fromJsonString(e,n){return new Js().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Js,e,n)}};ho.runtime=A,ho.typeName="google.protobuf.Timestamp",ho.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class fn extends x{constructor(e){super(),this.seconds=fe.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);if(this.seconds=fe.parse(a),typeof i[2]=="string"){const u=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(u),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new fn().fromBinary(e,n)}static fromJson(e,n){return new fn().fromJson(e,n)}static fromJsonString(e,n){return new fn().fromJsonString(e,n)}static equals(e,n){return A.util.equals(fn,e,n)}}fn.runtime=A,fn.typeName="google.protobuf.Duration",fn.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class It extends x{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),a=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!a)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=a.fromBinary(this.value).toJson(e);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const a=e["@type"];if(typeof a!="string"||a=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const u=this.typeUrlToName(a),d=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(u);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${a} is not in the type registry`);let h;if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))h=d.fromJson(e.value,n);else{const m=Object.assign({},e);delete m["@type"],h=d.fromJson(m,n)}return this.packFrom(h),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof e=="string"?i=e:i=e.typeName,n===i}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),i=n>=0?e.substring(n+1):e;if(!i.length)throw new Error(`invalid type url: ${e}`);return i}static pack(e){const n=new It;return n.packFrom(e),n}static fromBinary(e,n){return new It().fromBinary(e,n)}static fromJson(e,n){return new It().fromJson(e,n)}static fromJsonString(e,n){return new It().fromJsonString(e,n)}static equals(e,n){return A.util.equals(It,e,n)}}It.runtime=A,It.typeName="google.protobuf.Any",It.fields=A.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class er extends x{constructor(e){super(),A.util.initPartial(e,this)}static fromBinary(e,n){return new er().fromBinary(e,n)}static fromJson(e,n){return new er().fromJson(e,n)}static fromJsonString(e,n){return new er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(er,e,n)}}er.runtime=A,er.typeName="google.protobuf.Empty",er.fields=A.util.newFieldList(()=>[]);class tr extends x{constructor(e){super(),this.paths=[],A.util.initPartial(e,this)}toJson(e){function n(i){let a=!1;const u=[];for(let d=0;d<i.length;d++){let h=i.charAt(d);switch(h){case"_":a=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u.push(h),a=!1;break;default:a&&(a=!1,h=h.toUpperCase()),u.push(h);break}}return u.join("")}return this.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+i+'" is irreversible');return n(i)}).join(",")}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+A.json.debug(e));if(e==="")return this;function i(a){if(a.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const u=a.replace(/[A-Z]/g,d=>"_"+d.toLowerCase());return u[0]==="_"?u.substring(1):u}return this.paths=e.split(",").map(i),this}static fromBinary(e,n){return new tr().fromBinary(e,n)}static fromJson(e,n){return new tr().fromJson(e,n)}static fromJsonString(e,n){return new tr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(tr,e,n)}}tr.runtime=A,tr.typeName="google.protobuf.FieldMask",tr.fields=A.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var Es;(function(s){s[s.NULL_VALUE=0]="NULL_VALUE"})(Es||(Es={})),A.util.setEnumType(Es,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class $t extends x{constructor(e){super(),this.fields={},A.util.initPartial(e,this)}toJson(e){const n={};for(const[i,a]of Object.entries(this.fields))n[i]=a.toJson(e);return n}fromJson(e,n){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+A.json.debug(e));for(const[i,a]of Object.entries(e))this.fields[i]=gt.fromJson(a);return this}static fromBinary(e,n){return new $t().fromBinary(e,n)}static fromJson(e,n){return new $t().fromJson(e,n)}static fromJsonString(e,n){return new $t().fromJsonString(e,n)}static equals(e,n){return A.util.equals($t,e,n)}}$t.runtime=A,$t.typeName="google.protobuf.Struct",$t.fields=A.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:gt}}]);class gt extends x{constructor(e){super(),this.kind={case:void 0},A.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,n){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:Es.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:Ft.fromJson(e)}:this.kind={case:"structValue",value:$t.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+A.json.debug(e))}return this}static fromBinary(e,n){return new gt().fromBinary(e,n)}static fromJson(e,n){return new gt().fromJson(e,n)}static fromJsonString(e,n){return new gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(gt,e,n)}}gt.runtime=A,gt.typeName="google.protobuf.Value",gt.fields=A.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:A.getEnumType(Es),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:$t,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:Ft,oneof:"kind"}]);class Ft extends x{constructor(e){super(),this.values=[],A.util.initPartial(e,this)}toJson(e){return this.values.map(n=>n.toJson())}fromJson(e,n){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+A.json.debug(e));for(let i of e)this.values.push(gt.fromJson(i));return this}static fromBinary(e,n){return new Ft().fromBinary(e,n)}static fromJson(e,n){return new Ft().fromJson(e,n)}static fromJsonString(e,n){return new Ft().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ft,e,n)}}Ft.runtime=A,Ft.typeName="google.protobuf.ListValue",Ft.fields=A.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:gt,repeated:!0}]);class jt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.DOUBLE,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.DOUBLE,e)}catch(i){let a='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new jt().fromBinary(e,n)}static fromJson(e,n){return new jt().fromJson(e,n)}static fromJsonString(e,n){return new jt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(jt,e,n)}}jt.runtime=A,jt.typeName="google.protobuf.DoubleValue",jt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),jt.fieldWrapper={wrapField(s){return new jt({value:s})},unwrapField(s){return s.value}};class zt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.FLOAT,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.FLOAT,e)}catch(i){let a='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new zt().fromBinary(e,n)}static fromJson(e,n){return new zt().fromJson(e,n)}static fromJsonString(e,n){return new zt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(zt,e,n)}}zt.runtime=A,zt.typeName="google.protobuf.FloatValue",zt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),zt.fieldWrapper={wrapField(s){return new zt({value:s})},unwrapField(s){return s.value}};class Vt extends x{constructor(e){super(),this.value=fe.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT64,e)}catch(i){let a='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Vt,e,n)}}Vt.runtime=A,Vt.typeName="google.protobuf.Int64Value",Vt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),Vt.fieldWrapper={wrapField(s){return new Vt({value:s})},unwrapField(s){return s.value}};class qt extends x{constructor(e){super(),this.value=fe.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT64,e)}catch(i){let a='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qt().fromBinary(e,n)}static fromJson(e,n){return new qt().fromJson(e,n)}static fromJsonString(e,n){return new qt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qt,e,n)}}qt.runtime=A,qt.typeName="google.protobuf.UInt64Value",qt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),qt.fieldWrapper={wrapField(s){return new qt({value:s})},unwrapField(s){return s.value}};class Yt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT32,e)}catch(i){let a='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Yt().fromBinary(e,n)}static fromJson(e,n){return new Yt().fromJson(e,n)}static fromJsonString(e,n){return new Yt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Yt,e,n)}}Yt.runtime=A,Yt.typeName="google.protobuf.Int32Value",Yt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),Yt.fieldWrapper={wrapField(s){return new Yt({value:s})},unwrapField(s){return s.value}};class Wt extends x{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT32,e)}catch(i){let a='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Wt().fromBinary(e,n)}static fromJson(e,n){return new Wt().fromJson(e,n)}static fromJsonString(e,n){return new Wt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Wt,e,n)}}Wt.runtime=A,Wt.typeName="google.protobuf.UInt32Value",Wt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Wt.fieldWrapper={wrapField(s){return new Wt({value:s})},unwrapField(s){return s.value}};class Kt extends x{constructor(e){super(),this.value=!1,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BOOL,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BOOL,e)}catch(i){let a='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Kt().fromBinary(e,n)}static fromJson(e,n){return new Kt().fromJson(e,n)}static fromJsonString(e,n){return new Kt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Kt,e,n)}}Kt.runtime=A,Kt.typeName="google.protobuf.BoolValue",Kt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Kt.fieldWrapper={wrapField(s){return new Kt({value:s})},unwrapField(s){return s.value}};let Ns=class Go extends x{constructor(e){super(),this.value="",A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.STRING,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.STRING,e)}catch(i){let a='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Go().fromBinary(e,n)}static fromJson(e,n){return new Go().fromJson(e,n)}static fromJsonString(e,n){return new Go().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Go,e,n)}};Ns.runtime=A,Ns.typeName="google.protobuf.StringValue",Ns.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Ns.fieldWrapper={wrapField(s){return new Ns({value:s})},unwrapField(s){return s.value}};class Gt extends x{constructor(e){super(),this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BYTES,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BYTES,e)}catch(i){let a='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Gt().fromBinary(e,n)}static fromJson(e,n){return new Gt().fromJson(e,n)}static fromJsonString(e,n){return new Gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Gt,e,n)}}Gt.runtime=A,Gt.typeName="google.protobuf.BytesValue",Gt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),Gt.fieldWrapper={wrapField(s){return new Gt({value:s})},unwrapField(s){return s.value}};const A0=[It,fn,er,tr,$t,gt,Ft,ho,fn,jt,zt,Vt,Yt,Wt,qt,Kt,Ns,Gt],P0=[I(Es)];function O0(s,e=!0){const n=s instanceof Uint8Array||s instanceof Bt?Bd(s):s,i={},a={},u={};if(e){for(const d of A0)a[d.typeName]=d;for(const d of P0)i[d.typeName]=d}return{findEnum(d){const h=i[d];if(h)return h;const m=n.enums.get(d);if(!m)return;const T=(m.file.syntax=="proto3"?A:E).makeEnumType(d,m.values.map(O=>({no:O.number,name:O.name,localName:La(O)})),{});return i[d]=T,T},findMessage(d){const h=a[d];if(h)return h;const m=n.messages.get(d);if(!m)return;const g=m.file.syntax=="proto3"?A:E,T=[],O=g.makeMessageType(d,()=>T,{localName:La(m)});a[d]=O;for(const k of m.fields){const P=x0(k,this);T.push(P)}return O},findService(d){const h=u[d];if(h)return h;const m=n.services.get(d);if(!m)return;const g={};for(const T of m.methods){const O=this.findMessage(T.input.typeName),k=this.findMessage(T.output.typeName);y(O,`message "${T.input.typeName}" for ${T.toString()} not found`),y(k,`output message "${T.output.typeName}" for ${T.toString()} not found`),g[La(T)]={name:T.name,I:O,O:k,kind:T.methodKind,idempotency:T.idempotency}}return u[d]={typeName:m.typeName,methods:g}}}}function x0(s,e){switch(s.fieldKind){case"map":return C0(s,e);case"message":return R0(s,e);case"enum":{const n=b0(s,e);return n.default=s.getDefaultValue(),n}case"scalar":{const n=D0(s);return n.default=s.getDefaultValue(),n}}}function C0(s,e){const n={kind:"map",no:s.number,name:s.name,jsonName:s.jsonName,K:s.mapKey};if(s.mapValue.message){const i=e.findMessage(s.mapValue.message.typeName);return y(i,`message "${s.mapValue.message.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"message",T:i}})}if(s.mapValue.enum){const i=e.findEnum(s.mapValue.enum.typeName);return y(i,`enum "${s.mapValue.enum.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"enum",T:i}})}return Object.assign(Object.assign({},n),{V:{kind:"scalar",T:s.mapValue.scalar}})}function D0(s){const e=s.longType==ee.STRING?{L:ee.STRING}:{},n=Object.assign({kind:"scalar",no:s.number,name:s.name,jsonName:s.jsonName,T:s.scalar},e);return s.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:s.packed,oneof:void 0,T:s.scalar}):s.oneof?Object.assign(Object.assign({},n),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function R0(s,e){const n=e.findMessage(s.message.typeName);y(n,`message "${s.message.typeName}" for ${s.toString()} not found`);const i={kind:"message",no:s.number,name:s.name,jsonName:s.jsonName,T:n,delimited:s.proto.type==le.GROUP};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function b0(s,e){const n=e.findEnum(s.enum.typeName);y(n,`enum "${s.enum.typeName}" for ${s.toString()} not found`);const i={kind:"enum",no:s.number,name:s.name,jsonName:s.jsonName,T:n};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function zd(s){if(!(s instanceof x))return s;const e=s.getType(),n={};for(const i of e.fields.byMember()){const a=s[i.localName];let u;if(i.repeated)u=a.map(d=>Ja(d));else if(i.kind=="map"){u={};for(const[d,h]of Object.entries(a))u[d]=Ja(h)}else i.kind=="oneof"?u=i.findField(a.case)?{case:a.case,value:Ja(a.value)}:{case:void 0}:u=Ja(a);n[i.localName]=u}return n}function Ja(s){if(s===void 0)return s;if(s instanceof x)return zd(s);if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}class nr extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new nr().fromBinary(e,n)}static fromJson(e,n){return new nr().fromJson(e,n)}static fromJsonString(e,n){return new nr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(nr,e,n)}}nr.runtime=E,nr.typeName="google.protobuf.compiler.Version",nr.fields=E.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class Sr extends x{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Sr().fromBinary(e,n)}static fromJson(e,n){return new Sr().fromJson(e,n)}static fromJsonString(e,n){return new Sr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Sr,e,n)}}Sr.runtime=E,Sr.typeName="google.protobuf.compiler.CodeGeneratorRequest",Sr.fields=E.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Jt,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Jt,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:nr,opt:!0}]);class wr extends x{constructor(e){super(),this.file=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new wr().fromBinary(e,n)}static fromJson(e,n){return new wr().fromJson(e,n)}static fromJsonString(e,n){return new wr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(wr,e,n)}}wr.runtime=E,wr.typeName="google.protobuf.compiler.CodeGeneratorResponse",wr.fields=E.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:rr,repeated:!0}]);var Ua;(function(s){s[s.NONE=0]="NONE",s[s.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",s[s.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(Ua||(Ua={})),E.util.setEnumType(Ua,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class rr extends x{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new rr().fromBinary(e,n)}static fromJson(e,n){return new rr().fromJson(e,n)}static fromJsonString(e,n){return new rr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(rr,e,n)}}rr.runtime=E,rr.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",rr.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Xn,opt:!0}]);class Ht extends x{constructor(e){super(),this.fileName="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Ht().fromBinary(e,n)}static fromJson(e,n){return new Ht().fromJson(e,n)}static fromJsonString(e,n){return new Ht().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ht,e,n)}}Ht.runtime=A,Ht.typeName="google.protobuf.SourceContext",Ht.fields=A.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var Xt;(function(s){s[s.PROTO2=0]="PROTO2",s[s.PROTO3=1]="PROTO3",s[s.EDITIONS=2]="EDITIONS"})(Xt||(Xt={})),A.util.setEnumType(Xt,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class kr extends x{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Xt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new kr().fromBinary(e,n)}static fromJson(e,n){return new kr().fromJson(e,n)}static fromJsonString(e,n){return new kr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(kr,e,n)}}kr.runtime=A,kr.typeName="google.protobuf.Type",kr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:sr,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:ut,repeated:!0},{no:5,name:"source_context",kind:"message",T:Ht},{no:6,name:"syntax",kind:"enum",T:A.getEnumType(Xt)},{no:7,name:"edition",kind:"scalar",T:9}]);class sr extends x{constructor(e){super(),this.kind=ii.TYPE_UNKNOWN,this.cardinality=oi.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",A.util.initPartial(e,this)}static fromBinary(e,n){return new sr().fromBinary(e,n)}static fromJson(e,n){return new sr().fromJson(e,n)}static fromJsonString(e,n){return new sr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(sr,e,n)}}sr.runtime=A,sr.typeName="google.protobuf.Field",sr.fields=A.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:A.getEnumType(ii)},{no:2,name:"cardinality",kind:"enum",T:A.getEnumType(oi)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:ut,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var ii;(function(s){s[s.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",s[s.TYPE_DOUBLE=1]="TYPE_DOUBLE",s[s.TYPE_FLOAT=2]="TYPE_FLOAT",s[s.TYPE_INT64=3]="TYPE_INT64",s[s.TYPE_UINT64=4]="TYPE_UINT64",s[s.TYPE_INT32=5]="TYPE_INT32",s[s.TYPE_FIXED64=6]="TYPE_FIXED64",s[s.TYPE_FIXED32=7]="TYPE_FIXED32",s[s.TYPE_BOOL=8]="TYPE_BOOL",s[s.TYPE_STRING=9]="TYPE_STRING",s[s.TYPE_GROUP=10]="TYPE_GROUP",s[s.TYPE_MESSAGE=11]="TYPE_MESSAGE",s[s.TYPE_BYTES=12]="TYPE_BYTES",s[s.TYPE_UINT32=13]="TYPE_UINT32",s[s.TYPE_ENUM=14]="TYPE_ENUM",s[s.TYPE_SFIXED32=15]="TYPE_SFIXED32",s[s.TYPE_SFIXED64=16]="TYPE_SFIXED64",s[s.TYPE_SINT32=17]="TYPE_SINT32",s[s.TYPE_SINT64=18]="TYPE_SINT64"})(ii||(ii={})),A.util.setEnumType(ii,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var oi;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.OPTIONAL=1]="OPTIONAL",s[s.REQUIRED=2]="REQUIRED",s[s.REPEATED=3]="REPEATED"})(oi||(oi={})),A.util.setEnumType(oi,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class Er extends x{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Xt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Er().fromBinary(e,n)}static fromJson(e,n){return new Er().fromJson(e,n)}static fromJsonString(e,n){return new Er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Er,e,n)}}Er.runtime=A,Er.typeName="google.protobuf.Enum",Er.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:ir,repeated:!0},{no:3,name:"options",kind:"message",T:ut,repeated:!0},{no:4,name:"source_context",kind:"message",T:Ht},{no:5,name:"syntax",kind:"enum",T:A.getEnumType(Xt)},{no:6,name:"edition",kind:"scalar",T:9}]);class ir extends x{constructor(e){super(),this.name="",this.number=0,this.options=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new ir().fromBinary(e,n)}static fromJson(e,n){return new ir().fromJson(e,n)}static fromJsonString(e,n){return new ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ir,e,n)}}ir.runtime=A,ir.typeName="google.protobuf.EnumValue",ir.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:ut,repeated:!0}]);class ut extends x{constructor(e){super(),this.name="",A.util.initPartial(e,this)}static fromBinary(e,n){return new ut().fromBinary(e,n)}static fromJson(e,n){return new ut().fromJson(e,n)}static fromJsonString(e,n){return new ut().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ut,e,n)}}ut.runtime=A,ut.typeName="google.protobuf.Option",ut.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:It}]);class Nr extends x{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Xt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new Nr().fromBinary(e,n)}static fromJson(e,n){return new Nr().fromJson(e,n)}static fromJsonString(e,n){return new Nr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Nr,e,n)}}Nr.runtime=A,Nr.typeName="google.protobuf.Api",Nr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:or,repeated:!0},{no:3,name:"options",kind:"message",T:ut,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Ht},{no:6,name:"mixins",kind:"message",T:ar,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Xt)}]);class or extends x{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Xt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new or().fromBinary(e,n)}static fromJson(e,n){return new or().fromJson(e,n)}static fromJsonString(e,n){return new or().fromJsonString(e,n)}static equals(e,n){return A.util.equals(or,e,n)}}or.runtime=A,or.typeName="google.protobuf.Method",or.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:ut,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Xt)}]);class ar extends x{constructor(e){super(),this.name="",this.root="",A.util.initPartial(e,this)}static fromBinary(e,n){return new ar().fromBinary(e,n)}static fromJson(e,n){return new ar().fromJson(e,n)}static fromJsonString(e,n){return new ar().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ar,e,n)}}ar.runtime=A,ar.typeName="google.protobuf.Mixin",ar.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);const Pu=Object.freeze(Object.defineProperty({__proto__:null,Any:It,Api:Nr,BinaryReader:Fr,BinaryWriter:An,BoolValue:Kt,BytesValue:Gt,CodeGeneratorRequest:Sr,CodeGeneratorResponse:wr,get CodeGeneratorResponse_Feature(){return Ua},CodeGeneratorResponse_File:rr,DescriptorProto:un,DescriptorProto_ExtensionRange:Pn,DescriptorProto_ReservedRange:On,DoubleValue:jt,Duration:fn,get Edition(){return Se},Empty:er,Enum:Er,EnumDescriptorProto:cn,EnumDescriptorProto_EnumReservedRange:Rn,EnumOptions:jn,EnumValue:ir,EnumValueDescriptorProto:bn,EnumValueOptions:zn,ExtensionRangeOptions:xn,ExtensionRangeOptions_Declaration:Cn,get ExtensionRangeOptions_VerificationState(){return ti},FeatureSet:be,FeatureSetDefaults:Wn,FeatureSetDefaults_FeatureSetEditionDefault:Kn,get FeatureSet_EnumType(){return ao},get FeatureSet_FieldPresence(){return oo},get FeatureSet_JsonFormat(){return co},get FeatureSet_MessageEncoding(){return uo},get FeatureSet_RepeatedFieldEncoding(){return ks},get FeatureSet_Utf8Validation(){return lo},Field:sr,FieldDescriptorProto:Ut,get FieldDescriptorProto_Label(){return zr},get FieldDescriptorProto_Type(){return le},FieldMask:tr,FieldOptions:Un,get FieldOptions_CType(){return ri},FieldOptions_EditionDefault:$n,get FieldOptions_JSType(){return Vr},get FieldOptions_OptionRetention(){return so},get FieldOptions_OptionTargetType(){return io},get Field_Cardinality(){return oi},get Field_Kind(){return ii},FileDescriptorProto:Jt,FileDescriptorSet:Bt,FileOptions:Bn,get FileOptions_OptimizeMode(){return ni},FloatValue:zt,GeneratedCodeInfo:Xn,GeneratedCodeInfo_Annotation:Qn,get GeneratedCodeInfo_Annotation_Semantic(){return fo},Int32Value:Yt,Int64Value:Vt,ListValue:Ft,get LongType(){return ee},Message:x,MessageOptions:Jn,Method:or,MethodDescriptorProto:Mn,get MethodIdempotency(){return ro},get MethodKind(){return Mt},MethodOptions:qn,get MethodOptions_IdempotencyLevel(){return Tr},Mixin:ar,get NullValue(){return Es},OneofDescriptorProto:Dn,OneofOptions:Fn,Option:ut,get ScalarType(){return w},ServiceDescriptorProto:Ln,ServiceOptions:Vn,SourceCodeInfo:Gn,SourceCodeInfo_Location:Hn,SourceContext:Ht,StringValue:Ns,Struct:$t,get Syntax(){return Xt},Timestamp:ho,Type:kr,UInt32Value:Wt,UInt64Value:qt,UninterpretedOption:Ke,UninterpretedOption_NamePart:Yn,Value:gt,Version:nr,get WireType(){return ge},codegenInfo:a0,createDescriptorSet:Bd,createRegistry:_0,createRegistryFromDescriptors:O0,proto2:E,proto3:A,protoBase64:Zi,protoDelimited:Iu,protoDouble:r0,protoInt64:fe,toPlainMessage:zd},Symbol.toStringTag,{value:"Module"}));function Vd(s){const e=p[s];return typeof e!="string"?s.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class Ve extends Error{constructor(e,n=p.Unknown,i,a,u){super(L0(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i!=null?i:{}),this.details=a!=null?a:[],this.cause=u}static from(e,n=p.Unknown){return e instanceof Ve?e:e instanceof Error?e.name=="AbortError"?new Ve(e.message,p.Canceled):new Ve(e.message,n,void 0,void 0,e):new Ve(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:a=>a===e.typeName?e:void 0}:e,i=[];for(const a of this.details){if(a instanceof x){n.findMessage(a.getType().typeName)&&i.push(a);continue}const u=n.findMessage(a.type);if(u)try{i.push(u.fromBinary(a.value))}catch{}}return i}}function L0(s,e){return s.length?`[${Vd(e)}] ${s}`:`[${Vd(e)}]`}function M0(s,e,n){try{const i=Zi.dec(s);return e?e.fromBinary(i,n):i}catch(i){throw Ve.from(i,p.DataLoss)}}function B0(s,e){const n={};for(const[i,a]of Object.entries(s.methods)){const u=e(Object.assign(Object.assign({},a),{localName:i,service:s}));u!=null&&(n[i]=u)}return n}function qd(s){let e,n=new Uint8Array(0);function i(a){const u=new Uint8Array(n.length+a.length);u.set(n),u.set(a,n.length),n=u}return new ReadableStream({start(){e=s.getReader()},async pull(a){let u;for(;;){if(u===void 0&&n.byteLength>=5){let m=0;for(let g=1;g<5;g++)m=(m<<8)+n[g];u={flags:n[0],length:m}}if(u!==void 0&&n.byteLength>=u.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(u===void 0){if(n.byteLength==0){a.close();return}a.error(new Ve("premature end of stream",p.DataLoss));return}const d=n.subarray(5,5+u.length);n=n.subarray(5+u.length),a.enqueue({flags:u.flags,data:d})}})}function Yd(s,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,s),i.setUint32(1,e.length),n}var J0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},po=globalThis&&globalThis.__await||function(s){return this instanceof po?(this.v=s,this):new po(s)},U0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){O(u[0][3],U)}}function m(k){k.value instanceof po?Promise.resolve(k.value.v).then(g,T):O(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function O(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}},$0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:po(s[a](d)),done:!1}:u?u(d):d}:u}};function F0(s){return U0(this,arguments,function*(){yield po(yield*$0(J0(s)))})}var Wd=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},ai=globalThis&&globalThis.__await||function(s){return this instanceof ai?(this.v=s,this):new ai(s)},j0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:ai(s[a](d)),done:!1}:u?u(d):d}:u}},z0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){O(u[0][3],U)}}function m(k){k.value instanceof ai?Promise.resolve(k.value.v).then(g,T):O(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function O(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function V0(s,e){return B0(s,n=>{switch(n.kind){case Mt.Unary:return q0(e,s,n);case Mt.ServerStreaming:return Y0(e,s,n);case Mt.ClientStreaming:return W0(e,s,n);case Mt.BiDiStreaming:return K0(e,s,n);default:return null}})}function q0(s,e,n){return async function(i,a){var u,d;const h=await s.unary(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);return(u=a==null?void 0:a.onHeader)===null||u===void 0||u.call(a,h.header),(d=a==null?void 0:a.onTrailer)===null||d===void 0||d.call(a,h.trailer),h.message}}function Y0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,F0([i]),a==null?void 0:a.contextValues),a)}}function W0(s,e,n){return async function(i,a){var u,d,h,m,g,T;const O=await s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);(g=a==null?void 0:a.onHeader)===null||g===void 0||g.call(a,O.header);let k;try{for(var P=!0,U=Wd(O.message),q;q=await U.next(),u=q.done,!u;P=!0)m=q.value,P=!1,k=m}catch(W){d={error:W}}finally{try{!P&&!u&&(h=U.return)&&await h.call(U)}finally{if(d)throw d.error}}if(!k)throw new Ve("protocol error: missing response message",p.Internal);return(T=a==null?void 0:a.onTrailer)===null||T===void 0||T.call(a,O.trailer),k}}function K0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues),a)}}function Kd(s,e){const n=function(){var i,a;return z0(this,arguments,function*(){const u=yield ai(s);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,u.header),yield ai(yield*j0(Wd(u.message))),(a=e==null?void 0:e.onTrailer)===null||a===void 0||a.call(e,u.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function G0(...s){const e=new AbortController,n=s.filter(a=>a!==void 0).concat(e.signal);for(const a of n){if(a.aborted){i.apply(a);break}a.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(Gd(this));for(const a of n)a.removeEventListener("abort",i)}return e}function H0(s){const e=new AbortController,n=()=>{e.abort(new Ve("the operation timed out",p.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?n():i=setTimeout(n,s)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function Gd(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Hd(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,e){return this[s.id]=e,this},delete(s){return delete this[s.id],this}}}const Ou=128;function Xd(s){const e=new Headers,n=new TextDecoder().decode(s).split(`\r
`);for(const i of n){if(i==="")continue;const a=i.indexOf(":");if(a>0){const u=i.substring(0,a).trim(),d=i.substring(a+1).trim();e.append(u,d)}}return e}const X0="Content-Type",Q0="Grpc-Timeout",Qd="Grpc-Status",Zd="Grpc-Message",Z0="Grpc-Status-Details-Bin",eT="User-Agent",tT="X-User-Agent",nT="X-Grpc-Web",rT="application/grpc-web+proto",sT="application/grpc-web+json";class Ir extends x{constructor(e){super(),this.code=0,this.message="",this.details=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new Ir().fromBinary(e,n)}static fromJson(e,n){return new Ir().fromJson(e,n)}static fromJsonString(e,n){return new Ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ir,e,n)}}Ir.runtime=A,Ir.typeName="google.rpc.Status",Ir.fields=A.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:It,repeated:!0}]);const iT="0";function eh(s){var e;const n=s.get(Z0);if(n!=null){const a=M0(n,Ir);if(a.code==0)return;const u=new Ve(a.message,a.code,s);return u.details=a.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),u}const i=s.get(Qd);if(i!=null){if(i===iT)return;const a=parseInt(i,10);return a in p?new Ve(decodeURIComponent((e=s.get(Zd))!==null&&e!==void 0?e:""),a,s):new Ve(`invalid grpc-status: ${i}`,p.Internal,s)}}function th(s,e,n){const i=typeof e=="string"?e:e.typeName,a=typeof n=="string"?n:n.name;return s.toString().replace(/\/?$/,`/${i}/${a}`)}function nh(s,e){return e instanceof x?e:new s(e)}function oT(s,e){function n(i){return i.done===!0?i:{done:i.done,value:nh(s,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),a={next:()=>i.next().then(n)};return i.throw!==void 0&&(a.throw=u=>i.throw(u).then(n)),i.return!==void 0&&(a.return=u=>i.return(u).then(n)),a}}}function aT(s){var e;const n=Object.assign({},s);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function rh(s,e,n,i){const a=e?sh(s.I,i):ih(s.I,n);return{parse:(e?sh(s.O,i):ih(s.O,n)).parse,serialize:a.serialize}}function sh(s,e){return{parse(n){try{return s.fromBinary(n,e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Ve(`parse binary: ${a}`,p.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Ve(`serialize binary: ${a}`,p.Internal)}}}}function ih(s,e){var n,i;const a=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,u=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=aT(e);return{parse(h){try{const m=u.decode(h);return s.fromJsonString(m,d)}catch(m){throw Ve.from(m,p.InvalidArgument)}},serialize(h){try{const m=h.toJsonString(d);return a.encode(m)}catch(m){throw Ve.from(m,p.Internal)}}}}function lT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:nh(s.req.method.I,s.req.message),signal:n});return e(u).then(d=>(a(),d),i)}function uT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:oT(s.req.method.I,s.req.message),signal:n});let d=!1;return n.addEventListener("abort",function(){var h,m;const g=s.req.message[Symbol.asyncIterator]();d||(h=g.throw)===null||h===void 0||h.call(g,this.reason).catch(()=>{}),(m=g.return)===null||m===void 0||m.call(g).catch(()=>{})}),e(u).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const m=h.message[Symbol.asyncIterator]();return{next(){return m.next().then(g=>(g.done==!0&&(d=!0,a()),g),i)}}}}}),i)}function oh(s){const{signal:e,cleanup:n}=H0(s.timeoutMs),i=G0(s.signal,e);return[i.signal,function(u){const d=Ve.from(e.aborted?Gd(e):u);return i.abort(d),n(),Promise.reject(d)},function(){n(),i.abort()}]}function ah(s,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((i,a)=>a(i),s))!==null&&n!==void 0?n:s}function cT(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function lh(s,e){const n=eh(s);if(n)throw e.forEach((i,a)=>{n.metadata.append(a,i)}),n}function uh(s,e,n,i){const a=new Headers(n!=null?n:{});return a.set(X0,s?rT:sT),a.set(nT,"1"),a.set(tT,"connect-es/1.2.0"),i&&a.set(eT,"connect-es/1.2.0"),e!==void 0&&a.set(Q0,`${e}m`),a}function fT(s){switch(s){case 400:return p.Internal;case 401:return p.Unauthenticated;case 403:return p.PermissionDenied;case 404:return p.Unimplemented;case 429:return p.Unavailable;case 502:return p.Unavailable;case 503:return p.Unavailable;case 504:return p.Unavailable;default:return p.Unknown}}function ch(s,e){var n;if(s>=200&&s<300){const i=eh(e);if(i)throw i;return{foundStatus:e.has(Qd)}}throw new Ve(decodeURIComponent((n=e.get(Zd))!==null&&n!==void 0?n:`HTTP ${s}`),fT(s),e)}var Is=globalThis&&globalThis.__await||function(s){return this instanceof Is?(this.v=s,this):new Is(s)},dT=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){O(u[0][3],U)}}function m(k){k.value instanceof Is?Promise.resolve(k.value.v).then(g,T):O(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function O(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function hT(s){var e;cT();const n=(e=s.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,a,u,d,h,m,g){var T;const{serialize:O,parse:k}=rh(a,n,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await lT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!1,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g!=null?g:Hd(),message:m},next:async P=>{var U;const W=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(P.url,Object.assign(Object.assign({},P.init),{headers:P.header,signal:P.signal,body:Yd(0,O(P.message))}));if(ch(W.status,W.headers),!W.body)throw"missing response body";const ie=qd(W.body).getReader();let ke,ue;for(;;){const ve=await ie.read();if(ve.done)break;const{flags:Ee,data:Oe}=ve.value;if(Ee===Ou){if(ke!==void 0)throw"extra trailer";ke=Xd(Oe);continue}if(ue!==void 0)throw"extra message";ue=k(Oe)}if(ke===void 0)throw"missing trailer";if(lh(ke,W.headers),ue===void 0)throw"missing message";return{stream:!1,header:W.headers,message:ue,trailer:ke}}})},async stream(i,a,u,d,h,m,g){var T;const{serialize:O,parse:k}=rh(a,n,s.jsonOptions,s.binaryOptions);function P(q,W,ie,ke){return dT(this,arguments,function*(){const ve=qd(q).getReader();if(W){if(!(yield Is(ve.read())).done)throw"extra data for trailers-only";return yield Is(void 0)}let Ee=!1;for(;;){const Oe=yield Is(ve.read());if(Oe.done)break;const{flags:bs,data:Ls}=Oe.value;if((bs&Ou)===Ou){if(Ee)throw"extra trailer";Ee=!0;const Mo=Xd(Ls);lh(Mo,ke),Mo.forEach((Fw,jw)=>ie.set(jw,Fw));continue}if(Ee)throw"extra message";yield yield Is(k(Ls))}if(!Ee)throw"missing trailer"})}async function U(q){if(a.kind!=Mt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const W=await q[Symbol.asyncIterator]().next();if(W.done==!0)throw"missing request message";return Yd(0,O(W.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,uT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!0,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g!=null?g:Hd(),message:m},next:async q=>{var W;const ke=await((W=s.fetch)!==null&&W!==void 0?W:globalThis.fetch)(q.url,Object.assign(Object.assign({},q.init),{headers:q.header,signal:q.signal,body:await U(q.message)})),{foundStatus:ue}=ch(ke.status,ke.headers);if(!ke.body)throw"missing response body";const ve=new Headers;return Object.assign(Object.assign({},q),{header:ke.headers,trailer:ve,message:P(ke.body,ue,ve,ke.headers)})}})}}}var b={exports:{}},te=b.exports;Object.defineProperty(te,"__esModule",{value:!0});const{proto3:Z,StringValue:xu,Timestamp:li}=Pu,$a=Z.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),fh=Z.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),pT=Z.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:ja},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Lu}}]),mT=Z.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Bh},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:dh,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:H},{no:6,name:"is_removed",kind:"scalar",T:8}]),dh=Z.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:hh},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:ph,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Lh}]),hh=Z.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),ph=Z.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:mh,oneof:"body"},{no:2,name:"add",kind:"message",T:gh,oneof:"body"},{no:3,name:"move",kind:"message",T:yh,oneof:"body"},{no:4,name:"remove",kind:"message",T:vh,oneof:"body"},{no:5,name:"edit",kind:"message",T:Th,oneof:"body"},{no:6,name:"select",kind:"message",T:Sh,oneof:"body"},{no:7,name:"style",kind:"message",T:wh,oneof:"body"},{no:8,name:"increase",kind:"message",T:kh,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Eh,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Nh,oneof:"body"}]),mh=Z.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Fa},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Set"}),gh=Z.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"prev_created_at",kind:"message",T:H},{no:3,name:"value",kind:"message",T:Fa},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Add"}),yh=Z.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"prev_created_at",kind:"message",T:H},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Move"}),vh=Z.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Remove"}),Th=Z.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:H},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),Sh=Z.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Select"}),wh=Z.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:H},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}}],{localName:"Operation_Style"}),kh=Z.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"value",kind:"message",T:Fa},{no:3,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Increase"}),Eh=Z.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}},{no:5,name:"contents",kind:"message",T:Rh,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:H}],{localName:"Operation_TreeEdit"}),Nh=Z.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:H},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}}],{localName:"Operation_TreeStyle"}),Fa=Z.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"moved_at",kind:"message",T:H},{no:3,name:"removed_at",kind:"message",T:H},{no:4,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:5,name:"value",kind:"scalar",T:12}]),ja=Z.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:Ih,oneof:"body"},{no:2,name:"json_array",kind:"message",T:_h,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Ah,oneof:"body"},{no:5,name:"text",kind:"message",T:Ph,oneof:"body"},{no:6,name:"counter",kind:"message",T:Oh,oneof:"body"},{no:7,name:"tree",kind:"message",T:xh,oneof:"body"}]),Ih=Z.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:Ch,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_JSONObject"}),_h=Z.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:Cu,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_JSONArray"}),Ah=Z.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"moved_at",kind:"message",T:H},{no:5,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Primitive"}),Ph=Z.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Dh,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Text"}),Oh=Z.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"moved_at",kind:"message",T:H},{no:5,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Counter"}),xh=Z.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:bu,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Tree"}),Ch=Z.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ja}]),Cu=Z.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:Cu},{no:2,name:"element",kind:"message",T:ja}]),Du=Z.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:H},{no:3,name:"is_removed",kind:"scalar",T:8}]),Dh=Z.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Ru},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:H},{no:4,name:"ins_prev_id",kind:"message",T:Ru},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Du}}]),Ru=Z.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5}]),bu=Z.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:ui},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:H},{no:5,name:"ins_prev_id",kind:"message",T:ui},{no:6,name:"ins_next_id",kind:"message",T:ui},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Du}}]),Rh=Z.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:bu,repeated:!0}]),ui=Z.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5}]),mo=Z.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:ui},{no:2,name:"left_sibling_id",kind:"message",T:ui}]),gT=Z.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:li}]),yT=Z.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:li},{no:9,name:"updated_at",kind:"message",T:li}]),vT=Z.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:xu},{no:2,name:"auth_webhook_url",kind:"message",T:xu},{no:3,name:"auth_webhook_methods",kind:"message",T:bh},{no:4,name:"client_deactivate_threshold",kind:"message",T:xu}]),bh=Z.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),TT=Z.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:li},{no:5,name:"accessed_at",kind:"message",T:li},{no:6,name:"updated_at",kind:"message",T:li}]),Lh=Z.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Mh)},{no:2,name:"presence",kind:"message",T:Lu}]),Mh=Z.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Lu=Z.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Bh=Z.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),_s=Z.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),H=Z.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Jh=Z.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),ST=Z.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(fh)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Jh}]);te.ValueType=$a,te.DocEventType=fh,te.Snapshot=pT,te.ChangePack=mT,te.Change=dh,te.ChangeID=hh,te.Operation=ph,te.Operation_Set=mh,te.Operation_Add=gh,te.Operation_Move=yh,te.Operation_Remove=vh,te.Operation_Edit=Th,te.Operation_Select=Sh,te.Operation_Style=wh,te.Operation_Increase=kh,te.Operation_TreeEdit=Eh,te.Operation_TreeStyle=Nh,te.JSONElementSimple=Fa,te.JSONElement=ja,te.JSONElement_JSONObject=Ih,te.JSONElement_JSONArray=_h,te.JSONElement_Primitive=Ah,te.JSONElement_Text=Ph,te.JSONElement_Counter=Oh,te.JSONElement_Tree=xh,te.RHTNode=Ch,te.RGANode=Cu,te.NodeAttr=Du,te.TextNode=Dh,te.TextNodeID=Ru,te.TreeNode=bu,te.TreeNodes=Rh,te.TreeNodeID=ui,te.TreePos=mo,te.User=gT,te.Project=yT,te.UpdatableProjectFields=vT,te.UpdatableProjectFields_AuthWebhookMethods=bh,te.DocumentSummary=TT,te.PresenceChange=Lh,te.PresenceChange_ChangeType=Mh,te.Presence=Lu,te.Checkpoint=Bh,te.TextNodePos=_s,te.TimeTicket=H,te.DocEventBody=Jh,te.DocEvent=ST;const Uh=(b.exports==null?{}:b.exports).default||b.exports,oe=(b.exports==null?{}:b.exports).ValueType,za=(b.exports==null?{}:b.exports).DocEventType,$h=(b.exports==null?{}:b.exports).Snapshot,Fh=(b.exports==null?{}:b.exports).ChangePack,jh=(b.exports==null?{}:b.exports).Change,Va=(b.exports==null?{}:b.exports).ChangeID,Mu=(b.exports==null?{}:b.exports).Operation,zh=(b.exports==null?{}:b.exports).Operation_Set,Vh=(b.exports==null?{}:b.exports).Operation_Add,qh=(b.exports==null?{}:b.exports).Operation_Move,Yh=(b.exports==null?{}:b.exports).Operation_Remove,Wh=(b.exports==null?{}:b.exports).Operation_Edit,wT=(b.exports==null?{}:b.exports).Operation_Select,Kh=(b.exports==null?{}:b.exports).Operation_Style,Gh=(b.exports==null?{}:b.exports).Operation_Increase,Hh=(b.exports==null?{}:b.exports).Operation_TreeEdit,Xh=(b.exports==null?{}:b.exports).Operation_TreeStyle,As=(b.exports==null?{}:b.exports).JSONElementSimple,lr=(b.exports==null?{}:b.exports).JSONElement,Qh=(b.exports==null?{}:b.exports).JSONElement_JSONObject,Zh=(b.exports==null?{}:b.exports).JSONElement_JSONArray,ep=(b.exports==null?{}:b.exports).JSONElement_Primitive,tp=(b.exports==null?{}:b.exports).JSONElement_Text,np=(b.exports==null?{}:b.exports).JSONElement_Counter,rp=(b.exports==null?{}:b.exports).JSONElement_Tree,sp=(b.exports==null?{}:b.exports).RHTNode,ip=(b.exports==null?{}:b.exports).RGANode,Bu=(b.exports==null?{}:b.exports).NodeAttr,op=(b.exports==null?{}:b.exports).TextNode,ap=(b.exports==null?{}:b.exports).TextNodeID,lp=(b.exports==null?{}:b.exports).TreeNode,up=(b.exports==null?{}:b.exports).TreeNodes,cp=(b.exports==null?{}:b.exports).TreeNodeID,fp=(b.exports==null?{}:b.exports).TreePos,kT=(b.exports==null?{}:b.exports).User,ET=(b.exports==null?{}:b.exports).Project,NT=(b.exports==null?{}:b.exports).UpdatableProjectFields,IT=(b.exports==null?{}:b.exports).UpdatableProjectFields_AuthWebhookMethods,_T=(b.exports==null?{}:b.exports).DocumentSummary,Ju=(b.exports==null?{}:b.exports).PresenceChange,go=(b.exports==null?{}:b.exports).PresenceChange_ChangeType,dp=(b.exports==null?{}:b.exports).Presence,hp=(b.exports==null?{}:b.exports).Checkpoint,pp=(b.exports==null?{}:b.exports).TextNodePos,mp=(b.exports==null?{}:b.exports).TimeTicket,AT=(b.exports==null?{}:b.exports).DocEventBody,PT=(b.exports==null?{}:b.exports).DocEvent,OT=Object.freeze(Object.defineProperty({__proto__:null,Change:jh,ChangeID:Va,ChangePack:Fh,Checkpoint:hp,DocEvent:PT,DocEventBody:AT,DocEventType:za,DocumentSummary:_T,JSONElement:lr,JSONElementSimple:As,JSONElement_Counter:np,JSONElement_JSONArray:Zh,JSONElement_JSONObject:Qh,JSONElement_Primitive:ep,JSONElement_Text:tp,JSONElement_Tree:rp,NodeAttr:Bu,Operation:Mu,Operation_Add:Vh,Operation_Edit:Wh,Operation_Increase:Gh,Operation_Move:qh,Operation_Remove:Yh,Operation_Select:wT,Operation_Set:zh,Operation_Style:Kh,Operation_TreeEdit:Hh,Operation_TreeStyle:Xh,Presence:dp,PresenceChange:Ju,PresenceChange_ChangeType:go,Project:ET,RGANode:ip,RHTNode:sp,Snapshot:$h,TextNode:op,TextNodeID:ap,TextNodePos:pp,TimeTicket:mp,TreeNode:lp,TreeNodeID:cp,TreeNodes:up,TreePos:fp,UpdatableProjectFields:NT,UpdatableProjectFields_AuthWebhookMethods:IT,User:kT,ValueType:oe,default:Uh},Symbol.toStringTag,{value:"Module"}));var ae={exports:{}},Ge=ae.exports;Object.defineProperty(Ge,"__esModule",{value:!0});const{proto3:Qe}=Pu,{ChangePack:qr,DocEvent:xT}=Uh||OT,CT=Qe.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),DT=Qe.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),RT=Qe.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),bT=Qe.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),LT=Qe.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:qr}]),MT=Qe.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:qr}]),BT=Qe.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),JT=Qe.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:qr}]),UT=Qe.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),$T=Qe.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:gp,oneof:"body"},{no:2,name:"event",kind:"message",T:xT,oneof:"body"}]),gp=Qe.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),FT=Qe.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr}]),jT=Qe.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:qr}]),zT=Qe.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr},{no:4,name:"push_only",kind:"scalar",T:8}]),VT=Qe.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:qr}]),qT=Qe.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),YT=Qe.makeMessageType("yorkie.v1.BroadcastResponse",[]);Ge.ActivateClientRequest=CT,Ge.ActivateClientResponse=DT,Ge.DeactivateClientRequest=RT,Ge.DeactivateClientResponse=bT,Ge.AttachDocumentRequest=LT,Ge.AttachDocumentResponse=MT,Ge.DetachDocumentRequest=BT,Ge.DetachDocumentResponse=JT,Ge.WatchDocumentRequest=UT,Ge.WatchDocumentResponse=$T,Ge.WatchDocumentResponse_Initialization=gp,Ge.RemoveDocumentRequest=FT,Ge.RemoveDocumentResponse=jT,Ge.PushPullChangesRequest=zT,Ge.PushPullChangesResponse=VT,Ge.BroadcastRequest=qT,Ge.BroadcastResponse=YT;const yp=(ae.exports==null?{}:ae.exports).default||ae.exports,WT=(ae.exports==null?{}:ae.exports).ActivateClientRequest,KT=(ae.exports==null?{}:ae.exports).ActivateClientResponse,GT=(ae.exports==null?{}:ae.exports).DeactivateClientRequest,HT=(ae.exports==null?{}:ae.exports).DeactivateClientResponse,XT=(ae.exports==null?{}:ae.exports).AttachDocumentRequest,QT=(ae.exports==null?{}:ae.exports).AttachDocumentResponse,ZT=(ae.exports==null?{}:ae.exports).DetachDocumentRequest,eS=(ae.exports==null?{}:ae.exports).DetachDocumentResponse,tS=(ae.exports==null?{}:ae.exports).WatchDocumentRequest,nS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse,rS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse_Initialization,sS=(ae.exports==null?{}:ae.exports).RemoveDocumentRequest,iS=(ae.exports==null?{}:ae.exports).RemoveDocumentResponse,oS=(ae.exports==null?{}:ae.exports).PushPullChangesRequest,aS=(ae.exports==null?{}:ae.exports).PushPullChangesResponse,lS=(ae.exports==null?{}:ae.exports).BroadcastRequest,uS=(ae.exports==null?{}:ae.exports).BroadcastResponse,cS=Object.freeze(Object.defineProperty({__proto__:null,ActivateClientRequest:WT,ActivateClientResponse:KT,AttachDocumentRequest:XT,AttachDocumentResponse:QT,BroadcastRequest:lS,BroadcastResponse:uS,DeactivateClientRequest:GT,DeactivateClientResponse:HT,DetachDocumentRequest:ZT,DetachDocumentResponse:eS,PushPullChangesRequest:oS,PushPullChangesResponse:aS,RemoveDocumentRequest:sS,RemoveDocumentResponse:iS,WatchDocumentRequest:tS,WatchDocumentResponse:nS,WatchDocumentResponse_Initialization:rS,default:yp},Symbol.toStringTag,{value:"Module"}));var ci={exports:{}},vp=ci.exports;Object.defineProperty(vp,"__esModule",{value:!0});const{ActivateClientRequest:fS,ActivateClientResponse:dS,AttachDocumentRequest:hS,AttachDocumentResponse:pS,BroadcastRequest:mS,BroadcastResponse:gS,DeactivateClientRequest:yS,DeactivateClientResponse:vS,DetachDocumentRequest:TS,DetachDocumentResponse:SS,PushPullChangesRequest:wS,PushPullChangesResponse:kS,RemoveDocumentRequest:ES,RemoveDocumentResponse:NS,WatchDocumentRequest:IS,WatchDocumentResponse:_S}=yp||cS,{MethodKind:Yr}=Pu,AS={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:fS,O:dS,kind:Yr.Unary},deactivateClient:{name:"DeactivateClient",I:yS,O:vS,kind:Yr.Unary},attachDocument:{name:"AttachDocument",I:hS,O:pS,kind:Yr.Unary},detachDocument:{name:"DetachDocument",I:TS,O:SS,kind:Yr.Unary},removeDocument:{name:"RemoveDocument",I:ES,O:NS,kind:Yr.Unary},pushPullChanges:{name:"PushPullChanges",I:wS,O:kS,kind:Yr.Unary},watchDocument:{name:"WatchDocument",I:IS,O:_S,kind:Yr.ServerStreaming},broadcast:{name:"Broadcast",I:mS,O:gS,kind:Yr.Unary}}};vp.YorkieService=AS,(ci.exports==null?{}:ci.exports).default||ci.exports;const PS=(ci.exports==null?{}:ci.exports).YorkieService;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Qt=null;try{Qt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ne(s,e,n){this.low=s|0,this.high=e|0,this.unsigned=!!n}ne.prototype.__isLong__,Object.defineProperty(ne.prototype,"__isLong__",{value:!0});function rt(s){return(s&&s.__isLong__)===!0}function Tp(s){var e=Math.clz32(s&-s);return s?31-e:e}ne.isLong=rt;var Sp={},wp={};function Ps(s,e){var n,i,a;return e?(s>>>=0,(a=0<=s&&s<256)&&(i=wp[s],i)?i:(n=pe(s,0,!0),a&&(wp[s]=n),n)):(s|=0,(a=-128<=s&&s<128)&&(i=Sp[s],i)?i:(n=pe(s,s<0?-1:0,!1),a&&(Sp[s]=n),n))}ne.fromInt=Ps;function Zt(s,e){if(isNaN(s))return e?_r:hn;if(e){if(s<0)return _r;if(s>=Ep)return Pp}else{if(s<=-Np)return yt;if(s+1>=Np)return Ap}return s<0?Zt(-s,e).neg():pe(s%fi|0,s/fi|0,e)}ne.fromNumber=Zt;function pe(s,e,n){return new ne(s,e,n)}ne.fromBits=pe;var qa=Math.pow;function Uu(s,e,n){if(s.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return e?_r:hn;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Uu(s.substring(1),e,n).neg();for(var a=Zt(qa(n,8)),u=hn,d=0;d<s.length;d+=8){var h=Math.min(8,s.length-d),m=parseInt(s.substring(d,d+h),n);if(h<8){var g=Zt(qa(n,h));u=u.mul(g).add(Zt(m))}else u=u.mul(a),u=u.add(Zt(m))}return u.unsigned=e,u}ne.fromString=Uu;function dn(s,e){return typeof s=="number"?Zt(s,e):typeof s=="string"?Uu(s,e):pe(s.low,s.high,typeof e=="boolean"?e:s.unsigned)}ne.fromValue=dn;var kp=1<<16,OS=1<<24,fi=kp*kp,Ep=fi*fi,Np=Ep/2,Ip=Ps(OS),hn=Ps(0);ne.ZERO=hn;var _r=Ps(0,!0);ne.UZERO=_r;var di=Ps(1);ne.ONE=di;var _p=Ps(1,!0);ne.UONE=_p;var $u=Ps(-1);ne.NEG_ONE=$u;var Ap=pe(-1,2147483647,!1);ne.MAX_VALUE=Ap;var Pp=pe(-1,-1,!0);ne.MAX_UNSIGNED_VALUE=Pp;var yt=pe(0,-2147483648,!1);ne.MIN_VALUE=yt;var J=ne.prototype;J.toInt=function(){return this.unsigned?this.low>>>0:this.low},J.toNumber=function(){return this.unsigned?(this.high>>>0)*fi+(this.low>>>0):this.high*fi+(this.low>>>0)},J.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(yt)){var n=Zt(e),i=this.div(n),a=i.mul(n).sub(this);return i.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=Zt(qa(e,6),this.unsigned),d=this,h="";;){var m=d.div(u),g=d.sub(m.mul(u)).toInt()>>>0,T=g.toString(e);if(d=m,d.isZero())return T+h;for(;T.length<6;)T="0"+T;h=""+T+h}},J.getHighBits=function(){return this.high},J.getHighBitsUnsigned=function(){return this.high>>>0},J.getLowBits=function(){return this.low},J.getLowBitsUnsigned=function(){return this.low>>>0},J.getNumBitsAbs=function(){if(this.isNegative())return this.eq(yt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1},J.isZero=function(){return this.high===0&&this.low===0},J.eqz=J.isZero,J.isNegative=function(){return!this.unsigned&&this.high<0},J.isPositive=function(){return this.unsigned||this.high>=0},J.isOdd=function(){return(this.low&1)===1},J.isEven=function(){return(this.low&1)===0},J.equals=function(e){return rt(e)||(e=dn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},J.eq=J.equals,J.notEquals=function(e){return!this.eq(e)},J.neq=J.notEquals,J.ne=J.notEquals,J.lessThan=function(e){return this.comp(e)<0},J.lt=J.lessThan,J.lessThanOrEqual=function(e){return this.comp(e)<=0},J.lte=J.lessThanOrEqual,J.le=J.lessThanOrEqual,J.greaterThan=function(e){return this.comp(e)>0},J.gt=J.greaterThan,J.greaterThanOrEqual=function(e){return this.comp(e)>=0},J.gte=J.greaterThanOrEqual,J.ge=J.greaterThanOrEqual,J.compare=function(e){if(rt(e)||(e=dn(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},J.comp=J.compare,J.negate=function(){return!this.unsigned&&this.eq(yt)?yt:this.not().add(di)},J.neg=J.negate,J.add=function(e){rt(e)||(e=dn(e));var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,u=this.low&65535,d=e.high>>>16,h=e.high&65535,m=e.low>>>16,g=e.low&65535,T=0,O=0,k=0,P=0;return P+=u+g,k+=P>>>16,P&=65535,k+=a+m,O+=k>>>16,k&=65535,O+=i+h,T+=O>>>16,O&=65535,T+=n+d,T&=65535,pe(k<<16|P,T<<16|O,this.unsigned)},J.subtract=function(e){return rt(e)||(e=dn(e)),this.add(e.neg())},J.sub=J.subtract,J.multiply=function(e){if(this.isZero())return this;if(rt(e)||(e=dn(e)),Qt){var n=Qt.mul(this.low,this.high,e.low,e.high);return pe(n,Qt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?_r:hn;if(this.eq(yt))return e.isOdd()?yt:hn;if(e.eq(yt))return this.isOdd()?yt:hn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ip)&&e.lt(Ip))return Zt(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,a=this.high&65535,u=this.low>>>16,d=this.low&65535,h=e.high>>>16,m=e.high&65535,g=e.low>>>16,T=e.low&65535,O=0,k=0,P=0,U=0;return U+=d*T,P+=U>>>16,U&=65535,P+=u*T,k+=P>>>16,P&=65535,P+=d*g,k+=P>>>16,P&=65535,k+=a*T,O+=k>>>16,k&=65535,k+=u*g,O+=k>>>16,k&=65535,k+=d*m,O+=k>>>16,k&=65535,O+=i*T+a*g+u*m+d*h,O&=65535,pe(P<<16|U,O<<16|k,this.unsigned)},J.mul=J.multiply,J.divide=function(e){if(rt(e)||(e=dn(e)),e.isZero())throw Error("division by zero");if(Qt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Qt.div_u:Qt.div_s)(this.low,this.high,e.low,e.high);return pe(n,Qt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?_r:hn;var i,a,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _r;if(e.gt(this.shru(1)))return _p;u=_r}else{if(this.eq(yt)){if(e.eq(di)||e.eq($u))return yt;if(e.eq(yt))return di;var d=this.shr(1);return i=d.div(e).shl(1),i.eq(hn)?e.isNegative()?di:$u:(a=this.sub(e.mul(i)),u=i.add(a.div(e)),u)}else if(e.eq(yt))return this.unsigned?_r:hn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=hn}for(a=this;a.gte(e);){i=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(i)/Math.LN2),m=h<=48?1:qa(2,h-48),g=Zt(i),T=g.mul(e);T.isNegative()||T.gt(a);)i-=m,g=Zt(i,this.unsigned),T=g.mul(e);g.isZero()&&(g=di),u=u.add(g),a=a.sub(T)}return u},J.div=J.divide,J.modulo=function(e){if(rt(e)||(e=dn(e)),Qt){var n=(this.unsigned?Qt.rem_u:Qt.rem_s)(this.low,this.high,e.low,e.high);return pe(n,Qt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},J.mod=J.modulo,J.rem=J.modulo,J.not=function(){return pe(~this.low,~this.high,this.unsigned)},J.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},J.clz=J.countLeadingZeros,J.countTrailingZeros=function(){return this.low?Tp(this.low):Tp(this.high)+32},J.ctz=J.countTrailingZeros,J.and=function(e){return rt(e)||(e=dn(e)),pe(this.low&e.low,this.high&e.high,this.unsigned)},J.or=function(e){return rt(e)||(e=dn(e)),pe(this.low|e.low,this.high|e.high,this.unsigned)},J.xor=function(e){return rt(e)||(e=dn(e)),pe(this.low^e.low,this.high^e.high,this.unsigned)},J.shiftLeft=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):pe(0,this.low<<e-32,this.unsigned)},J.shl=J.shiftLeft,J.shiftRight=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):pe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},J.shr=J.shiftRight,J.shiftRightUnsigned=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?pe(this.high,0,this.unsigned):pe(this.high>>>e-32,0,this.unsigned)},J.shru=J.shiftRightUnsigned,J.shr_u=J.shiftRightUnsigned,J.rotateLeft=function(e){var n;return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?pe(this.high,this.low,this.unsigned):e<32?(n=32-e,pe(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,pe(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},J.rotl=J.rotateLeft,J.rotateRight=function(e){var n;return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?pe(this.high,this.low,this.unsigned):e<32?(n=32-e,pe(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,pe(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},J.rotr=J.rotateRight,J.toSigned=function(){return this.unsigned?pe(this.low,this.high,!1):this},J.toUnsigned=function(){return this.unsigned?this:pe(this.low,this.high,!0)},J.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},J.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},J.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},ne.fromBytes=function(e,n,i){return i?ne.fromBytesLE(e,n):ne.fromBytesBE(e,n)},ne.fromBytesLE=function(e,n){return new ne(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},ne.fromBytesBE=function(e,n){return new ne(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var de=(s=>(s.Ok="ok",s.ClientNotActive="client-not-active",s.Unimplemented="unimplemented",s.Unsupported="unsupported",s.DocumentNotAttached="document-not-attached",s.DocumentNotDetached="document-not-detached",s.DocumentRemoved="document-removed",s.InvalidObjectKey="invalid-object-key",s.InvalidArgument="invalid-argument",s))(de||{});class me extends Error{constructor(e,n){super(n),c(this,"name","YorkieError"),c(this,"stack"),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function pn(s){if(s instanceof Map){const e=Array.from(s);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(s))}const Op=s=>s?Object.entries(s).length===0:!0,hi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.stringify(i);return e},pi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.parse(i);return e};var Wr=(s=>(s.Put="put",s.Clear="clear",s))(Wr||{});class Fu{constructor(e,n){c(this,"context"),c(this,"presence"),this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:"put",presence:pn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const Ya="000000000000000000000000",xS="FFFFFFFFFFFFFFFFFFFFFFFF";class ct{constructor(e,n,i){c(this,"lamport"),c(this,"delimiter"),c(this,"actorID"),this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new ct(e,n,i)}static fromStruct(e){return ct.of(ne.fromString(e.lamport,!0),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new ct(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport.greaterThan(e.lamport))return 1;if(e.lamport.greaterThan(this.lamport))return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const ju=0,CS=4294967295,DS=ne.MAX_VALUE,mn=new ct(ne.fromNumber(0),ju,Ya);new ct(ne.fromNumber(1),ju+1,Ya);const yo=new ct(DS,CS,xS);var _t=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(_t||{});let Os=2;function RS(s){Os=s}const M={trivial:(...s)=>{Os>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Os>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Os>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Os>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Os>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(s,...e)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e)),new Error(`YORKIE F: ${s}`)},isEnabled:s=>Os<=s};function ur(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class vo{constructor(e){c(this,"createdAt"),c(this,"movedAt"),c(this,"removedAt"),this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.getPositionedAt())&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}}class Kr extends vo{constructor(e){super(e)}}class zu{constructor(e,n){c(this,"strKey"),c(this,"value"),this.strKey=e,this.value=n}static of(e,n){return new zu(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class To{constructor(){c(this,"nodeMapByKey"),c(this,"nodeMapByCreatedAt"),this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new To}set(e,n,i){let a;const u=this.nodeMapByKey.get(e);u!=null&&!u.isRemoved()&&u.remove(i)&&(a=u.getValue());const d=zu.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),d),(u==null||i.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,d),n.setMovedAt(i)),a}delete(e,n){this.nodeMapByCreatedAt.has(e.toIDString())||M.fatal(`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(!!n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n){M.fatal(`fail to find ${e.getCreatedAt().toIDString()}`);return}const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i!=null&&!!i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n==null?!1:!n.isRemoved()}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class vt extends Kr{constructor(e,n){super(e),c(this,"memberNodes"),this.memberNodes=n}static create(e,n){if(!n)return new vt(e,To.create());const i=To.create();for(const[a,u]of Object.entries(n))i.set(a,u.deepcopy(),u.getCreatedAt());return new vt(e,i)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,n,i){return this.memberNodes.set(e,n,i)}delete(e,n){return this.memberNodes.delete(e,n)}deleteByKey(e,n){return this.memberNodes.deleteByKey(e,n)}get(e){const n=this.memberNodes.get(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.memberNodes.getByID(e);return n==null?void 0:n.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[n,i]of this)e.push(`"${ur(n)}":${i.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[n,i]of this){const{createdAt:a,value:u,type:d}=i.toJSForTest();e[n]={key:n,createdAt:a,value:u,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[n]of this)e.push(n);return e}toSortedJSON(){var e;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const u=(e=this.memberNodes.get(a))==null?void 0:e.getValue();i.push(`"${ur(a)}":${u.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=vt.create(this.getCreatedAt());for(const n of this.memberNodes)e.memberNodes.set(n.getStrKey(),n.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const n of this.memberNodes){const i=n.getValue();if(e(i,this))return;i instanceof Kr&&i.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const n of this.memberNodes)e.has(n.getStrKey())||(e.add(n.getStrKey()),n.isRemoved()||(yield[n.getStrKey(),n.getValue()]))}}var we=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(we||{});class gn{constructor(e,n){c(this,"parentCreatedAt"),c(this,"executedAt"),this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class xp{constructor(e){c(this,"value"),c(this,"left"),c(this,"right"),c(this,"parent"),c(this,"weight"),this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class So{constructor(e){c(this,"root"),this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}return e>n.getLength()&&M.fatal(`out of index range: pos: ${e} > node.length: ${n.getLength()}`),[n,e]}indexOf(e){if(!e||e!==this.root&&!e.hasLinks())return-1;let n=0,i=e,a;for(;i;)(!a||a===i.getRight())&&(n+=i.getLength()+(i.hasLeft()?i.getLeftWeight():0)),a=i,i=i.getParent();return n-e.getLength()}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(!!e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new So(e.getLeft());n.root&&n.root.setParent();const i=new So(e.getRight());if(i.root&&i.root.setParent(),n.root){const a=n.getRightmost();n.splayNode(a),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){!e||(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){!e||(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var qe=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qe||{});class Pe extends vo{constructor(e,n){super(n),c(this,"valueType"),c(this,"value"),this.valueType=Pe.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,n){return new Pe(e,n)}static valueFromBytes(e,n){switch(e){case 0:return null;case 1:return!!n[0];case 2:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 4:{const i=new DataView(n.buffer);return n.forEach(function(a,u){i.setUint8(u,a)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(n);case 3:return ne.fromBytesLE(Array.from(n));case 6:return n;case 7:return new Date(ne.fromBytesLE(Array.from(n),!0).toNumber());default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${ur(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Pe.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof ne)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Pe.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),n}case 5:return new TextEncoder().encode(this.value);case 3:{const n=this.value.toBytesLE();return Uint8Array.from(n)}case 6:return this.value;case 7:{const e=this.value,n=ne.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(n)}default:throw new me(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class Wa extends xp{constructor(e){super(e),c(this,"prev"),c(this,"next"),this.value=e}static createAfter(e,n){const i=new Wa(n),a=e.next;return e.next=i,i.prev=e,i.next=a,a&&(a.prev=i),i}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class wo{constructor(){c(this,"dummyHead"),c(this,"last"),c(this,"nodeMapByIndex"),c(this,"nodeMapByCreatedAt");const e=Pe.of(0,mn);e.setRemovedAt(mn),this.dummyHead=new Wa(e),this.last=this.dummyHead,this.nodeMapByIndex=new So,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new wo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());for(i||M.fatal(`cant find the given node: ${e.toIDString()}`);i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const a=this.findNextBeforeExecutedAt(e,i),u=Wa.createAfter(a,n);a===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(a,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u)}moveAfter(e,n,i){const a=this.nodeMapByCreatedAt.get(e.toIDString());a||M.fatal(`cant find the given node: ${e.toIDString()}`);const u=this.nodeMapByCreatedAt.get(n.toIDString());u||M.fatal(`cant find the given node: ${n.toIDString()}`),a!==u&&(!u.getValue().getMovedAt()||i.after(u.getValue().getMovedAt()))&&(this.release(u),this.insertAfter(a.getCreatedAt(),u.getValue(),i),u.getValue().setMovedAt(i))}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(!!n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());n||M.fatal(`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`),this.release(n)}getByIndex(e){if(e>=this.length)return;const[n,i]=this.nodeMapByIndex.find(e);let a=n;if(e===0&&n===this.dummyHead||i>0)do a&&(a=a.getNext());while(a&&a.isRemoved());return a}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),a=i.isRemoved();return i.remove(n)&&!a&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(e,n){const i=this.getByIndex(e);if(!!i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class At extends Kr{constructor(e,n){super(e),c(this,"elements"),this.elements=n}static create(e,n){if(!n)return new At(e,wo.create());const i=wo.create();for(const a of n)i.insertAfter(i.getLastCreatedAt(),a.deepcopy());return new At(e,i)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,n){this.elements.insertAfter(e,n)}moveAfter(e,n,i){this.elements.moveAfter(e,n,i)}get(e){const n=this.elements.getByIndex(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.elements.getByID(e);return n==null?void 0:n.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,n){return this.elements.delete(e,n)}deleteByIndex(e,n){return this.elements.deleteByIndex(e,n)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const n of this.elements){const i=n.getValue();if(e(i,this))return;i instanceof Kr&&i.getDescendants(e)}}toJSON(){const e=[];for(const n of this)e.push(n.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let n=0;n<this.length;n++){const{createdAt:i,value:a,type:u}=this.get(n).toJSForTest();e[n]={key:String(n),createdAt:i,value:a,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=At.create(this.getCreatedAt());for(const n of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),n.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Gr extends gn{constructor(e,n,i){super(e,i),c(this,"createdAt"),this.createdAt=n}static create(e,n,i){return new Gr(e,n,i)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||M.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof Kr||M.fatal(`only object and array can execute remove: ${a}`),n===we.UndoRedo){let g=a.getByID(this.createdAt);for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.subPathOf(this.createdAt),d=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof At?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:d}}toReverseOperation(e){if(e instanceof vt){const n=e.subPathOf(this.createdAt);if(n!==void 0){const i=e.get(n);if(i!==void 0)return xs.create(n,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class xs extends gn{constructor(e,n,i,a){super(i,a),c(this,"key"),c(this,"value"),this.key=e,this.value=n}static create(e,n,i,a){return new xs(e,n,i,a)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||M.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof vt||M.fatal("fail to execute, only object can execute set"),n===we.UndoRedo){let g=a;for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.get(this.key),d=this.toReverseOperation(u),h=this.value.deepcopy(),m=a.set(this.key,h,this.getExecutedAt());return n===we.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),m&&e.registerRemovedElement(m),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let n=Gr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(n=xs.create(this.key,e.deepcopy(),this.getParentCreatedAt())),n}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class ko extends gn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"value"),this.prevCreatedAt=n,this.value=i}static create(e,n,i,a){return new ko(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof At||M.fatal("fail to execute, only array can execute add");const i=n,a=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,a),e.registerElement(a,i),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Hr extends gn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"createdAt"),this.prevCreatedAt=n,this.createdAt=i}static create(e,n,i,a){return new Hr(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof At||M.fatal("fail to execute, only array can execute move");const i=n,a=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const u=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:u,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Cs{constructor(e,n,i,a){c(this,"key"),c(this,"value"),c(this,"updatedAt"),c(this,"_isRemoved"),this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=a}static of(e,n,i,a){return new Cs(e,n,i,a)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class Ar{constructor(){c(this,"nodeMapByKey"),c(this,"numberOfRemovedElement"),this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ar}getNodeMapByKey(){return this.nodeMapByKey}set(e,n,i){const a=this.nodeMapByKey.get(e);if(a&&a.isRemoved()&&i.after(a.getUpdatedAt())&&(this.numberOfRemovedElement-=1),a===void 0||i.after(a.getUpdatedAt())){const u=Cs.of(e,n,i,!1);return this.nodeMapByKey.set(e,u),a!==void 0&&a.isRemoved()?[a,u]:[void 0,u]}return a.isRemoved()?[a,void 0]:[void 0,void 0]}setInternal(e,n,i,a){const u=Cs.of(e,n,i,a);this.nodeMapByKey.set(e,u),a&&this.numberOfRemovedElement++}remove(e,n){const i=this.nodeMapByKey.get(e),a=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const h=Cs.of(e,"",n,!0);return this.nodeMapByKey.set(e,h),a.push(h),a}const u=i.isRemoved();u||(this.numberOfRemovedElement+=1),u&&a.push(i);const d=Cs.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,d),a.push(d),a}return a}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(!!this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new Ar;for(const[,n]of this.nodeMapByKey)e.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${ur(n)}":"${ur(i.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const n=this.nodeMapByKey.get(e.getKey());n==null||n.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}class Eo{constructor(e){c(this,"attributes"),c(this,"content"),this.attributes=Ar.create(),this.content=e}static create(e){return new Eo(e)}get length(){return this.content.length}substring(e,n){const i=new Eo(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){return this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const e=ur(this.content),n=this.attributes.toObject(),i=[];for(const[a,u]of Object.entries(n)){const d=JSON.parse(u),h=typeof d=="string"?`"${ur(a)}":"${ur(d)}"`:`"${ur(a)}":${String(d)}`;i.push(h)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Cs&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const n of this.attributes)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}class en extends vo{constructor(e,n){super(n),c(this,"rgaTreeSplit"),this.rgaTreeSplit=e}static create(e,n){return new en(e,n)}edit(e,n,i,a,u){const d=n?Eo.create(n):void 0;if(d&&a)for(const[k,P]of Object.entries(a))d.setAttr(k,P,i);const[h,m,g,T]=this.rgaTreeSplit.edit(e,i,d,u),O=T.map(k=>({...k,value:k.value?{attributes:pi(k.value.getAttributes()),content:k.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[m,O,g,[h,h]]}setStyle(e,n,i,a){const[,u]=this.rgaTreeSplit.findNodeWithSplit(e[1],i),[,d]=this.rgaTreeSplit.findNodeWithSplit(e[0],i),h=[],m=this.rgaTreeSplit.findBetween(d,u),g=new Map,T=[];for(const k of m){const P=k.getCreatedAt().getActorID(),U=a!=null&&a.size?a.has(P)?a.get(P):mn:yo;if(k.canStyle(i,U)){const q=g.get(P),W=k.getCreatedAt();(!q||W.after(q))&&g.set(P,W),T.push(k)}}const O=[];for(const k of T){if(k.isRemoved())continue;const[P,U]=this.rgaTreeSplit.findIndexesFromRange(k.createPosRange());h.push({type:"style",actor:i.getActorID(),from:P,to:U,value:{attributes:pi(n)}});for(const[q,W]of Object.entries(n)){const[ie]=k.getValue().setAttr(q,W,i);ie!==void 0&&O.push({parent:k.getValue(),child:ie})}}return[g,O,h]}indexRangeToPosRange(e,n){const i=this.rgaTreeSplit.indexToPos(e);return e===n?[i,i]:[i,this.rgaTreeSplit.indexToPos(n)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const e=[];for(const n of this.rgaTreeSplit)n.isRemoved()||e.push(n.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const n of this.rgaTreeSplit)if(!n.isRemoved()){const i=n.getValue();e.push({attributes:pi(i.getAttributes()),content:i.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new en(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const n of this.rgaTreeSplit){n.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:n});for(const i of n.getValue().getGCPairs())e.push(i)}return e}}class No extends gn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"content"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.content=u,this.attributes=d}static create(e,n,i,a,u,d,h){return new No(e,n,i,a,u,d,h)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof en||M.fatal("fail to execute, only Text can execute edit");const i=n,[,a,u]=i.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);for(const d of u)e.registerGCPair(d);return{opInfos:a.map(({from:d,to:h,value:m})=>({type:"edit",from:d,to:h,value:m,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.content;return`${e}.EDIT(${n},${i},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Io extends gn{constructor(e,n,i,a,u,d){super(e,d),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u}static create(e,n,i,a,u,d){return new Io(e,n,i,a,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof en||M.fatal("fail to execute, only Text can execute edit");const i=n,[,a,u]=i.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);for(const d of a)e.registerGCPair(d);return{opInfos:u.map(({from:d,to:h,value:m})=>({type:"style",from:d,to:h,value:m,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.attributes;return`${e}.STYL(${n},${i},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const bS=2,LS="root",Pr="text";function _o(s,e){let n=0;const i=s.children;for(let a=0;a<e;a++){const u=i[a];!u||u.isRemoved||(n+=u.paddedSize)}return n}class MS{constructor(e,n=[]){if(c(this,"type"),c(this,"parent"),c(this,"_children"),c(this,"size"),this.type=e,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let e=this.parent;const n=this.isRemoved?-1:1;for(;e;)e.size+=this.paddedSize*n,e=e.parent}updateDescendantsSize(){if(this.isRemoved)return this.size=0,0;let e=0;for(const n of this._children)e+=n.updateDescendantsSize();return this.size+=e,this.paddedSize}get isText(){return this.type===Pr}get paddedSize(){return this.size+(this.isText?0:bS)}isAncestorOf(e){return BS(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}get prevSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e-1];if(n)return n}splitText(e,n){if(e===0||e===this.size)return;const i=this.value.slice(0,e),a=this.value.slice(e);if(!a.length)return;this.value=i;const u=this.cloneText(e+n);return u.value=a,this.parent.insertAfterInternal(u,this),u}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}append(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize()}prepend(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this}insertBefore(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i),e.updateAncestorsSize()}insertAfter(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize()}insertAt(e,n){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize()}removeChild(e){if(this.isText)throw new Error("Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new Error("child not found");this._children.splice(n,1),e.parent=void 0}splitElement(e,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const a=this.children.slice(0,e),u=this.children.slice(e);this._children=a,i._children=u,this.size=this._children.reduce((d,h)=>d+h.paddedSize,0),i.size=i._children.reduce((d,h)=>d+h.paddedSize,0);for(const d of i._children)d.parent=i;return i}insertAfterInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e){if(this.isText)throw new Error("Text node cannot have children");if(e.isRemoved){const n=this._children.indexOf(e);return this.allChildren.splice(0,n).filter(a=>!a.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new Error("Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function BS(s,e){if(s===e)return!1;for(;e.parent;){if(e.parent===s)return!0;e=e.parent}return!1}var $e=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))($e||{});function Cp(s,e,n,i){if(e>n)throw new Error(`from is greater than to: ${e} > ${n}`);if(e>s.size)throw new Error(`from is out of range: ${e} > ${s.size}`);if(n>s.size)throw new Error(`to is out of range: ${n} > ${s.size}`);if(e===n)return;let a=0;for(const u of s.children){if(e-u.paddedSize<a&&a<n){const d=u.isText?e-a:e-a-1,h=u.isText?n-a:n-a-1,m=!u.isText&&d<0,g=!u.isText&&h>u.size;(u.isText||m)&&i([u,u.isText?"Text":"Start"],g),Cp(u,Math.max(0,d),Math.min(h,u.size),i),g&&i([u,"End"],g)}a+=u.paddedSize}}function Dp(s,e,n=0){for(const i of s.children)Dp(i,e,n+1);e(s,n)}function Ka(s,e,n=0){for(const i of s._children)Ka(i,e,n+1);e(s,n)}function Vu(s,e,n=!0){if(e>s.size)throw new Error(`index is out of range: ${e} > ${s.size}`);if(s.isText)return{node:s,offset:e};let i=0,a=0;for(const u of s.children){if(n&&u.isText&&u.size>=e-a)return Vu(u,e-a,n);if(e===a)return{node:s,offset:i};if(!n&&u.paddedSize===e-a)return{node:s,offset:i+1};if(u.paddedSize>e-a)return Vu(u,e-a-1,n);a+=u.paddedSize,i+=1}return{node:s,offset:i}}function Rp(s){return s.isText||s.children.length===0?s:Rp(s.children[0])}function JS(s,e){if(s.size<e)throw new Error("unacceptable path");for(let n=0;n<s.children.length;n++){const i=s.children[n];if(i.size<e)e-=i.size;else{s=i;break}}return{node:s,offset:e}}class US{constructor(e){c(this,"root"),this.root=e}tokensBetween(e,n,i){Cp(this.root,e,n,i)}traverse(e){Dp(this.root,e,0)}traverseAll(e){Ka(this.root,e,0)}findTreePos(e,n=!0){return Vu(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");const u=_o(i.parent,a);n.push(u+e.offset),i=i.parent}else if(i.hasTextChild()){const a=_o(i,e.offset);n.push(a)}else n.push(e.offset);for(;i.parent;){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");n.push(a),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new Error("unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const a=e[i];if(n=n.children[a],!n)throw new Error("unacceptable path")}if(n.hasTextChild())return JS(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new Error("unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.size===i){const a=n.nextSibling;return a||n.parent}return n}return n.children.length===i?n:Rp(n.children[i])}indexOf(e){let{node:n}=e;const{offset:i}=e;let a=0,u=1;if(n.isText){a+=i;const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=_o(d,h),n=n.parent}else a+=_o(n,i);for(;n!=null&&n.parent;){const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=_o(d,h),u++,n=n.parent}return a+u-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}const $S=(s,e)=>s===e?0:s<e?-1:1;class FS{constructor(e,n,i){c(this,"key"),c(this,"value"),c(this,"parent"),c(this,"left"),c(this,"right"),c(this,"isRed"),this.key=e,this.value=n,this.isRed=i}}class jS{constructor(e){c(this,"stack"),this.stack=[],this.traverseInorder(e)}traverseInorder(e){!e||(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class bp{constructor(e){c(this,"root"),c(this,"comparator"),c(this,"counter"),this.comparator=typeof e<"u"?e:$S,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new jS(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root;for(;n;){const i=this.comparator(e,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let a=n.parent,u=n;for(;a&&u===a.left;)u=a,a=a.parent;return a}else return n}}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new FS(e,n,!0);const a=this.comparator(e,i.key);return a<0?i.left=this.putInternal(e,n,i.left):a>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(!!e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class yn{constructor(e,n){c(this,"parentID"),c(this,"leftSiblingID"),this.parentID=e,this.leftSiblingID=n}static of(e,n){return new yn(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,a;return i.isText?(i.parent.children[0]===i&&n===0?a=i.parent:a=i,i=i.parent):n===0?a=i:a=i.children[n-1],yn.of(i.id,Ze.of(a.getCreatedAt(),a.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return yn.of(Ze.of(ct.fromStruct(e.parentID.createdAt),e.parentID.offset),Ze.of(ct.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const n=this.getParentID(),i=this.getLeftSiblingID(),a=e.findFloorNode(n);let u=e.findFloorNode(i);if(!a||!u)throw new Error(`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[a,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Ze{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new Ze(e,n)}static fromStruct(e){return Ze.of(ct.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Pt extends MS{constructor(e,n,i,a,u){super(n),c(this,"id"),c(this,"removedAt"),c(this,"attrs"),c(this,"insPrevID"),c(this,"insNextID"),c(this,"_value",""),this.id=e,this.removedAt=u,a&&(this.attrs=a),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,n,i,a){return new Pt(e,n,i,a)}deepcopy(){var e;const n=new Pt(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(e=this.attrs)==null?void 0:e.deepcopy(),n._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const n=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),n&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(e){return new Pt(Ze.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Pt(Ze.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,n,i){const a=this.isText?this.splitText(n,this.id.getOffset()):this.splitElement(n,i);if(a){if(a.insPrevID=this.id,this.insNextID){const u=e.findFloorNode(this.insNextID);u.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,e.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return this.isText?!1:!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,n){this.attrs||(this.attrs=new Ar);const i=new Array;for(const[a,u]of Object.entries(e))i.push(this.attrs.set(a,u,n));return i}purge(e){this.attrs&&this.attrs.purge(e)}getGCPairs(){const e=[];if(!this.attrs)return e;for(const n of this.attrs)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}function qu(s){var e;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(qu)};return s.attrs&&(n.attributes=pi((e=s.attrs)==null?void 0:e.toObject())),n}function Yu(s){if(s.isText)return s.value;let e="";return s.attrs&&s.attrs.size()&&(e=" "+Array.from(s.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${ur(n.getValue())}"`}).join(" ")),`<${s.type}${e}>${s.children.map(n=>Yu(n)).join("")}</${s.type}>`}function Lp(s){if(s.isText){const e=s;return{type:e.type,value:e.value,size:e.size,isRemoved:e.isRemoved}}return{type:s.type,children:s.children.map(Lp),size:s.size,isRemoved:s.isRemoved}}class tn extends vo{constructor(e,n){super(n),c(this,"indexTree"),c(this,"nodeMapByID"),this.indexTree=new US(e),this.nodeMapByID=new bp(Ze.createComparator()),this.indexTree.traverseAll(i=>{this.nodeMapByID.put(i.id,i)})}static create(e,n){return new tn(e,n)}findFloorNode(e){const n=this.nodeMapByID.floorEntry(e);if(!(!n||!n.key.getCreatedAt().equals(e.getCreatedAt())))return n.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,n){const[i,a]=e.toTreeNodePair(this);let u=a;const d=i===u,h=u.parent&&!d?u.parent:i;if(u.isText&&u.split(this,e.getLeftSiblingID().getOffset()-u.id.getOffset()),n){const m=h.allChildren,g=d?0:m.indexOf(u)+1;for(let T=g;T<m.length;T++){const O=m[T];if(!O.id.getCreatedAt().after(n))break;u=O}}return[h,u]}style(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,m]=this.findNodesAndSplitText(e[1],i),g=[],T=n?pi(n):{},O=new Map,k=[];return this.traverseInPosRange(u,d,h,m,([P])=>{const U=P.getCreatedAt().getActorID(),q=a?a.has(U)?a.get(U):mn:yo;if(P.canStyle(i,q)&&n){const W=O.get(U),ie=P.getCreatedAt();(!W||ie.after(W))&&O.set(U,ie);const ke=P.setAttrs(n,i),ue=ke.reduce((Oe,[,bs])=>(bs&&(Oe[bs.getKey()]=T[bs.getKey()]),Oe),{}),ve=P.parent,Ee=P.prevSibling||P.parent;Object.keys(ue).length>0&&g.push({type:"style",from:this.toIndex(ve,Ee),to:this.toIndex(P,P),fromPath:this.toPath(ve,Ee),toPath:this.toPath(P,P),actor:i.getActorID(),value:ue});for(const[Oe]of ke)Oe&&k.push({parent:P,child:Oe})}}),[O,k,g]}removeStyle(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,m]=this.findNodesAndSplitText(e[1],i),g=[],T=new Map,O=[];return this.traverseInPosRange(u,d,h,m,([k])=>{const P=k.getCreatedAt().getActorID(),U=a?a.has(P)?a.get(P):mn:yo;if(k.canStyle(i,U)&&n){const q=T.get(P),W=k.getCreatedAt();(!q||W.after(q))&&T.set(P,W),k.attrs||(k.attrs=new Ar);for(const ue of n){const ve=k.attrs.remove(ue,i);for(const Ee of ve)O.push({parent:k,child:Ee})}const ie=k.parent,ke=k.prevSibling||k.parent;g.push({actor:i.getActorID(),type:"removeStyle",from:this.toIndex(ie,ke),to:this.toIndex(k,k),fromPath:this.toPath(ie,ke),toPath:this.toPath(k,k),value:n})}}),[T,O,g]}edit(e,n,i,a,u,d){const[h,m]=this.findNodesAndSplitText(e[0],a),[g,T]=this.findNodesAndSplitText(e[1],a),O=this.toIndex(h,m),k=this.toPath(h,m),P=[],U=[],q=[],W=new Map;this.traverseInPosRange(h,m,g,T,([ue,ve],Ee)=>{if(ve===$e.Start&&!Ee)for(const Ls of ue.children)q.push(Ls);const Oe=ue.getCreatedAt().getActorID(),bs=d?d.has(Oe)?d.get(Oe):mn:yo;if(ue.canDelete(a,bs)||P.includes(ue.parent)){const Ls=W.get(Oe),Mo=ue.getCreatedAt();(!Ls||Mo.after(Ls))&&W.set(Oe,Mo),(ve===$e.Text||ve===$e.Start)&&P.push(ue),U.push([ue,ve])}});const ie=this.makeDeletionChanges(U,a),ke=[];for(const ue of P)ue.remove(a),ue.isRemoved&&ke.push({parent:this,child:ue});for(const ue of q)ue.removedAt||h.append(ue);if(i>0){let ue=0,ve=h,Ee=m;for(;ue<i;)ve.split(this,ve.findOffset(Ee)+1,u),Ee=ve,ve=ve.parent,ue++;ie.push({type:"content",from:O,to:O,fromPath:k,toPath:k,actor:a.getActorID()})}if(n!=null&&n.length){const ue=[];let ve=m;for(const Ee of n)ve===h?h.insertAt(Ee,0):h.insertAfter(Ee,ve),ve=Ee,Ka(Ee,Oe=>{h.isRemoved&&(Oe.remove(a),ke.push({parent:this,child:Oe})),this.nodeMapByID.put(Oe.id,Oe)}),Ee.isRemoved||ue.push(Ee);if(ue.length){const Ee=ue.map(Oe=>qu(Oe));ie.length&&ie[ie.length-1].from===O?ie[ie.length-1].value=Ee:ie.push({type:"content",from:O,to:O,fromPath:k,toPath:k,actor:a.getActorID(),value:Ee})}}return[ie,ke,W]}editT(e,n,i,a,u){const d=this.findPos(e[0]),h=this.findPos(e[1]);this.edit([d,h],n,i,a,u)}move(e,n,i){throw new Error(`not implemented: ${e}, ${n}, ${i}`)}purge(e){var n;(n=e.parent)==null||n.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,a=e.insNextID;if(i){const u=this.findFloorNode(i);u.insNextID=a}if(a){const u=this.findFloorNode(a);u.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(n=>{n.getRemovedAt()&&e.push({parent:this,child:n});for(const i of n.getGCPairs())e.push(i)}),e}findPos(e,n=!0){const i=this.indexTree.findTreePos(e,n);return yn.fromTreePos(i)}pathToPosRange(e){const n=this.pathToIndex(e);return[this.findPos(n),this.findPos(n+1)]}pathToPos(e){const n=this.indexTree.pathToIndex(e);return this.findPos(n)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Yu(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),n=(i,a=void 0,u=void 0,d=0)=>{var h,m,g,T;let O,k,P;const U=i.isText?{node:i,offset:0}:a&&u?this.toTreePos(a,u):null;U&&(O=this.indexTree.indexOf(U),k=this.indexTree.treePosToPath(U),P=yn.fromTreePos(U).toStruct());const q={type:i.type,parent:a==null?void 0:a.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(h=i.removedAt)==null?void 0:h.toTestString(),insPrev:(m=i.insPrevID)==null?void 0:m.toTestString(),insNext:(g=i.insNextID)==null?void 0:g.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:d,attributes:i.attrs?pi((T=i.attrs)==null?void 0:T.toObject()):void 0,index:O,path:k,pos:P};for(let W=0;W<i.allChildren.length;W++){const ie=W===0?i:i.allChildren[W-1];q.children.push(n(i.allChildren[W],i,ie,d+1))}return q};return n(e)}getRootTreeNode(){return qu(this.indexTree.getRoot())}toTestTreeNode(){return Lp(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new tn(e.deepcopy(),this.getCreatedAt())}toPath(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.treePosToPath(i):[]}toIndex(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.indexOf(i):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const n=this.findPos(e[0]);return e[0]===e[1]?[n,n]:[n,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[n,i]=e,a=this.findPos(n);return n===i?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toPath(n,i),this.toPath(a,u)]}posRangeToIndexRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toIndex(n,i),this.toIndex(a,u)]}traverseInPosRange(e,n,i,a,u){const d=this.toIndex(e,n),h=this.toIndex(i,a);return this.indexTree.tokensBetween(d,h,u)}toTreePos(e,n){if(!e||!n)return;if(e.isRemoved){let a;for(;e.isRemoved;)a=e,e=a.parent;const u=e.findOffset(a);return{node:e,offset:u}}if(e===n)return{node:e,offset:0};let i=e.findOffset(n);if(!n.isRemoved){if(n.isText)return{node:n,offset:n.paddedSize};i++}return{node:e,offset:i}}makeDeletionChanges(e,n){const i=[],a=[];let u=null,d=null;for(let h=0;h<e.length;h++){const m=e[h],g=e[h+1];u||(u=m),d=m;const T=this.findRightToken(m);(!T||!g||T[0]!==g[0]||T[1]!==g[1])&&(a.push([u,d]),u=null,d=null)}for(const h of a){const[m,g]=h,[T,O]=this.findLeftToken(m),[k,P]=g,U=O===$e.Start?T:T.parent,q=P===$e.Start?k:k.parent,W=this.toIndex(U,T),ie=this.toIndex(q,k);W<ie&&(i.length>0&&W===i[i.length-1].to?(i[i.length-1].to=ie,i[i.length-1].toPath=this.toPath(q,k)):i.push({type:"content",from:W,to:ie,fromPath:this.toPath(U,T),toPath:this.toPath(q,k),actor:n.getActorID()}))}return i.reverse()}findRightToken([e,n]){if(n===$e.Start){const h=e.allChildren;return h.length>0?[h[0],h[0].isText?$e.Text:$e.Start]:[e,$e.End]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===a.length-1)return[i,$e.End];const d=a[u+1];return[d,d.isText?$e.Text:$e.Start]}findLeftToken([e,n]){if(n===$e.End){const h=e.allChildren;if(h.length>0){const m=h[h.length-1];return[m,m.isText?$e.Text:$e.End]}return[e,$e.Start]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===0)return[i,$e.Start];const d=a[u-1];return[d,d.isText?$e.Text:$e.End]}}class Ao extends gn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"contents"),c(this,"splitLevel"),c(this,"maxCreatedAtMapByActor"),this.fromPos=n,this.toPos=i,this.contents=a,this.splitLevel=u,this.maxCreatedAtMapByActor=d}static create(e,n,i,a,u,d,h){return new Ao(e,n,i,a,u,d,h)}execute(e){var n;const i=e.findByCreatedAt(this.getParentCreatedAt());i||M.fatal(`fail to find ${this.getParentCreatedAt()}`),i instanceof tn||M.fatal("fail to execute, only Tree can execute edit");const a=this.getExecutedAt(),u=i,[d,h]=u.edit([this.fromPos,this.toPos],(n=this.contents)==null?void 0:n.map(m=>m.deepcopy()),this.splitLevel,a,(()=>{let m=a.getDelimiter();return this.contents!==void 0&&(m+=this.contents.length),()=>ct.of(a.getLamport(),++m,a.getActorID())})(),this.maxCreatedAtMapByActor);for(const m of h)e.registerGCPair(m);return{opInfos:d.map(({from:m,to:g,value:T,splitLevel:O,fromPath:k,toPath:P})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:m,to:g,value:T,splitLevel:O,fromPath:k,toPath:P}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${e}.EDIT(${n},${i},${a.map(u=>Yu(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Xr{constructor(e,n,i,a){c(this,"clientSeq"),c(this,"serverSeq"),c(this,"lamport"),c(this,"actor"),this.clientSeq=e,this.serverSeq=a,this.lamport=n,this.actor=i}static of(e,n,i,a){return new Xr(e,n,i,a)}next(){return new Xr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(e){return e.greaterThan(this.lamport)?new Xr(this.clientSeq,e,this.actor):new Xr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(e){return ct.of(this.lamport,e,this.actor)}setActor(e){return new Xr(this.clientSeq,this.lamport,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const zS=new Xr(0,ne.fromInt(0,!0),Ya);class Ds{constructor({id:e,operations:n,presenceChange:i,message:a}){c(this,"id"),c(this,"operations"),c(this,"presenceChange"),c(this,"message"),this.id=e,this.operations=n||[],this.presenceChange=i,this.message=a}static create({id:e,operations:n,presenceChange:i,message:a}){return new Ds({id:e,operations:n,presenceChange:i,message:a})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const a=[],u=[];for(const d of this.operations){const h=d.execute(e,i);if(!h)continue;const{opInfos:m,reverseOp:g}=h;a.push(...m),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===Wr.Put?n.set(this.id.getActorID(),pn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:a,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Fe.bytesToHex(Fe.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(e=>Fe.bytesToHex(Fe.toOperation(e).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:a,message:u}=e;return Ds.create({id:Fe.bytesToChangeID(Fe.hexToBytes(n)),operations:i==null?void 0:i.map(d=>Fe.bytesToOperation(Fe.hexToBytes(d))),presenceChange:a,message:u})}}class Ga{constructor(e,n,i,a,u,d){c(this,"documentKey"),c(this,"checkpoint"),c(this,"isRemoved"),c(this,"changes"),c(this,"snapshot"),c(this,"minSyncedTicket"),this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=a,this.snapshot=u,this.minSyncedTicket=d}static create(e,n,i,a,u,d){return new Ga(e,n,i,a,u,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class mi{constructor(e,n){c(this,"serverSeq"),c(this,"clientSeq"),this.serverSeq=e,this.clientSeq=n}static of(e,n){return new mi(e,n)}increaseClientSeq(e){return e===0?this:new mi(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq.greaterThan(e.serverSeq)?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return mi.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq.equals(e.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const VS=new mi(ne.fromInt(0,!0),0);class cr{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new cr(e,n)}static fromStruct(e){return cr.of(ct.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new cr(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const qS=cr.of(mn,0);class vn{constructor(e,n){c(this,"id"),c(this,"relativeOffset"),this.id=e,this.relativeOffset=n}static of(e,n){return new vn(e,n)}static fromStruct(e){const n=cr.fromStruct(e.id);return vn.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return cr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Qr extends xp{constructor(e,n,i){super(n),c(this,"id"),c(this,"removedAt"),c(this,"prev"),c(this,"next"),c(this,"insPrev"),c(this,"insNext"),this.id=e,this.removedAt=i}static create(e,n){return new Qr(e,n)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Qr(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,n){const i=!this.removedAt;return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))?i:!1}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[vn.of(this.id,0),vn.of(this.id,this.getLength())]}deepcopy(){return new Qr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const n=this.value;return this.value=n.substring(0,e),n.substring(e,n.length)}toIDString(){return this.id.toIDString()}}class gi{constructor(){c(this,"head"),c(this,"treeByIndex"),c(this,"treeByID"),this.head=Qr.create(qS),this.treeByIndex=new So,this.treeByID=new bp(Qr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new gi}edit(e,n,i,a){const[u,d]=this.findNodeWithSplit(e[1],n),[h,m]=this.findNodeWithSplit(e[0],n),g=this.findBetween(m,d),[T,O,k]=this.deleteNodes(g,n,a),P=d?d.getID():u.getID();let U=vn.of(P,0);if(i){const W=this.posToIndex(h.createPosRange()[1],!0),ie=this.insertAfter(h,Qr.create(cr.of(n,0),i));T.length&&T[T.length-1].from===W?T[T.length-1].value=i:T.push({actor:n.getActorID(),from:W,to:W,value:i}),U=vn.of(ie.getID(),ie.getContentLength())}const q=[];for(const[,W]of k)q.push({parent:this,child:W});return[U,O,q,T]}indexToPos(e){const[n,i]=this.treeByIndex.find(e),a=n;return vn.of(a.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),a=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);a||M.fatal(`the node of the given id should be found: ${i.toTestString()}`);const u=this.treeByIndex.indexOf(a),d=a.isRemoved()?0:i.getOffset()-a.getID().getOffset();return u+d}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new gi;let n=this.head.getNext(),i=e.head,a;for(;n;){if(a=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const u=e.findNode(n.getInsPrevID());a.setInsPrev(u)}i=a,n=n.getNext()}return e}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let a=this.findFloorNodePreferToLeft(i);const u=i.getOffset()-a.getID().getOffset();for(this.splitNode(a,u);a.hasNext()&&a.getNext().getCreatedAt().after(n);)a=a.getNext();return[a,a.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(n||M.fatal(`the node of the given id should be found: ${e.toTestString()}`),e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(!!n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let a=e;for(;a&&a!==n;)i.push(a),a=a.getNext();return i}splitNode(e,n){if(n>e.getContentLength()&&M.fatal("offset should be less than or equal to length"),n===0)return e;if(n===e.getContentLength())return e.getNext();const i=e.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(e,i);const a=e.getInsNext();return a&&a.setInsPrev(i),i.setInsPrev(e),i}deleteNodes(e,n,i){if(!e.length)return[[],new Map,new Map];const[a,u]=this.filterNodes(e,n,i),d=new Map,h=new Map,m=this.makeChanges(u,n);for(const g of a){const T=g.getCreatedAt().getActorID();(!d.has(T)||g.getID().getCreatedAt().after(d.get(T)))&&d.set(T,g.getID().getCreatedAt()),h.set(g.getID().toIDString(),g),g.remove(n)}return this.deleteIndexNodes(u),[m,d,h]}filterNodes(e,n,i){const a=!!i,u=[],d=[],[h,m]=this.findEdgesOfCandidates(e);d.push(h);for(const g of e){const T=g.getCreatedAt().getActorID(),O=a?i.has(T)?i.get(T):mn:yo;g.canDelete(n,O)?u.push(g):d.push(g)}return d.push(m),[u,d]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let a,u;for(let d=0;d<e.length-1;d++){const h=e[d],m=e[d+1];h.getNext()!=m&&([a]=this.findIndexesFromRange(h.getNext().createPosRange()),m?[,u]=this.findIndexesFromRange(m.getPrev().createPosRange()):u=this.treeByIndex.length,a<u&&i.push({actor:n.getActorID(),from:a,to:u}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];i.getNext()!=a&&this.treeByIndex.deleteRange(i,a)}}purge(e){const n=e.getPrev(),i=e.getNext(),a=e.getInsPrev(),u=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),a&&a.setInsNext(u),u&&u.setInsPrev(a),e.setInsPrev(void 0),e.setInsNext(void 0)}}const Mp=s=>s<0?Math.ceil(s):Math.floor(s);var fr=(s=>(s[s.IntegerCnt=0]="IntegerCnt",s[s.LongCnt=1]="LongCnt",s))(fr||{});class Ot extends vo{constructor(e,n,i){switch(super(i),c(this,"valueType"),c(this,"value"),this.valueType=e,e){case 0:typeof n=="number"?n>Math.pow(2,31)-1||n<-Math.pow(2,31)?this.value=ne.fromNumber(n).toInt():this.value=Mp(n):this.value=n.toInt();break;case 1:typeof n=="number"?this.value=ne.fromNumber(n):this.value=n;break;default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}static create(e,n,i){return new Ot(e,n,i)}static valueFromBytes(e,n){switch(e){case 0:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 1:return ne.fromBytesLE(Array.from(n));default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ot.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof ne?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ot.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const n=this.value.toBytesLE();return Uint8Array.from(n)}default:throw new me(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function n(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return n(this),n(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===qe.Long?this.value=this.value+e.getValue().toInt():this.value=ne.fromNumber(this.value+Mp(e.getValue())).toInt(),this}}class yi extends gn{constructor(e,n,i){super(e,i),c(this,"value"),this.value=n}static create(e,n,i){return new yi(e,n,i)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Ot||M.fatal("fail to execute, only Counter can execute increase");const i=n,a=this.value.deepcopy();return i.increase(a),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),i=e.getType()===qe.Long?e.getValue().multiply(-1):e.getValue()*-1;return yi.create(this.getParentCreatedAt(),Pe.of(i,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Or extends gn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),c(this,"attributesToRemove"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u,this.attributesToRemove=d}static create(e,n,i,a,u,d){return new Or(e,n,i,a,u,new Array,d)}static createTreeRemoveStyleOperation(e,n,i,a,u,d){return new Or(e,n,i,a,new Map,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||M.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof tn||M.fatal("fail to execute, only Tree can execute edit");const i=n;let a,u;if(this.attributes.size){const d={};[...this.attributes].forEach(([h,m])=>d[h]=m),[,u,a]=i.style([this.fromPos,this.toPos],d,this.getExecutedAt(),this.maxCreatedAtMapByActor)}else{const d=this.attributesToRemove;[,u,a]=i.removeStyle([this.fromPos,this.toPos],d,this.getExecutedAt(),this.maxCreatedAtMapByActor)}for(const d of u)e.registerGCPair(d);return{opInfos:a.map(({from:d,to:h,value:m,fromPath:g,toPath:T})=>({type:"tree-style",from:d,to:h,value:this.attributes.size?{attributes:m}:{attributesToRemove:m},fromPath:g,toPath:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${n},${i},${Object.entries(this.attributes||{}).map(([a,u])=>`${a}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function YS(s){const e=new dp,n=e.data;for(const[i,a]of Object.entries(s))n[i]=JSON.stringify(a);return e}function WS(s){if(s.type===Wr.Put)return new Ju({type:go.PUT,presence:YS(s.presence)});if(s.type===Wr.Clear)return new Ju({type:go.CLEAR});throw new me(de.Unimplemented,"unimplemented type")}function KS(s){return new hp({serverSeq:s.getServerSeqAsString(),clientSeq:s.getClientSeq()})}function Bp(s){return new Va({clientSeq:s.getClientSeq(),lamport:s.getLamportAsString(),actorId:Zu(s.getActorID())})}function G(s){if(!!s)return new mp({lamport:s.getLamportAsString(),delimiter:s.getDelimiter(),actorId:Zu(s.getActorID())})}function Jp(s){switch(s){case qe.Null:return oe.NULL;case qe.Boolean:return oe.BOOLEAN;case qe.Integer:return oe.INTEGER;case qe.Long:return oe.LONG;case qe.Double:return oe.DOUBLE;case qe.String:return oe.STRING;case qe.Bytes:return oe.BYTES;case qe.Date:return oe.DATE;default:throw new me(de.Unsupported,`unsupported type: ${s}`)}}function Up(s){switch(s){case fr.IntegerCnt:return oe.INTEGER_CNT;case fr.LongCnt:return oe.LONG_CNT;default:throw new me(de.Unsupported,`unsupported type: ${s}`)}}function Wu(s){if(s instanceof vt)return new As({type:oe.JSON_OBJECT,createdAt:G(s.getCreatedAt()),value:em(s)});if(s instanceof At)return new As({type:oe.JSON_ARRAY,createdAt:G(s.getCreatedAt()),value:Ew(s)});if(s instanceof en)return new As({type:oe.TEXT,createdAt:G(s.getCreatedAt())});if(s instanceof Pe)return new As({type:Jp(s.getType()),createdAt:G(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ot)return new As({type:Up(s.getType()),createdAt:G(s.getCreatedAt()),value:s.toBytes()});if(s instanceof tn)return new As({type:oe.TREE,createdAt:G(s.getCreatedAt()),value:Iw(s)});throw new me(de.Unimplemented,"unimplemented element")}function GS(s){return new ap({createdAt:G(s.getCreatedAt()),offset:s.getOffset()})}function Ha(s){return new pp({createdAt:G(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Xa(s){return new fp({parentId:Po(s.getParentID()),leftSiblingId:Po(s.getLeftSiblingID())})}function Po(s){return new cp({createdAt:G(s.getCreatedAt()),offset:s.getOffset()})}function $p(s){const e=new Mu;if(s instanceof xs){const n=s,i=new zh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Wu(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(s instanceof ko){const n=s,i=new Vh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.prevCreatedAt=G(n.getPrevCreatedAt()),i.value=Wu(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(s instanceof Hr){const n=s,i=new qh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.prevCreatedAt=G(n.getPrevCreatedAt()),i.createdAt=G(n.getCreatedAt()),i.executedAt=G(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(s instanceof Gr){const n=s,i=new Yh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.createdAt=G(n.getCreatedAt()),i.executedAt=G(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(s instanceof No){const n=s,i=new Wh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Ha(n.getFromPos()),i.to=Ha(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);i.content=n.getContent();const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=G(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(s instanceof Io){const n=s,i=new Kh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Ha(n.getFromPos()),i.to=Ha(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=G(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(s instanceof yi){const n=s,i=new Gh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.value=Wu(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(s instanceof Ao){const n=s,i=new Hh,a=i.createdAtMapByActor;for(const[u,d]of n.getMaxCreatedAtMapByActor())a[u]=G(d);i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Xa(n.getFromPos()),i.to=Xa(n.getToPos()),i.contents=nw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=G(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(s instanceof Or){const n=s,i=new Xh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Xa(n.getFromPos()),i.to=Xa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);const u=n.getAttributesToRemove();if(u.length>0)i.attributesToRemove=u;else{const d=i.attributes;for(const[h,m]of n.getAttributes())d[h]=m}i.executedAt=G(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else throw new me(de.Unimplemented,"unimplemented operation");return e}function HS(s){const e=[];for(const n of s)e.push($p(n));return e}function XS(s){const e=new jh({id:Bp(s.getID()),message:s.getMessage()});return s.hasOperations()&&(e.operations=HS(s.getOperations())),s.hasPresenceChange()&&(e.presenceChange=WS(s.getPresenceChange())),e}function QS(s){const e=[];for(const n of s)e.push(XS(n));return e}function ZS(s){const e=[];for(const n of s)e.push(new sp({key:n.getStrKey(),element:Ku(n.getValue())}));return e}function ew(s){const e=[];for(const n of s)e.push(new ip({element:Ku(n.getValue())}));return e}function tw(s){const e=[];for(const n of s){const i=new op;i.id=GS(n.getID()),i.value=n.getValue().getContent(),i.removedAt=G(n.getRemovedAt());const a=i.attributes,u=n.getValue().getAttrs();for(const d of u){const h=new Bu;h.value=d.getValue(),h.updatedAt=G(d.getUpdatedAt()),a[d.getKey()]=h}e.push(i)}return e}function nw(s){const e=[];if(!s||!s.length)return e;for(const n of s)e.push(new up({content:Fp(n)}));return e}function rw(s){const e={};for(const n of s)e[n.getKey()]=new Bu({value:n.getValue(),updatedAt:G(n.getUpdatedAt()),isRemoved:n.isRemoved()});return e}function Fp(s){if(!s)return[];const e=[];return Ka(s,(n,i)=>{const a=new lp({id:Po(n.id),type:n.type,removedAt:G(n.removedAt),depth:i});n.isText&&(a.value=n.value),n.insPrevID&&(a.insPrevId=Po(n.insPrevID)),n.insNextID&&(a.insNextId=Po(n.insNextID)),n.attrs&&(a.attributes=rw(n.attrs)),e.push(a)}),e}function sw(s){const e=new lr;return e.body.case="jsonObject",e.body.value=new Qh({nodes:ZS(s.getRHT()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function jp(s){const e=new lr;return e.body.case="jsonArray",e.body.value=new Zh({nodes:ew(s.getElements()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function iw(s){const e=new lr;return e.body.case="primitive",e.body.value=new ep({type:Jp(s.getType()),value:s.toBytes(),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function ow(s){const e=new lr;return e.body.case="text",e.body.value=new tp({nodes:tw(s.getRGATreeSplit()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function aw(s){const e=new lr;return e.body.case="counter",e.body.value=new np({type:Up(s.getType()),value:s.toBytes(),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function zp(s){const e=new lr;return e.body.case="tree",e.body.value=new rp({nodes:Fp(s.getRoot()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function Ku(s){if(s instanceof vt)return sw(s);if(s instanceof At)return jp(s);if(s instanceof Pe)return iw(s);if(s instanceof en)return ow(s);if(s instanceof Ot)return aw(s);if(s instanceof tn)return zp(s);throw new me(de.Unimplemented,"unimplemented element")}function lw(s){return new Fh({documentKey:s.getDocumentKey(),checkpoint:KS(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:QS(s.getChanges()),snapshot:s.getSnapshot(),minSyncedTicket:G(s.getMinSyncedTicket())})}function Vp(s){let e;return s.serverSeq&&(e=ne.fromString(s.serverSeq,!0)),Xr.of(s.clientSeq,ne.fromString(s.lamport,!0),Qu(s.actorId),e)}function X(s){if(!!s)return ct.of(ne.fromString(s.lamport,!0),s.delimiter,Qu(s.actorId))}function Gu(s){const e={};return Object.entries(s.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function uw(s){const e=s.type;if(e===go.PUT){const n=Gu(s.presence);return{type:Wr.Put,presence:n}}if(e===go.CLEAR)return{type:Wr.Clear};throw new me(de.Unsupported,`unsupported type: ${e}`)}function cw(s){const e=new Map;return Object.entries(s).forEach(([n,i])=>{e.set(n,Gu(i))}),e}function qp(s){switch(s){case oe.NULL:return qe.Null;case oe.BOOLEAN:return qe.Boolean;case oe.INTEGER:return qe.Integer;case oe.LONG:return qe.Long;case oe.DOUBLE:return qe.Double;case oe.STRING:return qe.String;case oe.BYTES:return qe.Bytes;case oe.DATE:return qe.Date}throw new me(de.Unimplemented,`unimplemented value type: ${s}`)}function Qa(s){switch(s){case oe.INTEGER_CNT:return fr.IntegerCnt;case oe.LONG_CNT:return fr.LongCnt}throw new me(de.Unimplemented,`unimplemented value type: ${s}`)}function Hu(s){switch(s.type){case oe.JSON_OBJECT:return s.value?Zp(s.value):vt.create(X(s.createdAt));case oe.JSON_ARRAY:return s.value?kw(s.value):At.create(X(s.createdAt));case oe.TEXT:return en.create(gi.create(),X(s.createdAt));case oe.TREE:return Nw(s.value);case oe.NULL:case oe.BOOLEAN:case oe.INTEGER:case oe.LONG:case oe.DOUBLE:case oe.STRING:case oe.BYTES:case oe.DATE:return Pe.of(Pe.valueFromBytes(qp(s.type),s.value),X(s.createdAt));case oe.INTEGER_CNT:case oe.LONG_CNT:return Ot.create(Qa(s.type),Ot.valueFromBytes(Qa(s.type),s.value),X(s.createdAt))}}function Za(s){return vn.of(cr.of(X(s.createdAt),s.offset),s.relativeOffset)}function Yp(s){return cr.of(X(s.createdAt),s.offset)}function fw(s){const e=Eo.create(s.value);Object.entries(s.attributes).forEach(([i,a])=>{e.setAttr(i,a.value,X(a.updatedAt))});const n=Qr.create(Yp(s.id),e);return n.remove(X(s.removedAt)),n}function vi(s){return yn.of(Oo(s.parentId),Oo(s.leftSiblingId))}function Oo(s){return Ze.of(X(s.createdAt),s.offset)}function dw(s){if(!s.length)return;const e=[];return s.forEach(n=>{const i=Wp(n.content);e.push(i)}),e}function Wp(s){if(s.length===0)return;const e=[];for(const i of s)e.push(pw(i));const n=e[e.length-1];for(let i=e.length-2;i>=0;i--){let a;for(let u=i+1;u<e.length;u++)if(s[i].depth-1===s[u].depth){a=e[u];break}a.prepend(e[i])}return n.updateDescendantsSize(),tn.create(n,mn).getRoot()}function hw(s){const e=Ar.create();for(const[n,i]of Object.entries(s))e.setInternal(n,i.value,X(i.updatedAt),i.isRemoved);return e}function pw(s){const e=Oo(s.id),n=Pt.create(e,s.type),i=Object.entries(s.attributes);return n.isText?n.value=s.value:i.length&&(n.attrs=hw(s.attributes)),s.insPrevId&&(n.insPrevID=Oo(s.insPrevId)),s.insNextId&&(n.insNextID=Oo(s.insNextId)),n.removedAt=X(s.removedAt),n}function Kp(s){if(s.body.case==="set"){const e=s.body.value;return xs.create(e.key,Hu(e.value),X(e.parentCreatedAt),X(e.executedAt))}else if(s.body.case==="add"){const e=s.body.value;return ko.create(X(e.parentCreatedAt),X(e.prevCreatedAt),Hu(e.value),X(e.executedAt))}else if(s.body.case==="move"){const e=s.body.value;return Hr.create(X(e.parentCreatedAt),X(e.prevCreatedAt),X(e.createdAt),X(e.executedAt))}else if(s.body.case==="remove"){const e=s.body.value;return Gr.create(X(e.parentCreatedAt),X(e.createdAt),X(e.executedAt))}else if(s.body.case==="edit"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,X(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),No.create(X(e.parentCreatedAt),Za(e.from),Za(e.to),n,e.content,i,X(e.executedAt))}else if(s.body.case==="style"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,X(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),Io.create(X(e.parentCreatedAt),Za(e.from),Za(e.to),n,i,X(e.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const e=s.body.value;return yi.create(X(e.parentCreatedAt),Hu(e.value),X(e.executedAt))}else if(s.body.case==="treeEdit"){const e=s.body.value,n=new Map;return Object.entries(e.createdAtMapByActor).forEach(([i,a])=>{n.set(i,X(a))}),Ao.create(X(e.parentCreatedAt),vi(e.from),vi(e.to),dw(e.contents),e.splitLevel,n,X(e.executedAt))}else if(s.body.case==="treeStyle"){const e=s.body.value,n=new Map,i=e.attributesToRemove,a=new Map;return e!=null&&e.createdAtMapByActor&&Object.entries(e.createdAtMapByActor).forEach(([u,d])=>{a.set(u,X(d))}),(i==null?void 0:i.length)>0?Or.createTreeRemoveStyleOperation(X(e.parentCreatedAt),vi(e.from),vi(e.to),a,i,X(e.executedAt)):(Object.entries(e.attributes).forEach(([u,d])=>{n.set(u,d)}),Or.create(X(e.parentCreatedAt),vi(e.from),vi(e.to),a,n,X(e.executedAt)))}else throw new me(de.Unimplemented,"unimplemented operation")}}function mw(s){const e=[];for(const n of s){const i=Kp(n);i&&e.push(i)}return e}function Gp(s){const e=[];for(const n of s)e.push(Ds.create({id:Vp(n.id),operations:mw(n.operations),presenceChange:n.presenceChange?uw(n.presenceChange):void 0,message:n.message}));return e}function gw(s){return mi.of(ne.fromString(s.serverSeq,!0),s.clientSeq)}function yw(s){return Ga.create(s.documentKey,gw(s.checkpoint),s.isRemoved,Gp(s.changes),s.snapshot,X(s.minSyncedTicket))}function Hp(s){const e=new To;for(const i of s.nodes){const a=Xu(i.element);e.set(i.key,a,a.getPositionedAt())}const n=new vt(X(s.createdAt),e);return n.setMovedAt(X(s.movedAt)),n.setRemovedAt(X(s.removedAt)),n}function Xp(s){const e=new wo;for(const i of s.nodes)e.insert(Xu(i.element));const n=new At(X(s.createdAt),e);return n.setMovedAt(X(s.movedAt)),n.setRemovedAt(X(s.removedAt)),n}function vw(s){const e=Pe.of(Pe.valueFromBytes(qp(s.type),s.value),X(s.createdAt));return e.setMovedAt(X(s.movedAt)),e.setRemovedAt(X(s.removedAt)),e}function Tw(s){const e=new gi;let n=e.getHead();for(const a of s.nodes){const u=e.insertAfter(n,fw(a));a.insPrevId&&u.setInsPrev(e.findNode(Yp(a.insPrevId))),n=u}const i=new en(e,X(s.createdAt));return i.setMovedAt(X(s.movedAt)),i.setRemovedAt(X(s.removedAt)),i}function Sw(s){const e=Ot.create(Qa(s.type),Ot.valueFromBytes(Qa(s.type),s.value),X(s.createdAt));return e.setMovedAt(X(s.movedAt)),e.setRemovedAt(X(s.removedAt)),e}function Qp(s){const e=Wp(s.nodes);return tn.create(e,X(s.createdAt))}function Xu(s){if(s.body.case==="jsonObject")return Hp(s.body.value);if(s.body.case==="jsonArray")return Xp(s.body.value);if(s.body.case==="primitive")return vw(s.body.value);if(s.body.case==="text")return Tw(s.body.value);if(s.body.case==="counter")return Sw(s.body.value);if(s.body.case==="tree")return Qp(s.body.value);throw new me(de.Unimplemented,"unimplemented element")}function ww(s){if(!s)return{root:vt.create(mn),presences:new Map};const e=$h.fromBinary(s);return{root:Xu(e.root),presences:cw(e.presences)}}function Zp(s){if(!s)throw new Error("bytes is empty");const e=lr.fromBinary(s);return Hp(e.body.value)}function em(s){return Ku(s).toBinary()}function kw(s){if(!s)throw new Error("bytes is empty");const e=lr.fromBinary(s);return Xp(e.body.value)}function Ew(s){return jp(s).toBinary()}function Nw(s){if(!s)throw new Error("bytes is empty");const e=lr.fromBinary(s);return Qp(e.body.value)}function Iw(s){return zp(s).toBinary()}function tm(s){return s?Array.from(s).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Qu(s){return tm(s)}function nm(s){return new Uint8Array(s.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Zu(s){return nm(s)}function _w(s){const e=Va.fromBinary(s);return Vp(e)}function Aw(s){const e=Mu.fromBinary(s);return Kp(e)}const Fe={fromPresence:Gu,toChangePack:lw,fromChangePack:yw,fromChanges:Gp,objectToBytes:em,bytesToObject:Zp,bytesToSnapshot:ww,bytesToHex:tm,hexToBytes:nm,toHexString:Qu,toUint8Array:Zu,toOperation:$p,toChangeID:Bp,PbChangeID:Va,bytesToChangeID:_w,bytesToOperation:Aw};function rm(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16)})}class Pw{constructor(e,n,i,a){c(this,"reconnectStreamDelay"),c(this,"doc"),c(this,"docID"),c(this,"syncMode"),c(this,"remoteChangeEventReceived"),c(this,"watchStream"),c(this,"watchLoopTimerID"),c(this,"watchAbortController"),this.reconnectStreamDelay=e,this.doc=n,this.docID=i,this.syncMode=a,this.remoteChangeEventReceived=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Lo.RealtimeSyncOff?!1:this.syncMode===Lo.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Lo.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const ec=()=>{};class Ow{constructor(e){c(this,"finalized",!1),c(this,"observers",[]),c(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;e||M.fatal("missing observer"),this.finalized&&M.fatal("observable is finalized due to previous error"),typeof e=="object"?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ec),a.error===void 0&&(a.error=ec),a.complete===void 0&&(a.complete=ec);const u=rm(),d=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:a}),this.finalized)try{this.finalError?a.error(this.finalError):a.complete()}catch(h){M.warn(h)}return d}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){M.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function xw(s){const e=new Ow(s);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Ti{constructor(e,n,i,a){c(this,"id"),c(this,"delimiter"),c(this,"message"),c(this,"root"),c(this,"operations"),c(this,"presenceChange"),c(this,"previousPresence"),c(this,"reversePresenceKeys"),this.id=e,this.delimiter=ju,this.root=n,this.operations=[],this.previousPresence=pn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=a}static create(e,n,i,a){return new Ti(e,n,i,a)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getChange(){return Ds.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class xo{constructor(e){c(this,"rootObject"),c(this,"elementPairMapByCreatedAt"),c(this,"gcElementSetByCreatedAt"),c(this,"gcPairMap"),this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(e,void 0),e.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof en||n instanceof tn)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new xo(vt.create(mn))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!!n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const a=n.element.getCreatedAt(),u=n.parent.subPathOf(a);u===void 0&&M.fatal(`cant find the given element: ${a.toIDString()}`),i.unshift(u),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),e instanceof Kr&&e.getDescendants((i,a)=>(this.registerElement(i,a),!1))}deregisterElement(e){let n=0;const i=a=>{const u=a.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(u),this.gcElementSetByCreatedAt.delete(u),n++};return i(e),e instanceof Kr&&e.getDescendants(a=>(i(a),!1)),n}registerRemovedElement(e){this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const n of this.gcElementSetByCreatedAt){e.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Kr&&i.element.getDescendants(a=>(e.add(a.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new xo(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(i);a.element.getRemovedAt()&&e.compare(a.element.getRemovedAt())>=0&&(a.parent.purge(a.element),n+=this.deregisterElement(a.element))}for(const[,i]of this.gcPairMap){const a=i.child.getRemovedAt();a!==void 0&&e.compare(a)>=0&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function sm(s,e){const n=new Co(s);return new Proxy(e,n.getHandlers())}class Co{constructor(e){c(this,"context"),c(this,"handlers"),this.context=e,this.handlers={set:(n,i,a)=>(M.isEnabled(_t.Trivial)&&M.trivial(`obj[${i}]=${JSON.stringify(a)}`),Co.setInternal(e,n,i,a),!0),get:(n,i)=>(M.isEnabled(_t.Trivial)&&M.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Rs(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(M.isEnabled(_t.Trivial)&&M.trivial(`obj[${i}]`),Co.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,a){if(i.includes("."))throw new me(de.InvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),d=el(e,a,u),h=n.set(i,d,u);e.registerElement(d,n),h&&e.registerRemovedElement(h),e.push(xs.create(i,d.deepcopy(),n.getCreatedAt(),u))}static buildObjectMembers(e,n){const i={};for(const[a,u]of Object.entries(n)){if(a.includes("."))throw new me(de.InvalidObjectKey,"key must not contain the '.'.");const d=e.issueTimeTicket(),h=el(e,u,d);i[a]=h}return i}static deleteInternal(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByKey(i,a);!u||(e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function Cw(s,e){const n=new Le(s,e);return new Proxy(e,n.getHandlers())}function Dw(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function Rw(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Le{constructor(e,n){c(this,"context"),c(this,"handlers"),c(this,"array"),this.context=e,this.array=n,this.handlers={get:(i,a,u)=>a==="getID"?()=>i.getCreatedAt():a==="getElementByID"?d=>{const h=i.getByID(d);if(!(!h||h.isRemoved()))return Zr(e,h)}:a==="getElementByIndex"?d=>{const h=i.get(d);return Zr(e,h)}:a==="getLast"?()=>Zr(e,i.getLast()):a==="deleteByID"?d=>{const h=Le.deleteInternalByID(e,i,d);return Zr(e,h)}:a==="insertAfter"?(d,h)=>{const m=Le.insertAfterInternal(e,i,d,h);return Zr(e,m)}:a==="insertBefore"?(d,h)=>{const m=Le.insertBeforeInternal(e,i,d,h);return Zr(e,m)}:a==="moveBefore"?(d,h)=>{Le.moveBeforeInternal(e,i,d,h)}:a==="moveAfter"?(d,h)=>{Le.moveAfterInternal(e,i,d,h)}:a==="moveFront"?d=>{Le.moveFrontInternal(e,i,d)}:a==="moveLast"?d=>{Le.moveLastInternal(e,i,d)}:Dw(a)?Rs(e,i.get(Number(a))):a==="push"?d=>Le.pushInternal(e,i,d):a==="splice"?(d,h,...m)=>Le.splice(e,i,d,h,...m):a==="length"?i.length:typeof a=="symbol"&&a===Symbol.iterator?Le.iteratorInternal.bind(this,e,i):a==="includes"?(d,h)=>Le.includes(e,i,d,h):a==="indexOf"?(d,h)=>Le.indexOf(e,i,d,h):a==="lastIndexOf"?(d,h)=>Le.lastIndexOf(e,i,d,h):a==="toJSForTest"?()=>i.toJSForTest():a==="toTestString"?()=>Le.toTestString(i):typeof a=="string"&&Rw(a)?(...d)=>{const h=Array.from(i).map(m=>Rs(e,m));return Array.prototype[a].apply(h,d)}:Reflect.get(i,a,u),deleteProperty:(i,a)=>(M.isEnabled(_t.Trivial)&&M.trivial(`array[${a}]`),Le.deleteInternalByIndex(e,i,Number.parseInt(a)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield Zr(e,i)}static buildArrayElements(e,n){const i=[];for(const a of n){const u=e.issueTimeTicket(),d=el(e,a,u);i.push(d)}return i}static pushInternal(e,n,i){return Le.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,a){const u=e.issueTimeTicket(),d=n.getPrevCreatedAt(i);n.moveAfter(d,a,u),e.push(Hr.create(n.getCreatedAt(),d,a,u))}static moveAfterInternal(e,n,i,a){const u=e.issueTimeTicket();n.moveAfter(i,a,u),e.push(Hr.create(n.getCreatedAt(),i,a,u))}static moveFrontInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getHead();n.moveAfter(u.getCreatedAt(),i,a),e.push(Hr.create(n.getCreatedAt(),u.getCreatedAt(),i,a))}static moveLastInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getLastCreatedAt();n.moveAfter(u,i,a),e.push(Hr.create(n.getCreatedAt(),u,i,a))}static insertAfterInternal(e,n,i,a){const u=e.issueTimeTicket(),d=el(e,a,u);return n.insertAfter(i,d),e.registerElement(d,n),e.push(ko.create(n.getCreatedAt(),i,d.deepcopy(),u)),d}static insertBeforeInternal(e,n,i,a){return Le.insertAfterInternal(e,n,n.getPrevCreatedAt(i),a)}static deleteInternalByIndex(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByIndex(i,a);if(!!u)return e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static deleteInternalByID(e,n,i){const a=e.issueTimeTicket(),u=n.delete(i,a);return e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static splice(e,n,i,a,...u){const d=n.length,h=i>=0?Math.min(i,d):Math.max(d+i,0),m=a===void 0?d:a<0?h:Math.min(h+a,d),g=[];for(let T=h;T<m;T++){const O=Le.deleteInternalByIndex(e,n,h);if(O){const k=O.deepcopy();k.setRemovedAt(),g.push(Rs(e,k))}}if(u){let T=h===0?n.getHead().getID():n.get(h-1).getID();for(const O of u)T=Le.insertAfterInternal(e,n,T,O).getID()}return g}static includes(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return!1;if(Pe.isSupport(i))return Array.from(n).map(g=>Rs(e,g)).includes(i,h);for(let m=h;m<d;m++)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return-1;if(Pe.isSupport(i))return Array.from(n).map(g=>Rs(e,g)).indexOf(i,h);for(let m=h;m<d;m++)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return m;return-1}static lastIndexOf(e,n,i,a){var u;const d=n.length,h=a===void 0||a>=d?d-1:a<0?a+d:a;if(h<0)return-1;if(Pe.isSupport(i))return Array.from(n).map(g=>Rs(e,g)).lastIndexOf(i,h);for(let m=h;m>0;m--)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return m;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Do{constructor(e,n){c(this,"context"),c(this,"text"),this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,a){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}if(e>n){M.fatal("from should be less than or equal to to");return}const u=this.text.indexRangeToPosRange(e,n);M.isEnabled(_t.Debug)&&M.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${n}->${u[1].toTestString()} c:${i}`);const d=a?hi(a):void 0,h=this.context.issueTimeTicket(),[m,,g,T]=this.text.edit(u,i,h,d);for(const O of g)this.context.registerGCPair(O);return this.context.push(new No(this.text.getCreatedAt(),u[0],u[1],m,i,d?new Map(Object.entries(d)):new Map,h)),this.text.findIndexesFromRange(T)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)return M.fatal("it is not initialized yet"),!1;if(e>n)return M.fatal("from should be less than or equal to to"),!1;const a=this.text.indexRangeToPosRange(e,n);M.isEnabled(_t.Debug)&&M.debug(`STYL: f:${e}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} a:${JSON.stringify(i)}`);const u=hi(i),d=this.context.issueTimeTicket(),[h,m]=this.text.setStyle(a,u,d);for(const g of m)this.context.registerGCPair(g);return this.context.push(new Io(this.text.getCreatedAt(),a[0],a[1],h,new Map(Object.entries(u)),d)),!0}indexRangeToPosRange(e){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}const n=this.text.findIndexesFromRange([vn.fromStruct(e[0]),vn.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(M.fatal("it is not initialized yet"),""):this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text){M.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(e,n)}}class Ro{constructor(e,n){c(this,"valueType"),c(this,"value"),c(this,"context"),c(this,"counter"),this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter){M.fatal("it is not initialized yet");return}const n=this.context.issueTimeTicket(),i=Pe.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(yi.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function tc(s,e,n){const{type:i}=s,a=n.issueTimeTicket();if(i===Pr){im(s);const{value:u}=s,d=Pt.create(Ze.of(a,0),i,u);e.append(d)}else{const{children:u=[]}=s;let{attributes:d}=s,h;if(typeof d=="object"&&!Op(d)){d=hi(d),h=new Ar;for(const[g,T]of Object.entries(d))h.set(g,T,a)}const m=Pt.create(Ze.of(a,0),i,void 0,h);e.append(m);for(const g of u)tc(g,m,n)}}function bw(s,e){const{type:n}=e,i=s.issueTimeTicket();let a;if(e.type===Pr){const{value:u}=e;a=Pt.create(Ze.of(i,0),n,u)}else if(e){const{children:u=[]}=e;let{attributes:d}=e,h;if(typeof d=="object"&&!Op(d)){d=hi(d),h=new Ar;for(const[m,g]of Object.entries(d))h.set(m,g,i)}a=Pt.create(Ze.of(s.issueTimeTicket(),0),n,void 0,h);for(const m of u)tc(m,a,s)}return a}function im(s){if(!s.value.length)throw new Error("text node cannot have empty value");return!0}function om(s){if(!s.length)return!0;if(s[0].type===Pr)for(const n of s){const{type:i}=n;if(i!==Pr)throw new Error("element node and text node cannot be passed together");im(n)}else for(const n of s){const{type:i}=n;if(i===Pr)throw new Error("element node and text node cannot be passed together")}return!0}class bo{constructor(e){c(this,"initialRoot"),c(this,"context"),c(this,"tree"),this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Pt.create(Ze.of(e.issueTimeTicket(),0),LS);const n=Pt.create(Ze.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)tc(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(e,n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!e.length)throw new Error("path should not be empty");const[i,a]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),d=n?hi(n):void 0,[h]=this.tree.style([i,a],d,u);this.context.push(Or.create(this.tree.getCreatedAt(),i,a,h,d?new Map(Object.entries(d)):new Map,u))}style(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),h=i?hi(i):void 0,[m,g]=this.tree.style([a,u],h,d);for(const T of g)this.context.registerGCPair(T);this.context.push(Or.create(this.tree.getCreatedAt(),a,u,m,h?new Map(Object.entries(h)):new Map,d))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),[h,m]=this.tree.removeStyle([a,u],i,d);for(const g of m)this.context.registerGCPair(g);this.context.push(Or.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),a,u,h,i,d))}editInternal(e,n,i,a=0){var u;if(i.length!==0&&i[0]&&(om(i),i[0].type!==Pr))for(const T of i){const{children:O=[]}=T;om(O)}const d=this.context.getLastTimeTicket();let h=new Array;if(((u=i[0])==null?void 0:u.type)===Pr){let T="";for(const O of i){const{value:k}=O;T+=k}h.push(Pt.create(Ze.of(this.context.issueTimeTicket(),0),Pr,T))}else h=i.map(T=>T&&bw(this.context,T)).filter(T=>T);const[,m,g]=this.tree.edit([e,n],h.length?h.map(T=>T==null?void 0:T.deepcopy()):void 0,a,d,()=>this.context.issueTimeTicket());for(const T of m)this.context.registerGCPair(T);return this.context.push(Ao.create(this.tree.getCreatedAt(),e,n,h.length?h:void 0,a,g,d)),!0}editByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulkByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i,a)}edit(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulk(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i,a)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree){M.fatal("it is not initialized yet");return}const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree){M.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree){M.fatal("it is not initialized yet");return}const n=[yn.fromStruct(e[0]),yn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree){M.fatal("it is not initialized yet");return}const n=[yn.fromStruct(e[0]),yn.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function am(s,e){return sm(s,e)}function Zr(s,e){if(e){if(e instanceof Pe)return e;if(e instanceof vt)return sm(s,e);if(e instanceof At)return Cw(s,e);if(e instanceof en)return new Do(s,e);if(e instanceof Ot){const n=new Ro(fr.IntegerCnt,0);return n.initialize(s,e),n}else if(e instanceof tn){const n=new bo;return n.initialize(s,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function Rs(s,e){const n=Zr(s,e);return n instanceof Pe?n.getValue():n}function el(s,e,n){let i;if(Pe.isSupport(e))i=Pe.of(e,n);else if(Array.isArray(e))i=At.create(n,Le.buildArrayElements(s,e));else if(typeof e=="object")e instanceof Do?(i=en.create(gi.create(),n),e.initialize(s,i)):e instanceof Ro?(i=Ot.create(e.getValueType(),e.getValue(),n),e.initialize(s,i)):e instanceof bo?(i=tn.create(e.buildRoot(s),n),e.initialize(s,i)):i=vt.create(n,Co.buildObjectMembers(s,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}const lm=50;class Lw{constructor(){c(this,"undoStack",[]),c(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=lm&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=lm&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const um="yorkie-devtools-panel",cm="yorkie-devtools-sdk";let Si="disconnected";const fm=new Map,tl=new Map;typeof window<"u"&&(window.transactionEventsByDocKey=tl);function nl(s,e){!((e==null?void 0:e.force)||Si!=="disconnected")||window.postMessage({source:cm,...s},"*")}function Mw(s){if(!s.isEnableDevtools()||typeof window>"u"||fm.has(s.getKey()))return;tl.set(s.getKey(),[]);const e=s.subscribe("all",n=>{n.some(i=>i.type!==ft.StatusChanged&&i.type!==ft.Snapshot&&i.type!==ft.LocalChange&&i.type!==ft.RemoteChange&&i.type!==ft.Initialized&&i.type!==ft.Watched&&i.type!==ft.Unwatched&&i.type!==ft.PresenceChanged)||(tl.get(s.getKey()).push(n),Si==="synced"&&nl({msg:"doc::sync::partial",docKey:s.getKey(),event:n}))});fm.set(s.getKey(),[e]),nl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var i;if(((i=n.data)==null?void 0:i.source)!==um)return;switch(n.data.msg){case"devtools::connect":if(Si!=="disconnected")break;Si="connected",nl({msg:"doc::available",docKey:s.getKey()}),M.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Si="disconnected",M.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Si="synced",nl({msg:"doc::sync::full",docKey:s.getKey(),events:tl.get(s.getKey())}),M.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var es=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(es||{}),ft=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s))(ft||{}),rl=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(rl||{}),sl=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(sl||{});class nc{constructor(e,n){c(this,"key"),c(this,"status"),c(this,"opts"),c(this,"changeID"),c(this,"checkpoint"),c(this,"localChanges"),c(this,"root"),c(this,"clone"),c(this,"eventStream"),c(this,"eventStreamObserver"),c(this,"onlineClients"),c(this,"presences"),c(this,"history"),c(this,"internalHistory"),c(this,"isUpdating"),this.opts=n||{},this.key=e,this.status="detached",this.root=xo.create(),this.changeID=zS,this.checkpoint=VS,this.localChanges=[],this.eventStream=xw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Lw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Mw(this)}update(e,n){if(this.getStatus()==="removed")throw new me(de.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),a=Ti.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const u=am(a,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(u,new Fu(a,this.clone.presences.get(i)))}catch(u){throw this.clone=void 0,M.error(u),u}finally{this.isUpdating=!1}if(a.hasChange()){M.isEnabled(_t.Trivial)&&M.trivial(`trying to update a local change: ${this.toJSON()}`);const u=a.getChange(),{opInfos:d,reverseOps:h}=u.execute(this.root,this.presences,we.Local),m=a.getReversePresence();m&&h.push({type:"presence",value:m}),this.localChanges.push(u),h.length>0&&this.internalHistory.pushUndo(h),d.length>0&&this.internalHistory.clearRedo(),this.changeID=u.getID();const g=[];d.length>0&&g.push({type:"local-change",source:we.Local,value:{message:u.getMessage()||"",operations:d,actor:i,clientSeq:u.getID().getClientSeq(),serverSeq:u.getID().getServerSeq()},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&g.push({type:"presence-changed",source:we.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(g),M.isEnabled(_t.Trivial)&&M.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,a){if(typeof e=="string"){if(typeof n!="function")throw new Error("Second argument must be a callback function");if(e==="presence"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||h(g)},i,a)}if(e==="my-presence"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="initialized"&&g.type!=="presence-changed"||g.type==="presence-changed"&&g.value.clientID!==this.changeID.getActorID()||h(g)},i,a)}if(e==="others"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.value.clientID!==this.changeID.getActorID()&&h(g)},i,a)}if(e==="connection"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type==="connection-changed"&&h(g)},i,a)}if(e==="sync"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type==="sync-status-changed"&&h(g)},i,a)}if(e==="all"){const h=n;return this.eventStream.subscribe(h,i,a)}const u=e,d=n;return this.eventStream.subscribe(h=>{for(const m of h){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const g=[];for(const T of m.value.operations)this.isSameElementOrChildOf(T.path,u)&&g.push(T);g.length&&d({...m,value:{...m.value,operations:g}})}},i,a)}if(typeof e=="function"){const u=e,d=n,h=i;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="snapshot"&&g.type!=="local-change"&&g.type!=="remote-change"||u(g)},d,h)}throw new Error(`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((u,d)=>u===i[d])}applyChangePack(e){for(e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getSnapshot()):e.hasChanges()&&this.applyChanges(e.getChanges(),we.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),this.garbageCollect(e.getMinSyncedTicket()),e.getIsRemoved()&&this.applyStatus("removed"),M.isEnabled(_t.Trivial)&&M.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:pn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Ga.create(this.key,n,!1,e)}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(!!this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Ti.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return am(e,this.clone.root.getObject())}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n){const{root:i,presences:a}=Fe.bytesToSnapshot(n);this.root=new xo(i),this.presences=a,this.changeID=this.changeID.syncLamport(e),this.clone=void 0,this.publish([{type:"snapshot",source:we.Remote,value:{snapshot:this.isEnableDevtools()?Fe.bytesToHex(n):void 0,serverSeq:e.toString()}}])}applyChanges(e,n){M.isEnabled(_t.Debug)&&M.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),M.isEnabled(_t.Trivial)&&M.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);M.isEnabled(_t.Debug)&&M.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,n){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],a=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(a)){const d=e.getPresenceChange();switch(d.type){case Wr.Put:i.push(this.presences.has(a)?{type:"presence-changed",source:n,value:{clientID:a,presence:d.presence}}:{type:"watched",source:we.Remote,value:{clientID:a,presence:d.presence}});break;case Wr.Clear:i.push({type:"unwatched",source:we.Remote,value:{clientID:a,presence:this.getPresence(a)}}),this.removeOnlineClient(a);break}}const{opInfos:u}=e.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncLamport(e.getID().getLamport()),u.length>0){const d=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===we.Remote?{type:"remote-change",source:n,value:{actor:a,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:d}:{type:"local-change",source:n,value:{actor:a,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:d})}i.length>0&&this.publish(i)}applyWatchStream(e){if(e.body.case==="initialization"){const n=e.body.value.clientIds,i=new Set;for(const a of n)a!==this.changeID.getActorID()&&i.add(a);this.setOnlineClients(i),this.publish([{type:"initialized",source:we.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:n,publisher:i}=e.body.value,a=[];if(n===za.DOCUMENT_WATCHED)this.addOnlineClient(i),this.hasPresence(i)&&a.push({type:"watched",source:we.Remote,value:{clientID:i,presence:this.getPresence(i)}});else if(n===za.DOCUMENT_UNWATCHED){const u=this.getPresence(i);this.removeOnlineClient(i),u&&a.push({type:"unwatched",source:we.Remote,value:{clientID:i,presence:u}})}a.length>0&&this.publish(a)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(Ya),this.publish([{source:e==="removed"?we.Remote:we.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEvent(e){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);return}if(e.type==="snapshot"){const{snapshot:n,serverSeq:i}=e.value;if(!n)return;this.applySnapshot(ne.fromString(i),Fe.hexToBytes(n));return}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)return;const n=Ds.fromStruct(e.rawChange);this.applyChange(n,e.source)}if(e.type==="initialized"){const n=new Set;for(const{clientID:i,presence:a}of e.value)n.add(i),this.presences.set(i,a);this.setOnlineClients(n);return}if(e.type==="watched"){const{clientID:n,presence:i}=e.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(e.type==="unwatched"){const{clientID:n}=e.value;this.removeOnlineClient(n),this.presences.delete(n)}if(e.type==="presence-changed"){const{clientID:n,presence:i}=e.value;this.presences.set(n,i)}}applyTransactionEvent(e){for(const n of e)this.applyDocEvent(n)}getValueByPath(e){if(!e.startsWith("$"))throw new me(de.InvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const a of n)if(i=i[a],i===void 0)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?pn(e):{}}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?pn(n):void 0}getPresenceForTest(e){const n=this.presences.get(e);return n?pn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:pn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:pn(this.presences.get(n))});return e}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const e=this.internalHistory.popUndo();if(e===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const n=Ti.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof gn)){new Fu(n,pn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushRedo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),m=[];a.length>0&&m.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&m.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(m)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const e=this.internalHistory.popRedo();if(e===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const n=Ti.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof gn)){new Fu(n,pn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushUndo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),m=[];a.length>0&&m.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&m.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(m)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function Bw(s,e){return n=>async i=>(s&&i.header.set("x-api-key",s),e&&i.header.set("authorization",e),await n(i))}const dm={name:"yorkie-js-sdk",version:"0.4.22",description:"Yorkie JS SDK",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts",files:["dist"],scripts:{build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:examples":"npm run build --workspace examples","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",lint:"eslint . --fix --max-warnings=0 --ext .ts",prepare:"npm run build"},engines:{node:">=18.0.0",npm:">=7.1.0"},repository:{type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},author:{name:"hackerwins",email:"susukang98@gmail.com"},license:"Apache-2.0",bugs:{url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},homepage:"https://github.com/yorkie-team/yorkie-js-sdk#readme",devDependencies:{"@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.2.0","@types/google-protobuf":"^3.15.5","@types/jsdom":"^21.1.3","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5",eslint:"^8.19.0","eslint-plugin-jsdoc":"^39.3.3","eslint-plugin-prettier":"^4.2.1","eslint-plugin-tsdoc":"^0.2.16",husky:"^8.0.3",jsdom:"^22.1.0",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^4.7.4","typescript-transform-paths":"^3.3.1",vite:"^4.4.9","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.2.1",vitest:"^0.34.5","vitest-environment-custom-jsdom":"file:test/vitest/env"},dependencies:{"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.2.0","@connectrpc/connect-web":"^1.2.0",long:"^5.2.0"},husky:{hooks:{"pre-commit":"npm run lint"}},workspaces:["examples/*"]};function Jw(){return s=>async e=>(e.header.set("x-yorkie-user-agent",dm.name+"/"+dm.version),await s(e))}var Lo=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Lo||{}),hm=(s=>(s.Deactivated="deactivated",s.Activated="activated",s))(hm||{});const il={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class rc{constructor(e,n){c(this,"id"),c(this,"key"),c(this,"status"),c(this,"attachmentMap"),c(this,"apiKey"),c(this,"syncLoopDuration"),c(this,"reconnectStreamDelay"),c(this,"retrySyncLoopDelay"),c(this,"rpcClient"),n=n||il,this.key=n.key?n.key:rm(),this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.syncLoopDuration=n.syncLoopDuration||il.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay||il.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay||il.retrySyncLoopDelay,this.rpcClient=V0(PS,hT({baseUrl:e,interceptors:[Bw(n.apiKey,n.token),Jw()]}))}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(e=>{this.id=e.clientId,this.status="activated",this.runSyncLoop(),M.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(e=>{throw M.error(`[AC] c:"${this.getKey()}" err :`,e),e})}deactivate(){if(this.status==="deactivated")return Promise.resolve();for(const[e]of this.attachmentMap)this.detachInternal(e);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status="deactivated",M.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(e=>{throw M.error(`[DC] c:"${this.getKey()}" err :`,e),e})}attach(e,n={}){var a;if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);if(e.getStatus()!==es.Detached)throw new me(de.DocumentNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((u,d)=>d.set(n.initialPresence||{}));const i=(a=n.syncMode)!=null?a:"realtime";return this.rpcClient.attachDocument({clientId:this.id,changePack:Fe.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(async u=>{const d=Fe.fromChangePack(u.changePack);return e.applyChangePack(d),e.getStatus()===es.Removed||(e.applyStatus(es.Attached),this.attachmentMap.set(e.getKey(),new Pw(this.reconnectStreamDelay,e,u.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),M.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`)),e}).catch(u=>{throw M.error(`[AD] c:"${this.getKey()}" err :`,u),u})}detach(e,n={}){var a;if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);return e.update((u,d)=>d.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Fe.toChangePack(e.createChangePack()),removeIfNotAttached:(a=n.removeIfNotAttached)!=null?a:!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(u=>{const d=Fe.fromChangePack(u.changePack);return e.applyChangePack(d),e.getStatus()!==es.Removed&&e.applyStatus(es.Detached),this.detachInternal(e.getKey()),M.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}).catch(u=>{throw M.error(`[DD] c:"${this.getKey()}" err :`,u),u})}async changeSyncMode(e,n){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);const a=i.syncMode;return a===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.remoteChangeEventReceived=!0),a==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const n=[];if(e){const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);n.push(this.syncInternal(i,"realtime"))}else this.attachmentMap.forEach(i=>{n.push(this.syncInternal(i,i.syncMode))});return Promise.all(n)}remove(e){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=Fe.toChangePack(e.createChangePack());return i.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=Fe.fromChangePack(a.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),M.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}).catch(a=>{throw M.error(`[RD] c:"${this.getKey()}" err :`,a),a})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}runSyncLoop(){const e=()=>{if(!this.isActive()){M.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode)));Promise.all(n).then(()=>setTimeout(e,this.syncLoopDuration)).catch(i=>{M.error(`[SL] c:"${this.getKey()}" sync failed:`,i),setTimeout(e,this.retrySyncLoopDelay)})};M.debug(`[SL] c:"${this.getKey()}" run sync loop`),e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new me(de.DocumentNotAttached,`${e} is not attached`);return n.runWatchLoop(i=>{if(!this.isActive())return Promise.reject(new me(de.ClientNotActive,`${this.key} is not active`));const a=new AbortController,u=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:a.signal});return n.doc.publish([{type:ft.ConnectionChanged,value:rl.Connected}]),M.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),new Promise((d,h)=>{(async()=>{try{for await(const g of u)this.handleWatchDocumentsResponse(n,g),g.body.case==="initialization"&&d([u,a])}catch(g){n.doc.resetOnlineClients(),n.doc.publish([{type:ft.Initialized,source:we.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:ft.ConnectionChanged,value:rl.Disconnected}]),M.debug(`[WD] c:"${this.getKey()}" unwatches`),g instanceof Ve&&g.code!=p.Canceled&&i(),h(g)}})()})})}handleWatchDocumentsResponse(e,n){if(n.body.case==="event"&&n.body.value.type===za.DOCUMENT_CHANGED){e.remoteChangeEventReceived=!0;return}e.doc.applyWatchStream(n)}detachInternal(e){const n=this.attachmentMap.get(e);!n||(n.cancelWatchStream(),M.debug(`[WD] c:"${this.getKey()}" unwatches`),this.attachmentMap.delete(e))}syncInternal(e,n){const{doc:i,docID:a}=e,u=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:Fe.toChangePack(u),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(d=>{const h=Fe.fromChangePack(d.changePack);if(h.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return i;i.applyChangePack(h),e.doc.publish([{type:ft.SyncStatusChanged,value:sl.Synced}]),i.getStatus()===es.Removed&&this.detachInternal(i.getKey());const m=i.getKey(),g=h.getChangeSize();return M.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${u.getChangeSize()} pull:${g} cp:${h.getCheckpoint().toTestString()}`),i}).catch(d=>{throw i.publish([{type:ft.SyncStatusChanged,value:sl.SyncFailed}]),M.error(`[PP] c:"${this.getKey()}" err :`,d),d})}}const Uw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),$w={Client:rc,Document:nc,Primitive:Pe,Text:Do,Counter:Ro,Tree:bo,IntType:fr.IntegerCnt,LongType:fr.LongCnt};typeof globalThis<"u"&&(globalThis.yorkie={Client:rc,Document:nc,Primitive:Pe,Text:Do,Counter:Ro,Tree:bo,IntType:fr.IntegerCnt,LongType:fr.LongCnt}),o.Change=Ds,o.Client=rc,o.ClientStatus=hm,o.Counter=Ro,o.Devtools=Uw,o.DocEventType=ft,o.Document=nc,o.DocumentStatus=es,o.DocumentSyncStatus=sl,o.EventSourceDevPanel=um,o.EventSourceSDK=cm,o.OpSource=we,o.Primitive=Pe,o.StreamConnectionStatus=rl,o.SyncMode=Lo,o.Text=Do,o.TimeTicket=ct,o.Tree=bo,o.converter=Fe,o.default=$w,o.setLogLevel=RS,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(Nf,Nf.exports);const Eg=Vw(Nf.exports);var Rv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function o(){for(var l=[],f=0;f<arguments.length;f++){var c=arguments[f];if(!!c){var p=typeof c;if(p==="string"||p==="number")l.push(c);else if(Array.isArray(c)){if(c.length){var y=o.apply(null,c);y&&l.push(y)}}else if(p==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){l.push(c.toString());continue}for(var v in c)r.call(c,v)&&c[v]&&l.push(v)}}}return l.join(" ")}t.exports?(o.default=o,t.exports=o):window.classNames=o})()})(Rv);const Td=Rv.exports;var Sd={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=br.exports,uE=Symbol.for("react.element"),cE=Symbol.for("react.fragment"),fE=Object.prototype.hasOwnProperty,dE=lE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hE={key:!0,ref:!0,__self:!0,__source:!0};function bv(t,r,o){var l,f={},c=null,p=null;o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(p=r.ref);for(l in r)fE.call(r,l)&&!hE.hasOwnProperty(l)&&(f[l]=r[l]);if(t&&t.defaultProps)for(l in r=t.defaultProps,r)f[l]===void 0&&(f[l]=r[l]);return{$$typeof:uE,type:t,key:c,ref:p,props:f,_owner:dE.current}}Su.Fragment=cE;Su.jsx=bv;Su.jsxs=bv;(function(t){t.exports=Su})(Sd);const ze=Sd.exports.jsx,Wi=Sd.exports.jsxs;function Lv(t){const[r,o]=br.exports.useState(t.text||"");return ze("input",{className:Td({edit:t.editing,"new-todo":t.newTodo}),type:"text",placeholder:t.placeholder,value:r,onBlur:l=>{t.newTodo||t.onSave(l.target.value)},onChange:l=>{o(l.target.value)},onKeyDown:l=>{const f=l.target;l.which===13&&(t.onSave(f.value.trim()),t.newTodo&&o(""))}})}function pE(t){return Wi("header",{className:"header",children:[ze("h1",{children:"todos"}),ze(Lv,{newTodo:!0,onSave:r=>{r.length!==0&&t.addTodo(r)},placeholder:"What needs to be done?"})]})}function mE(t){const[r,o]=br.exports.useState(!1),{todo:l,completeTodo:f,editTodo:c,deleteTodo:p}=t;return ze("li",{className:Td({completed:l.completed,editing:r}),children:r?ze(Lv,{text:l.text,editing:r,onSave:y=>{y.length===0?p(l.id):c(l.id,y),o(!1)}}):Wi("div",{className:"view",children:[ze("input",{id:`item-input-${l.id}`,className:"toggle",type:"checkbox",checked:l.completed,onChange:()=>f(l.id)}),ze("label",{htmlFor:`item-input-${l.id}`,onDoubleClick:()=>o(!0),children:l.text}),ze("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>p(l.id)})]})})}const gE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function yE(t){const{activeCount:r,completedCount:o,filter:l,onClearCompleted:f,onShow:c}=t;return Wi("footer",{className:"footer",children:[Wi("span",{className:"todo-count",children:[ze("strong",{children:r||"No"}),"\xA0",r===1?"item":"items"," left"]}),ze("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(p=>ze("li",{children:ze("button",{type:"button",className:Td({selected:p===l}),style:{cursor:"pointer"},onClick:()=>c(p),children:gE[p]})},p))}),!!o&&ze("button",{type:"button",className:"clear-completed",onClick:f,children:"Clear completed"})]})}const vE={SHOW_ALL:t=>!0,SHOW_ACTIVE:t=>!t.completed,SHOW_COMPLETED:t=>t.completed};function TE(t){const[r,o]=br.exports.useState("SHOW_ALL"),{todos:l,actions:f}=t,c=l.filter(vE[r]),p=l.reduce((v,N)=>N.completed?v+1:v,0),y=l.length-p;return l.length===0?null:Wi("section",{className:"main",children:[ze("input",{className:"toggle-all",type:"checkbox",defaultChecked:p===l.length,onChange:f.completeAll}),ze("ul",{className:"todo-list",children:c.map(v=>ze(mE,{todo:v,editTodo:f.editTodo,deleteTodo:f.deleteTodo,completeTodo:f.completeTodo},v.id))}),ze(yE,{completedCount:p,activeCount:y,filter:r,onClearCompleted:()=>f.clearCompleted(),onShow:o})]})}const SE=[{id:0,text:"Yorkie JS SDK",completed:!1},{id:1,text:"Garbage collection",completed:!1},{id:2,text:"RichText datatype",completed:!1}];function wE(){const[t]=br.exports.useState(()=>new Eg.Document(`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`)),[r,o]=br.exports.useState([]),l={addTodo:f=>{t==null||t.update(c=>{c.todos.push({id:c.todos.reduce((p,y)=>Math.max(y.id,p),-1)+1,completed:!1,text:f})})},deleteTodo:f=>{t==null||t.update(c=>{let p;for(const y of c.todos)if(y.id===f){p=y;break}p&&c.todos.deleteByID(p.getID())})},editTodo:(f,c)=>{t==null||t.update(p=>{let y;for(const v of p.todos)if(v.id===f){y=v;break}y&&(y.text=c)})},completeTodo:f=>{t==null||t.update(c=>{let p;for(const y of c.todos)if(y.id===f){p=y;break}p&&(p.completed=!p.completed)})},clearCompleted:()=>{t==null||t.update(f=>{for(const c of f.todos)if(c.completed){const p=c;f.todos.deleteByID(p.getID())}},"")}};return br.exports.useEffect(()=>{const f=new Eg.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"});async function c(p,y){await f.activate(),await f.attach(p),p.update(v=>{v.todos||(v.todos=SE)},"create default todos if not exists"),p.subscribe(v=>{y(p.getRoot().todos)}),y(p.getRoot().todos)}c(t,p=>{o(p)})},[]),Wi("div",{className:"App",children:[ze(pE,{addTodo:l.addTodo}),ze(TE,{todos:r,actions:l})]})}xc.createRoot(document.getElementById("root")).render(ze(wE,{}));
