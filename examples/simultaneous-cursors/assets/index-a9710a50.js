(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerPolicy&&(c.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?c.credentials="include":f.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(f){if(f.ep)return;f.ep=!0;const c=o(f);fetch(f.href,c)}})();var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ng={exports:{}},iu={},Ig={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),qw=Symbol.for("react.portal"),Yw=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Qw=Symbol.for("react.suspense"),Zw=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),pm=Symbol.iterator;function t1(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var _g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Pg={};function Wi(t,r,o){this.props=t,this.context=r,this.refs=Pg,this.updater=o||_g}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xg(){}xg.prototype=Wi.prototype;function Af(t,r,o){this.props=t,this.context=r,this.refs=Pg,this.updater=o||_g}var Pf=Af.prototype=new xg;Pf.constructor=Af;Ag(Pf,Wi.prototype);Pf.isPureReactComponent=!0;var mm=Array.isArray,Og=Object.prototype.hasOwnProperty,xf={current:null},Cg={key:!0,ref:!0,__self:!0,__source:!0};function Dg(t,r,o){var l,f={},c=null,p=null;if(r!=null)for(l in r.ref!==void 0&&(p=r.ref),r.key!==void 0&&(c=""+r.key),r)Og.call(r,l)&&!Cg.hasOwnProperty(l)&&(f[l]=r[l]);var y=arguments.length-2;if(y===1)f.children=o;else if(1<y){for(var v=Array(y),N=0;N<y;N++)v[N]=arguments[N+2];f.children=v}if(t&&t.defaultProps)for(l in y=t.defaultProps,y)f[l]===void 0&&(f[l]=y[l]);return{$$typeof:ka,type:t,key:c,ref:p,props:f,_owner:xf.current}}function n1(t,r){return{$$typeof:ka,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function r1(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return r[o]})}var gm=/\/+/g;function sc(t,r){return typeof t=="object"&&t!==null&&t.key!=null?r1(""+t.key):r.toString(36)}function El(t,r,o,l,f){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(c){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case ka:case qw:p=!0}}if(p)return p=t,f=f(p),t=l===""?"."+sc(p,0):l,mm(f)?(o="",t!=null&&(o=t.replace(gm,"$&/")+"/"),El(f,r,o,"",function(N){return N})):f!=null&&(Of(f)&&(f=n1(f,o+(!f.key||p&&p.key===f.key?"":(""+f.key).replace(gm,"$&/")+"/")+t)),r.push(f)),1;if(p=0,l=l===""?".":l+":",mm(t))for(var y=0;y<t.length;y++){c=t[y];var v=l+sc(c,y);p+=El(c,r,o,v,f)}else if(v=t1(t),typeof v=="function")for(t=v.call(t),y=0;!(c=t.next()).done;)c=c.value,v=l+sc(c,y++),p+=El(c,r,o,v,f);else if(c==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return p}function ol(t,r,o){if(t==null)return t;var l=[],f=0;return El(t,l,"","",function(c){return r.call(o,c,f++)}),l}function s1(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Nl={transition:null},i1={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:xf};ce.Children={map:ol,forEach:function(t,r,o){ol(t,function(){r.apply(this,arguments)},o)},count:function(t){var r=0;return ol(t,function(){r++}),r},toArray:function(t){return ol(t,function(r){return r})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Wi;ce.Fragment=Yw;ce.Profiler=Ww;ce.PureComponent=Af;ce.StrictMode=Kw;ce.Suspense=Qw;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;ce.cloneElement=function(t,r,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=Ag({},t.props),f=t.key,c=t.ref,p=t._owner;if(r!=null){if(r.ref!==void 0&&(c=r.ref,p=xf.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var y=t.type.defaultProps;for(v in r)Og.call(r,v)&&!Cg.hasOwnProperty(v)&&(l[v]=r[v]===void 0&&y!==void 0?y[v]:r[v])}var v=arguments.length-2;if(v===1)l.children=o;else if(1<v){y=Array(v);for(var N=0;N<v;N++)y[N]=arguments[N+2];l.children=y}return{$$typeof:ka,type:t.type,key:f,ref:c,props:l,_owner:p}};ce.createContext=function(t){return t={$$typeof:Hw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gw,_context:t},t.Consumer=t};ce.createElement=Dg;ce.createFactory=function(t){var r=Dg.bind(null,t);return r.type=t,r};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:Xw,render:t}};ce.isValidElement=Of;ce.lazy=function(t){return{$$typeof:e1,_payload:{_status:-1,_result:t},_init:s1}};ce.memo=function(t,r){return{$$typeof:Zw,type:t,compare:r===void 0?null:r}};ce.startTransition=function(t){var r=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=r}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,r){return pt.current.useCallback(t,r)};ce.useContext=function(t){return pt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};ce.useEffect=function(t,r){return pt.current.useEffect(t,r)};ce.useId=function(){return pt.current.useId()};ce.useImperativeHandle=function(t,r,o){return pt.current.useImperativeHandle(t,r,o)};ce.useInsertionEffect=function(t,r){return pt.current.useInsertionEffect(t,r)};ce.useLayoutEffect=function(t,r){return pt.current.useLayoutEffect(t,r)};ce.useMemo=function(t,r){return pt.current.useMemo(t,r)};ce.useReducer=function(t,r,o){return pt.current.useReducer(t,r,o)};ce.useRef=function(t){return pt.current.useRef(t)};ce.useState=function(t){return pt.current.useState(t)};ce.useSyncExternalStore=function(t,r,o){return pt.current.useSyncExternalStore(t,r,o)};ce.useTransition=function(){return pt.current.useTransition()};ce.version="18.2.0";Ig.exports=ce;var St=Ig.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=St,a1=Symbol.for("react.element"),l1=Symbol.for("react.fragment"),u1=Object.prototype.hasOwnProperty,c1=o1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f1={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,r,o){var l,f={},c=null,p=null;o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(p=r.ref);for(l in r)u1.call(r,l)&&!f1.hasOwnProperty(l)&&(f[l]=r[l]);if(t&&t.defaultProps)for(l in r=t.defaultProps,r)f[l]===void 0&&(f[l]=r[l]);return{$$typeof:a1,type:t,key:c,ref:p,props:f,_owner:c1.current}}iu.Fragment=l1;iu.jsx=Rg;iu.jsxs=Rg;Ng.exports=iu;var Me=Ng.exports,Dc={},bg={exports:{}},Lt={},Lg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(z,re){var se=z.length;z.push(re);e:for(;0<se;){var Ae=se-1>>>1,Ue=z[Ae];if(0<f(Ue,re))z[Ae]=re,z[se]=Ue,se=Ae;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var re=z[0],se=z.pop();if(se!==re){z[0]=se;e:for(var Ae=0,Ue=z.length,Qs=Ue>>>1;Ae<Qs;){var fe=2*(Ae+1)-1,ge=z[fe],Pn=fe+1,Fr=z[Pn];if(0>f(ge,se))Pn<Ue&&0>f(Fr,ge)?(z[Ae]=Fr,z[Pn]=se,Ae=Pn):(z[Ae]=ge,z[fe]=se,Ae=fe);else if(Pn<Ue&&0>f(Fr,se))z[Ae]=Fr,z[Pn]=se,Ae=Pn;else break e}}return re}function f(z,re){var se=z.sortIndex-re.sortIndex;return se!==0?se:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var p=Date,y=p.now();t.unstable_now=function(){return p.now()-y}}var v=[],N=[],R=1,D=null,C=3,$=!1,F=!1,j=!1,ye=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var re=o(N);re!==null;){if(re.callback===null)l(N);else if(re.startTime<=z)l(N),re.sortIndex=re.expirationTime,r(v,re);else break;re=o(N)}}function L(z){if(j=!1,_(z),!F)if(o(v)!==null)F=!0,Xs(V);else{var re=o(N);re!==null&&Qi(L,re.startTime-z)}}function V(z,re){F=!1,j&&(j=!1,I(Q),Q=-1),$=!0;var se=C;try{for(_(re),D=o(v);D!==null&&(!(D.expirationTime>re)||z&&!It());){var Ae=D.callback;if(typeof Ae=="function"){D.callback=null,C=D.priorityLevel;var Ue=Ae(D.expirationTime<=re);re=t.unstable_now(),typeof Ue=="function"?D.callback=Ue:D===o(v)&&l(v),_(re)}else l(v);D=o(v)}if(D!==null)var Qs=!0;else{var fe=o(N);fe!==null&&Qi(L,fe.startTime-re),Qs=!1}return Qs}finally{D=null,C=se,$=!1}}var O=!1,W=null,Q=-1,w=5,ee=-1;function It(){return!(t.unstable_now()-ee<w)}function vr(){if(W!==null){var z=t.unstable_now();ee=z;var re=!0;try{re=W(!0,z)}finally{re?An():(O=!1,W=null)}}else O=!1}var An;if(typeof S=="function")An=function(){S(vr)};else if(typeof MessageChannel<"u"){var Xi=new MessageChannel,wu=Xi.port2;Xi.port1.onmessage=vr,An=function(){wu.postMessage(null)}}else An=function(){ye(vr,0)};function Xs(z){W=z,O||(O=!0,An())}function Qi(z,re){Q=ye(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){F||$||(F=!0,Xs(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(v)},t.unstable_next=function(z){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var se=C;C=re;try{return z()}finally{C=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=C;C=z;try{return re()}finally{C=se}},t.unstable_scheduleCallback=function(z,re,se){var Ae=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=se+Ue,z={id:R++,callback:re,priorityLevel:z,startTime:se,expirationTime:Ue,sortIndex:-1},se>Ae?(z.sortIndex=se,r(N,z),o(v)===null&&z===o(N)&&(j?(I(Q),Q=-1):j=!0,Qi(L,se-Ae))):(z.sortIndex=Ue,r(v,z),F||$||(F=!0,Xs(V))),z},t.unstable_shouldYield=It,t.unstable_wrapCallback=function(z){var re=C;return function(){var se=C;C=re;try{return z.apply(this,arguments)}finally{C=se}}}})(Bg);Lg.exports=Bg;var d1=Lg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=St,bt=d1;function M(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,ia={};function Gs(t,r){Fi(t,r),Fi(t+"Capture",r)}function Fi(t,r){for(ia[t]=r,t=0;t<r.length;t++)Jg.add(r[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,h1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},vm={};function p1(t){return Rc.call(vm,t)?!0:Rc.call(ym,t)?!1:h1.test(t)?vm[t]=!0:(ym[t]=!0,!1)}function m1(t,r,o,l){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g1(t,r,o,l){if(r===null||typeof r>"u"||m1(t,r,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function mt(t,r,o,l,f,c,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=c,this.removeEmptyString=p}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];nt[r]=new mt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cf=/[\-:]([a-z])/g;function Df(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Cf,Df);nt[r]=new mt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Cf,Df);nt[r]=new mt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Cf,Df);nt[r]=new mt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rf(t,r,o,l){var f=nt.hasOwnProperty(r)?nt[r]:null;(f!==null?f.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(g1(r,o,f,l)&&(o=null),l||f===null?p1(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,l=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,l?t.setAttributeNS(l,r,o):t.setAttribute(r,o))))}var $r=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,al=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),Ug=Symbol.for("react.provider"),$g=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),Fg=Symbol.for("react.offscreen"),Tm=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,ic;function qo(t){if(ic===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ic=r&&r[1]||""}return`
`+ic+t}var oc=!1;function ac(t,r){if(!t||oc)return"";oc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(N){var l=N}Reflect.construct(t,[],r)}else{try{r.call()}catch(N){l=N}t.call(r.prototype)}else{try{throw Error()}catch(N){l=N}t()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),c=l.stack.split(`
`),p=f.length-1,y=c.length-1;1<=p&&0<=y&&f[p]!==c[y];)y--;for(;1<=p&&0<=y;p--,y--)if(f[p]!==c[y]){if(p!==1||y!==1)do if(p--,y--,0>y||f[p]!==c[y]){var v=`
`+f[p].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=p&&0<=y);break}}}finally{oc=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?qo(t):""}function y1(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function Mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ei:return"Portal";case bc:return"Profiler";case bf:return"StrictMode";case Lc:return"Suspense";case Bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $g:return(t.displayName||"Context")+".Consumer";case Ug:return(t._context.displayName||"Context")+".Provider";case Lf:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bf:return r=t.displayName||null,r!==null?r:Mc(t.type)||"Memo";case ns:r=t._payload,t=t._init;try{return Mc(t(r))}catch{}}return null}function v1(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(r);case 8:return r===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jg(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function T1(t){var r=jg(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,c=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(p){l=""+p,c.call(this,p)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ll(t){t._valueTracker||(t._valueTracker=T1(t))}function zg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return t&&(l=jg(t)?t.checked?"true":"false":t.value),t=l,t!==o?(r.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,r){var o=r.checked;return Re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Sm(t,r){var o=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;o=gs(r.value!=null?r.value:o),t._wrapperState={initialChecked:l,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Vg(t,r){r=r.checked,r!=null&&Rf(t,"checked",r,!1)}function Uc(t,r){Vg(t,r);var o=gs(r.value),l=r.type;if(o!=null)l==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?$c(t,r.type,o):r.hasOwnProperty("defaultValue")&&$c(t,r.type,gs(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function wm(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function $c(t,r,o){(r!=="number"||Ll(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yo=Array.isArray;function Li(t,r,o,l){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&l&&(t[o].defaultSelected=!0)}else{for(o=""+gs(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Fc(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(M(91));return Re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function km(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(M(92));if(Yo(o)){if(1<o.length)throw Error(M(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:gs(o)}}function qg(t,r){var o=gs(r.value),l=gs(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),l!=null&&(t.defaultValue=""+l)}function Em(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Yg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jc(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Yg(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ul,Kg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,l,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,l,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function oa(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){S1.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ho[r]=Ho[t]})});function Wg(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+r).trim():r+"px"}function Gg(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var l=o.indexOf("--")===0,f=Wg(o,r[o],l);o==="float"&&(o="cssFloat"),l?t.setProperty(o,f):t[o]=f}}var w1=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(t,r){if(r){if(w1[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(M(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(M(61))}if(r.style!=null&&typeof r.style!="object")throw Error(M(62))}}function Vc(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function Mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yc=null,Bi=null,Mi=null;function Nm(t){if(t=Ia(t)){if(typeof Yc!="function")throw Error(M(280));var r=t.stateNode;r&&(r=cu(r),Yc(t.stateNode,t.type,r))}}function Hg(t){Bi?Mi?Mi.push(t):Mi=[t]:Bi=t}function Xg(){if(Bi){var t=Bi,r=Mi;if(Mi=Bi=null,Nm(t),r)for(t=0;t<r.length;t++)Nm(r[t])}}function Qg(t,r){return t(r)}function Zg(){}var lc=!1;function ey(t,r,o){if(lc)return t(r,o);lc=!0;try{return Qg(t,r,o)}finally{lc=!1,(Bi!==null||Mi!==null)&&(Zg(),Xg())}}function aa(t,r){var o=t.stateNode;if(o===null)return null;var l=cu(o);if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(M(231,r,typeof o));return o}var Kc=!1;if(Br)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Kc=!1}function k1(t,r,o,l,f,c,p,y,v){var N=Array.prototype.slice.call(arguments,3);try{r.apply(o,N)}catch(R){this.onError(R)}}var Xo=!1,Bl=null,Ml=!1,Wc=null,E1={onError:function(t){Xo=!0,Bl=t}};function N1(t,r,o,l,f,c,p,y,v){Xo=!1,Bl=null,k1.apply(E1,arguments)}function I1(t,r,o,l,f,c,p,y,v){if(N1.apply(this,arguments),Xo){if(Xo){var N=Bl;Xo=!1,Bl=null}else throw Error(M(198));Ml||(Ml=!0,Wc=N)}}function Hs(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ty(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Im(t){if(Hs(t)!==t)throw Error(M(188))}function _1(t){var r=t.alternate;if(!r){if(r=Hs(t),r===null)throw Error(M(188));return r!==t?null:t}for(var o=t,l=r;;){var f=o.return;if(f===null)break;var c=f.alternate;if(c===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===c.child){for(c=f.child;c;){if(c===o)return Im(f),t;if(c===l)return Im(f),r;c=c.sibling}throw Error(M(188))}if(o.return!==l.return)o=f,l=c;else{for(var p=!1,y=f.child;y;){if(y===o){p=!0,o=f,l=c;break}if(y===l){p=!0,l=f,o=c;break}y=y.sibling}if(!p){for(y=c.child;y;){if(y===o){p=!0,o=c,l=f;break}if(y===l){p=!0,l=c,o=f;break}y=y.sibling}if(!p)throw Error(M(189))}}if(o.alternate!==l)throw Error(M(190))}if(o.tag!==3)throw Error(M(188));return o.stateNode.current===o?t:r}function ny(t){return t=_1(t),t!==null?ry(t):null}function ry(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ry(t);if(r!==null)return r;t=t.sibling}return null}var sy=bt.unstable_scheduleCallback,_m=bt.unstable_cancelCallback,A1=bt.unstable_shouldYield,P1=bt.unstable_requestPaint,Je=bt.unstable_now,x1=bt.unstable_getCurrentPriorityLevel,Jf=bt.unstable_ImmediatePriority,iy=bt.unstable_UserBlockingPriority,Jl=bt.unstable_NormalPriority,O1=bt.unstable_LowPriority,oy=bt.unstable_IdlePriority,ou=null,gr=null;function C1(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ou,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:b1,D1=Math.log,R1=Math.LN2;function b1(t){return t>>>=0,t===0?32:31-(D1(t)/R1|0)|0}var cl=64,fl=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ul(t,r){var o=t.pendingLanes;if(o===0)return 0;var l=0,f=t.suspendedLanes,c=t.pingedLanes,p=o&268435455;if(p!==0){var y=p&~f;y!==0?l=Ko(y):(c&=p,c!==0&&(l=Ko(c)))}else p=o&~f,p!==0?l=Ko(p):c!==0&&(l=Ko(c));if(l===0)return 0;if(r!==0&&r!==l&&!(r&f)&&(f=l&-l,c=r&-r,f>=c||f===16&&(c&4194240)!==0))return r;if(l&4&&(l|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)o=31-Nn(r),f=1<<o,l|=t[o],r&=~f;return l}function L1(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B1(t,r){for(var o=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,c=t.pendingLanes;0<c;){var p=31-Nn(c),y=1<<p,v=f[p];v===-1?(!(y&o)||y&l)&&(f[p]=L1(y,r)):v<=r&&(t.expiredLanes|=y),c&=~y}}function Gc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ay(){var t=cl;return cl<<=1,!(cl&4194240)&&(cl=64),t}function uc(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ea(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Nn(r),t[r]=o}function M1(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Nn(o),c=1<<f;r[f]=0,l[f]=-1,t[f]=-1,o&=~c}}function Uf(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var l=31-Nn(o),f=1<<l;f&r|t[l]&r&&(t[l]|=r),o&=~f}}var ve=0;function ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uy,$f,cy,fy,dy,Hc=!1,dl=[],ls=null,us=null,cs=null,la=new Map,ua=new Map,ss=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(t,r){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":la.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(r.pointerId)}}function Uo(t,r,o,l,f,c){return t===null||t.nativeEvent!==c?(t={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:c,targetContainers:[f]},r!==null&&(r=Ia(r),r!==null&&$f(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function U1(t,r,o,l,f){switch(r){case"focusin":return ls=Uo(ls,t,r,o,l,f),!0;case"dragenter":return us=Uo(us,t,r,o,l,f),!0;case"mouseover":return cs=Uo(cs,t,r,o,l,f),!0;case"pointerover":var c=f.pointerId;return la.set(c,Uo(la.get(c)||null,t,r,o,l,f)),!0;case"gotpointercapture":return c=f.pointerId,ua.set(c,Uo(ua.get(c)||null,t,r,o,l,f)),!0}return!1}function hy(t){var r=Us(t.target);if(r!==null){var o=Hs(r);if(o!==null){if(r=o.tag,r===13){if(r=ty(o),r!==null){t.blockedOn=r,dy(t.priority,function(){cy(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Il(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Xc(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);qc=l,o.target.dispatchEvent(l),qc=null}else return r=Ia(o),r!==null&&$f(r),t.blockedOn=o,!1;r.shift()}return!0}function Pm(t,r,o){Il(t)&&o.delete(r)}function $1(){Hc=!1,ls!==null&&Il(ls)&&(ls=null),us!==null&&Il(us)&&(us=null),cs!==null&&Il(cs)&&(cs=null),la.forEach(Pm),ua.forEach(Pm)}function $o(t,r){t.blockedOn===r&&(t.blockedOn=null,Hc||(Hc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,$1)))}function ca(t){function r(f){return $o(f,t)}if(0<dl.length){$o(dl[0],t);for(var o=1;o<dl.length;o++){var l=dl[o];l.blockedOn===t&&(l.blockedOn=null)}}for(ls!==null&&$o(ls,t),us!==null&&$o(us,t),cs!==null&&$o(cs,t),la.forEach(r),ua.forEach(r),o=0;o<ss.length;o++)l=ss[o],l.blockedOn===t&&(l.blockedOn=null);for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)hy(o),o.blockedOn===null&&ss.shift()}var Ji=$r.ReactCurrentBatchConfig,$l=!0;function F1(t,r,o,l){var f=ve,c=Ji.transition;Ji.transition=null;try{ve=1,Ff(t,r,o,l)}finally{ve=f,Ji.transition=c}}function j1(t,r,o,l){var f=ve,c=Ji.transition;Ji.transition=null;try{ve=4,Ff(t,r,o,l)}finally{ve=f,Ji.transition=c}}function Ff(t,r,o,l){if($l){var f=Xc(t,r,o,l);if(f===null)Tc(t,r,l,Fl,o),Am(t,l);else if(U1(f,t,r,o,l))l.stopPropagation();else if(Am(t,l),r&4&&-1<J1.indexOf(t)){for(;f!==null;){var c=Ia(f);if(c!==null&&uy(c),c=Xc(t,r,o,l),c===null&&Tc(t,r,l,Fl,o),c===f)break;f=c}f!==null&&l.stopPropagation()}else Tc(t,r,l,null,o)}}var Fl=null;function Xc(t,r,o,l){if(Fl=null,t=Mf(l),t=Us(t),t!==null)if(r=Hs(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ty(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Fl=t,null}function py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x1()){case Jf:return 1;case iy:return 4;case Jl:case O1:return 16;case oy:return 536870912;default:return 16}default:return 16}}var os=null,jf=null,_l=null;function my(){if(_l)return _l;var t,r=jf,o=r.length,l,f="value"in os?os.value:os.textContent,c=f.length;for(t=0;t<o&&r[t]===f[t];t++);var p=o-t;for(l=1;l<=p&&r[o-l]===f[c-l];l++);return _l=f.slice(t,1<l?1-l:void 0)}function Al(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hl(){return!0}function xm(){return!1}function Bt(t){function r(o,l,f,c,p){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(o=t[y],this[y]=o?o(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?hl:xm,this.isPropagationStopped=xm,this}return Re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),r}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=Bt(Gi),Na=Re({},Gi,{view:0,detail:0}),z1=Bt(Na),cc,fc,Fo,au=Re({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(cc=t.screenX-Fo.screenX,fc=t.screenY-Fo.screenY):fc=cc=0,Fo=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),Om=Bt(au),V1=Re({},au,{dataTransfer:0}),q1=Bt(V1),Y1=Re({},Na,{relatedTarget:0}),dc=Bt(Y1),K1=Re({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),W1=Bt(K1),G1=Re({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H1=Bt(G1),X1=Re({},Gi,{data:0}),Cm=Bt(X1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ek[t])?!!r[t]:!1}function Vf(){return tk}var nk=Re({},Na,{key:function(t){if(t.key){var r=Q1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rk=Bt(nk),sk=Re({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=Bt(sk),ik=Re({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),ok=Bt(ik),ak=Re({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=Bt(ak),uk=Re({},au,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=Bt(uk),fk=[9,13,27,32],qf=Br&&"CompositionEvent"in window,Qo=null;Br&&"documentMode"in document&&(Qo=document.documentMode);var dk=Br&&"TextEvent"in window&&!Qo,gy=Br&&(!qf||Qo&&8<Qo&&11>=Qo),Rm=String.fromCharCode(32),bm=!1;function yy(t,r){switch(t){case"keyup":return fk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function hk(t,r){switch(t){case"compositionend":return vy(r);case"keypress":return r.which!==32?null:(bm=!0,Rm);case"textInput":return t=r.data,t===Rm&&bm?null:t;default:return null}}function pk(t,r){if(Ii)return t==="compositionend"||!qf&&yy(t,r)?(t=my(),_l=jf=os=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gy&&r.locale!=="ko"?null:r.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!mk[t.type]:r==="textarea"}function Ty(t,r,o,l){Hg(l),r=jl(r,"onChange"),0<r.length&&(o=new zf("onChange","change",null,o,l),t.push({event:o,listeners:r}))}var Zo=null,fa=null;function gk(t){Oy(t,0)}function lu(t){var r=Pi(t);if(zg(r))return t}function yk(t,r){if(t==="change")return r}var Sy=!1;if(Br){var hc;if(Br){var pc="oninput"in document;if(!pc){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),pc=typeof Bm.oninput=="function"}hc=pc}else hc=!1;Sy=hc&&(!document.documentMode||9<document.documentMode)}function Mm(){Zo&&(Zo.detachEvent("onpropertychange",wy),fa=Zo=null)}function wy(t){if(t.propertyName==="value"&&lu(fa)){var r=[];Ty(r,fa,t,Mf(t)),ey(gk,r)}}function vk(t,r,o){t==="focusin"?(Mm(),Zo=r,fa=o,Zo.attachEvent("onpropertychange",wy)):t==="focusout"&&Mm()}function Tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(fa)}function Sk(t,r){if(t==="click")return lu(r)}function wk(t,r){if(t==="input"||t==="change")return lu(r)}function kk(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:kk;function da(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Rc.call(r,f)||!_n(t[f],r[f]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,r){var o=Jm(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=r&&l>=r)return{node:o,offset:r-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jm(o)}}function ky(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ky(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ey(){for(var t=window,r=Ll();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ll(t.document)}return r}function Yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Ek(t){var r=Ey(),o=t.focusedElem,l=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&ky(o.ownerDocument.documentElement,o)){if(l!==null&&Yf(o)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,c=Math.min(l.start,f);l=l.end===void 0?c:Math.min(l.end,f),!t.extend&&c>l&&(f=l,l=c,c=f),f=Um(o,c);var p=Um(o,l);f&&p&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),c>l?(t.addRange(r),t.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nk=Br&&"documentMode"in document&&11>=document.documentMode,_i=null,Qc=null,ea=null,Zc=!1;function $m(t,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zc||_i==null||_i!==Ll(l)||(l=_i,"selectionStart"in l&&Yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ea&&da(ea,l)||(ea=l,l=jl(Qc,"onSelect"),0<l.length&&(r=new zf("onSelect","select",null,r,o),t.push({event:r,listeners:l}),r.target=_i)))}function pl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ai={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},mc={},Ny={};Br&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function uu(t){if(mc[t])return mc[t];if(!Ai[t])return t;var r=Ai[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ny)return mc[t]=r[o];return t}var Iy=uu("animationend"),_y=uu("animationiteration"),Ay=uu("animationstart"),Py=uu("transitionend"),xy=new Map,Fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,r){xy.set(t,r),Gs(r,[t])}for(var gc=0;gc<Fm.length;gc++){var yc=Fm[gc],Ik=yc.toLowerCase(),_k=yc[0].toUpperCase()+yc.slice(1);vs(Ik,"on"+_k)}vs(Iy,"onAnimationEnd");vs(_y,"onAnimationIteration");vs(Ay,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(Py,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function jm(t,r,o){var l=t.type||"unknown-event";t.currentTarget=o,I1(l,r,void 0,t),t.currentTarget=null}function Oy(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],f=l.event;l=l.listeners;e:{var c=void 0;if(r)for(var p=l.length-1;0<=p;p--){var y=l[p],v=y.instance,N=y.currentTarget;if(y=y.listener,v!==c&&f.isPropagationStopped())break e;jm(f,y,N),c=v}else for(p=0;p<l.length;p++){if(y=l[p],v=y.instance,N=y.currentTarget,y=y.listener,v!==c&&f.isPropagationStopped())break e;jm(f,y,N),c=v}}}if(Ml)throw t=Wc,Ml=!1,Wc=null,t}function Ie(t,r){var o=r[sf];o===void 0&&(o=r[sf]=new Set);var l=t+"__bubble";o.has(l)||(Cy(r,t,2,!1),o.add(l))}function vc(t,r,o){var l=0;r&&(l|=4),Cy(o,t,l,r)}var ml="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[ml]){t[ml]=!0,Jg.forEach(function(o){o!=="selectionchange"&&(Ak.has(o)||vc(o,!1,t),vc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ml]||(r[ml]=!0,vc("selectionchange",!1,r))}}function Cy(t,r,o,l){switch(py(r)){case 1:var f=F1;break;case 4:f=j1;break;default:f=Ff}o=f.bind(null,r,o,t),f=void 0,!Kc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Tc(t,r,o,l,f){var c=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var y=l.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(p===4)for(p=l.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===f||v.nodeType===8&&v.parentNode===f))return;p=p.return}for(;y!==null;){if(p=Us(y),p===null)return;if(v=p.tag,v===5||v===6){l=c=p;continue e}y=y.parentNode}}l=l.return}ey(function(){var N=c,R=Mf(o),D=[];e:{var C=xy.get(t);if(C!==void 0){var $=zf,F=t;switch(t){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":$=rk;break;case"focusin":F="focus",$=dc;break;case"focusout":F="blur",$=dc;break;case"beforeblur":case"afterblur":$=dc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=q1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ok;break;case Iy:case _y:case Ay:$=W1;break;case Py:$=lk;break;case"scroll":$=z1;break;case"wheel":$=ck;break;case"copy":case"cut":case"paste":$=H1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Dm}var j=(r&4)!==0,ye=!j&&t==="scroll",I=j?C!==null?C+"Capture":null:C;j=[];for(var S=N,_;S!==null;){_=S;var L=_.stateNode;if(_.tag===5&&L!==null&&(_=L,I!==null&&(L=aa(S,I),L!=null&&j.push(pa(S,L,_)))),ye)break;S=S.return}0<j.length&&(C=new $(C,F,null,o,R),D.push({event:C,listeners:j}))}}if(!(r&7)){e:{if(C=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",C&&o!==qc&&(F=o.relatedTarget||o.fromElement)&&(Us(F)||F[Mr]))break e;if(($||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,$?(F=o.relatedTarget||o.toElement,$=N,F=F?Us(F):null,F!==null&&(ye=Hs(F),F!==ye||F.tag!==5&&F.tag!==6)&&(F=null)):($=null,F=N),$!==F)){if(j=Om,L="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(j=Dm,L="onPointerLeave",I="onPointerEnter",S="pointer"),ye=$==null?C:Pi($),_=F==null?C:Pi(F),C=new j(L,S+"leave",$,o,R),C.target=ye,C.relatedTarget=_,L=null,Us(R)===N&&(j=new j(I,S+"enter",F,o,R),j.target=_,j.relatedTarget=ye,L=j),ye=L,$&&F)t:{for(j=$,I=F,S=0,_=j;_;_=ki(_))S++;for(_=0,L=I;L;L=ki(L))_++;for(;0<S-_;)j=ki(j),S--;for(;0<_-S;)I=ki(I),_--;for(;S--;){if(j===I||I!==null&&j===I.alternate)break t;j=ki(j),I=ki(I)}j=null}else j=null;$!==null&&zm(D,C,$,j,!1),F!==null&&ye!==null&&zm(D,ye,F,j,!0)}}e:{if(C=N?Pi(N):window,$=C.nodeName&&C.nodeName.toLowerCase(),$==="select"||$==="input"&&C.type==="file")var V=yk;else if(Lm(C))if(Sy)V=wk;else{V=Tk;var O=vk}else($=C.nodeName)&&$.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(V=Sk);if(V&&(V=V(t,N))){Ty(D,V,o,R);break e}O&&O(t,C,N),t==="focusout"&&(O=C._wrapperState)&&O.controlled&&C.type==="number"&&$c(C,"number",C.value)}switch(O=N?Pi(N):window,t){case"focusin":(Lm(O)||O.contentEditable==="true")&&(_i=O,Qc=N,ea=null);break;case"focusout":ea=Qc=_i=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,$m(D,o,R);break;case"selectionchange":if(Nk)break;case"keydown":case"keyup":$m(D,o,R)}var W;if(qf)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else Ii?yy(t,o)&&(Q="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Q="onCompositionStart");Q&&(gy&&o.locale!=="ko"&&(Ii||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Ii&&(W=my()):(os=R,jf="value"in os?os.value:os.textContent,Ii=!0)),O=jl(N,Q),0<O.length&&(Q=new Cm(Q,t,null,o,R),D.push({event:Q,listeners:O}),W?Q.data=W:(W=vy(o),W!==null&&(Q.data=W)))),(W=dk?hk(t,o):pk(t,o))&&(N=jl(N,"onBeforeInput"),0<N.length&&(R=new Cm("onBeforeInput","beforeinput",null,o,R),D.push({event:R,listeners:N}),R.data=W))}Oy(D,r)})}function pa(t,r,o){return{instance:t,listener:r,currentTarget:o}}function jl(t,r){for(var o=r+"Capture",l=[];t!==null;){var f=t,c=f.stateNode;f.tag===5&&c!==null&&(f=c,c=aa(t,o),c!=null&&l.unshift(pa(t,c,f)),c=aa(t,r),c!=null&&l.push(pa(t,c,f))),t=t.return}return l}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zm(t,r,o,l,f){for(var c=r._reactName,p=[];o!==null&&o!==l;){var y=o,v=y.alternate,N=y.stateNode;if(v!==null&&v===l)break;y.tag===5&&N!==null&&(y=N,f?(v=aa(o,c),v!=null&&p.unshift(pa(o,v,y))):f||(v=aa(o,c),v!=null&&p.push(pa(o,v,y)))),o=o.return}p.length!==0&&t.push({event:r,listeners:p})}var Pk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function Vm(t){return(typeof t=="string"?t:""+t).replace(Pk,`
`).replace(xk,"")}function gl(t,r,o){if(r=Vm(r),Vm(t)!==r&&o)throw Error(M(425))}function zl(){}var ef=null,tf=null;function nf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(Dk)}:rf;function Dk(t){setTimeout(function(){throw t})}function Sc(t,r){var o=r,l=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){t.removeChild(f),ca(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);ca(r)}function fs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ym(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),mr="__reactFiber$"+Hi,ma="__reactProps$"+Hi,Mr="__reactContainer$"+Hi,sf="__reactEvents$"+Hi,Rk="__reactListeners$"+Hi,bk="__reactHandles$"+Hi;function Us(t){var r=t[mr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Mr]||o[mr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ym(t);t!==null;){if(o=t[mr])return o;t=Ym(t)}return r}t=o,o=t.parentNode}return null}function Ia(t){return t=t[mr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function cu(t){return t[ma]||null}var of=[],xi=-1;function Ts(t){return{current:t}}function _e(t){0>xi||(t.current=of[xi],of[xi]=null,xi--)}function Ne(t,r){xi++,of[xi]=t.current,t.current=r}var ys={},at=Ts(ys),kt=Ts(!1),Vs=ys;function ji(t,r){var o=t.type.contextTypes;if(!o)return ys;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var f={},c;for(c in o)f[c]=r[c];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Et(t){return t=t.childContextTypes,t!=null}function Vl(){_e(kt),_e(at)}function Km(t,r,o){if(at.current!==ys)throw Error(M(168));Ne(at,r),Ne(kt,o)}function Dy(t,r,o){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in r))throw Error(M(108,v1(t)||"Unknown",f));return Re({},o,l)}function ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,Vs=at.current,Ne(at,t),Ne(kt,kt.current),!0}function Wm(t,r,o){var l=t.stateNode;if(!l)throw Error(M(169));o?(t=Dy(t,r,Vs),l.__reactInternalMemoizedMergedChildContext=t,_e(kt),_e(at),Ne(at,t)):_e(kt),Ne(kt,o)}var Dr=null,fu=!1,wc=!1;function Ry(t){Dr===null?Dr=[t]:Dr.push(t)}function Lk(t){fu=!0,Ry(t)}function Ss(){if(!wc&&Dr!==null){wc=!0;var t=0,r=ve;try{var o=Dr;for(ve=1;t<o.length;t++){var l=o[t];do l=l(!0);while(l!==null)}Dr=null,fu=!1}catch(f){throw Dr!==null&&(Dr=Dr.slice(t+1)),sy(Jf,Ss),f}finally{ve=r,wc=!1}}return null}var Oi=[],Ci=0,Yl=null,Kl=0,rn=[],sn=0,qs=null,Rr=1,br="";function Bs(t,r){Oi[Ci++]=Kl,Oi[Ci++]=Yl,Yl=t,Kl=r}function by(t,r,o){rn[sn++]=Rr,rn[sn++]=br,rn[sn++]=qs,qs=t;var l=Rr;t=br;var f=32-Nn(l)-1;l&=~(1<<f),o+=1;var c=32-Nn(r)+f;if(30<c){var p=f-f%5;c=(l&(1<<p)-1).toString(32),l>>=p,f-=p,Rr=1<<32-Nn(r)+f|o<<f|l,br=c+t}else Rr=1<<c|o<<f|l,br=t}function Kf(t){t.return!==null&&(Bs(t,1),by(t,1,0))}function Wf(t){for(;t===Yl;)Yl=Oi[--Ci],Oi[Ci]=null,Kl=Oi[--Ci],Oi[Ci]=null;for(;t===qs;)qs=rn[--sn],rn[sn]=null,br=rn[--sn],rn[sn]=null,Rr=rn[--sn],rn[sn]=null}var Rt=null,Dt=null,Oe=!1,En=null;function Ly(t,r){var o=on(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Gm(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Rt=t,Dt=fs(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Rt=t,Dt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=qs!==null?{id:Rr,overflow:br}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=on(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Rt=t,Dt=null,!0):!1;default:return!1}}function af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lf(t){if(Oe){var r=Dt;if(r){var o=r;if(!Gm(t,r)){if(af(t))throw Error(M(418));r=fs(o.nextSibling);var l=Rt;r&&Gm(t,r)?Ly(l,o):(t.flags=t.flags&-4097|2,Oe=!1,Rt=t)}}else{if(af(t))throw Error(M(418));t.flags=t.flags&-4097|2,Oe=!1,Rt=t}}}function Hm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function yl(t){if(t!==Rt)return!1;if(!Oe)return Hm(t),Oe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!nf(t.type,t.memoizedProps)),r&&(r=Dt)){if(af(t))throw By(),Error(M(418));for(;r;)Ly(t,r),r=fs(r.nextSibling)}if(Hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Dt=fs(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Dt=null}}else Dt=Rt?fs(t.stateNode.nextSibling):null;return!0}function By(){for(var t=Dt;t;)t=fs(t.nextSibling)}function zi(){Dt=Rt=null,Oe=!1}function Gf(t){En===null?En=[t]:En.push(t)}var Bk=$r.ReactCurrentBatchConfig;function wn(t,r){if(t&&t.defaultProps){r=Re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Wl=Ts(null),Gl=null,Di=null,Hf=null;function Xf(){Hf=Di=Gl=null}function Qf(t){var r=Wl.current;_e(Wl),t._currentValue=r}function uf(t,r,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===o)break;t=t.return}}function Ui(t,r){Gl=t,Hf=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(wt=!0),t.firstContext=null)}function ln(t){var r=t._currentValue;if(Hf!==t)if(t={context:t,memoizedValue:r,next:null},Di===null){if(Gl===null)throw Error(M(308));Di=t,Gl.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return r}var $s=null;function Zf(t){$s===null?$s=[t]:$s.push(t)}function My(t,r,o,l){var f=r.interleaved;return f===null?(o.next=o,Zf(r)):(o.next=f.next,f.next=o),r.interleaved=o,Jr(t,l)}function Jr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var rs=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ds(t,r,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,he&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,Jr(t,o)}return f=l.interleaved,f===null?(r.next=r,Zf(l)):(r.next=f.next,f.next=r),l.interleaved=r,Jr(t,o)}function Pl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Uf(t,o)}}function Xm(t,r){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?f=c=p:c=c.next=p,o=o.next}while(o!==null);c===null?f=c=r:c=c.next=r}else f=c=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:c,shared:l.shared,effects:l.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Hl(t,r,o,l){var f=t.updateQueue;rs=!1;var c=f.firstBaseUpdate,p=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var v=y,N=v.next;v.next=null,p===null?c=N:p.next=N,p=v;var R=t.alternate;R!==null&&(R=R.updateQueue,y=R.lastBaseUpdate,y!==p&&(y===null?R.firstBaseUpdate=N:y.next=N,R.lastBaseUpdate=v))}if(c!==null){var D=f.baseState;p=0,R=N=v=null,y=c;do{var C=y.lane,$=y.eventTime;if((l&C)===C){R!==null&&(R=R.next={eventTime:$,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var F=t,j=y;switch(C=r,$=o,j.tag){case 1:if(F=j.payload,typeof F=="function"){D=F.call($,D,C);break e}D=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,C=typeof F=="function"?F.call($,D,C):F,C==null)break e;D=Re({},D,C);break e;case 2:rs=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,C=f.effects,C===null?f.effects=[y]:C.push(y))}else $={eventTime:$,lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},R===null?(N=R=$,v=D):R=R.next=$,p|=C;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;C=y,y=C.next,C.next=null,f.lastBaseUpdate=C,f.shared.pending=null}}while(1);if(R===null&&(v=D),f.baseState=v,f.firstBaseUpdate=N,f.lastBaseUpdate=R,r=f.shared.interleaved,r!==null){f=r;do p|=f.lane,f=f.next;while(f!==r)}else c===null&&(f.shared.lanes=0);Ks|=p,t.lanes=p,t.memoizedState=D}}function Qm(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(M(191,f));f.call(l)}}}var Uy=new Mg.Component().refs;function cf(t,r,o,l){r=t.memoizedState,o=o(l,r),o=o==null?r:Re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var du={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var l=ht(),f=ps(t),c=Lr(l,f);c.payload=r,o!=null&&(c.callback=o),r=ds(t,c,f),r!==null&&(In(r,t,f,l),Pl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var l=ht(),f=ps(t),c=Lr(l,f);c.tag=1,c.payload=r,o!=null&&(c.callback=o),r=ds(t,c,f),r!==null&&(In(r,t,f,l),Pl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ht(),l=ps(t),f=Lr(o,l);f.tag=2,r!=null&&(f.callback=r),r=ds(t,f,l),r!==null&&(In(r,t,l,o),Pl(r,t,l))}};function Zm(t,r,o,l,f,c,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,p):r.prototype&&r.prototype.isPureReactComponent?!da(o,l)||!da(f,c):!0}function $y(t,r,o){var l=!1,f=ys,c=r.contextType;return typeof c=="object"&&c!==null?c=ln(c):(f=Et(r)?Vs:at.current,l=r.contextTypes,c=(l=l!=null)?ji(t,f):ys),r=new r(o,c),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=du,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=c),r}function eg(t,r,o,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==t&&du.enqueueReplaceState(r,r.state,null)}function ff(t,r,o,l){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs=Uy,ed(t);var c=r.contextType;typeof c=="object"&&c!==null?f.context=ln(c):(c=Et(r)?Vs:at.current,f.context=ji(t,c)),f.state=t.memoizedState,c=r.getDerivedStateFromProps,typeof c=="function"&&(cf(t,r,c,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&du.enqueueReplaceState(f,f.state,null),Hl(t,o,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(M(309));var l=o.stateNode}if(!l)throw Error(M(147,t));var f=l,c=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(p){var y=f.refs;y===Uy&&(y=f.refs={}),p===null?delete y[c]:y[c]=p},r._stringRef=c,r)}if(typeof t!="string")throw Error(M(284));if(!o._owner)throw Error(M(290,t))}return t}function vl(t,r){throw t=Object.prototype.toString.call(r),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function tg(t){var r=t._init;return r(t._payload)}function Fy(t){function r(I,S){if(t){var _=I.deletions;_===null?(I.deletions=[S],I.flags|=16):_.push(S)}}function o(I,S){if(!t)return null;for(;S!==null;)r(I,S),S=S.sibling;return null}function l(I,S){for(I=new Map;S!==null;)S.key!==null?I.set(S.key,S):I.set(S.index,S),S=S.sibling;return I}function f(I,S){return I=ms(I,S),I.index=0,I.sibling=null,I}function c(I,S,_){return I.index=_,t?(_=I.alternate,_!==null?(_=_.index,_<S?(I.flags|=2,S):_):(I.flags|=2,S)):(I.flags|=1048576,S)}function p(I){return t&&I.alternate===null&&(I.flags|=2),I}function y(I,S,_,L){return S===null||S.tag!==6?(S=Pc(_,I.mode,L),S.return=I,S):(S=f(S,_),S.return=I,S)}function v(I,S,_,L){var V=_.type;return V===Ni?R(I,S,_.props.children,L,_.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ns&&tg(V)===S.type)?(L=f(S,_.props),L.ref=jo(I,S,_),L.return=I,L):(L=bl(_.type,_.key,_.props,null,I.mode,L),L.ref=jo(I,S,_),L.return=I,L)}function N(I,S,_,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=xc(_,I.mode,L),S.return=I,S):(S=f(S,_.children||[]),S.return=I,S)}function R(I,S,_,L,V){return S===null||S.tag!==7?(S=zs(_,I.mode,L,V),S.return=I,S):(S=f(S,_),S.return=I,S)}function D(I,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Pc(""+S,I.mode,_),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case al:return _=bl(S.type,S.key,S.props,null,I.mode,_),_.ref=jo(I,null,S),_.return=I,_;case Ei:return S=xc(S,I.mode,_),S.return=I,S;case ns:var L=S._init;return D(I,L(S._payload),_)}if(Yo(S)||Mo(S))return S=zs(S,I.mode,_,null),S.return=I,S;vl(I,S)}return null}function C(I,S,_,L){var V=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:y(I,S,""+_,L);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case al:return _.key===V?v(I,S,_,L):null;case Ei:return _.key===V?N(I,S,_,L):null;case ns:return V=_._init,C(I,S,V(_._payload),L)}if(Yo(_)||Mo(_))return V!==null?null:R(I,S,_,L,null);vl(I,_)}return null}function $(I,S,_,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(_)||null,y(S,I,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case al:return I=I.get(L.key===null?_:L.key)||null,v(S,I,L,V);case Ei:return I=I.get(L.key===null?_:L.key)||null,N(S,I,L,V);case ns:var O=L._init;return $(I,S,_,O(L._payload),V)}if(Yo(L)||Mo(L))return I=I.get(_)||null,R(S,I,L,V,null);vl(S,L)}return null}function F(I,S,_,L){for(var V=null,O=null,W=S,Q=S=0,w=null;W!==null&&Q<_.length;Q++){W.index>Q?(w=W,W=null):w=W.sibling;var ee=C(I,W,_[Q],L);if(ee===null){W===null&&(W=w);break}t&&W&&ee.alternate===null&&r(I,W),S=c(ee,S,Q),O===null?V=ee:O.sibling=ee,O=ee,W=w}if(Q===_.length)return o(I,W),Oe&&Bs(I,Q),V;if(W===null){for(;Q<_.length;Q++)W=D(I,_[Q],L),W!==null&&(S=c(W,S,Q),O===null?V=W:O.sibling=W,O=W);return Oe&&Bs(I,Q),V}for(W=l(I,W);Q<_.length;Q++)w=$(W,I,Q,_[Q],L),w!==null&&(t&&w.alternate!==null&&W.delete(w.key===null?Q:w.key),S=c(w,S,Q),O===null?V=w:O.sibling=w,O=w);return t&&W.forEach(function(It){return r(I,It)}),Oe&&Bs(I,Q),V}function j(I,S,_,L){var V=Mo(_);if(typeof V!="function")throw Error(M(150));if(_=V.call(_),_==null)throw Error(M(151));for(var O=V=null,W=S,Q=S=0,w=null,ee=_.next();W!==null&&!ee.done;Q++,ee=_.next()){W.index>Q?(w=W,W=null):w=W.sibling;var It=C(I,W,ee.value,L);if(It===null){W===null&&(W=w);break}t&&W&&It.alternate===null&&r(I,W),S=c(It,S,Q),O===null?V=It:O.sibling=It,O=It,W=w}if(ee.done)return o(I,W),Oe&&Bs(I,Q),V;if(W===null){for(;!ee.done;Q++,ee=_.next())ee=D(I,ee.value,L),ee!==null&&(S=c(ee,S,Q),O===null?V=ee:O.sibling=ee,O=ee);return Oe&&Bs(I,Q),V}for(W=l(I,W);!ee.done;Q++,ee=_.next())ee=$(W,I,Q,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&W.delete(ee.key===null?Q:ee.key),S=c(ee,S,Q),O===null?V=ee:O.sibling=ee,O=ee);return t&&W.forEach(function(vr){return r(I,vr)}),Oe&&Bs(I,Q),V}function ye(I,S,_,L){if(typeof _=="object"&&_!==null&&_.type===Ni&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case al:e:{for(var V=_.key,O=S;O!==null;){if(O.key===V){if(V=_.type,V===Ni){if(O.tag===7){o(I,O.sibling),S=f(O,_.props.children),S.return=I,I=S;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ns&&tg(V)===O.type){o(I,O.sibling),S=f(O,_.props),S.ref=jo(I,O,_),S.return=I,I=S;break e}o(I,O);break}else r(I,O);O=O.sibling}_.type===Ni?(S=zs(_.props.children,I.mode,L,_.key),S.return=I,I=S):(L=bl(_.type,_.key,_.props,null,I.mode,L),L.ref=jo(I,S,_),L.return=I,I=L)}return p(I);case Ei:e:{for(O=_.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){o(I,S.sibling),S=f(S,_.children||[]),S.return=I,I=S;break e}else{o(I,S);break}else r(I,S);S=S.sibling}S=xc(_,I.mode,L),S.return=I,I=S}return p(I);case ns:return O=_._init,ye(I,S,O(_._payload),L)}if(Yo(_))return F(I,S,_,L);if(Mo(_))return j(I,S,_,L);vl(I,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(o(I,S.sibling),S=f(S,_),S.return=I,I=S):(o(I,S),S=Pc(_,I.mode,L),S.return=I,I=S),p(I)):o(I,S)}return ye}var Vi=Fy(!0),jy=Fy(!1),_a={},yr=Ts(_a),ga=Ts(_a),ya=Ts(_a);function Fs(t){if(t===_a)throw Error(M(174));return t}function td(t,r){switch(Ne(ya,r),Ne(ga,t),Ne(yr,_a),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:jc(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=jc(r,t)}_e(yr),Ne(yr,r)}function qi(){_e(yr),_e(ga),_e(ya)}function zy(t){Fs(ya.current);var r=Fs(yr.current),o=jc(r,t.type);r!==o&&(Ne(ga,t),Ne(yr,o))}function nd(t){ga.current===t&&(_e(yr),_e(ga))}var Ce=Ts(0);function Xl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function rd(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var xl=$r.ReactCurrentDispatcher,Ec=$r.ReactCurrentBatchConfig,Ys=0,De=null,Ye=null,He=null,Ql=!1,ta=!1,va=0,Mk=0;function st(){throw Error(M(321))}function sd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!_n(t[o],r[o]))return!1;return!0}function id(t,r,o,l,f,c){if(Ys=c,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,xl.current=t===null||t.memoizedState===null?Fk:jk,t=o(l,f),ta){c=0;do{if(ta=!1,va=0,25<=c)throw Error(M(301));c+=1,He=Ye=null,r.updateQueue=null,xl.current=zk,t=o(l,f)}while(ta)}if(xl.current=Zl,r=Ye!==null&&Ye.next!==null,Ys=0,He=Ye=De=null,Ql=!1,r)throw Error(M(300));return t}function od(){var t=va!==0;return va=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?De.memoizedState=He=t:He=He.next=t,He}function un(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=He===null?De.memoizedState:He.next;if(r!==null)He=r,Ye=t;else{if(t===null)throw Error(M(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},He===null?De.memoizedState=He=t:He=He.next=t}return He}function Ta(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=un(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=Ye,f=l.baseQueue,c=o.pending;if(c!==null){if(f!==null){var p=f.next;f.next=c.next,c.next=p}l.baseQueue=f=c,o.pending=null}if(f!==null){c=f.next,l=l.baseState;var y=p=null,v=null,N=c;do{var R=N.lane;if((Ys&R)===R)v!==null&&(v=v.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:t(l,N.action);else{var D={lane:R,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};v===null?(y=v=D,p=l):v=v.next=D,De.lanes|=R,Ks|=R}N=N.next}while(N!==null&&N!==c);v===null?p=l:v.next=y,_n(l,r.memoizedState)||(wt=!0),r.memoizedState=l,r.baseState=p,r.baseQueue=v,o.lastRenderedState=l}if(t=o.interleaved,t!==null){f=t;do c=f.lane,De.lanes|=c,Ks|=c,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ic(t){var r=un(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=o.dispatch,f=o.pending,c=r.memoizedState;if(f!==null){o.pending=null;var p=f=f.next;do c=t(c,p.action),p=p.next;while(p!==f);_n(c,r.memoizedState)||(wt=!0),r.memoizedState=c,r.baseQueue===null&&(r.baseState=c),o.lastRenderedState=c}return[c,l]}function Vy(){}function qy(t,r){var o=De,l=un(),f=r(),c=!_n(l.memoizedState,f);if(c&&(l.memoizedState=f,wt=!0),l=l.queue,ad(Wy.bind(null,o,l,t),[t]),l.getSnapshot!==r||c||He!==null&&He.memoizedState.tag&1){if(o.flags|=2048,Sa(9,Ky.bind(null,o,l,f,r),void 0,null),Xe===null)throw Error(M(349));Ys&30||Yy(o,r,f)}return f}function Yy(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ky(t,r,o,l){r.value=o,r.getSnapshot=l,Gy(r)&&Hy(t)}function Wy(t,r,o){return o(function(){Gy(r)&&Hy(t)})}function Gy(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!_n(t,o)}catch{return!0}}function Hy(t){var r=Jr(t,1);r!==null&&In(r,t,1,-1)}function ng(t){var r=pr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},r.queue=t,t=t.dispatch=$k.bind(null,De,t),[r.memoizedState,t]}function Sa(t,r,o,l){return t={tag:t,create:r,destroy:o,deps:l,next:null},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,r.lastEffect=t)),t}function Xy(){return un().memoizedState}function Ol(t,r,o,l){var f=pr();De.flags|=t,f.memoizedState=Sa(1|r,o,void 0,l===void 0?null:l)}function hu(t,r,o,l){var f=un();l=l===void 0?null:l;var c=void 0;if(Ye!==null){var p=Ye.memoizedState;if(c=p.destroy,l!==null&&sd(l,p.deps)){f.memoizedState=Sa(r,o,c,l);return}}De.flags|=t,f.memoizedState=Sa(1|r,o,c,l)}function rg(t,r){return Ol(8390656,8,t,r)}function ad(t,r){return hu(2048,8,t,r)}function Qy(t,r){return hu(4,2,t,r)}function Zy(t,r){return hu(4,4,t,r)}function ev(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function tv(t,r,o){return o=o!=null?o.concat([t]):null,hu(4,4,ev.bind(null,r,t),o)}function ld(){}function nv(t,r){var o=un();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&sd(r,l[1])?l[0]:(o.memoizedState=[t,r],t)}function rv(t,r){var o=un();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&sd(r,l[1])?l[0]:(t=t(),o.memoizedState=[t,r],t)}function sv(t,r,o){return Ys&21?(_n(o,r)||(o=ay(),De.lanes|=o,Ks|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o)}function Jk(t,r){var o=ve;ve=o!==0&&4>o?o:4,t(!0);var l=Ec.transition;Ec.transition={};try{t(!1),r()}finally{ve=o,Ec.transition=l}}function iv(){return un().memoizedState}function Uk(t,r,o){var l=ps(t);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},ov(t))av(r,o);else if(o=My(t,r,o,l),o!==null){var f=ht();In(o,t,l,f),lv(o,r,l)}}function $k(t,r,o){var l=ps(t),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(ov(t))av(r,f);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=r.lastRenderedReducer,c!==null))try{var p=r.lastRenderedState,y=c(p,o);if(f.hasEagerState=!0,f.eagerState=y,_n(y,p)){var v=r.interleaved;v===null?(f.next=f,Zf(r)):(f.next=v.next,v.next=f),r.interleaved=f;return}}catch{}finally{}o=My(t,r,f,l),o!==null&&(f=ht(),In(o,t,l,f),lv(o,r,l))}}function ov(t){var r=t.alternate;return t===De||r!==null&&r===De}function av(t,r){ta=Ql=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function lv(t,r,o){if(o&4194240){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Uf(t,o)}}var Zl={readContext:ln,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Fk={readContext:ln,useCallback:function(t,r){return pr().memoizedState=[t,r===void 0?null:r],t},useContext:ln,useEffect:rg,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Ol(4194308,4,ev.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ol(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ol(4,2,t,r)},useMemo:function(t,r){var o=pr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var l=pr();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=Uk.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=pr();return t={current:t},r.memoizedState=t},useState:ng,useDebugValue:ld,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=ng(!1),r=t[0];return t=Jk.bind(null,t[1]),pr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var l=De,f=pr();if(Oe){if(o===void 0)throw Error(M(407));o=o()}else{if(o=r(),Xe===null)throw Error(M(349));Ys&30||Yy(l,r,o)}f.memoizedState=o;var c={value:o,getSnapshot:r};return f.queue=c,rg(Wy.bind(null,l,c,t),[t]),l.flags|=2048,Sa(9,Ky.bind(null,l,c,o,r),void 0,null),o},useId:function(){var t=pr(),r=Xe.identifierPrefix;if(Oe){var o=br,l=Rr;o=(l&~(1<<32-Nn(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=va++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Mk++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},jk={readContext:ln,useCallback:nv,useContext:ln,useEffect:ad,useImperativeHandle:tv,useInsertionEffect:Qy,useLayoutEffect:Zy,useMemo:rv,useReducer:Nc,useRef:Xy,useState:function(){return Nc(Ta)},useDebugValue:ld,useDeferredValue:function(t){var r=un();return sv(r,Ye.memoizedState,t)},useTransition:function(){var t=Nc(Ta)[0],r=un().memoizedState;return[t,r]},useMutableSource:Vy,useSyncExternalStore:qy,useId:iv,unstable_isNewReconciler:!1},zk={readContext:ln,useCallback:nv,useContext:ln,useEffect:ad,useImperativeHandle:tv,useInsertionEffect:Qy,useLayoutEffect:Zy,useMemo:rv,useReducer:Ic,useRef:Xy,useState:function(){return Ic(Ta)},useDebugValue:ld,useDeferredValue:function(t){var r=un();return Ye===null?r.memoizedState=t:sv(r,Ye.memoizedState,t)},useTransition:function(){var t=Ic(Ta)[0],r=un().memoizedState;return[t,r]},useMutableSource:Vy,useSyncExternalStore:qy,useId:iv,unstable_isNewReconciler:!1};function Yi(t,r){try{var o="",l=r;do o+=y1(l),l=l.return;while(l);var f=o}catch(c){f=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:r,stack:f,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function df(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Vk=typeof WeakMap=="function"?WeakMap:Map;function uv(t,r,o){o=Lr(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){tu||(tu=!0,kf=l),df(t,r)},o}function cv(t,r,o){o=Lr(-1,o),o.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=r.value;o.payload=function(){return l(f)},o.callback=function(){df(t,r)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){df(t,r),typeof l!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),o}function sg(t,r,o){var l=t.pingCache;if(l===null){l=t.pingCache=new Vk;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(f.add(o),t=sE.bind(null,t,r,o),r.then(t,t))}function ig(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function og(t,r,o,l,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Lr(-1,1),r.tag=2,ds(o,r,1))),o.lanes|=1),t)}var qk=$r.ReactCurrentOwner,wt=!1;function dt(t,r,o,l){r.child=t===null?jy(r,null,o,l):Vi(r,t.child,o,l)}function ag(t,r,o,l,f){o=o.render;var c=r.ref;return Ui(r,f),l=id(t,r,o,l,c,f),o=od(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ur(t,r,f)):(Oe&&o&&Kf(r),r.flags|=1,dt(t,r,l,f),r.child)}function lg(t,r,o,l,f){if(t===null){var c=o.type;return typeof c=="function"&&!gd(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,fv(t,r,c,l,f)):(t=bl(o.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(c=t.child,!(t.lanes&f)){var p=c.memoizedProps;if(o=o.compare,o=o!==null?o:da,o(p,l)&&t.ref===r.ref)return Ur(t,r,f)}return r.flags|=1,t=ms(c,l),t.ref=r.ref,t.return=r,r.child=t}function fv(t,r,o,l,f){if(t!==null){var c=t.memoizedProps;if(da(c,l)&&t.ref===r.ref)if(wt=!1,r.pendingProps=l=c,(t.lanes&f)!==0)t.flags&131072&&(wt=!0);else return r.lanes=t.lanes,Ur(t,r,f)}return hf(t,r,o,l,f)}function dv(t,r,o){var l=r.pendingProps,f=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(bi,Ct),Ct|=o;else{if(!(o&1073741824))return t=c!==null?c.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ne(bi,Ct),Ct|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:o,Ne(bi,Ct),Ct|=l}else c!==null?(l=c.baseLanes|o,r.memoizedState=null):l=o,Ne(bi,Ct),Ct|=l;return dt(t,r,f,o),r.child}function hv(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function hf(t,r,o,l,f){var c=Et(o)?Vs:at.current;return c=ji(r,c),Ui(r,f),o=id(t,r,o,l,c,f),l=od(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ur(t,r,f)):(Oe&&l&&Kf(r),r.flags|=1,dt(t,r,o,f),r.child)}function ug(t,r,o,l,f){if(Et(o)){var c=!0;ql(r)}else c=!1;if(Ui(r,f),r.stateNode===null)Cl(t,r),$y(r,o,l),ff(r,o,l,f),l=!0;else if(t===null){var p=r.stateNode,y=r.memoizedProps;p.props=y;var v=p.context,N=o.contextType;typeof N=="object"&&N!==null?N=ln(N):(N=Et(o)?Vs:at.current,N=ji(r,N));var R=o.getDerivedStateFromProps,D=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==l||v!==N)&&eg(r,p,l,N),rs=!1;var C=r.memoizedState;p.state=C,Hl(r,l,p,f),v=r.memoizedState,y!==l||C!==v||kt.current||rs?(typeof R=="function"&&(cf(r,o,R,l),v=r.memoizedState),(y=rs||Zm(r,o,y,l,C,v,N))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=v),p.props=l,p.state=v,p.context=N,l=y):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Jy(t,r),y=r.memoizedProps,N=r.type===r.elementType?y:wn(r.type,y),p.props=N,D=r.pendingProps,C=p.context,v=o.contextType,typeof v=="object"&&v!==null?v=ln(v):(v=Et(o)?Vs:at.current,v=ji(r,v));var $=o.getDerivedStateFromProps;(R=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==D||C!==v)&&eg(r,p,l,v),rs=!1,C=r.memoizedState,p.state=C,Hl(r,l,p,f);var F=r.memoizedState;y!==D||C!==F||kt.current||rs?(typeof $=="function"&&(cf(r,o,$,l),F=r.memoizedState),(N=rs||Zm(r,o,N,l,C,F,v)||!1)?(R||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,F,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,F,v)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=v,l=N):(typeof p.componentDidUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&C===t.memoizedState||(r.flags|=1024),l=!1)}return pf(t,r,o,l,c,f)}function pf(t,r,o,l,f,c){hv(t,r);var p=(r.flags&128)!==0;if(!l&&!p)return f&&Wm(r,o,!1),Ur(t,r,c);l=r.stateNode,qk.current=r;var y=p&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&p?(r.child=Vi(r,t.child,null,c),r.child=Vi(r,null,y,c)):dt(t,r,y,c),r.memoizedState=l.state,f&&Wm(r,o,!0),r.child}function pv(t){var r=t.stateNode;r.pendingContext?Km(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Km(t,r.context,!1),td(t,r.containerInfo)}function cg(t,r,o,l,f){return zi(),Gf(f),r.flags|=256,dt(t,r,o,l),r.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function mv(t,r,o){var l=r.pendingProps,f=Ce.current,c=!1,p=(r.flags&128)!==0,y;if((y=p)||(y=t!==null&&t.memoizedState===null?!1:(f&2)!==0),y?(c=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Ne(Ce,f&1),t===null)return lf(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(p=l.children,t=l.fallback,c?(l=r.mode,c=r.child,p={mode:"hidden",children:p},!(l&1)&&c!==null?(c.childLanes=0,c.pendingProps=p):c=gu(p,l,0,null),t=zs(t,l,o,null),c.return=r,t.return=r,c.sibling=t,r.child=c,r.child.memoizedState=gf(o),r.memoizedState=mf,t):ud(r,p));if(f=t.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return Yk(t,r,p,l,y,f,o);if(c){c=l.fallback,p=r.mode,f=t.child,y=f.sibling;var v={mode:"hidden",children:l.children};return!(p&1)&&r.child!==f?(l=r.child,l.childLanes=0,l.pendingProps=v,r.deletions=null):(l=ms(f,v),l.subtreeFlags=f.subtreeFlags&14680064),y!==null?c=ms(y,c):(c=zs(c,p,o,null),c.flags|=2),c.return=r,l.return=r,l.sibling=c,r.child=l,l=c,c=r.child,p=t.child.memoizedState,p=p===null?gf(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=t.childLanes&~o,r.memoizedState=mf,l}return c=t.child,t=c.sibling,l=ms(c,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=o),l.return=r,l.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=l,r.memoizedState=null,l}function ud(t,r){return r=gu({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Tl(t,r,o,l){return l!==null&&Gf(l),Vi(r,t.child,null,o),t=ud(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Yk(t,r,o,l,f,c,p){if(o)return r.flags&256?(r.flags&=-257,l=_c(Error(M(422))),Tl(t,r,p,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(c=l.fallback,f=r.mode,l=gu({mode:"visible",children:l.children},f,0,null),c=zs(c,f,p,null),c.flags|=2,l.return=r,c.return=r,l.sibling=c,r.child=l,r.mode&1&&Vi(r,t.child,null,p),r.child.memoizedState=gf(p),r.memoizedState=mf,c);if(!(r.mode&1))return Tl(t,r,p,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var y=l.dgst;return l=y,c=Error(M(419)),l=_c(c,l,void 0),Tl(t,r,p,l)}if(y=(p&t.childLanes)!==0,wt||y){if(l=Xe,l!==null){switch(p&-p){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(l.suspendedLanes|p)?0:f,f!==0&&f!==c.retryLane&&(c.retryLane=f,Jr(t,f),In(l,t,f,-1))}return md(),l=_c(Error(M(421))),Tl(t,r,p,l)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=iE.bind(null,t),f._reactRetry=r,null):(t=c.treeContext,Dt=fs(f.nextSibling),Rt=r,Oe=!0,En=null,t!==null&&(rn[sn++]=Rr,rn[sn++]=br,rn[sn++]=qs,Rr=t.id,br=t.overflow,qs=r),r=ud(r,l.children),r.flags|=4096,r)}function fg(t,r,o){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),uf(t.return,r,o)}function Ac(t,r,o,l,f){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=o,c.tailMode=f)}function gv(t,r,o){var l=r.pendingProps,f=l.revealOrder,c=l.tail;if(dt(t,r,l.children,o),l=Ce.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,o,r);else if(t.tag===19)fg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ne(Ce,l),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&Xl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Ac(r,!1,f,o,c);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Xl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Ac(r,!0,o,null,c);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ks|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(M(153));if(r.child!==null){for(t=r.child,o=ms(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ms(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Kk(t,r,o){switch(r.tag){case 3:pv(r),zi();break;case 5:zy(r);break;case 1:Et(r.type)&&ql(r);break;case 4:td(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,f=r.memoizedProps.value;Ne(Wl,l._currentValue),l._currentValue=f;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ne(Ce,Ce.current&1),r.flags|=128,null):o&r.child.childLanes?mv(t,r,o):(Ne(Ce,Ce.current&1),t=Ur(t,r,o),t!==null?t.sibling:null);Ne(Ce,Ce.current&1);break;case 19:if(l=(o&r.childLanes)!==0,t.flags&128){if(l)return gv(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(Ce,Ce.current),l)break;return null;case 22:case 23:return r.lanes=0,dv(t,r,o)}return Ur(t,r,o)}var yv,yf,vv,Tv;yv=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};yf=function(){};vv=function(t,r,o,l){var f=t.memoizedProps;if(f!==l){t=r.stateNode,Fs(yr.current);var c=null;switch(o){case"input":f=Jc(t,f),l=Jc(t,l),c=[];break;case"select":f=Re({},f,{value:void 0}),l=Re({},l,{value:void 0}),c=[];break;case"textarea":f=Fc(t,f),l=Fc(t,l),c=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=zl)}zc(o,l);var p;o=null;for(N in f)if(!l.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var y=f[N];for(p in y)y.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(ia.hasOwnProperty(N)?c||(c=[]):(c=c||[]).push(N,null));for(N in l){var v=l[N];if(y=f!=null?f[N]:void 0,l.hasOwnProperty(N)&&v!==y&&(v!=null||y!=null))if(N==="style")if(y){for(p in y)!y.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in v)v.hasOwnProperty(p)&&y[p]!==v[p]&&(o||(o={}),o[p]=v[p])}else o||(c||(c=[]),c.push(N,o)),o=v;else N==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(c=c||[]).push(N,v)):N==="children"?typeof v!="string"&&typeof v!="number"||(c=c||[]).push(N,""+v):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(ia.hasOwnProperty(N)?(v!=null&&N==="onScroll"&&Ie("scroll",t),c||y===v||(c=[])):(c=c||[]).push(N,v))}o&&(c=c||[]).push("style",o);var N=c;(r.updateQueue=N)&&(r.flags|=4)}};Tv=function(t,r,o,l){o!==l&&(r.flags|=4)};function zo(t,r){if(!Oe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=o,r}function Wk(t,r,o){var l=r.pendingProps;switch(Wf(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return Et(r.type)&&Vl(),it(r),null;case 3:return l=r.stateNode,qi(),_e(kt),_e(at),rd(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(yl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,En!==null&&(If(En),En=null))),yf(t,r),it(r),null;case 5:nd(r);var f=Fs(ya.current);if(o=r.type,t!==null&&r.stateNode!=null)vv(t,r,o,l,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(M(166));return it(r),null}if(t=Fs(yr.current),yl(r)){l=r.stateNode,o=r.type;var c=r.memoizedProps;switch(l[mr]=r,l[ma]=c,t=(r.mode&1)!==0,o){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(f=0;f<Wo.length;f++)Ie(Wo[f],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":Sm(l,c),Ie("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},Ie("invalid",l);break;case"textarea":km(l,c),Ie("invalid",l)}zc(o,c),f=null;for(var p in c)if(c.hasOwnProperty(p)){var y=c[p];p==="children"?typeof y=="string"?l.textContent!==y&&(c.suppressHydrationWarning!==!0&&gl(l.textContent,y,t),f=["children",y]):typeof y=="number"&&l.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&gl(l.textContent,y,t),f=["children",""+y]):ia.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Ie("scroll",l)}switch(o){case"input":ll(l),wm(l,c,!0);break;case"textarea":ll(l),Em(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=zl)}l=f,r.updateQueue=l,l!==null&&(r.flags|=4)}else{p=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yg(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=p.createElement(o,{is:l.is}):(t=p.createElement(o),o==="select"&&(p=t,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):t=p.createElementNS(t,o),t[mr]=r,t[ma]=l,yv(t,r,!1,!1),r.stateNode=t;e:{switch(p=Vc(o,l),o){case"dialog":Ie("cancel",t),Ie("close",t),f=l;break;case"iframe":case"object":case"embed":Ie("load",t),f=l;break;case"video":case"audio":for(f=0;f<Wo.length;f++)Ie(Wo[f],t);f=l;break;case"source":Ie("error",t),f=l;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),f=l;break;case"details":Ie("toggle",t),f=l;break;case"input":Sm(t,l),f=Jc(t,l),Ie("invalid",t);break;case"option":f=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=Re({},l,{value:void 0}),Ie("invalid",t);break;case"textarea":km(t,l),f=Fc(t,l),Ie("invalid",t);break;default:f=l}zc(o,f),y=f;for(c in y)if(y.hasOwnProperty(c)){var v=y[c];c==="style"?Gg(t,v):c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Kg(t,v)):c==="children"?typeof v=="string"?(o!=="textarea"||v!=="")&&oa(t,v):typeof v=="number"&&oa(t,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?v!=null&&c==="onScroll"&&Ie("scroll",t):v!=null&&Rf(t,c,v,p))}switch(o){case"input":ll(t),wm(t,l,!1);break;case"textarea":ll(t),Em(t);break;case"option":l.value!=null&&t.setAttribute("value",""+gs(l.value));break;case"select":t.multiple=!!l.multiple,c=l.value,c!=null?Li(t,!!l.multiple,c,!1):l.defaultValue!=null&&Li(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=zl)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(t&&r.stateNode!=null)Tv(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(M(166));if(o=Fs(ya.current),Fs(yr.current),yl(r)){if(l=r.stateNode,o=r.memoizedProps,l[mr]=r,(c=l.nodeValue!==o)&&(t=Rt,t!==null))switch(t.tag){case 3:gl(l.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gl(l.nodeValue,o,(t.mode&1)!==0)}c&&(r.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[mr]=r,r.stateNode=l}return it(r),null;case 13:if(_e(Ce),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Dt!==null&&r.mode&1&&!(r.flags&128))By(),zi(),r.flags|=98560,c=!1;else if(c=yl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(M(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(M(317));c[mr]=r}else zi(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;it(r),c=!1}else En!==null&&(If(En),En=null),c=!0;if(!c)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(t===null||Ce.current&1?Ke===0&&(Ke=3):md())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return qi(),yf(t,r),t===null&&ha(r.stateNode.containerInfo),it(r),null;case 10:return Qf(r.type._context),it(r),null;case 17:return Et(r.type)&&Vl(),it(r),null;case 19:if(_e(Ce),c=r.memoizedState,c===null)return it(r),null;if(l=(r.flags&128)!==0,p=c.rendering,p===null)if(l)zo(c,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(p=Xl(t),p!==null){for(r.flags|=128,zo(c,!1),l=p.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=o,o=r.child;o!==null;)c=o,t=l,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,t=p.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ne(Ce,Ce.current&1|2),r.child}t=t.sibling}c.tail!==null&&Je()>Ki&&(r.flags|=128,l=!0,zo(c,!1),r.lanes=4194304)}else{if(!l)if(t=Xl(p),t!==null){if(r.flags|=128,l=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Oe)return it(r),null}else 2*Je()-c.renderingStartTime>Ki&&o!==1073741824&&(r.flags|=128,l=!0,zo(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(o=c.last,o!==null?o.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Je(),r.sibling=null,o=Ce.current,Ne(Ce,l?o&1|2:o&1),r):(it(r),null);case 22:case 23:return pd(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?Ct&1073741824&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(M(156,r.tag))}function Gk(t,r){switch(Wf(r),r.tag){case 1:return Et(r.type)&&Vl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return qi(),_e(kt),_e(at),rd(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return nd(r),null;case 13:if(_e(Ce),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(M(340));zi()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return _e(Ce),null;case 4:return qi(),null;case 10:return Qf(r.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var Sl=!1,ot=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ri(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Be(t,r,l)}else o.current=null}function vf(t,r,o){try{o()}catch(l){Be(t,r,l)}}var dg=!1;function Xk(t,r){if(ef=$l,t=Ey(),Yf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var p=0,y=-1,v=-1,N=0,R=0,D=t,C=null;t:for(;;){for(var $;D!==o||f!==0&&D.nodeType!==3||(y=p+f),D!==c||l!==0&&D.nodeType!==3||(v=p+l),D.nodeType===3&&(p+=D.nodeValue.length),($=D.firstChild)!==null;)C=D,D=$;for(;;){if(D===t)break t;if(C===o&&++N===f&&(y=p),C===c&&++R===l&&(v=p),($=D.nextSibling)!==null)break;D=C,C=D.parentNode}D=$}o=y===-1||v===-1?null:{start:y,end:v}}else o=null}o=o||{start:0,end:0}}else o=null;for(tf={focusedElem:t,selectionRange:o},$l=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var F=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var j=F.memoizedProps,ye=F.memoizedState,I=r.stateNode,S=I.getSnapshotBeforeUpdate(r.elementType===r.type?j:wn(r.type,j),ye);I.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(L){Be(r,r.return,L)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return F=dg,dg=!1,F}function na(t,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&t)===t){var c=f.destroy;f.destroy=void 0,c!==void 0&&vf(r,o,c)}f=f.next}while(f!==l)}}function pu(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function Tf(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Sv(t){var r=t.alternate;r!==null&&(t.alternate=null,Sv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[mr],delete r[ma],delete r[sf],delete r[Rk],delete r[bk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=zl));else if(l!==4&&(t=t.child,t!==null))for(Sf(t,r,o),t=t.sibling;t!==null;)Sf(t,r,o),t=t.sibling}function wf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(wf(t,r,o),t=t.sibling;t!==null;)wf(t,r,o),t=t.sibling}var et=null,kn=!1;function ts(t,r,o){for(o=o.child;o!==null;)kv(t,r,o),o=o.sibling}function kv(t,r,o){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ou,o)}catch{}switch(o.tag){case 5:ot||Ri(o,r);case 6:var l=et,f=kn;et=null,ts(t,r,o),et=l,kn=f,et!==null&&(kn?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(kn?(t=et,o=o.stateNode,t.nodeType===8?Sc(t.parentNode,o):t.nodeType===1&&Sc(t,o),ca(t)):Sc(et,o.stateNode));break;case 4:l=et,f=kn,et=o.stateNode.containerInfo,kn=!0,ts(t,r,o),et=l,kn=f;break;case 0:case 11:case 14:case 15:if(!ot&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var c=f,p=c.destroy;c=c.tag,p!==void 0&&(c&2||c&4)&&vf(o,r,p),f=f.next}while(f!==l)}ts(t,r,o);break;case 1:if(!ot&&(Ri(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(y){Be(o,r,y)}ts(t,r,o);break;case 21:ts(t,r,o);break;case 22:o.mode&1?(ot=(l=ot)||o.memoizedState!==null,ts(t,r,o),ot=l):ts(t,r,o);break;default:ts(t,r,o)}}function pg(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Hk),r.forEach(function(l){var f=oE.bind(null,t,l);o.has(l)||(o.add(l),l.then(f,f))})}}function Sn(t,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var c=t,p=r,y=p;e:for(;y!==null;){switch(y.tag){case 5:et=y.stateNode,kn=!1;break e;case 3:et=y.stateNode.containerInfo,kn=!0;break e;case 4:et=y.stateNode.containerInfo,kn=!0;break e}y=y.return}if(et===null)throw Error(M(160));kv(c,p,f),et=null,kn=!1;var v=f.alternate;v!==null&&(v.return=null),f.return=null}catch(N){Be(f,r,N)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ev(r,t),r=r.sibling}function Ev(t,r){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(r,t),hr(t),l&4){try{na(3,t,t.return),pu(3,t)}catch(j){Be(t,t.return,j)}try{na(5,t,t.return)}catch(j){Be(t,t.return,j)}}break;case 1:Sn(r,t),hr(t),l&512&&o!==null&&Ri(o,o.return);break;case 5:if(Sn(r,t),hr(t),l&512&&o!==null&&Ri(o,o.return),t.flags&32){var f=t.stateNode;try{oa(f,"")}catch(j){Be(t,t.return,j)}}if(l&4&&(f=t.stateNode,f!=null)){var c=t.memoizedProps,p=o!==null?o.memoizedProps:c,y=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&Vg(f,c),Vc(y,p);var N=Vc(y,c);for(p=0;p<v.length;p+=2){var R=v[p],D=v[p+1];R==="style"?Gg(f,D):R==="dangerouslySetInnerHTML"?Kg(f,D):R==="children"?oa(f,D):Rf(f,R,D,N)}switch(y){case"input":Uc(f,c);break;case"textarea":qg(f,c);break;case"select":var C=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!c.multiple;var $=c.value;$!=null?Li(f,!!c.multiple,$,!1):C!==!!c.multiple&&(c.defaultValue!=null?Li(f,!!c.multiple,c.defaultValue,!0):Li(f,!!c.multiple,c.multiple?[]:"",!1))}f[ma]=c}catch(j){Be(t,t.return,j)}}break;case 6:if(Sn(r,t),hr(t),l&4){if(t.stateNode===null)throw Error(M(162));f=t.stateNode,c=t.memoizedProps;try{f.nodeValue=c}catch(j){Be(t,t.return,j)}}break;case 3:if(Sn(r,t),hr(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{ca(r.containerInfo)}catch(j){Be(t,t.return,j)}break;case 4:Sn(r,t),hr(t);break;case 13:Sn(r,t),hr(t),f=t.child,f.flags&8192&&(c=f.memoizedState!==null,f.stateNode.isHidden=c,!c||f.alternate!==null&&f.alternate.memoizedState!==null||(dd=Je())),l&4&&pg(t);break;case 22:if(R=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(N=ot)||R,Sn(r,t),ot=N):Sn(r,t),hr(t),l&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!R&&t.mode&1)for(Y=t,R=t.child;R!==null;){for(D=Y=R;Y!==null;){switch(C=Y,$=C.child,C.tag){case 0:case 11:case 14:case 15:na(4,C,C.return);break;case 1:Ri(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){l=C,o=C.return;try{r=l,F.props=r.memoizedProps,F.state=r.memoizedState,F.componentWillUnmount()}catch(j){Be(l,o,j)}}break;case 5:Ri(C,C.return);break;case 22:if(C.memoizedState!==null){gg(D);continue}}$!==null?($.return=C,Y=$):gg(D)}R=R.sibling}e:for(R=null,D=t;;){if(D.tag===5){if(R===null){R=D;try{f=D.stateNode,N?(c=f.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=D.stateNode,v=D.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Wg("display",p))}catch(j){Be(t,t.return,j)}}}else if(D.tag===6){if(R===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(j){Be(t,t.return,j)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===t)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===t)break e;for(;D.sibling===null;){if(D.return===null||D.return===t)break e;R===D&&(R=null),D=D.return}R===D&&(R=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Sn(r,t),hr(t),l&4&&pg(t);break;case 21:break;default:Sn(r,t),hr(t)}}function hr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(wv(o)){var l=o;break e}o=o.return}throw Error(M(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(oa(f,""),l.flags&=-33);var c=hg(t);wf(t,c,f);break;case 3:case 4:var p=l.stateNode.containerInfo,y=hg(t);Sf(t,y,p);break;default:throw Error(M(161))}}catch(v){Be(t,t.return,v)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qk(t,r,o){Y=t,Nv(t)}function Nv(t,r,o){for(var l=(t.mode&1)!==0;Y!==null;){var f=Y,c=f.child;if(f.tag===22&&l){var p=f.memoizedState!==null||Sl;if(!p){var y=f.alternate,v=y!==null&&y.memoizedState!==null||ot;y=Sl;var N=ot;if(Sl=p,(ot=v)&&!N)for(Y=f;Y!==null;)p=Y,v=p.child,p.tag===22&&p.memoizedState!==null?yg(f):v!==null?(v.return=p,Y=v):yg(f);for(;c!==null;)Y=c,Nv(c),c=c.sibling;Y=f,Sl=y,ot=N}mg(t)}else f.subtreeFlags&8772&&c!==null?(c.return=f,Y=c):mg(t)}}function mg(t){for(;Y!==null;){var r=Y;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ot||pu(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!ot)if(o===null)l.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:wn(r.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=r.updateQueue;c!==null&&Qm(r,c,l);break;case 3:var p=r.updateQueue;if(p!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Qm(r,p,o)}break;case 5:var y=r.stateNode;if(o===null&&r.flags&4){o=y;var v=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&o.focus();break;case"img":v.src&&(o.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var N=r.alternate;if(N!==null){var R=N.memoizedState;if(R!==null){var D=R.dehydrated;D!==null&&ca(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}ot||r.flags&512&&Tf(r)}catch(C){Be(r,r.return,C)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function gg(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function yg(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{pu(4,r)}catch(v){Be(r,o,v)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var f=r.return;try{l.componentDidMount()}catch(v){Be(r,f,v)}}var c=r.return;try{Tf(r)}catch(v){Be(r,c,v)}break;case 5:var p=r.return;try{Tf(r)}catch(v){Be(r,p,v)}}}catch(v){Be(r,r.return,v)}if(r===t){Y=null;break}var y=r.sibling;if(y!==null){y.return=r.return,Y=y;break}Y=r.return}}var Zk=Math.ceil,eu=$r.ReactCurrentDispatcher,cd=$r.ReactCurrentOwner,an=$r.ReactCurrentBatchConfig,he=0,Xe=null,ze=null,tt=0,Ct=0,bi=Ts(0),Ke=0,wa=null,Ks=0,mu=0,fd=0,ra=null,Tt=null,dd=0,Ki=1/0,Cr=null,tu=!1,kf=null,hs=null,wl=!1,as=null,nu=0,sa=0,Ef=null,Dl=-1,Rl=0;function ht(){return he&6?Je():Dl!==-1?Dl:Dl=Je()}function ps(t){return t.mode&1?he&2&&tt!==0?tt&-tt:Bk.transition!==null?(Rl===0&&(Rl=ay()),Rl):(t=ve,t!==0||(t=window.event,t=t===void 0?16:py(t.type)),t):1}function In(t,r,o,l){if(50<sa)throw sa=0,Ef=null,Error(M(185));Ea(t,o,l),(!(he&2)||t!==Xe)&&(t===Xe&&(!(he&2)&&(mu|=o),Ke===4&&is(t,tt)),Nt(t,l),o===1&&he===0&&!(r.mode&1)&&(Ki=Je()+500,fu&&Ss()))}function Nt(t,r){var o=t.callbackNode;B1(t,r);var l=Ul(t,t===Xe?tt:0);if(l===0)o!==null&&_m(o),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(o!=null&&_m(o),r===1)t.tag===0?Lk(vg.bind(null,t)):Ry(vg.bind(null,t)),Ck(function(){!(he&6)&&Ss()}),o=null;else{switch(ly(l)){case 1:o=Jf;break;case 4:o=iy;break;case 16:o=Jl;break;case 536870912:o=oy;break;default:o=Jl}o=Dv(o,Iv.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Iv(t,r){if(Dl=-1,Rl=0,he&6)throw Error(M(327));var o=t.callbackNode;if($i()&&t.callbackNode!==o)return null;var l=Ul(t,t===Xe?tt:0);if(l===0)return null;if(l&30||l&t.expiredLanes||r)r=ru(t,l);else{r=l;var f=he;he|=2;var c=Av();(Xe!==t||tt!==r)&&(Cr=null,Ki=Je()+500,js(t,r));do try{nE();break}catch(y){_v(t,y)}while(1);Xf(),eu.current=c,he=f,ze!==null?r=0:(Xe=null,tt=0,r=Ke)}if(r!==0){if(r===2&&(f=Gc(t),f!==0&&(l=f,r=Nf(t,f))),r===1)throw o=wa,js(t,0),is(t,l),Nt(t,Je()),o;if(r===6)is(t,l);else{if(f=t.current.alternate,!(l&30)&&!eE(f)&&(r=ru(t,l),r===2&&(c=Gc(t),c!==0&&(l=c,r=Nf(t,c))),r===1))throw o=wa,js(t,0),is(t,l),Nt(t,Je()),o;switch(t.finishedWork=f,t.finishedLanes=l,r){case 0:case 1:throw Error(M(345));case 2:Ms(t,Tt,Cr);break;case 3:if(is(t,l),(l&130023424)===l&&(r=dd+500-Je(),10<r)){if(Ul(t,0)!==0)break;if(f=t.suspendedLanes,(f&l)!==l){ht(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=rf(Ms.bind(null,t,Tt,Cr),r);break}Ms(t,Tt,Cr);break;case 4:if(is(t,l),(l&4194240)===l)break;for(r=t.eventTimes,f=-1;0<l;){var p=31-Nn(l);c=1<<p,p=r[p],p>f&&(f=p),l&=~c}if(l=f,l=Je()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Zk(l/1960))-l,10<l){t.timeoutHandle=rf(Ms.bind(null,t,Tt,Cr),l);break}Ms(t,Tt,Cr);break;case 5:Ms(t,Tt,Cr);break;default:throw Error(M(329))}}}return Nt(t,Je()),t.callbackNode===o?Iv.bind(null,t):null}function Nf(t,r){var o=ra;return t.current.memoizedState.isDehydrated&&(js(t,r).flags|=256),t=ru(t,r),t!==2&&(r=Tt,Tt=o,r!==null&&If(r)),t}function If(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function eE(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],c=f.getSnapshot;f=f.value;try{if(!_n(c(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(t,r){for(r&=~fd,r&=~mu,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Nn(r),l=1<<o;t[o]=-1,r&=~l}}function vg(t){if(he&6)throw Error(M(327));$i();var r=Ul(t,0);if(!(r&1))return Nt(t,Je()),null;var o=ru(t,r);if(t.tag!==0&&o===2){var l=Gc(t);l!==0&&(r=l,o=Nf(t,l))}if(o===1)throw o=wa,js(t,0),is(t,r),Nt(t,Je()),o;if(o===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ms(t,Tt,Cr),Nt(t,Je()),null}function hd(t,r){var o=he;he|=1;try{return t(r)}finally{he=o,he===0&&(Ki=Je()+500,fu&&Ss())}}function Ws(t){as!==null&&as.tag===0&&!(he&6)&&$i();var r=he;he|=1;var o=an.transition,l=ve;try{if(an.transition=null,ve=1,t)return t()}finally{ve=l,an.transition=o,he=r,!(he&6)&&Ss()}}function pd(){Ct=bi.current,_e(bi)}function js(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ok(o)),ze!==null)for(o=ze.return;o!==null;){var l=o;switch(Wf(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Vl();break;case 3:qi(),_e(kt),_e(at),rd();break;case 5:nd(l);break;case 4:qi();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Qf(l.type._context);break;case 22:case 23:pd()}o=o.return}if(Xe=t,ze=t=ms(t.current,null),tt=Ct=r,Ke=0,wa=null,fd=mu=Ks=0,Tt=ra=null,$s!==null){for(r=0;r<$s.length;r++)if(o=$s[r],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,c=o.pending;if(c!==null){var p=c.next;c.next=f,l.next=p}o.pending=l}$s=null}return t}function _v(t,r){do{var o=ze;try{if(Xf(),xl.current=Zl,Ql){for(var l=De.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Ql=!1}if(Ys=0,He=Ye=De=null,ta=!1,va=0,cd.current=null,o===null||o.return===null){Ke=1,wa=r,ze=null;break}e:{var c=t,p=o.return,y=o,v=r;if(r=tt,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var N=v,R=y,D=R.tag;if(!(R.mode&1)&&(D===0||D===11||D===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=ig(p);if($!==null){$.flags&=-257,og($,p,y,c,r),$.mode&1&&sg(c,N,r),r=$,v=N;var F=r.updateQueue;if(F===null){var j=new Set;j.add(v),r.updateQueue=j}else F.add(v);break e}else{if(!(r&1)){sg(c,N,r),md();break e}v=Error(M(426))}}else if(Oe&&y.mode&1){var ye=ig(p);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),og(ye,p,y,c,r),Gf(Yi(v,y));break e}}c=v=Yi(v,y),Ke!==4&&(Ke=2),ra===null?ra=[c]:ra.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var I=uv(c,v,r);Xm(c,I);break e;case 1:y=v;var S=c.type,_=c.stateNode;if(!(c.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hs===null||!hs.has(_)))){c.flags|=65536,r&=-r,c.lanes|=r;var L=cv(c,y,r);Xm(c,L);break e}}c=c.return}while(c!==null)}xv(o)}catch(V){r=V,ze===o&&o!==null&&(ze=o=o.return);continue}break}while(1)}function Av(){var t=eu.current;return eu.current=Zl,t===null?Zl:t}function md(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Xe===null||!(Ks&268435455)&&!(mu&268435455)||is(Xe,tt)}function ru(t,r){var o=he;he|=2;var l=Av();(Xe!==t||tt!==r)&&(Cr=null,js(t,r));do try{tE();break}catch(f){_v(t,f)}while(1);if(Xf(),he=o,eu.current=l,ze!==null)throw Error(M(261));return Xe=null,tt=0,Ke}function tE(){for(;ze!==null;)Pv(ze)}function nE(){for(;ze!==null&&!A1();)Pv(ze)}function Pv(t){var r=Cv(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,r===null?xv(t):ze=r,cd.current=null}function xv(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Gk(o,r),o!==null){o.flags&=32767,ze=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,ze=null;return}}else if(o=Wk(o,r,Ct),o!==null){ze=o;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=t}while(r!==null);Ke===0&&(Ke=5)}function Ms(t,r,o){var l=ve,f=an.transition;try{an.transition=null,ve=1,rE(t,r,o,l)}finally{an.transition=f,ve=l}return null}function rE(t,r,o,l){do $i();while(as!==null);if(he&6)throw Error(M(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var c=o.lanes|o.childLanes;if(M1(t,c),t===Xe&&(ze=Xe=null,tt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wl||(wl=!0,Dv(Jl,function(){return $i(),null})),c=(o.flags&15990)!==0,o.subtreeFlags&15990||c){c=an.transition,an.transition=null;var p=ve;ve=1;var y=he;he|=4,cd.current=null,Xk(t,o),Ev(o,t),Ek(tf),$l=!!ef,tf=ef=null,t.current=o,Qk(o),P1(),he=y,ve=p,an.transition=c}else t.current=o;if(wl&&(wl=!1,as=t,nu=f),c=t.pendingLanes,c===0&&(hs=null),C1(o.stateNode),Nt(t,Je()),r!==null)for(l=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],l(f.value,{componentStack:f.stack,digest:f.digest});if(tu)throw tu=!1,t=kf,kf=null,t;return nu&1&&t.tag!==0&&$i(),c=t.pendingLanes,c&1?t===Ef?sa++:(sa=0,Ef=t):sa=0,Ss(),null}function $i(){if(as!==null){var t=ly(nu),r=an.transition,o=ve;try{if(an.transition=null,ve=16>t?16:t,as===null)var l=!1;else{if(t=as,as=null,nu=0,he&6)throw Error(M(331));var f=he;for(he|=4,Y=t.current;Y!==null;){var c=Y,p=c.child;if(Y.flags&16){var y=c.deletions;if(y!==null){for(var v=0;v<y.length;v++){var N=y[v];for(Y=N;Y!==null;){var R=Y;switch(R.tag){case 0:case 11:case 15:na(8,R,c)}var D=R.child;if(D!==null)D.return=R,Y=D;else for(;Y!==null;){R=Y;var C=R.sibling,$=R.return;if(Sv(R),R===N){Y=null;break}if(C!==null){C.return=$,Y=C;break}Y=$}}}var F=c.alternate;if(F!==null){var j=F.child;if(j!==null){F.child=null;do{var ye=j.sibling;j.sibling=null,j=ye}while(j!==null)}}Y=c}}if(c.subtreeFlags&2064&&p!==null)p.return=c,Y=p;else e:for(;Y!==null;){if(c=Y,c.flags&2048)switch(c.tag){case 0:case 11:case 15:na(9,c,c.return)}var I=c.sibling;if(I!==null){I.return=c.return,Y=I;break e}Y=c.return}}var S=t.current;for(Y=S;Y!==null;){p=Y;var _=p.child;if(p.subtreeFlags&2064&&_!==null)_.return=p,Y=_;else e:for(p=S;Y!==null;){if(y=Y,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:pu(9,y)}}catch(V){Be(y,y.return,V)}if(y===p){Y=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,Y=L;break e}Y=y.return}}if(he=f,Ss(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ou,t)}catch{}l=!0}return l}finally{ve=o,an.transition=r}}return!1}function Tg(t,r,o){r=Yi(o,r),r=uv(t,r,1),t=ds(t,r,1),r=ht(),t!==null&&(Ea(t,1,r),Nt(t,r))}function Be(t,r,o){if(t.tag===3)Tg(t,t,o);else for(;r!==null;){if(r.tag===3){Tg(r,t,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){t=Yi(o,t),t=cv(r,t,1),r=ds(r,t,1),t=ht(),r!==null&&(Ea(r,1,t),Nt(r,t));break}}r=r.return}}function sE(t,r,o){var l=t.pingCache;l!==null&&l.delete(r),r=ht(),t.pingedLanes|=t.suspendedLanes&o,Xe===t&&(tt&o)===o&&(Ke===4||Ke===3&&(tt&130023424)===tt&&500>Je()-dd?js(t,0):fd|=o),Nt(t,r)}function Ov(t,r){r===0&&(t.mode&1?(r=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):r=1);var o=ht();t=Jr(t,r),t!==null&&(Ea(t,r,o),Nt(t,o))}function iE(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Ov(t,o)}function oE(t,r){var o=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(M(314))}l!==null&&l.delete(r),Ov(t,o)}var Cv;Cv=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||kt.current)wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return wt=!1,Kk(t,r,o);wt=!!(t.flags&131072)}else wt=!1,Oe&&r.flags&1048576&&by(r,Kl,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Cl(t,r),t=r.pendingProps;var f=ji(r,at.current);Ui(r,o),f=id(null,r,l,t,f,o);var c=od();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(l)?(c=!0,ql(r)):c=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ed(r),f.updater=du,r.stateNode=f,f._reactInternals=r,ff(r,l,t,o),r=pf(null,r,l,!0,c,o)):(r.tag=0,Oe&&c&&Kf(r),dt(null,r,f,o),r=r.child),r;case 16:l=r.elementType;e:{switch(Cl(t,r),t=r.pendingProps,f=l._init,l=f(l._payload),r.type=l,f=r.tag=lE(l),t=wn(l,t),f){case 0:r=hf(null,r,l,t,o);break e;case 1:r=ug(null,r,l,t,o);break e;case 11:r=ag(null,r,l,t,o);break e;case 14:r=lg(null,r,l,wn(l.type,t),o);break e}throw Error(M(306,l,""))}return r;case 0:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:wn(l,f),hf(t,r,l,f,o);case 1:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:wn(l,f),ug(t,r,l,f,o);case 3:e:{if(pv(r),t===null)throw Error(M(387));l=r.pendingProps,c=r.memoizedState,f=c.element,Jy(t,r),Hl(r,l,null,o);var p=r.memoizedState;if(l=p.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){f=Yi(Error(M(423)),r),r=cg(t,r,l,o,f);break e}else if(l!==f){f=Yi(Error(M(424)),r),r=cg(t,r,l,o,f);break e}else for(Dt=fs(r.stateNode.containerInfo.firstChild),Rt=r,Oe=!0,En=null,o=jy(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(zi(),l===f){r=Ur(t,r,o);break e}dt(t,r,l,o)}r=r.child}return r;case 5:return zy(r),t===null&&lf(r),l=r.type,f=r.pendingProps,c=t!==null?t.memoizedProps:null,p=f.children,nf(l,f)?p=null:c!==null&&nf(l,c)&&(r.flags|=32),hv(t,r),dt(t,r,p,o),r.child;case 6:return t===null&&lf(r),null;case 13:return mv(t,r,o);case 4:return td(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Vi(r,null,l,o):dt(t,r,l,o),r.child;case 11:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:wn(l,f),ag(t,r,l,f,o);case 7:return dt(t,r,r.pendingProps,o),r.child;case 8:return dt(t,r,r.pendingProps.children,o),r.child;case 12:return dt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,f=r.pendingProps,c=r.memoizedProps,p=f.value,Ne(Wl,l._currentValue),l._currentValue=p,c!==null)if(_n(c.value,p)){if(c.children===f.children&&!kt.current){r=Ur(t,r,o);break e}}else for(c=r.child,c!==null&&(c.return=r);c!==null;){var y=c.dependencies;if(y!==null){p=c.child;for(var v=y.firstContext;v!==null;){if(v.context===l){if(c.tag===1){v=Lr(-1,o&-o),v.tag=2;var N=c.updateQueue;if(N!==null){N=N.shared;var R=N.pending;R===null?v.next=v:(v.next=R.next,R.next=v),N.pending=v}}c.lanes|=o,v=c.alternate,v!==null&&(v.lanes|=o),uf(c.return,o,r),y.lanes|=o;break}v=v.next}}else if(c.tag===10)p=c.type===r.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(M(341));p.lanes|=o,y=p.alternate,y!==null&&(y.lanes|=o),uf(p,o,r),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===r){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}dt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,l=r.pendingProps.children,Ui(r,o),f=ln(f),l=l(f),r.flags|=1,dt(t,r,l,o),r.child;case 14:return l=r.type,f=wn(l,r.pendingProps),f=wn(l.type,f),lg(t,r,l,f,o);case 15:return fv(t,r,r.type,r.pendingProps,o);case 17:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:wn(l,f),Cl(t,r),r.tag=1,Et(l)?(t=!0,ql(r)):t=!1,Ui(r,o),$y(r,l,f),ff(r,l,f,o),pf(null,r,l,!0,t,o);case 19:return gv(t,r,o);case 22:return dv(t,r,o)}throw Error(M(156,r.tag))};function Dv(t,r){return sy(t,r)}function aE(t,r,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,r,o,l){return new aE(t,r,o,l)}function gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lE(t){if(typeof t=="function")return gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lf)return 11;if(t===Bf)return 14}return 2}function ms(t,r){var o=t.alternate;return o===null?(o=on(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function bl(t,r,o,l,f,c){var p=2;if(l=t,typeof t=="function")gd(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Ni:return zs(o.children,f,c,r);case bf:p=8,f|=8;break;case bc:return t=on(12,o,r,f|2),t.elementType=bc,t.lanes=c,t;case Lc:return t=on(13,o,r,f),t.elementType=Lc,t.lanes=c,t;case Bc:return t=on(19,o,r,f),t.elementType=Bc,t.lanes=c,t;case Fg:return gu(o,f,c,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ug:p=10;break e;case $g:p=9;break e;case Lf:p=11;break e;case Bf:p=14;break e;case ns:p=16,l=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return r=on(p,o,r,f),r.elementType=t,r.type=l,r.lanes=c,r}function zs(t,r,o,l){return t=on(7,t,l,r),t.lanes=o,t}function gu(t,r,o,l){return t=on(22,t,l,r),t.elementType=Fg,t.lanes=o,t.stateNode={isHidden:!1},t}function Pc(t,r,o){return t=on(6,t,null,r),t.lanes=o,t}function xc(t,r,o){return r=on(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function uE(t,r,o,l,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function yd(t,r,o,l,f,c,p,y,v){return t=new uE(t,r,o,y,v),r===1?(r=1,c===!0&&(r|=8)):r=0,c=on(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(c),t}function cE(t,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:l==null?null:""+l,children:t,containerInfo:r,implementation:o}}function Rv(t){if(!t)return ys;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(M(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(M(171))}if(t.tag===1){var o=t.type;if(Et(o))return Dy(t,o,r)}return r}function bv(t,r,o,l,f,c,p,y,v){return t=yd(o,l,!0,t,f,c,p,y,v),t.context=Rv(null),o=t.current,l=ht(),f=ps(o),c=Lr(l,f),c.callback=r??null,ds(o,c,f),t.current.lanes=f,Ea(t,f,l),Nt(t,l),t}function yu(t,r,o,l){var f=r.current,c=ht(),p=ps(f);return o=Rv(o),r.context===null?r.context=o:r.pendingContext=o,r=Lr(c,p),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=ds(f,r,p),t!==null&&(In(t,f,p,c),Pl(t,f,p)),p}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function vd(t,r){Sg(t,r),(t=t.alternate)&&Sg(t,r)}function fE(){return null}var Lv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}vu.prototype.render=Td.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(M(409));yu(t,r,null,null)};vu.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ws(function(){yu(null,t,null,null)}),r[Mr]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var r=fy();t={blockedOn:null,target:t,priority:r};for(var o=0;o<ss.length&&r!==0&&r<ss[o].priority;o++);ss.splice(o,0,t),o===0&&hy(t)}};function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wg(){}function dE(t,r,o,l,f){if(f){if(typeof l=="function"){var c=l;l=function(){var N=su(p);c.call(N)}}var p=bv(r,l,t,0,null,!1,!1,"",wg);return t._reactRootContainer=p,t[Mr]=p.current,ha(t.nodeType===8?t.parentNode:t),Ws(),p}for(;f=t.lastChild;)t.removeChild(f);if(typeof l=="function"){var y=l;l=function(){var N=su(v);y.call(N)}}var v=yd(t,0,!1,null,null,!1,!1,"",wg);return t._reactRootContainer=v,t[Mr]=v.current,ha(t.nodeType===8?t.parentNode:t),Ws(function(){yu(r,v,o,l)}),v}function Su(t,r,o,l,f){var c=o._reactRootContainer;if(c){var p=c;if(typeof f=="function"){var y=f;f=function(){var v=su(p);y.call(v)}}yu(r,p,t,f)}else p=dE(o,r,t,f,l);return su(p)}uy=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ko(r.pendingLanes);o!==0&&(Uf(r,o|1),Nt(r,Je()),!(he&6)&&(Ki=Je()+500,Ss()))}break;case 13:Ws(function(){var l=Jr(t,1);if(l!==null){var f=ht();In(l,t,1,f)}}),vd(t,1)}};$f=function(t){if(t.tag===13){var r=Jr(t,134217728);if(r!==null){var o=ht();In(r,t,134217728,o)}vd(t,134217728)}};cy=function(t){if(t.tag===13){var r=ps(t),o=Jr(t,r);if(o!==null){var l=ht();In(o,t,r,l)}vd(t,r)}};fy=function(){return ve};dy=function(t,r){var o=ve;try{return ve=t,r()}finally{ve=o}};Yc=function(t,r,o){switch(r){case"input":if(Uc(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==t&&l.form===t.form){var f=cu(l);if(!f)throw Error(M(90));zg(l),Uc(l,f)}}}break;case"textarea":qg(t,o);break;case"select":r=o.value,r!=null&&Li(t,!!o.multiple,r,!1)}};Qg=hd;Zg=Ws;var hE={usingClientEntryPoint:!1,Events:[Ia,Pi,cu,Hg,Xg,hd]},Vo={findFiberByHostInstance:Us,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pE={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ny(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||fE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{ou=kl.inject(pE),gr=kl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hE;Lt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(r))throw Error(M(200));return cE(t,r,null,o)};Lt.createRoot=function(t,r){if(!Sd(t))throw Error(M(299));var o=!1,l="",f=Lv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=yd(t,1,!1,null,null,o,!1,l,f),t[Mr]=r.current,ha(t.nodeType===8?t.parentNode:t),new Td(r)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=ny(r),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Ws(t)};Lt.hydrate=function(t,r,o){if(!Tu(r))throw Error(M(200));return Su(null,t,r,!0,o)};Lt.hydrateRoot=function(t,r,o){if(!Sd(t))throw Error(M(405));var l=o!=null&&o.hydratedSources||null,f=!1,c="",p=Lv;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),r=bv(r,null,t,1,o??null,f,!1,c,p),t[Mr]=r.current,ha(t),l)for(t=0;t<l.length;t++)o=l[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new vu(r)};Lt.render=function(t,r,o){if(!Tu(r))throw Error(M(200));return Su(null,t,r,!1,o)};Lt.unmountComponentAtNode=function(t){if(!Tu(t))throw Error(M(40));return t._reactRootContainer?(Ws(function(){Su(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};Lt.unstable_batchedUpdates=hd;Lt.unstable_renderSubtreeIntoContainer=function(t,r,o,l){if(!Tu(o))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Su(t,r,o,!1,l)};Lt.version="18.2.0-next-9e3b772b8-20220608";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(t){console.error(t)}}Bv(),bg.exports=Lt;var mE=bg.exports,kg=mE;Dc.createRoot=kg.createRoot,Dc.hydrateRoot=kg.hydrateRoot;var _f={exports:{}};(function(t,r){(function(o,l){l(r)})(zw,function(o){var l=Object.defineProperty,f=(s,e,n)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,c=(s,e,n)=>(f(s,typeof e!="symbol"?e+"":e,n),n),p;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(p||(p={}));function y(s,e){if(!s)throw new Error(e)}const v=34028234663852886e22,N=-34028234663852886e22,R=4294967295,D=2147483647,C=-2147483648;function $(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>D||s<C)throw new Error("invalid int 32: "+s)}function F(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>R||s<0)throw new Error("invalid uint 32: "+s)}function j(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>v||s<N))throw new Error("invalid float 32: "+s)}const ye=Symbol("@bufbuild/protobuf/enum-type");function I(s){const e=s[ye];return y(e,"missing enum type on enum object"),e}function S(s,e,n,i){s[ye]=_(e,n.map(a=>({no:a.no,name:a.name,localName:s[a.no]})))}function _(s,e,n){const i=Object.create(null),a=Object.create(null),u=[];for(const d of e){const h=V(d);u.push(h),i[d.name]=h,a[d.no]=h}return{typeName:s,values:u,findName(d){return i[d]},findNumber(d){return a[d]}}}function L(s,e,n){const i={};for(const a of e){const u=V(a);i[u.localName]=u.no,i[u.no]=u.localName}return S(i,s,e),i}function V(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class O{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),a=i.runtime.bin,u=a.makeReadOptions(n);return a.readMessage(this,u.readerFactory(e),e.byteLength,u),this}fromJson(e,n){const i=this.getType(),a=i.runtime.json,u=a.makeReadOptions(n);return a.readMessage(i,e,u,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(a){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${a instanceof Error?a.message:String(a)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,a=i.makeWriteOptions(e),u=a.writerFactory();return i.writeMessage(this,u,a),u.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,a=i.makeWriteOptions(e);return i.writeMessage(this,a)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function W(s,e,n,i){var a;const u=(a=i==null?void 0:i.localName)!==null&&a!==void 0?a:e.substring(e.lastIndexOf(".")+1),d={[u]:function(h){s.util.initFields(this),s.util.initPartial(h,this)}}[u];return Object.setPrototypeOf(d.prototype,new O),Object.assign(d,{runtime:s,typeName:e,fields:s.util.newFieldList(n),fromBinary(h,m){return new d().fromBinary(h,m)},fromJson(h,m){return new d().fromJson(h,m)},fromJsonString(h,m){return new d().fromJsonString(h,m)},equals(h,m){return s.util.equals(d,h,m)}}),d}function Q(s,e,n,i){return{syntax:s,json:e,bin:n,util:i,makeMessageType(a,u,d){return W(this,a,u,d)},makeEnum:L,makeEnumType:_,getEnumType:I}}var w;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(w||(w={}));var ee;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ee||(ee={}));function It(){let s=0,e=0;for(let i=0;i<28;i+=7){let a=this.buf[this.pos++];if(s|=(a&127)<<i,!(a&128))return this.assertBounds(),[s,e]}let n=this.buf[this.pos++];if(s|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[s,e];for(let i=3;i<=31;i+=7){let a=this.buf[this.pos++];if(e|=(a&127)<<i,!(a&128))return this.assertBounds(),[s,e]}throw new Error("invalid varint")}function vr(s,e,n){for(let u=0;u<28;u=u+7){const d=s>>>u,h=!(!(d>>>7)&&e==0),m=(h?d|128:d)&255;if(n.push(m),!h)return}const i=s>>>28&15|(e&7)<<4,a=!!(e>>3);if(n.push((a?i|128:i)&255),!!a){for(let u=3;u<31;u=u+7){const d=e>>>u,h=!!(d>>>7),m=(h?d|128:d)&255;if(n.push(m),!h)return}n.push(e>>>31&1)}}const An=4294967296;function Xi(s){const e=s[0]==="-";e&&(s=s.slice(1));const n=1e6;let i=0,a=0;function u(d,h){const m=Number(s.slice(d,h));a*=n,i=i*n+m,i>=An&&(a=a+(i/An|0),i=i%An)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?re(i,a):z(i,a)}function wu(s,e){let n=z(s,e);const i=n.hi&2147483648;i&&(n=re(n.lo,n.hi));const a=Xs(n.lo,n.hi);return i?"-"+a:a}function Xs(s,e){if({lo:s,hi:e}=Qi(s,e),e<=2097151)return String(An*e+s);const n=s&16777215,i=(s>>>24|e<<8)&16777215,a=e>>16&65535;let u=n+i*6777216+a*6710656,d=i+a*8147497,h=a*2;const m=1e7;return u>=m&&(d+=Math.floor(u/m),u%=m),d>=m&&(h+=Math.floor(d/m),d%=m),h.toString()+se(d)+se(u)}function Qi(s,e){return{lo:s>>>0,hi:e>>>0}}function z(s,e){return{lo:s|0,hi:e|0}}function re(s,e){return e=~e,s?s=~s+1:e+=1,z(s,e)}const se=s=>{const e=String(s);return"0000000".slice(e.length)+e};function Ae(s,e){if(s>=0){for(;s>127;)e.push(s&127|128),s=s>>>7;e.push(s)}else{for(let n=0;n<9;n++)e.push(s&127|128),s=s>>7;e.push(1)}}function Ue(){let s=this.buf[this.pos++],e=s&127;if(!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<7,!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<14,!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<21,!(s&128))return this.assertBounds(),e;s=this.buf[this.pos++],e|=(s&15)<<28;for(let n=5;s&128&&n<10;n++)s=this.buf[this.pos++];if(s&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function Qs(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),d=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(m){const g=typeof m=="bigint"?m:BigInt(m);if(g>u||g<a)throw new Error(`int64 invalid: ${m}`);return g},uParse(m){const g=typeof m=="bigint"?m:BigInt(m);if(g>h||g<d)throw new Error(`uint64 invalid: ${m}`);return g},enc(m){return s.setBigInt64(0,this.parse(m),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(m){return s.setBigInt64(0,this.uParse(m),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(m,g){return s.setInt32(0,m,!0),s.setInt32(4,g,!0),s.getBigInt64(0,!0)},uDec(m,g){return s.setInt32(0,m,!0),s.setInt32(4,g,!0),s.getBigUint64(0,!0)}}}const n=a=>y(/^-?[0-9]+$/.test(a),`int64 invalid: ${a}`),i=a=>y(/^[0-9]+$/.test(a),`uint64 invalid: ${a}`);return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),n(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),i(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),n(a),Xi(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),i(a),Xi(a)},dec(a,u){return wu(a,u)},uDec(a,u){return Xs(a,u)}}}const fe=Qs();var ge;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ge||(ge={}));class Pn{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let a=0;a<this.chunks.length;a++)e+=this.chunks[a].length;let n=new Uint8Array(e),i=0;for(let a=0;a<this.chunks.length;a++)n.set(this.chunks[a],i),i+=this.chunks[a].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(F(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return $(e),Ae(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){j(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){F(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){$(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return $(e),e=(e<<1^e>>31)>>>0,Ae(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=fe.enc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=fe.uEnc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}int64(e){let n=fe.enc(e);return vr(n.lo,n.hi,this.buf),this}sint64(e){let n=fe.enc(e),i=n.hi>>31,a=n.lo<<1^i,u=(n.hi<<1|n.lo>>>31)^i;return vr(a,u,this.buf),this}uint64(e){let n=fe.uEnc(e);return vr(n.lo,n.hi,this.buf),this}}class Fr{constructor(e,n){this.varint64=It,this.uint32=Ue,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case ge.Varint:for(;this.buf[this.pos++]&128;);break;case ge.Bit64:this.pos+=4;case ge.Bit32:this.pos+=4;break;case ge.LengthDelimited:let i=this.uint32();this.pos+=i;break;case ge.StartGroup:let a;for(;(a=this.tag()[1])!==ge.EndGroup;)this.skip(a);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return fe.dec(...this.varint64())}uint64(){return fe.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,fe.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return fe.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return fe.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function Aa(s,e){return e instanceof O||!s.fieldWrapper?e:s.fieldWrapper.wrapField(e)}function Jv(s){if(s.fieldKind==="message"&&!s.repeated&&s.oneof==null)return Uv[s.message.typeName]}const Uv={"google.protobuf.DoubleValue":w.DOUBLE,"google.protobuf.FloatValue":w.FLOAT,"google.protobuf.Int64Value":w.INT64,"google.protobuf.UInt64Value":w.UINT64,"google.protobuf.Int32Value":w.INT32,"google.protobuf.UInt32Value":w.UINT32,"google.protobuf.BoolValue":w.BOOL,"google.protobuf.StringValue":w.STRING,"google.protobuf.BytesValue":w.BYTES};function jr(s,e,n){if(e===n)return!0;if(s==w.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(s){case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==n}return!1}function Pa(s,e){switch(s){case w.BOOL:return!1;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return e==0?fe.zero:"0";case w.DOUBLE:case w.FLOAT:return 0;case w.BYTES:return new Uint8Array(0);case w.STRING:return"";default:return 0}}function wd(s,e){const n=e===void 0;let i=ge.Varint,a=e===0;switch(s){case w.STRING:a=n||!e.length,i=ge.LengthDelimited;break;case w.BOOL:a=e===!1;break;case w.DOUBLE:i=ge.Bit64;break;case w.FLOAT:i=ge.Bit32;break;case w.INT64:a=n||e==0;break;case w.UINT64:a=n||e==0;break;case w.FIXED64:a=n||e==0,i=ge.Bit64;break;case w.BYTES:a=n||!e.byteLength,i=ge.LengthDelimited;break;case w.FIXED32:i=ge.Bit32;break;case w.SFIXED32:i=ge.Bit32;break;case w.SFIXED64:a=n||e==0,i=ge.Bit64;break;case w.SINT64:a=n||e==0;break}const u=w[s].toLowerCase();return[i,u,n||a]}const Zs=Symbol("@bufbuild/protobuf/unknown-fields"),kd={readUnknownFields:!0,readerFactory:s=>new Fr(s)},Ed={writeUnknownFields:!0,writerFactory:()=>new Pn};function $v(s){return s?Object.assign(Object.assign({},kd),s):kd}function Fv(s){return s?Object.assign(Object.assign({},Ed),s):Ed}function xa(){return{makeReadOptions:$v,makeWriteOptions:Fv,listUnknownFields(s){var e;return(e=s[Zs])!==null&&e!==void 0?e:[]},discardUnknownFields(s){delete s[Zs]},writeUnknownFields(s,e){const i=s[Zs];if(i)for(const a of i)e.tag(a.no,a.wireType).raw(a.data)},onUnknownField(s,e,n,i){const a=s;Array.isArray(a[Zs])||(a[Zs]=[]),a[Zs].push({no:e,wireType:n,data:i})},readMessage(s,e,n,i,a){const u=s.getType(),d=a?e.len:e.pos+n;let h,m;for(;e.pos<d&&([h,m]=e.tag(),m!=ge.EndGroup);){const g=u.fields.find(h);if(!g){const P=e.skip(m);i.readUnknownFields&&this.onUnknownField(s,h,m,P);continue}let T=s,x=g.repeated,k=g.localName;switch(g.oneof&&(T=T[g.oneof.localName],T.case!=k&&delete T.value,T.case=k,k="value"),g.kind){case"scalar":case"enum":const P=g.kind=="enum"?w.INT32:g.T;let U=Ca;if(g.kind=="scalar"&&g.L>0&&(U=zv),x){let ke=T[k];if(m==ge.LengthDelimited&&P!=w.STRING&&P!=w.BYTES){let ue=e.uint32()+e.pos;for(;e.pos<ue;)ke.push(U(e,P))}else ke.push(U(e,P))}else T[k]=U(e,P);break;case"message":const q=g.T;x?T[k].push(Oa(e,new q,i,g)):T[k]instanceof O?Oa(e,T[k],i,g):(T[k]=Oa(e,new q,i,g),q.fieldWrapper&&!g.oneof&&!g.repeated&&(T[k]=q.fieldWrapper.unwrapField(T[k])));break;case"map":let[K,ie]=jv(g,e,i);T[k][K]=ie;break}}if(a&&(m!=ge.EndGroup||h!==n))throw new Error("invalid end group tag")}}}function Oa(s,e,n,i){const a=e.getType().runtime.bin,u=i==null?void 0:i.delimited;return a.readMessage(e,s,u?i==null?void 0:i.no:s.uint32(),n,u),e}function jv(s,e,n){const i=e.uint32(),a=e.pos+i;let u,d;for(;e.pos<a;){let[h]=e.tag();switch(h){case 1:u=Ca(e,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Ca(e,s.V.T);break;case"enum":d=e.int32();break;case"message":d=Oa(e,new s.V.T,n,void 0);break}break}}if(u===void 0){let h=Pa(s.K,ee.BIGINT);u=s.K==w.BOOL?h.toString():h}if(typeof u!="string"&&typeof u!="number"&&(u=u.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Pa(s.V.T,ee.BIGINT);break;case"enum":d=0;break;case"message":d=new s.V.T;break}return[u,d]}function zv(s,e){const n=Ca(s,e);return typeof n=="bigint"?n.toString():n}function Ca(s,e){switch(e){case w.STRING:return s.string();case w.BOOL:return s.bool();case w.DOUBLE:return s.double();case w.FLOAT:return s.float();case w.INT32:return s.int32();case w.INT64:return s.int64();case w.UINT64:return s.uint64();case w.FIXED64:return s.fixed64();case w.BYTES:return s.bytes();case w.FIXED32:return s.fixed32();case w.SFIXED32:return s.sfixed32();case w.SFIXED64:return s.sfixed64();case w.SINT64:return s.sint64();case w.UINT32:return s.uint32();case w.SINT32:return s.sint32()}}function Nd(s,e,n,i,a){s.tag(n.no,ge.LengthDelimited),s.fork();let u=i;switch(n.K){case w.INT32:case w.FIXED32:case w.UINT32:case w.SFIXED32:case w.SINT32:u=Number.parseInt(i);break;case w.BOOL:y(i=="true"||i=="false"),u=i=="true";break}switch(ws(s,n.K,1,u,!0),n.V.kind){case"scalar":ws(s,n.V.T,2,a,!0);break;case"enum":ws(s,w.INT32,2,a,!0);break;case"message":s.tag(2,ge.LengthDelimited).bytes(a.toBinary(e));break}s.join()}function Da(s,e,n,i){if(i!==void 0){const a=Aa(n.T,i);n!=null&&n.delimited?s.tag(n.no,ge.StartGroup).raw(a.toBinary(e)).tag(n.no,ge.EndGroup):s.tag(n.no,ge.LengthDelimited).bytes(a.toBinary(e))}}function ws(s,e,n,i,a){let[u,d,h]=wd(e,i);(!h||a)&&s.tag(n,u)[d](i)}function Id(s,e,n,i){if(!i.length)return;s.tag(n,ge.LengthDelimited).fork();let[,a]=wd(e);for(let u=0;u<i.length;u++)s[a](i[u]);s.join()}function Vv(){return Object.assign(Object.assign({},xa()),{writeMessage(s,e,n){const i=s.getType();for(const a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const m=s[a.oneof.localName];if(m.case!==h)continue;u=m.value}else u=s[h];switch(a.kind){case"scalar":case"enum":let m=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,m,a.no,u);else for(const g of u)ws(e,m,a.no,g,!0);else u!==void 0&&ws(e,m,a.no,u,!!a.oneof||a.opt);break;case"message":if(d)for(const g of u)Da(e,n,a,g);else Da(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}let Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ra=[];for(let s=0;s<Tr.length;s++)Ra[Tr[s].charCodeAt(0)]=s;Ra["-".charCodeAt(0)]=Tr.indexOf("+"),Ra["_".charCodeAt(0)]=Tr.indexOf("/");const Zi={dec(s){let e=s.length*3/4;s[s.length-2]=="="?e-=2:s[s.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,a=0,u,d=0;for(let h=0;h<s.length;h++){if(u=Ra[s.charCodeAt(h)],u===void 0)switch(s[h]){case"=":a=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:d=u,a=1;break;case 1:n[i++]=d<<2|(u&48)>>4,d=u,a=2;break;case 2:n[i++]=(d&15)<<4|(u&60)>>2,d=u,a=3;break;case 3:n[i++]=(d&3)<<6|u,a=0;break}}if(a==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(s){let e="",n=0,i,a=0;for(let u=0;u<s.length;u++)switch(i=s[u],n){case 0:e+=Tr[i>>2],a=(i&3)<<4,n=1;break;case 1:e+=Tr[a|i>>4],a=(i&15)<<2,n=2;break;case 2:e+=Tr[a|i>>6],e+=Tr[i&63],n=0;break}return n&&(e+=Tr[a],e+="=",n==1&&(e+="=")),e}},_d={ignoreUnknownFields:!1},Ad={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function qv(s){return s?Object.assign(Object.assign({},_d),s):_d}function Yv(s){return s?Object.assign(Object.assign({},Ad),s):Ad}function Pd(s){const e=s(Kv,Od);return{makeReadOptions:qv,makeWriteOptions:Yv,readMessage(n,i,a,u){if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(i)}`);u=u??new n;const d={};for(const[h,m]of Object.entries(i)){const g=n.fields.findJsonName(h);if(!g){if(!a.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${h}" is unknown`);continue}let T=g.localName,x=u;if(g.oneof){if(m===null&&g.kind=="scalar")continue;const k=d[g.oneof.localName];if(k)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${g.oneof.name}" present: "${k}", "${h}"`);d[g.oneof.localName]=h,x=x[g.oneof.localName]={case:T},T="value"}if(g.repeated){if(m===null)continue;if(!Array.isArray(m))throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`);const k=x[T];for(const P of m){if(P===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`);let U;switch(g.kind){case"message":U=g.T.fromJson(P,a);break;case"enum":if(U=ku(g.T,P,a.ignoreUnknownFields),U===void 0)continue;break;case"scalar":try{U=eo(g.T,P,g.L)}catch(q){let K=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(P)}`;throw q instanceof Error&&q.message.length>0&&(K+=`: ${q.message}`),new Error(K)}break}k.push(U)}}else if(g.kind=="map"){if(m===null)continue;if(Array.isArray(m)||typeof m!="object")throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`);const k=x[T];for(const[P,U]of Object.entries(m)){if(U===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: map value null`);let q;switch(g.V.kind){case"message":q=g.V.T.fromJson(U,a);break;case"enum":if(q=ku(g.V.T,U,a.ignoreUnknownFields),q===void 0)continue;break;case"scalar":try{q=eo(g.V.T,U,ee.BIGINT)}catch(K){let ie=`cannot decode map value for field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw K instanceof Error&&K.message.length>0&&(ie+=`: ${K.message}`),new Error(ie)}break}try{k[eo(g.K,g.K==w.BOOL?P=="true"?!0:P=="false"?!1:P:P,ee.BIGINT).toString()]=q}catch(K){let ie=`cannot decode map key for field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw K instanceof Error&&K.message.length>0&&(ie+=`: ${K.message}`),new Error(ie)}}}else switch(g.kind){case"message":const k=g.T;if(m===null&&k.typeName!="google.protobuf.Value"){if(g.oneof)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: null is invalid for oneof field "${h}"`);continue}x[T]instanceof O?x[T].fromJson(m,a):(x[T]=k.fromJson(m,a),k.fieldWrapper&&!g.oneof&&(x[T]=k.fieldWrapper.unwrapField(x[T])));break;case"enum":const P=ku(g.T,m,a.ignoreUnknownFields);P!==void 0&&(x[T]=P);break;case"scalar":try{x[T]=eo(g.T,m,g.L)}catch(U){let q=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(m)}`;throw U instanceof Error&&U.message.length>0&&(q+=`: ${U.message}`),new Error(q)}break}}return u},writeMessage(n,i){const a=n.getType(),u={};let d;try{for(const h of a.fields.byMember()){let m;if(h.kind=="oneof"){const g=n[h.localName];if(g.value===void 0)continue;if(d=h.findField(g.case),!d)throw"oneof case not found: "+g.case;m=e(d,g.value,i)}else d=h,m=e(d,n[d.localName],i);m!==void 0&&(u[i.useProtoFieldName?d.name:d.jsonName]=m)}}catch(h){const m=d?`cannot encode field ${a.typeName}.${d.name} to JSON`:`cannot encode message ${a.typeName} to JSON`,g=h instanceof Error?h.message:String(h);throw new Error(m+(g.length>0?`: ${g}`:""))}return u},readScalar:eo,writeScalar:Od,debug:xd}}function xd(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function eo(s,e,n){switch(s){case w.DOUBLE:case w.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return s==w.FLOAT&&j(i),i;case w.INT32:case w.FIXED32:case w.SFIXED32:case w.SINT32:case w.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return s==w.UINT32?F(a):$(a),a;case w.INT64:case w.SFIXED64:case w.SINT64:if(e===null)return fe.zero;if(typeof e!="number"&&typeof e!="string")break;const u=fe.parse(e);return n?u.toString():u;case w.FIXED64:case w.UINT64:if(e===null)return fe.zero;if(typeof e!="number"&&typeof e!="string")break;const d=fe.uParse(e);return n?d.toString():d;case w.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case w.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case w.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return Zi.dec(e)}throw new Error}function ku(s,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=s.findName(e);if(i||n)return i==null?void 0:i.no;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${xd(e)}`)}function Kv(s,e,n,i){var a;if(e===void 0)return e;if(e===0&&!n)return;if(i)return e;if(s.typeName=="google.protobuf.NullValue")return null;const u=s.findNumber(e);return(a=u==null?void 0:u.name)!==null&&a!==void 0?a:e}function Od(s,e,n){if(e!==void 0)switch(s){case w.INT32:case w.SFIXED32:case w.SINT32:case w.FIXED32:case w.UINT32:return y(typeof e=="number"),e!=0||n?e:void 0;case w.FLOAT:case w.DOUBLE:return y(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case w.STRING:return y(typeof e=="string"),e.length>0||n?e:void 0;case w.BOOL:return y(typeof e=="boolean"),e||n?e:void 0;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return y(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case w.BYTES:return y(e instanceof Uint8Array),n||e.byteLength>0?Zi.enc(e):void 0}}function Wv(){return Pd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[m,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[m.toString()]=T}break;case"message":for(const[m,g]of Object.entries(a))d[m.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[m,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[m.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(Aa(i.T,a[h]).toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else switch(i.kind){case"scalar":return e(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues);case"enum":return s(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues,u.enumAsInteger);case"message":return a!==void 0?Aa(i.T,a).toJson(u):void 0}})}function Cd(){return{setEnumType:S,initPartial(s,e){if(s===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const a=i.localName,u=e,d=s;if(d[a]!==void 0)switch(i.kind){case"oneof":const h=d[a].case;if(h===void 0)continue;const m=i.findField(h);let g=d[a].value;m&&m.kind=="message"&&!(g instanceof m.T)?g=new m.T(g):m&&m.kind==="scalar"&&m.T===w.BYTES&&(g=to(g)),u[a]={case:h,value:g};break;case"scalar":case"enum":let T=d[a];i.T===w.BYTES&&(T=i.repeated?T.map(to):to(T)),u[a]=T;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===w.BYTES)for(const[P,U]of Object.entries(d[a]))u[a][P]=to(U);else Object.assign(u[a],d[a]);break;case"message":const k=i.V.T;for(const P of Object.keys(d[a])){let U=d[a][P];k.fieldWrapper||(U=new k(U)),u[a][P]=U}break}break;case"message":const x=i.T;if(i.repeated)u[a]=d[a].map(k=>k instanceof x?k:new x(k));else if(d[a]!==void 0){const k=d[a];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?u[a]=to(k):u[a]=k:u[a]=k instanceof x?k:new x(k)}break}}},equals(s,e,n){return e===n?!0:!e||!n?!1:s.fields.byMember().every(i=>{const a=e[i.localName],u=n[i.localName];if(i.repeated){if(a.length!==u.length)return!1;switch(i.kind){case"message":return a.every((d,h)=>i.T.equals(d,u[h]));case"scalar":return a.every((d,h)=>jr(i.T,d,u[h]));case"enum":return a.every((d,h)=>jr(w.INT32,d,u[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(a,u);case"enum":return jr(w.INT32,a,u);case"scalar":return jr(i.T,a,u);case"oneof":if(a.case!==u.case)return!1;const d=i.findField(a.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(a.value,u.value);case"enum":return jr(w.INT32,a.value,u.value);case"scalar":return jr(d.T,a.value,u.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const h=Object.keys(a).concat(Object.keys(u));switch(i.V.kind){case"message":const m=i.V.T;return h.every(T=>m.equals(a[T],u[T]));case"enum":return h.every(T=>jr(w.INT32,a[T],u[T]));case"scalar":const g=i.V.T;return h.every(T=>jr(g,a[T],u[T]))}break}})},clone(s){const e=s.getType(),n=new e,i=n;for(const a of e.fields.byMember()){const u=s[a.localName];let d;if(a.repeated)d=u.map(ba);else if(a.kind=="map"){d=i[a.localName];for(const[h,m]of Object.entries(u))d[h]=ba(m)}else a.kind=="oneof"?d=a.findField(u.case)?{case:u.case,value:ba(u.value)}:{case:void 0}:d=ba(u);i[a.localName]=d}return n}}}function ba(s){if(s===void 0)return s;if(s instanceof O)return s.clone();if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}function to(s){return s instanceof Uint8Array?s:new Uint8Array(s)}class Dd{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function La(s){switch(s.kind){case"field":return Ba(s.name,s.oneof!==void 0);case"oneof":return Rd(s.name);case"enum":case"message":case"service":{const e=s.file.proto.package,n=e===void 0?0:e.length+1,i=s.typeName.substring(n).replace(/\./g,"_");return no(Ld(i))}case"enum_value":{const e=s.parent.sharedPrefix;if(e===void 0)return s.name;const n=s.name.substring(e.length);return no(n)}case"rpc":{let e=s.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),no(e))}}}function Ba(s,e){const n=bd(s);return e?n:no(e0(n))}function Rd(s){return Ba(s,!1)}const Eu=bd;function Gv(s,e){const n=Hv(s)+"_";for(const i of e){if(!i.toLowerCase().startsWith(n))return;const a=i.substring(n.length);if(a.length==0||/^\d/.test(a))return}return n}function Hv(s){return(s.substring(0,1)+s.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function bd(s){let e=!1;const n=[];for(let i=0;i<s.length;i++){let a=s.charAt(i);switch(a){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(a),e=!1;break;default:e&&(e=!1,a=a.toUpperCase()),n.push(a);break}}return n.join("")}const Xv=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),Qv=new Set(["constructor","toString","toJSON","valueOf"]),Zv=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Nu=s=>`${s}$`,e0=s=>Zv.has(s)?Nu(s):s,no=s=>Qv.has(s)?Nu(s):s,Ld=s=>Xv.has(s)?Nu(s):s;class Bd{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Rd(e)}addField(e){y(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const A=Q("proto3",Wv(),Vv(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,t0)},initFields(s){for(const e of s.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Pa(e.T,e.L);break}}}}));function t0(s){var e,n,i,a;const u=[];let d;for(const h of typeof s=="function"?s():s){const m=h;if(m.localName=Ba(h.name,h.oneof!==void 0),m.jsonName=(e=h.jsonName)!==null&&e!==void 0?e:Eu(h.name),m.repeated=(n=h.repeated)!==null&&n!==void 0?n:!1,h.kind=="scalar"&&(m.L=(i=h.L)!==null&&i!==void 0?i:ee.BIGINT),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!d||d.name!=g)&&(d=new Bd(g)),m.oneof=d,d.addField(m)}h.kind=="message"&&(m.delimited=!1),m.packed=(a=h.packed)!==null&&a!==void 0?a:h.kind=="enum"||h.kind=="scalar"&&h.T!=w.BYTES&&h.T!=w.STRING,u.push(m)}return u}function n0(){return Object.assign(Object.assign({},xa()),{writeMessage(s,e,n){const i=s.getType();let a;try{for(a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const m=s[a.oneof.localName];if(m.case!==h)continue;u=m.value}else if(u=s[h],u===void 0&&!a.oneof&&!a.opt)throw new Error(`cannot encode field ${i.typeName}.${a.name} to binary: required field not set`);switch(a.kind){case"scalar":case"enum":let m=a.kind=="enum"?w.INT32:a.T;if(d)if(a.packed)Id(e,m,a.no,u);else for(const g of u)ws(e,m,a.no,g,!0);else u!==void 0&&ws(e,m,a.no,u,!0);break;case"message":if(d)for(const g of u)Da(e,n,a,g);else Da(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}}catch(u){let d=a?`cannot encode field ${i.typeName}.${a==null?void 0:a.name} to binary`:`cannot encode message ${i.typeName} to binary`,h=u instanceof Error?u.message:String(u);throw new Error(d+(h.length>0?`: ${h}`:""))}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}function r0(){return Pd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[m,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[m.toString()]=T}break;case"message":for(const[m,g]of Object.entries(a))d[m.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[m,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[m.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(a[h].toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else{if(a===void 0){if(!i.oneof&&!i.opt)throw"required field not set";return}switch(i.kind){case"scalar":return e(i.T,a,!0);case"enum":return s(i.T,a,!0,u.enumAsInteger);case"message":return Aa(i.T,a).toJson(u)}}})}const E=Q("proto2",r0(),n0(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,s0)},initFields(s){for(const e of s.getType().fields.byMember()){const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"map":i[n]={};break}}}}));function s0(s){var e,n,i,a,u;const d=[];let h;for(const m of typeof s=="function"?s():s){const g=m;if(g.localName=Ba(m.name,m.oneof!==void 0),g.jsonName=(e=m.jsonName)!==null&&e!==void 0?e:Eu(m.name),g.repeated=(n=m.repeated)!==null&&n!==void 0?n:!1,m.kind=="scalar"&&(g.L=(i=m.L)!==null&&i!==void 0?i:ee.BIGINT),m.oneof!==void 0){const T=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!h||h.name!=T)&&(h=new Bd(T)),g.oneof=h,h.addField(g)}m.kind=="message"&&(g.delimited=(a=m.delimited)!==null&&a!==void 0?a:!1),g.packed=(u=m.packed)!==null&&u!==void 0?u:!1,d.push(g)}return d}const i0={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var o0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},ei=globalThis&&globalThis.__await||function(s){return this instanceof ei?(this.v=s,this):new ei(s)},a0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(P){return function(U){return Promise.resolve(U).then(P,x)}}function h(P,U){i[P]&&(a[P]=function(q){return new Promise(function(K,ie){u.push([P,q,K,ie])>1||m(P,q)})},U&&(a[P]=U(a[P])))}function m(P,U){try{g(i[P](U))}catch(q){k(u[0][3],q)}}function g(P){P.value instanceof ei?Promise.resolve(P.value.v).then(T,x):k(u[0][2],P)}function T(P){m("next",P)}function x(P){m("throw",P)}function k(P,U){P(U),u.shift(),u.length&&m(u[0][0],u[0][1])}};const Iu={enc(s,e){const n=xa().makeWriteOptions(e);return n.writerFactory().bytes(s.toBinary(n)).finish()},dec(s,e,n){const i=xa().makeReadOptions(n);return s.fromBinary(i.readerFactory(e).bytes(),i)},decStream(s,e){return a0(this,arguments,function*(){var i,a,u,d;function h(k,P){const U=new Uint8Array(k.byteLength+P.byteLength);return U.set(k),U.set(P,k.length),U}let m=new Uint8Array(0);try{for(var g=!0,T=o0(e),x;x=yield ei(T.next()),i=x.done,!i;g=!0)for(d=x.value,g=!1,m=h(m,d);;){const P=Iu.peekSize(m);if(P.eof||P.offset+P.size>m.byteLength)break;yield yield ei(Iu.dec(s,m)),m=m.subarray(P.offset+P.size)}}catch(k){a={error:k}}finally{try{!g&&!i&&(u=T.return)&&(yield ei(u.call(T)))}finally{if(a)throw a.error}}if(m.byteLength>0)throw new Error("incomplete data")})},peekSize(s){const e={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>s.byteLength)return e;if(!(s[n]&128)){const i=new Fr(s);let a;try{a=i.uint32()}catch(u){if(u instanceof RangeError)return e;throw u}return{eof:!1,size:a,offset:i.pos}}}throw new Error("invalid varint")}};function l0(s){switch(s.typeName){case"google.protobuf.Any":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.STRING),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.BYTES);if(e&&n)return{typeName:s.typeName,typeUrl:e,value:n};break}case"google.protobuf.Timestamp":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Duration":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===w.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===w.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Struct":{const e=s.fields.find(n=>n.number==1&&!n.repeated);if((e==null?void 0:e.fieldKind)!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,fields:e}}case"google.protobuf.Value":{const e=s.oneofs.find(m=>m.name==="kind"),n=s.fields.find(m=>m.number==1&&m.oneof===e);if((n==null?void 0:n.fieldKind)!=="enum"||n.enum.typeName!=="google.protobuf.NullValue")return;const i=s.fields.find(m=>m.number==2&&m.fieldKind=="scalar"&&m.scalar===w.DOUBLE&&m.oneof===e),a=s.fields.find(m=>m.number==3&&m.fieldKind=="scalar"&&m.scalar===w.STRING&&m.oneof===e),u=s.fields.find(m=>m.number==4&&m.fieldKind=="scalar"&&m.scalar===w.BOOL&&m.oneof===e),d=s.fields.find(m=>m.number==5&&m.oneof===e);if((d==null?void 0:d.fieldKind)!=="message"||d.message.typeName!=="google.protobuf.Struct")return;const h=s.fields.find(m=>m.number==6&&m.oneof===e);if((h==null?void 0:h.fieldKind)!=="message"||h.message.typeName!=="google.protobuf.ListValue")return;if(e&&i&&a&&u)return{typeName:s.typeName,kind:e,nullValue:n,numberValue:i,stringValue:a,boolValue:u,structValue:d,listValue:h};break}case"google.protobuf.ListValue":{const e=s.fields.find(n=>n.number==1&&n.repeated);if((e==null?void 0:e.fieldKind)!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,values:e}}case"google.protobuf.FieldMask":{const e=s.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===w.STRING&&n.repeated);if(e)return{typeName:s.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const e=s.fields.find(n=>n.number==1&&n.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:s.typeName,value:e}}}}const $e="@bufbuild/protobuf",u0={packageName:"@bufbuild/protobuf",localName:La,reifyWkt:l0,getUnwrappedFieldType:Jv,scalarDefaultValue:Pa,safeIdentifier:Ld,safeObjectProperty:no,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:$e},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:$e},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:$e},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:$e},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:$e},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:$e},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:$e},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:$e},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:$e},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:$e},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:$e},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:$e},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:$e},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:$e},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:$e},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:$e},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:$e},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:$e},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:$e},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:$e}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Mt;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Mt||(Mt={}));var ro;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(ro||(ro={}));var Se;(function(s){s[s.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",s[s.EDITION_PROTO2=998]="EDITION_PROTO2",s[s.EDITION_PROTO3=999]="EDITION_PROTO3",s[s.EDITION_2023=1e3]="EDITION_2023",s[s.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",s[s.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",s[s.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",s[s.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",s[s.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(Se||(Se={})),E.util.setEnumType(Se,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class Jt extends O{constructor(e){super(),this.file=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Jt().fromBinary(e,n)}static fromJson(e,n){return new Jt().fromJson(e,n)}static fromJsonString(e,n){return new Jt().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Jt,e,n)}}Jt.runtime=E,Jt.typeName="google.protobuf.FileDescriptorSet",Jt.fields=E.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Ut,repeated:!0}]);class Ut extends O{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Ut().fromBinary(e,n)}static fromJson(e,n){return new Ut().fromJson(e,n)}static fromJsonString(e,n){return new Ut().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Ut,e,n)}}Ut.runtime=E,Ut.typeName="google.protobuf.FileDescriptorProto",Ut.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:cn,repeated:!0},{no:5,name:"enum_type",kind:"message",T:fn,repeated:!0},{no:6,name:"service",kind:"message",T:Bn,repeated:!0},{no:7,name:"extension",kind:"message",T:$t,repeated:!0},{no:8,name:"options",kind:"message",T:Jn,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Hn,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0}]);class cn extends O{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new cn().fromBinary(e,n)}static fromJson(e,n){return new cn().fromJson(e,n)}static fromJsonString(e,n){return new cn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(cn,e,n)}}cn.runtime=E,cn.typeName="google.protobuf.DescriptorProto",cn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:$t,repeated:!0},{no:6,name:"extension",kind:"message",T:$t,repeated:!0},{no:3,name:"nested_type",kind:"message",T:cn,repeated:!0},{no:4,name:"enum_type",kind:"message",T:fn,repeated:!0},{no:5,name:"extension_range",kind:"message",T:xn,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Rn,repeated:!0},{no:7,name:"options",kind:"message",T:Un,opt:!0},{no:9,name:"reserved_range",kind:"message",T:On,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class xn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new xn().fromBinary(e,n)}static fromJson(e,n){return new xn().fromJson(e,n)}static fromJsonString(e,n){return new xn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(xn,e,n)}}xn.runtime=E,xn.typeName="google.protobuf.DescriptorProto.ExtensionRange",xn.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Cn,opt:!0}]);class On extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new On().fromBinary(e,n)}static fromJson(e,n){return new On().fromJson(e,n)}static fromJsonString(e,n){return new On().fromJsonString(e,n)}static equals(e,n){return E.util.equals(On,e,n)}}On.runtime=E,On.typeName="google.protobuf.DescriptorProto.ReservedRange",On.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Cn extends O{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Cn().fromBinary(e,n)}static fromJson(e,n){return new Cn().fromJson(e,n)}static fromJsonString(e,n){return new Cn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Cn,e,n)}}Cn.runtime=E,Cn.typeName="google.protobuf.ExtensionRangeOptions",Cn.fields=E.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0},{no:2,name:"declaration",kind:"message",T:Dn,repeated:!0},{no:50,name:"features",kind:"message",T:be,opt:!0},{no:3,name:"verification",kind:"enum",T:E.getEnumType(ti),opt:!0,default:ti.UNVERIFIED}]);var ti;(function(s){s[s.DECLARATION=0]="DECLARATION",s[s.UNVERIFIED=1]="UNVERIFIED"})(ti||(ti={})),E.util.setEnumType(ti,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Dn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Dn().fromBinary(e,n)}static fromJson(e,n){return new Dn().fromJson(e,n)}static fromJsonString(e,n){return new Dn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Dn,e,n)}}Dn.runtime=E,Dn.typeName="google.protobuf.ExtensionRangeOptions.Declaration",Dn.fields=E.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class $t extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new $t().fromBinary(e,n)}static fromJson(e,n){return new $t().fromJson(e,n)}static fromJsonString(e,n){return new $t().fromJsonString(e,n)}static equals(e,n){return E.util.equals($t,e,n)}}$t.runtime=E,$t.typeName="google.protobuf.FieldDescriptorProto",$t.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:E.getEnumType(zr),opt:!0},{no:5,name:"type",kind:"enum",T:E.getEnumType(le),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:$n,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var le;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.GROUP=10]="GROUP",s[s.MESSAGE=11]="MESSAGE",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.ENUM=14]="ENUM",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(le||(le={})),E.util.setEnumType(le,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var zr;(function(s){s[s.OPTIONAL=1]="OPTIONAL",s[s.REPEATED=3]="REPEATED",s[s.REQUIRED=2]="REQUIRED"})(zr||(zr={})),E.util.setEnumType(zr,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Rn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Rn().fromBinary(e,n)}static fromJson(e,n){return new Rn().fromJson(e,n)}static fromJsonString(e,n){return new Rn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Rn,e,n)}}Rn.runtime=E,Rn.typeName="google.protobuf.OneofDescriptorProto",Rn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:jn,opt:!0}]);class fn extends O{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new fn().fromBinary(e,n)}static fromJson(e,n){return new fn().fromJson(e,n)}static fromJsonString(e,n){return new fn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(fn,e,n)}}fn.runtime=E,fn.typeName="google.protobuf.EnumDescriptorProto",fn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Ln,repeated:!0},{no:3,name:"options",kind:"message",T:zn,opt:!0},{no:4,name:"reserved_range",kind:"message",T:bn,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class bn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new bn().fromBinary(e,n)}static fromJson(e,n){return new bn().fromJson(e,n)}static fromJsonString(e,n){return new bn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(bn,e,n)}}bn.runtime=E,bn.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",bn.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Ln extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Ln().fromBinary(e,n)}static fromJson(e,n){return new Ln().fromJson(e,n)}static fromJsonString(e,n){return new Ln().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Ln,e,n)}}Ln.runtime=E,Ln.typeName="google.protobuf.EnumValueDescriptorProto",Ln.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Vn,opt:!0}]);class Bn extends O{constructor(e){super(),this.method=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Bn().fromBinary(e,n)}static fromJson(e,n){return new Bn().fromJson(e,n)}static fromJsonString(e,n){return new Bn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Bn,e,n)}}Bn.runtime=E,Bn.typeName="google.protobuf.ServiceDescriptorProto",Bn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:Mn,repeated:!0},{no:3,name:"options",kind:"message",T:qn,opt:!0}]);class Mn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Mn().fromBinary(e,n)}static fromJson(e,n){return new Mn().fromJson(e,n)}static fromJsonString(e,n){return new Mn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Mn,e,n)}}Mn.runtime=E,Mn.typeName="google.protobuf.MethodDescriptorProto",Mn.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:Yn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class Jn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Jn().fromBinary(e,n)}static fromJson(e,n){return new Jn().fromJson(e,n)}static fromJsonString(e,n){return new Jn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Jn,e,n)}}Jn.runtime=E,Jn.typeName="google.protobuf.FileOptions",Jn.fields=E.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:E.getEnumType(ni),opt:!0,default:ni.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var ni;(function(s){s[s.SPEED=1]="SPEED",s[s.CODE_SIZE=2]="CODE_SIZE",s[s.LITE_RUNTIME=3]="LITE_RUNTIME"})(ni||(ni={})),E.util.setEnumType(ni,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class Un extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Un().fromBinary(e,n)}static fromJson(e,n){return new Un().fromJson(e,n)}static fromJsonString(e,n){return new Un().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Un,e,n)}}Un.runtime=E,Un.typeName="google.protobuf.MessageOptions",Un.fields=E.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class $n extends O{constructor(e){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new $n().fromBinary(e,n)}static fromJson(e,n){return new $n().fromJson(e,n)}static fromJsonString(e,n){return new $n().fromJsonString(e,n)}static equals(e,n){return E.util.equals($n,e,n)}}$n.runtime=E,$n.typeName="google.protobuf.FieldOptions",$n.fields=E.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:E.getEnumType(ri),opt:!0,default:ri.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:E.getEnumType(Vr),opt:!0,default:Vr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:E.getEnumType(so),opt:!0},{no:19,name:"targets",kind:"enum",T:E.getEnumType(io),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:Fn,repeated:!0},{no:21,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var ri;(function(s){s[s.STRING=0]="STRING",s[s.CORD=1]="CORD",s[s.STRING_PIECE=2]="STRING_PIECE"})(ri||(ri={})),E.util.setEnumType(ri,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var Vr;(function(s){s[s.JS_NORMAL=0]="JS_NORMAL",s[s.JS_STRING=1]="JS_STRING",s[s.JS_NUMBER=2]="JS_NUMBER"})(Vr||(Vr={})),E.util.setEnumType(Vr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var so;(function(s){s[s.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",s[s.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",s[s.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(so||(so={})),E.util.setEnumType(so,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var io;(function(s){s[s.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",s[s.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",s[s.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",s[s.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",s[s.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",s[s.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",s[s.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",s[s.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",s[s.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",s[s.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(io||(io={})),E.util.setEnumType(io,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class Fn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Fn().fromBinary(e,n)}static fromJson(e,n){return new Fn().fromJson(e,n)}static fromJsonString(e,n){return new Fn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Fn,e,n)}}Fn.runtime=E,Fn.typeName="google.protobuf.FieldOptions.EditionDefault",Fn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class jn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new jn().fromBinary(e,n)}static fromJson(e,n){return new jn().fromJson(e,n)}static fromJsonString(e,n){return new jn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(jn,e,n)}}jn.runtime=E,jn.typeName="google.protobuf.OneofOptions",jn.fields=E.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class zn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new zn().fromBinary(e,n)}static fromJson(e,n){return new zn().fromJson(e,n)}static fromJsonString(e,n){return new zn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(zn,e,n)}}zn.runtime=E,zn.typeName="google.protobuf.EnumOptions",zn.fields=E.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Vn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Vn().fromBinary(e,n)}static fromJson(e,n){return new Vn().fromJson(e,n)}static fromJsonString(e,n){return new Vn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Vn,e,n)}}Vn.runtime=E,Vn.typeName="google.protobuf.EnumValueOptions",Vn.fields=E.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:be,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class qn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new qn().fromBinary(e,n)}static fromJson(e,n){return new qn().fromJson(e,n)}static fromJsonString(e,n){return new qn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(qn,e,n)}}qn.runtime=E,qn.typeName="google.protobuf.ServiceOptions",qn.fields=E.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:be,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Yn extends O{constructor(e){super(),this.uninterpretedOption=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Yn().fromBinary(e,n)}static fromJson(e,n){return new Yn().fromJson(e,n)}static fromJsonString(e,n){return new Yn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Yn,e,n)}}Yn.runtime=E,Yn.typeName="google.protobuf.MethodOptions",Yn.fields=E.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:E.getEnumType(Sr),opt:!0,default:Sr.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:be,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var Sr;(function(s){s[s.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",s[s.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",s[s.IDEMPOTENT=2]="IDEMPOTENT"})(Sr||(Sr={})),E.util.setEnumType(Sr,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class We extends O{constructor(e){super(),this.name=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new We().fromBinary(e,n)}static fromJson(e,n){return new We().fromJson(e,n)}static fromJsonString(e,n){return new We().fromJsonString(e,n)}static equals(e,n){return E.util.equals(We,e,n)}}We.runtime=E,We.typeName="google.protobuf.UninterpretedOption",We.fields=E.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Kn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class Kn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Kn().fromBinary(e,n)}static fromJson(e,n){return new Kn().fromJson(e,n)}static fromJsonString(e,n){return new Kn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Kn,e,n)}}Kn.runtime=E,Kn.typeName="google.protobuf.UninterpretedOption.NamePart",Kn.fields=E.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class be extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new be().fromBinary(e,n)}static fromJson(e,n){return new be().fromJson(e,n)}static fromJsonString(e,n){return new be().fromJsonString(e,n)}static equals(e,n){return E.util.equals(be,e,n)}}be.runtime=E,be.typeName="google.protobuf.FeatureSet",be.fields=E.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:E.getEnumType(oo),opt:!0},{no:2,name:"enum_type",kind:"enum",T:E.getEnumType(ao),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:E.getEnumType(ks),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:E.getEnumType(lo),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:E.getEnumType(uo),opt:!0},{no:6,name:"json_format",kind:"enum",T:E.getEnumType(co),opt:!0}]);var oo;(function(s){s[s.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",s[s.EXPLICIT=1]="EXPLICIT",s[s.IMPLICIT=2]="IMPLICIT",s[s.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(oo||(oo={})),E.util.setEnumType(oo,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var ao;(function(s){s[s.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",s[s.OPEN=1]="OPEN",s[s.CLOSED=2]="CLOSED"})(ao||(ao={})),E.util.setEnumType(ao,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var ks;(function(s){s[s.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",s[s.PACKED=1]="PACKED",s[s.EXPANDED=2]="EXPANDED"})(ks||(ks={})),E.util.setEnumType(ks,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var lo;(function(s){s[s.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",s[s.NONE=1]="NONE",s[s.VERIFY=2]="VERIFY"})(lo||(lo={})),E.util.setEnumType(lo,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var uo;(function(s){s[s.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",s[s.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",s[s.DELIMITED=2]="DELIMITED"})(uo||(uo={})),E.util.setEnumType(uo,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var co;(function(s){s[s.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",s[s.ALLOW=1]="ALLOW",s[s.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(co||(co={})),E.util.setEnumType(co,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class Wn extends O{constructor(e){super(),this.defaults=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Wn().fromBinary(e,n)}static fromJson(e,n){return new Wn().fromJson(e,n)}static fromJsonString(e,n){return new Wn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Wn,e,n)}}Wn.runtime=E,Wn.typeName="google.protobuf.FeatureSetDefaults",Wn.fields=E.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Gn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:E.getEnumType(Se),opt:!0}]);class Gn extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new Gn().fromBinary(e,n)}static fromJson(e,n){return new Gn().fromJson(e,n)}static fromJsonString(e,n){return new Gn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Gn,e,n)}}Gn.runtime=E,Gn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Gn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(Se),opt:!0},{no:2,name:"features",kind:"message",T:be,opt:!0}]);class Hn extends O{constructor(e){super(),this.location=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Hn().fromBinary(e,n)}static fromJson(e,n){return new Hn().fromJson(e,n)}static fromJsonString(e,n){return new Hn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Hn,e,n)}}Hn.runtime=E,Hn.typeName="google.protobuf.SourceCodeInfo",Hn.fields=E.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Xn,repeated:!0}]);class Xn extends O{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Xn().fromBinary(e,n)}static fromJson(e,n){return new Xn().fromJson(e,n)}static fromJsonString(e,n){return new Xn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Xn,e,n)}}Xn.runtime=E,Xn.typeName="google.protobuf.SourceCodeInfo.Location",Xn.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Qn extends O{constructor(e){super(),this.annotation=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Qn().fromBinary(e,n)}static fromJson(e,n){return new Qn().fromJson(e,n)}static fromJsonString(e,n){return new Qn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Qn,e,n)}}Qn.runtime=E,Qn.typeName="google.protobuf.GeneratedCodeInfo",Qn.fields=E.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Zn,repeated:!0}]);class Zn extends O{constructor(e){super(),this.path=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new Zn().fromBinary(e,n)}static fromJson(e,n){return new Zn().fromJson(e,n)}static fromJsonString(e,n){return new Zn().fromJsonString(e,n)}static equals(e,n){return E.util.equals(Zn,e,n)}}Zn.runtime=E,Zn.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Zn.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:E.getEnumType(fo),opt:!0}]);var fo;(function(s){s[s.NONE=0]="NONE",s[s.SET=1]="SET",s[s.ALIAS=2]="ALIAS"})(fo||(fo={})),E.util.setEnumType(fo,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function c0(s,e){const n=s.values.find(i=>i.name===e);return y(n,`cannot parse ${s.name} default value: ${e}`),n.number}function f0(s,e){switch(s){case w.STRING:return e;case w.BYTES:{const n=d0(e);if(n===!1)throw new Error(`cannot parse ${w[s]} default value: ${e}`);return n}case w.INT64:case w.SFIXED64:case w.SINT64:return fe.parse(e);case w.UINT64:case w.FIXED64:return fe.uParse(e);case w.DOUBLE:case w.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case w.BOOL:return e==="true";case w.INT32:case w.UINT32:case w.SINT32:case w.FIXED32:case w.SFIXED32:return parseInt(e,10)}}function d0(s){const e=[],n={tail:s,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const a=this.tail.substring(0,i);return this.tail=this.tail.substring(i),a}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,8);if(isNaN(u))return!1;e.push(u);break}case"x":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;e.push(u);break}case"u":{const i=n.c,a=n.take(4);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;const d=new Uint8Array(4);new DataView(d.buffer).setInt32(0,u,!0),e.push(d[0],d[1],d[2],d[3]);break}case"U":{const i=n.c,a=n.take(8);if(a===!1)return!1;const u=fe.uEnc(i+a),d=new Uint8Array(8),h=new DataView(d.buffer);h.setInt32(0,u.lo,!0),h.setInt32(4,u.hi,!0),e.push(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}const h0=Wn.fromBinary(Zi.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function p0(s){const e=s.minimumEdition,n=s.maximumEdition;if(e===void 0||n===void 0||s.defaults.some(a=>a.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const i=new Map;return(a,...u)=>{var d,h;let m=i.get(a);if(m===void 0){if(a<e)throw new Error(`Edition ${Se[a]} is earlier than the minimum supported edition ${Se[e]}`);if(n<a)throw new Error(`Edition ${Se[a]} is later than the maximum supported edition ${Se[n]}`);let T;for(const x of s.defaults){const k=(d=x.edition)!==null&&d!==void 0?d:0;k>a||T!==void 0&&T.e>k||(T={e:k,f:(h=x.features)!==null&&h!==void 0?h:new be})}if(T===void 0)throw new Error(`No valid default found for edition ${Se[a]}`);m=T.f.toBinary(),i.set(a,m)}const g=be.fromBinary(m);for(const T of u)T!==void 0&&g.fromBinary(T.toBinary());if(!m0(g))throw new Error(`Invalid FeatureSet for edition ${Se[a]}`);return g}}function m0(s){for(const e of be.fields.list()){const n=s[e.localName];if(n===void 0||e.kind=="enum"&&n===0)return!1}return!0}function Md(s,e){var n;const i={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:p0((n=e==null?void 0:e.featureSetDefaults)!==null&&n!==void 0?n:h0)},u=(s instanceof Jt?s.file:s instanceof Uint8Array?Jt.fromBinary(s).file:s).map(d=>g0(d,i));return Object.assign({files:u},i)}function g0(s,e){var n,i;y(s.name,"invalid FileDescriptorProto: missing name");const a=Object.assign(Object.assign({kind:"file",proto:s,deprecated:(i=(n=s.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1},S0(s.syntax,s.edition)),{name:s.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return er(this.proto.sourceCodeInfo,[lt.FileDescriptorProto_Syntax])},getPackageComments(){return er(this.proto.sourceCodeInfo,[lt.FileDescriptorProto_Package])},getFeatures(){var u;return e.resolveFeatures(this.edition,(u=this.proto.options)===null||u===void 0?void 0:u.features)}});e.mapEntries.clear();for(const u of s.enumType)Jd(u,a,void 0,e);for(const u of s.messageType)Ud(u,a,void 0,e);for(const u of s.service)y0(u,a,e);_u(a,e);for(const u of e.mapEntries.values())Au(u,e);for(const u of a.messages)Au(u,e),_u(u,e);return e.mapEntries.clear(),a}function _u(s,e){switch(s.kind){case"file":for(const n of s.proto.extension){const i=Fd(n,s,void 0,e);s.extensions.push(i),e.extensions.set(i.typeName,i)}break;case"message":for(const n of s.proto.extension){const i=Fd(n,s.file,s,e);s.nestedExtensions.push(i),e.extensions.set(i.typeName,i)}for(const n of s.nestedMessages)_u(n,e);break}}function Au(s,e){const n=s.proto.oneofDecl.map(a=>T0(a,s,e)),i=new Set;for(const a of s.proto.field){const u=k0(a,n),d=$d(a,s.file,s,u,e);s.fields.push(d),u===void 0?s.members.push(d):(u.fields.push(d),i.has(u)||(i.add(u),s.members.push(u)))}for(const a of n.filter(u=>i.has(u)))s.oneofs.push(a);for(const a of s.nestedMessages)Au(a,e)}function Jd(s,e,n,i){var a,u,d;y(s.name,"invalid EnumDescriptorProto: missing name");const h={kind:"enum",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ma(s,n,e),values:[],sharedPrefix:Gv(s.name,s.value.map(m=>{var g;return(g=m.name)!==null&&g!==void 0?g:""})),toString(){return`enum ${this.typeName}`},getComments(){const m=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[lt.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return er(e.proto.sourceCodeInfo,m)},getFeatures(){var m,g,T;const x=(g=(m=this.parent)===null||m===void 0?void 0:m.getFeatures())!==null&&g!==void 0?g:this.file.getFeatures();return i.resolveFeatures(this.file.edition,x,(T=this.proto.options)===null||T===void 0?void 0:T.features)}};i.enums.set(h.typeName,h),s.value.forEach(m=>{var g,T;y(m.name,"invalid EnumValueDescriptorProto: missing name"),y(m.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),h.values.push({kind:"enum_value",proto:m,deprecated:(T=(g=m.options)===null||g===void 0?void 0:g.deprecated)!==null&&T!==void 0?T:!1,parent:h,name:m.name,number:m.number,toString(){return`enum value ${h.typeName}.${this.name}`},declarationString(){var x;let k=`${this.name} = ${this.number}`;return((x=this.proto.options)===null||x===void 0?void 0:x.deprecated)===!0&&(k+=" [deprecated = true]"),k},getComments(){const x=[...this.parent.getComments().sourcePath,lt.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return er(e.proto.sourceCodeInfo,x)},getFeatures(){var x;return i.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(x=this.proto.options)===null||x===void 0?void 0:x.features)}})}),((d=n==null?void 0:n.nestedEnums)!==null&&d!==void 0?d:e.enums).push(h)}function Ud(s,e,n,i){var a,u,d,h;y(s.name,"invalid DescriptorProto: missing name");const m={kind:"message",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ma(s,n,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const g=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[lt.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return er(e.proto.sourceCodeInfo,g)},getFeatures(){var g,T,x;const k=(T=(g=this.parent)===null||g===void 0?void 0:g.getFeatures())!==null&&T!==void 0?T:this.file.getFeatures();return i.resolveFeatures(this.file.edition,k,(x=this.proto.options)===null||x===void 0?void 0:x.features)}};((d=s.options)===null||d===void 0?void 0:d.mapEntry)===!0?i.mapEntries.set(m.typeName,m):(((h=n==null?void 0:n.nestedMessages)!==null&&h!==void 0?h:e.messages).push(m),i.messages.set(m.typeName,m));for(const g of s.enumType)Jd(g,e,m,i);for(const g of s.nestedType)Ud(g,e,m,i)}function y0(s,e,n){var i,a;y(s.name,"invalid ServiceDescriptorProto: missing name");const u={kind:"service",proto:s,deprecated:(a=(i=s.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,name:s.name,typeName:Ma(s,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){const d=[lt.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return er(e.proto.sourceCodeInfo,d)},getFeatures(){var d;return n.resolveFeatures(this.file.edition,this.file.getFeatures(),(d=this.proto.options)===null||d===void 0?void 0:d.features)}};e.services.push(u),n.services.set(u.typeName,u);for(const d of s.method)u.methods.push(v0(d,u,n))}function v0(s,e,n){var i,a,u;y(s.name,"invalid MethodDescriptorProto: missing name"),y(s.inputType,"invalid MethodDescriptorProto: missing input_type"),y(s.outputType,"invalid MethodDescriptorProto: missing output_type");let d;s.clientStreaming===!0&&s.serverStreaming===!0?d=Mt.BiDiStreaming:s.clientStreaming===!0?d=Mt.ClientStreaming:s.serverStreaming===!0?d=Mt.ServerStreaming:d=Mt.Unary;let h;switch((i=s.options)===null||i===void 0?void 0:i.idempotencyLevel){case Sr.IDEMPOTENT:h=ro.Idempotent;break;case Sr.NO_SIDE_EFFECTS:h=ro.NoSideEffects;break;case Sr.IDEMPOTENCY_UNKNOWN:case void 0:h=void 0;break}const m=n.messages.get(si(s.inputType)),g=n.messages.get(si(s.outputType));y(m,`invalid MethodDescriptorProto: input_type ${s.inputType} not found`),y(g,`invalid MethodDescriptorProto: output_type ${s.inputType} not found`);const T=s.name;return{kind:"rpc",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,parent:e,name:T,methodKind:d,input:m,output:g,idempotency:h,toString(){return`rpc ${e.typeName}.${T}`},getComments(){const x=[...this.parent.getComments().sourcePath,lt.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return er(e.file.proto.sourceCodeInfo,x)},getFeatures(){var x;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(x=this.proto.options)===null||x===void 0?void 0:x.features)}}}function T0(s,e,n){return y(s.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:s,deprecated:!1,parent:e,fields:[],name:s.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){const i=[...this.parent.getComments().sourcePath,lt.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return er(e.file.proto.sourceCodeInfo,i)},getFeatures(){var i;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(i=this.proto.options)===null||i===void 0?void 0:i.features)}}}function $d(s,e,n,i,a){var u,d,h;y(s.name,"invalid FieldDescriptorProto: missing name"),y(s.number,"invalid FieldDescriptorProto: missing number"),y(s.type,"invalid FieldDescriptorProto: missing type");const m={proto:s,deprecated:(d=(u=s.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,name:s.name,number:s.number,parent:n,oneof:i,optional:E0(s,e.syntax),packedByDefault:N0(e,s,a.resolveFeatures),packed:I0(e,n,s,a.resolveFeatures),jsonName:s.jsonName===Eu(s.name)?void 0:s.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:A0,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const T=[...this.parent.getComments().sourcePath,lt.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return er(e.proto.sourceCodeInfo,T)},getFeatures(){var T;return a.resolveFeatures(e.edition,this.parent.getFeatures(),(T=this.proto.options)===null||T===void 0?void 0:T.features)}},g=s.label===zr.REPEATED;switch(s.type){case le.MESSAGE:case le.GROUP:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.mapEntries.get(si(s.typeName));if(T!==void 0)return y(g,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},m),{kind:"field",fieldKind:"map",repeated:!1}),w0(T));const x=a.messages.get(si(s.typeName));return y(x!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"message",repeated:g,message:x})}case le.ENUM:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.enums.get(si(s.typeName));return y(T!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"enum",getDefaultValue:jd,repeated:g,enum:T})}default:{const T=_0[s.type];return y(T,`invalid FieldDescriptorProto: unknown type ${s.type}`),Object.assign(Object.assign({},m),{kind:"field",fieldKind:"scalar",getDefaultValue:jd,repeated:g,scalar:T,longType:((h=s.options)===null||h===void 0?void 0:h.jstype)==Vr.JS_STRING?ee.STRING:ee.BIGINT})}}}function Fd(s,e,n,i){y(s.extendee,"invalid FieldDescriptorProto: missing extendee");const a=$d(s,e,null,void 0,i),u=i.messages.get(si(s.extendee));return y(u,`invalid FieldDescriptorProto: extendee ${s.extendee} not found`),Object.assign(Object.assign({},a),{kind:"extension",typeName:Ma(s,n,e),parent:n,file:e,extendee:u,toString(){return`extension ${this.typeName}`},getComments(){const d=this.parent?[...this.parent.getComments().sourcePath,lt.DescriptorProto_Extension,this.parent.proto.extension.indexOf(s)]:[lt.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(s)];return er(e.proto.sourceCodeInfo,d)},getFeatures(){var d,h;return i.resolveFeatures(this.file.edition,((d=this.parent)!==null&&d!==void 0?d:this.file).getFeatures(),(h=this.proto.options)===null||h===void 0?void 0:h.features)}})}function S0(s,e){let n,i;switch(s){case void 0:case"proto2":i="proto2",n=Se.EDITION_PROTO2;break;case"proto3":i="proto3",n=Se.EDITION_PROTO3;break;case"editions":switch(i="editions",e){case void 0:case Se.EDITION_1_TEST_ONLY:case Se.EDITION_2_TEST_ONLY:case Se.EDITION_99997_TEST_ONLY:case Se.EDITION_99998_TEST_ONLY:case Se.EDITION_99999_TEST_ONLY:case Se.EDITION_UNKNOWN:n=Se.EDITION_UNKNOWN;break;default:n=e;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${s}`)}if(s==="editions"&&e===Se.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${s} cannot have edition ${String(e)}`);return{syntax:i,edition:n}}function Ma(s,e,n){y(s.name,`invalid ${s.getType().typeName}: missing name`);let i;return e?i=`${e.typeName}.${s.name}`:n.proto.package!==void 0?i=`${n.proto.package}.${s.name}`:i=`${s.name}`,i}function si(s){return s.startsWith(".")?s.substring(1):s}function w0(s){var e,n;y((e=s.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${s.toString()} to be a map entry`),y(s.fields.length===2,`invalid DescriptorProto: map entry ${s.toString()} has ${s.fields.length} fields`);const i=s.fields.find(d=>d.proto.number===1);y(i,`invalid DescriptorProto: map entry ${s.toString()} is missing key field`);const a=i.scalar;y(a!==void 0&&a!==w.BYTES&&a!==w.FLOAT&&a!==w.DOUBLE,`invalid DescriptorProto: map entry ${s.toString()} has unexpected key type ${(n=i.proto.type)!==null&&n!==void 0?n:-1}`);const u=s.fields.find(d=>d.proto.number===2);switch(y(u,`invalid DescriptorProto: map entry ${s.toString()} is missing value field`),u.fieldKind){case"scalar":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"scalar"})};case"message":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"message"})};case"enum":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function k0(s,e){var n;const i=s.oneofIndex;if(i===void 0)return;let a;return s.proto3Optional!==!0&&(a=e[i],y(a,`invalid FieldDescriptorProto: oneof #${i} for field #${(n=s.number)!==null&&n!==void 0?n:-1} not found`)),a}function E0(s,e){switch(e){case"proto2":return s.oneofIndex===void 0&&s.label===zr.OPTIONAL;case"proto3":return s.proto3Optional===!0;case"editions":return!1}}function N0(s,e,n){const{repeatedFieldEncoding:i}=n(s.edition);if(i!=ks.PACKED)return!1;switch(e.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:return!0}}function I0(s,e,n,i){var a,u,d,h,m,g;switch(n.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:switch(s.edition){case Se.EDITION_PROTO2:return(u=(a=n.options)===null||a===void 0?void 0:a.packed)!==null&&u!==void 0?u:!1;case Se.EDITION_PROTO3:return(h=(d=n.options)===null||d===void 0?void 0:d.packed)!==null&&h!==void 0?h:!0;default:{const{repeatedFieldEncoding:T}=i(s.edition,(m=e==null?void 0:e.getFeatures())!==null&&m!==void 0?m:s.getFeatures(),(g=n.options)===null||g===void 0?void 0:g.features);return T==ks.PACKED}}}}const _0={[le.DOUBLE]:w.DOUBLE,[le.FLOAT]:w.FLOAT,[le.INT64]:w.INT64,[le.UINT64]:w.UINT64,[le.INT32]:w.INT32,[le.FIXED64]:w.FIXED64,[le.FIXED32]:w.FIXED32,[le.BOOL]:w.BOOL,[le.STRING]:w.STRING,[le.GROUP]:void 0,[le.MESSAGE]:void 0,[le.BYTES]:w.BYTES,[le.UINT32]:w.UINT32,[le.ENUM]:void 0,[le.SFIXED32]:w.SFIXED32,[le.SFIXED64]:w.SFIXED64,[le.SINT32]:w.SINT32,[le.SINT64]:w.SINT64};function er(s,e){if(!s)return{leadingDetached:[],sourcePath:e};for(const n of s.location)if(n.path.length===e.length&&!n.path.some((i,a)=>e[a]!==i))return{leadingDetached:n.leadingDetachedComments,leading:n.leadingComments,trailing:n.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var lt;(function(s){s[s.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",s[s.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",s[s.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",s[s.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",s[s.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",s[s.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",s[s.DescriptorProto_Field=2]="DescriptorProto_Field",s[s.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",s[s.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",s[s.DescriptorProto_Extension=6]="DescriptorProto_Extension",s[s.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",s[s.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",s[s.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(lt||(lt={}));function A0(){var s,e,n;const i=[];this.repeated&&i.push("repeated"),this.optional&&i.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===zr.REQUIRED&&i.push("required");let u;switch(this.fieldKind){case"scalar":u=w[this.scalar].toLowerCase();break;case"enum":u=this.enum.typeName;break;case"message":u=this.message.typeName;break;case"map":{const m=w[this.mapKey].toLowerCase();let g;switch(this.mapValue.kind){case"scalar":g=w[this.mapValue.scalar].toLowerCase();break;case"enum":g=this.mapValue.enum.typeName;break;case"message":g=this.mapValue.message.typeName;break}u=`map<${m}, ${g}>`;break}}i.push(`${u} ${this.name} = ${this.number}`);const d=[];((s=this.proto.options)===null||s===void 0?void 0:s.packed)!==void 0&&d.push(`packed = ${this.proto.options.packed.toString()}`);let h=this.proto.defaultValue;return h!==void 0&&((this.proto.type==le.BYTES||this.proto.type==le.STRING)&&(h='"'+h.replace('"','\\"')+'"'),d.push(`default = ${h}`)),this.jsonName!==void 0&&d.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.jstype)!==void 0&&d.push(`jstype = ${Vr[this.proto.options.jstype]}`),((n=this.proto.options)===null||n===void 0?void 0:n.deprecated)===!0&&d.push("deprecated = true"),d.length>0&&i.push("["+d.join(", ")+"]"),i.join(" ")}function jd(){const s=this.proto.defaultValue;if(s!==void 0)switch(this.fieldKind){case"enum":return c0(this.enum,s);case"scalar":return f0(this.scalar,s);default:return}}function P0(...s){const e={},n={},i={},a={add(u){if("fields"in u){if(!this.findMessage(u.typeName)){e[u.typeName]=u;for(const d of u.fields.list())d.kind=="message"?this.add(d.T):d.kind=="map"&&d.V.kind=="message"?this.add(d.V.T):d.kind=="enum"&&this.add(d.T)}}else if("methods"in u){if(!this.findService(u.typeName)){i[u.typeName]=u;for(const d of Object.values(u.methods))this.add(d.I),this.add(d.O)}}else n[u.typeName]=u},findMessage(u){return e[u]},findEnum(u){return n[u]},findService(u){return i[u]}};for(const u of s)a.add(u);return a}let ho=class Js extends O{constructor(e){super(),this.seconds=fe.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${A.json.debug(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=fe.parse(a/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const a=(this.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Js.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new Js({seconds:fe.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new Js().fromBinary(e,n)}static fromJson(e,n){return new Js().fromJson(e,n)}static fromJsonString(e,n){return new Js().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Js,e,n)}};ho.runtime=A,ho.typeName="google.protobuf.Timestamp",ho.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class dn extends O{constructor(e){super(),this.seconds=fe.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);if(this.seconds=fe.parse(a),typeof i[2]=="string"){const u=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(u),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new dn().fromBinary(e,n)}static fromJson(e,n){return new dn().fromJson(e,n)}static fromJsonString(e,n){return new dn().fromJsonString(e,n)}static equals(e,n){return A.util.equals(dn,e,n)}}dn.runtime=A,dn.typeName="google.protobuf.Duration",dn.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class _t extends O{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),a=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!a)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=a.fromBinary(this.value).toJson(e);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const a=e["@type"];if(typeof a!="string"||a=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const u=this.typeUrlToName(a),d=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(u);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${a} is not in the type registry`);let h;if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))h=d.fromJson(e.value,n);else{const m=Object.assign({},e);delete m["@type"],h=d.fromJson(m,n)}return this.packFrom(h),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof e=="string"?i=e:i=e.typeName,n===i}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),i=n>=0?e.substring(n+1):e;if(!i.length)throw new Error(`invalid type url: ${e}`);return i}static pack(e){const n=new _t;return n.packFrom(e),n}static fromBinary(e,n){return new _t().fromBinary(e,n)}static fromJson(e,n){return new _t().fromJson(e,n)}static fromJsonString(e,n){return new _t().fromJsonString(e,n)}static equals(e,n){return A.util.equals(_t,e,n)}}_t.runtime=A,_t.typeName="google.protobuf.Any",_t.fields=A.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class tr extends O{constructor(e){super(),A.util.initPartial(e,this)}static fromBinary(e,n){return new tr().fromBinary(e,n)}static fromJson(e,n){return new tr().fromJson(e,n)}static fromJsonString(e,n){return new tr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(tr,e,n)}}tr.runtime=A,tr.typeName="google.protobuf.Empty",tr.fields=A.util.newFieldList(()=>[]);class nr extends O{constructor(e){super(),this.paths=[],A.util.initPartial(e,this)}toJson(e){function n(i){let a=!1;const u=[];for(let d=0;d<i.length;d++){let h=i.charAt(d);switch(h){case"_":a=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u.push(h),a=!1;break;default:a&&(a=!1,h=h.toUpperCase()),u.push(h);break}}return u.join("")}return this.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+i+'" is irreversible');return n(i)}).join(",")}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+A.json.debug(e));if(e==="")return this;function i(a){if(a.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const u=a.replace(/[A-Z]/g,d=>"_"+d.toLowerCase());return u[0]==="_"?u.substring(1):u}return this.paths=e.split(",").map(i),this}static fromBinary(e,n){return new nr().fromBinary(e,n)}static fromJson(e,n){return new nr().fromJson(e,n)}static fromJsonString(e,n){return new nr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(nr,e,n)}}nr.runtime=A,nr.typeName="google.protobuf.FieldMask",nr.fields=A.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var Es;(function(s){s[s.NULL_VALUE=0]="NULL_VALUE"})(Es||(Es={})),A.util.setEnumType(Es,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class Ft extends O{constructor(e){super(),this.fields={},A.util.initPartial(e,this)}toJson(e){const n={};for(const[i,a]of Object.entries(this.fields))n[i]=a.toJson(e);return n}fromJson(e,n){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+A.json.debug(e));for(const[i,a]of Object.entries(e))this.fields[i]=gt.fromJson(a);return this}static fromBinary(e,n){return new Ft().fromBinary(e,n)}static fromJson(e,n){return new Ft().fromJson(e,n)}static fromJsonString(e,n){return new Ft().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ft,e,n)}}Ft.runtime=A,Ft.typeName="google.protobuf.Struct",Ft.fields=A.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:gt}}]);class gt extends O{constructor(e){super(),this.kind={case:void 0},A.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,n){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:Es.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:jt.fromJson(e)}:this.kind={case:"structValue",value:Ft.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+A.json.debug(e))}return this}static fromBinary(e,n){return new gt().fromBinary(e,n)}static fromJson(e,n){return new gt().fromJson(e,n)}static fromJsonString(e,n){return new gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(gt,e,n)}}gt.runtime=A,gt.typeName="google.protobuf.Value",gt.fields=A.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:A.getEnumType(Es),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:Ft,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:jt,oneof:"kind"}]);class jt extends O{constructor(e){super(),this.values=[],A.util.initPartial(e,this)}toJson(e){return this.values.map(n=>n.toJson())}fromJson(e,n){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+A.json.debug(e));for(let i of e)this.values.push(gt.fromJson(i));return this}static fromBinary(e,n){return new jt().fromBinary(e,n)}static fromJson(e,n){return new jt().fromJson(e,n)}static fromJsonString(e,n){return new jt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(jt,e,n)}}jt.runtime=A,jt.typeName="google.protobuf.ListValue",jt.fields=A.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:gt,repeated:!0}]);class zt extends O{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.DOUBLE,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.DOUBLE,e)}catch(i){let a='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new zt().fromBinary(e,n)}static fromJson(e,n){return new zt().fromJson(e,n)}static fromJsonString(e,n){return new zt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(zt,e,n)}}zt.runtime=A,zt.typeName="google.protobuf.DoubleValue",zt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),zt.fieldWrapper={wrapField(s){return new zt({value:s})},unwrapField(s){return s.value}};class Vt extends O{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.FLOAT,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.FLOAT,e)}catch(i){let a='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Vt,e,n)}}Vt.runtime=A,Vt.typeName="google.protobuf.FloatValue",Vt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),Vt.fieldWrapper={wrapField(s){return new Vt({value:s})},unwrapField(s){return s.value}};class qt extends O{constructor(e){super(),this.value=fe.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT64,e)}catch(i){let a='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qt().fromBinary(e,n)}static fromJson(e,n){return new qt().fromJson(e,n)}static fromJsonString(e,n){return new qt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qt,e,n)}}qt.runtime=A,qt.typeName="google.protobuf.Int64Value",qt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),qt.fieldWrapper={wrapField(s){return new qt({value:s})},unwrapField(s){return s.value}};class Yt extends O{constructor(e){super(),this.value=fe.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT64,e)}catch(i){let a='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Yt().fromBinary(e,n)}static fromJson(e,n){return new Yt().fromJson(e,n)}static fromJsonString(e,n){return new Yt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Yt,e,n)}}Yt.runtime=A,Yt.typeName="google.protobuf.UInt64Value",Yt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),Yt.fieldWrapper={wrapField(s){return new Yt({value:s})},unwrapField(s){return s.value}};class Kt extends O{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.INT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.INT32,e)}catch(i){let a='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Kt().fromBinary(e,n)}static fromJson(e,n){return new Kt().fromJson(e,n)}static fromJsonString(e,n){return new Kt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Kt,e,n)}}Kt.runtime=A,Kt.typeName="google.protobuf.Int32Value",Kt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),Kt.fieldWrapper={wrapField(s){return new Kt({value:s})},unwrapField(s){return s.value}};class Wt extends O{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.UINT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.UINT32,e)}catch(i){let a='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Wt().fromBinary(e,n)}static fromJson(e,n){return new Wt().fromJson(e,n)}static fromJsonString(e,n){return new Wt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Wt,e,n)}}Wt.runtime=A,Wt.typeName="google.protobuf.UInt32Value",Wt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Wt.fieldWrapper={wrapField(s){return new Wt({value:s})},unwrapField(s){return s.value}};class Gt extends O{constructor(e){super(),this.value=!1,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BOOL,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BOOL,e)}catch(i){let a='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Gt().fromBinary(e,n)}static fromJson(e,n){return new Gt().fromJson(e,n)}static fromJsonString(e,n){return new Gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Gt,e,n)}}Gt.runtime=A,Gt.typeName="google.protobuf.BoolValue",Gt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Gt.fieldWrapper={wrapField(s){return new Gt({value:s})},unwrapField(s){return s.value}};let Ns=class Go extends O{constructor(e){super(),this.value="",A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.STRING,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.STRING,e)}catch(i){let a='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Go().fromBinary(e,n)}static fromJson(e,n){return new Go().fromJson(e,n)}static fromJsonString(e,n){return new Go().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Go,e,n)}};Ns.runtime=A,Ns.typeName="google.protobuf.StringValue",Ns.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Ns.fieldWrapper={wrapField(s){return new Ns({value:s})},unwrapField(s){return s.value}};class Ht extends O{constructor(e){super(),this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(w.BYTES,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(w.BYTES,e)}catch(i){let a='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Ht().fromBinary(e,n)}static fromJson(e,n){return new Ht().fromJson(e,n)}static fromJsonString(e,n){return new Ht().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ht,e,n)}}Ht.runtime=A,Ht.typeName="google.protobuf.BytesValue",Ht.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),Ht.fieldWrapper={wrapField(s){return new Ht({value:s})},unwrapField(s){return s.value}};const x0=[_t,dn,tr,nr,Ft,gt,jt,ho,dn,zt,Vt,qt,Kt,Wt,Yt,Gt,Ns,Ht],O0=[I(Es)];function C0(s,e=!0){const n=s instanceof Uint8Array||s instanceof Jt?Md(s):s,i={},a={},u={};if(e){for(const d of x0)a[d.typeName]=d;for(const d of O0)i[d.typeName]=d}return{findEnum(d){const h=i[d];if(h)return h;const m=n.enums.get(d);if(!m)return;const T=(m.file.syntax=="proto3"?A:E).makeEnumType(d,m.values.map(x=>({no:x.number,name:x.name,localName:La(x)})),{});return i[d]=T,T},findMessage(d){const h=a[d];if(h)return h;const m=n.messages.get(d);if(!m)return;const g=m.file.syntax=="proto3"?A:E,T=[],x=g.makeMessageType(d,()=>T,{localName:La(m)});a[d]=x;for(const k of m.fields){const P=D0(k,this);T.push(P)}return x},findService(d){const h=u[d];if(h)return h;const m=n.services.get(d);if(!m)return;const g={};for(const T of m.methods){const x=this.findMessage(T.input.typeName),k=this.findMessage(T.output.typeName);y(x,`message "${T.input.typeName}" for ${T.toString()} not found`),y(k,`output message "${T.output.typeName}" for ${T.toString()} not found`),g[La(T)]={name:T.name,I:x,O:k,kind:T.methodKind,idempotency:T.idempotency}}return u[d]={typeName:m.typeName,methods:g}}}}function D0(s,e){switch(s.fieldKind){case"map":return R0(s,e);case"message":return L0(s,e);case"enum":{const n=B0(s,e);return n.default=s.getDefaultValue(),n}case"scalar":{const n=b0(s);return n.default=s.getDefaultValue(),n}}}function R0(s,e){const n={kind:"map",no:s.number,name:s.name,jsonName:s.jsonName,K:s.mapKey};if(s.mapValue.message){const i=e.findMessage(s.mapValue.message.typeName);return y(i,`message "${s.mapValue.message.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"message",T:i}})}if(s.mapValue.enum){const i=e.findEnum(s.mapValue.enum.typeName);return y(i,`enum "${s.mapValue.enum.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"enum",T:i}})}return Object.assign(Object.assign({},n),{V:{kind:"scalar",T:s.mapValue.scalar}})}function b0(s){const e=s.longType==ee.STRING?{L:ee.STRING}:{},n=Object.assign({kind:"scalar",no:s.number,name:s.name,jsonName:s.jsonName,T:s.scalar},e);return s.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:s.packed,oneof:void 0,T:s.scalar}):s.oneof?Object.assign(Object.assign({},n),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function L0(s,e){const n=e.findMessage(s.message.typeName);y(n,`message "${s.message.typeName}" for ${s.toString()} not found`);const i={kind:"message",no:s.number,name:s.name,jsonName:s.jsonName,T:n,delimited:s.proto.type==le.GROUP};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function B0(s,e){const n=e.findEnum(s.enum.typeName);y(n,`enum "${s.enum.typeName}" for ${s.toString()} not found`);const i={kind:"enum",no:s.number,name:s.name,jsonName:s.jsonName,T:n};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function zd(s){if(!(s instanceof O))return s;const e=s.getType(),n={};for(const i of e.fields.byMember()){const a=s[i.localName];let u;if(i.repeated)u=a.map(d=>Ja(d));else if(i.kind=="map"){u={};for(const[d,h]of Object.entries(a))u[d]=Ja(h)}else i.kind=="oneof"?u=i.findField(a.case)?{case:a.case,value:Ja(a.value)}:{case:void 0}:u=Ja(a);n[i.localName]=u}return n}function Ja(s){if(s===void 0)return s;if(s instanceof O)return zd(s);if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}class rr extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new rr().fromBinary(e,n)}static fromJson(e,n){return new rr().fromJson(e,n)}static fromJsonString(e,n){return new rr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(rr,e,n)}}rr.runtime=E,rr.typeName="google.protobuf.compiler.Version",rr.fields=E.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class wr extends O{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new wr().fromBinary(e,n)}static fromJson(e,n){return new wr().fromJson(e,n)}static fromJsonString(e,n){return new wr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(wr,e,n)}}wr.runtime=E,wr.typeName="google.protobuf.compiler.CodeGeneratorRequest",wr.fields=E.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Ut,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Ut,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:rr,opt:!0}]);class kr extends O{constructor(e){super(),this.file=[],E.util.initPartial(e,this)}static fromBinary(e,n){return new kr().fromBinary(e,n)}static fromJson(e,n){return new kr().fromJson(e,n)}static fromJsonString(e,n){return new kr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(kr,e,n)}}kr.runtime=E,kr.typeName="google.protobuf.compiler.CodeGeneratorResponse",kr.fields=E.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:sr,repeated:!0}]);var Ua;(function(s){s[s.NONE=0]="NONE",s[s.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",s[s.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(Ua||(Ua={})),E.util.setEnumType(Ua,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class sr extends O{constructor(e){super(),E.util.initPartial(e,this)}static fromBinary(e,n){return new sr().fromBinary(e,n)}static fromJson(e,n){return new sr().fromJson(e,n)}static fromJsonString(e,n){return new sr().fromJsonString(e,n)}static equals(e,n){return E.util.equals(sr,e,n)}}sr.runtime=E,sr.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",sr.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Qn,opt:!0}]);class Xt extends O{constructor(e){super(),this.fileName="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Xt().fromBinary(e,n)}static fromJson(e,n){return new Xt().fromJson(e,n)}static fromJsonString(e,n){return new Xt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Xt,e,n)}}Xt.runtime=A,Xt.typeName="google.protobuf.SourceContext",Xt.fields=A.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var Qt;(function(s){s[s.PROTO2=0]="PROTO2",s[s.PROTO3=1]="PROTO3",s[s.EDITIONS=2]="EDITIONS"})(Qt||(Qt={})),A.util.setEnumType(Qt,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class Er extends O{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Qt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Er().fromBinary(e,n)}static fromJson(e,n){return new Er().fromJson(e,n)}static fromJsonString(e,n){return new Er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Er,e,n)}}Er.runtime=A,Er.typeName="google.protobuf.Type",Er.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:ir,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:ut,repeated:!0},{no:5,name:"source_context",kind:"message",T:Xt},{no:6,name:"syntax",kind:"enum",T:A.getEnumType(Qt)},{no:7,name:"edition",kind:"scalar",T:9}]);class ir extends O{constructor(e){super(),this.kind=ii.TYPE_UNKNOWN,this.cardinality=oi.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",A.util.initPartial(e,this)}static fromBinary(e,n){return new ir().fromBinary(e,n)}static fromJson(e,n){return new ir().fromJson(e,n)}static fromJsonString(e,n){return new ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ir,e,n)}}ir.runtime=A,ir.typeName="google.protobuf.Field",ir.fields=A.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:A.getEnumType(ii)},{no:2,name:"cardinality",kind:"enum",T:A.getEnumType(oi)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:ut,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var ii;(function(s){s[s.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",s[s.TYPE_DOUBLE=1]="TYPE_DOUBLE",s[s.TYPE_FLOAT=2]="TYPE_FLOAT",s[s.TYPE_INT64=3]="TYPE_INT64",s[s.TYPE_UINT64=4]="TYPE_UINT64",s[s.TYPE_INT32=5]="TYPE_INT32",s[s.TYPE_FIXED64=6]="TYPE_FIXED64",s[s.TYPE_FIXED32=7]="TYPE_FIXED32",s[s.TYPE_BOOL=8]="TYPE_BOOL",s[s.TYPE_STRING=9]="TYPE_STRING",s[s.TYPE_GROUP=10]="TYPE_GROUP",s[s.TYPE_MESSAGE=11]="TYPE_MESSAGE",s[s.TYPE_BYTES=12]="TYPE_BYTES",s[s.TYPE_UINT32=13]="TYPE_UINT32",s[s.TYPE_ENUM=14]="TYPE_ENUM",s[s.TYPE_SFIXED32=15]="TYPE_SFIXED32",s[s.TYPE_SFIXED64=16]="TYPE_SFIXED64",s[s.TYPE_SINT32=17]="TYPE_SINT32",s[s.TYPE_SINT64=18]="TYPE_SINT64"})(ii||(ii={})),A.util.setEnumType(ii,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var oi;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.OPTIONAL=1]="OPTIONAL",s[s.REQUIRED=2]="REQUIRED",s[s.REPEATED=3]="REPEATED"})(oi||(oi={})),A.util.setEnumType(oi,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class Nr extends O{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Qt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Nr().fromBinary(e,n)}static fromJson(e,n){return new Nr().fromJson(e,n)}static fromJsonString(e,n){return new Nr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Nr,e,n)}}Nr.runtime=A,Nr.typeName="google.protobuf.Enum",Nr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:or,repeated:!0},{no:3,name:"options",kind:"message",T:ut,repeated:!0},{no:4,name:"source_context",kind:"message",T:Xt},{no:5,name:"syntax",kind:"enum",T:A.getEnumType(Qt)},{no:6,name:"edition",kind:"scalar",T:9}]);class or extends O{constructor(e){super(),this.name="",this.number=0,this.options=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new or().fromBinary(e,n)}static fromJson(e,n){return new or().fromJson(e,n)}static fromJsonString(e,n){return new or().fromJsonString(e,n)}static equals(e,n){return A.util.equals(or,e,n)}}or.runtime=A,or.typeName="google.protobuf.EnumValue",or.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:ut,repeated:!0}]);class ut extends O{constructor(e){super(),this.name="",A.util.initPartial(e,this)}static fromBinary(e,n){return new ut().fromBinary(e,n)}static fromJson(e,n){return new ut().fromJson(e,n)}static fromJsonString(e,n){return new ut().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ut,e,n)}}ut.runtime=A,ut.typeName="google.protobuf.Option",ut.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:_t}]);class Ir extends O{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Qt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new Ir().fromBinary(e,n)}static fromJson(e,n){return new Ir().fromJson(e,n)}static fromJsonString(e,n){return new Ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ir,e,n)}}Ir.runtime=A,Ir.typeName="google.protobuf.Api",Ir.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:ar,repeated:!0},{no:3,name:"options",kind:"message",T:ut,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Xt},{no:6,name:"mixins",kind:"message",T:lr,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Qt)}]);class ar extends O{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Qt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new ar().fromBinary(e,n)}static fromJson(e,n){return new ar().fromJson(e,n)}static fromJsonString(e,n){return new ar().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ar,e,n)}}ar.runtime=A,ar.typeName="google.protobuf.Method",ar.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:ut,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Qt)}]);class lr extends O{constructor(e){super(),this.name="",this.root="",A.util.initPartial(e,this)}static fromBinary(e,n){return new lr().fromBinary(e,n)}static fromJson(e,n){return new lr().fromJson(e,n)}static fromJsonString(e,n){return new lr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(lr,e,n)}}lr.runtime=A,lr.typeName="google.protobuf.Mixin",lr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);const Pu=Object.freeze(Object.defineProperty({__proto__:null,Any:_t,Api:Ir,BinaryReader:Fr,BinaryWriter:Pn,BoolValue:Gt,BytesValue:Ht,CodeGeneratorRequest:wr,CodeGeneratorResponse:kr,get CodeGeneratorResponse_Feature(){return Ua},CodeGeneratorResponse_File:sr,DescriptorProto:cn,DescriptorProto_ExtensionRange:xn,DescriptorProto_ReservedRange:On,DoubleValue:zt,Duration:dn,get Edition(){return Se},Empty:tr,Enum:Nr,EnumDescriptorProto:fn,EnumDescriptorProto_EnumReservedRange:bn,EnumOptions:zn,EnumValue:or,EnumValueDescriptorProto:Ln,EnumValueOptions:Vn,ExtensionRangeOptions:Cn,ExtensionRangeOptions_Declaration:Dn,get ExtensionRangeOptions_VerificationState(){return ti},FeatureSet:be,FeatureSetDefaults:Wn,FeatureSetDefaults_FeatureSetEditionDefault:Gn,get FeatureSet_EnumType(){return ao},get FeatureSet_FieldPresence(){return oo},get FeatureSet_JsonFormat(){return co},get FeatureSet_MessageEncoding(){return uo},get FeatureSet_RepeatedFieldEncoding(){return ks},get FeatureSet_Utf8Validation(){return lo},Field:ir,FieldDescriptorProto:$t,get FieldDescriptorProto_Label(){return zr},get FieldDescriptorProto_Type(){return le},FieldMask:nr,FieldOptions:$n,get FieldOptions_CType(){return ri},FieldOptions_EditionDefault:Fn,get FieldOptions_JSType(){return Vr},get FieldOptions_OptionRetention(){return so},get FieldOptions_OptionTargetType(){return io},get Field_Cardinality(){return oi},get Field_Kind(){return ii},FileDescriptorProto:Ut,FileDescriptorSet:Jt,FileOptions:Jn,get FileOptions_OptimizeMode(){return ni},FloatValue:Vt,GeneratedCodeInfo:Qn,GeneratedCodeInfo_Annotation:Zn,get GeneratedCodeInfo_Annotation_Semantic(){return fo},Int32Value:Kt,Int64Value:qt,ListValue:jt,get LongType(){return ee},Message:O,MessageOptions:Un,Method:ar,MethodDescriptorProto:Mn,get MethodIdempotency(){return ro},get MethodKind(){return Mt},MethodOptions:Yn,get MethodOptions_IdempotencyLevel(){return Sr},Mixin:lr,get NullValue(){return Es},OneofDescriptorProto:Rn,OneofOptions:jn,Option:ut,get ScalarType(){return w},ServiceDescriptorProto:Bn,ServiceOptions:qn,SourceCodeInfo:Hn,SourceCodeInfo_Location:Xn,SourceContext:Xt,StringValue:Ns,Struct:Ft,get Syntax(){return Qt},Timestamp:ho,Type:Er,UInt32Value:Wt,UInt64Value:Yt,UninterpretedOption:We,UninterpretedOption_NamePart:Kn,Value:gt,Version:rr,get WireType(){return ge},codegenInfo:u0,createDescriptorSet:Md,createRegistry:P0,createRegistryFromDescriptors:C0,proto2:E,proto3:A,protoBase64:Zi,protoDelimited:Iu,protoDouble:i0,protoInt64:fe,toPlainMessage:zd},Symbol.toStringTag,{value:"Module"}));function Vd(s){const e=p[s];return typeof e!="string"?s.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class Ve extends Error{constructor(e,n=p.Unknown,i,a,u){super(M0(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=a??[],this.cause=u}static from(e,n=p.Unknown){return e instanceof Ve?e:e instanceof Error?e.name=="AbortError"?new Ve(e.message,p.Canceled):new Ve(e.message,n,void 0,void 0,e):new Ve(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:a=>a===e.typeName?e:void 0}:e,i=[];for(const a of this.details){if(a instanceof O){n.findMessage(a.getType().typeName)&&i.push(a);continue}const u=n.findMessage(a.type);if(u)try{i.push(u.fromBinary(a.value))}catch{}}return i}}function M0(s,e){return s.length?`[${Vd(e)}] ${s}`:`[${Vd(e)}]`}function J0(s,e,n){try{const i=Zi.dec(s);return e?e.fromBinary(i,n):i}catch(i){throw Ve.from(i,p.DataLoss)}}function U0(s,e){const n={};for(const[i,a]of Object.entries(s.methods)){const u=e(Object.assign(Object.assign({},a),{localName:i,service:s}));u!=null&&(n[i]=u)}return n}function qd(s){let e,n=new Uint8Array(0);function i(a){const u=new Uint8Array(n.length+a.length);u.set(n),u.set(a,n.length),n=u}return new ReadableStream({start(){e=s.getReader()},async pull(a){let u;for(;;){if(u===void 0&&n.byteLength>=5){let m=0;for(let g=1;g<5;g++)m=(m<<8)+n[g];u={flags:n[0],length:m}}if(u!==void 0&&n.byteLength>=u.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(u===void 0){if(n.byteLength==0){a.close();return}a.error(new Ve("premature end of stream",p.DataLoss));return}const d=n.subarray(5,5+u.length);n=n.subarray(5+u.length),a.enqueue({flags:u.flags,data:d})}})}function Yd(s,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,s),i.setUint32(1,e.length),n}var $0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},po=globalThis&&globalThis.__await||function(s){return this instanceof po?(this.v=s,this):new po(s)},F0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){x(u[0][3],U)}}function m(k){k.value instanceof po?Promise.resolve(k.value.v).then(g,T):x(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function x(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}},j0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:po(s[a](d)),done:!1}:u?u(d):d}:u}};function z0(s){return F0(this,arguments,function*(){yield po(yield*j0($0(s)))})}var Kd=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,m){d=s[u](d),a(h,m,d.done,d.value)})}}function a(u,d,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},d)}},ai=globalThis&&globalThis.__await||function(s){return this instanceof ai?(this.v=s,this):new ai(s)},V0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:ai(s[a](d)),done:!1}:u?u(d):d}:u}},q0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){x(u[0][3],U)}}function m(k){k.value instanceof ai?Promise.resolve(k.value.v).then(g,T):x(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function x(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function Y0(s,e){return U0(s,n=>{switch(n.kind){case Mt.Unary:return K0(e,s,n);case Mt.ServerStreaming:return W0(e,s,n);case Mt.ClientStreaming:return G0(e,s,n);case Mt.BiDiStreaming:return H0(e,s,n);default:return null}})}function K0(s,e,n){return async function(i,a){var u,d;const h=await s.unary(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);return(u=a==null?void 0:a.onHeader)===null||u===void 0||u.call(a,h.header),(d=a==null?void 0:a.onTrailer)===null||d===void 0||d.call(a,h.trailer),h.message}}function W0(s,e,n){return function(i,a){return Wd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,z0([i]),a==null?void 0:a.contextValues),a)}}function G0(s,e,n){return async function(i,a){var u,d,h,m,g,T;const x=await s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);(g=a==null?void 0:a.onHeader)===null||g===void 0||g.call(a,x.header);let k;try{for(var P=!0,U=Kd(x.message),q;q=await U.next(),u=q.done,!u;P=!0)m=q.value,P=!1,k=m}catch(K){d={error:K}}finally{try{!P&&!u&&(h=U.return)&&await h.call(U)}finally{if(d)throw d.error}}if(!k)throw new Ve("protocol error: missing response message",p.Internal);return(T=a==null?void 0:a.onTrailer)===null||T===void 0||T.call(a,x.trailer),k}}function H0(s,e,n){return function(i,a){return Wd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues),a)}}function Wd(s,e){const n=function(){var i,a;return q0(this,arguments,function*(){const u=yield ai(s);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,u.header),yield ai(yield*V0(Kd(u.message))),(a=e==null?void 0:e.onTrailer)===null||a===void 0||a.call(e,u.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function X0(...s){const e=new AbortController,n=s.filter(a=>a!==void 0).concat(e.signal);for(const a of n){if(a.aborted){i.apply(a);break}a.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(Gd(this));for(const a of n)a.removeEventListener("abort",i)}return e}function Q0(s){const e=new AbortController,n=()=>{e.abort(new Ve("the operation timed out",p.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?n():i=setTimeout(n,s)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function Gd(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Hd(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,e){return this[s.id]=e,this},delete(s){return delete this[s.id],this}}}const xu=128;function Xd(s){const e=new Headers,n=new TextDecoder().decode(s).split(`\r
`);for(const i of n){if(i==="")continue;const a=i.indexOf(":");if(a>0){const u=i.substring(0,a).trim(),d=i.substring(a+1).trim();e.append(u,d)}}return e}const Z0="Content-Type",eT="Grpc-Timeout",Qd="Grpc-Status",Zd="Grpc-Message",tT="Grpc-Status-Details-Bin",nT="User-Agent",rT="X-User-Agent",sT="X-Grpc-Web",iT="application/grpc-web+proto",oT="application/grpc-web+json";class _r extends O{constructor(e){super(),this.code=0,this.message="",this.details=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new _r().fromBinary(e,n)}static fromJson(e,n){return new _r().fromJson(e,n)}static fromJsonString(e,n){return new _r().fromJsonString(e,n)}static equals(e,n){return A.util.equals(_r,e,n)}}_r.runtime=A,_r.typeName="google.rpc.Status",_r.fields=A.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:_t,repeated:!0}]);const aT="0";function eh(s){var e;const n=s.get(tT);if(n!=null){const a=J0(n,_r);if(a.code==0)return;const u=new Ve(a.message,a.code,s);return u.details=a.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),u}const i=s.get(Qd);if(i!=null){if(i===aT)return;const a=parseInt(i,10);return a in p?new Ve(decodeURIComponent((e=s.get(Zd))!==null&&e!==void 0?e:""),a,s):new Ve(`invalid grpc-status: ${i}`,p.Internal,s)}}function th(s,e,n){const i=typeof e=="string"?e:e.typeName,a=typeof n=="string"?n:n.name;return s.toString().replace(/\/?$/,`/${i}/${a}`)}function nh(s,e){return e instanceof O?e:new s(e)}function lT(s,e){function n(i){return i.done===!0?i:{done:i.done,value:nh(s,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),a={next:()=>i.next().then(n)};return i.throw!==void 0&&(a.throw=u=>i.throw(u).then(n)),i.return!==void 0&&(a.return=u=>i.return(u).then(n)),a}}}function uT(s){var e;const n=Object.assign({},s);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function rh(s,e,n,i){const a=e?sh(s.I,i):ih(s.I,n);return{parse:(e?sh(s.O,i):ih(s.O,n)).parse,serialize:a.serialize}}function sh(s,e){return{parse(n){try{return s.fromBinary(n,e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Ve(`parse binary: ${a}`,p.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Ve(`serialize binary: ${a}`,p.Internal)}}}}function ih(s,e){var n,i;const a=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,u=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=uT(e);return{parse(h){try{const m=u.decode(h);return s.fromJsonString(m,d)}catch(m){throw Ve.from(m,p.InvalidArgument)}},serialize(h){try{const m=h.toJsonString(d);return a.encode(m)}catch(m){throw Ve.from(m,p.Internal)}}}}function cT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:nh(s.req.method.I,s.req.message),signal:n});return e(u).then(d=>(a(),d),i)}function fT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:lT(s.req.method.I,s.req.message),signal:n});let d=!1;return n.addEventListener("abort",function(){var h,m;const g=s.req.message[Symbol.asyncIterator]();d||(h=g.throw)===null||h===void 0||h.call(g,this.reason).catch(()=>{}),(m=g.return)===null||m===void 0||m.call(g).catch(()=>{})}),e(u).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const m=h.message[Symbol.asyncIterator]();return{next(){return m.next().then(g=>(g.done==!0&&(d=!0,a()),g),i)}}}}}),i)}function oh(s){const{signal:e,cleanup:n}=Q0(s.timeoutMs),i=X0(s.signal,e);return[i.signal,function(u){const d=Ve.from(e.aborted?Gd(e):u);return i.abort(d),n(),Promise.reject(d)},function(){n(),i.abort()}]}function ah(s,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((i,a)=>a(i),s))!==null&&n!==void 0?n:s}function dT(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function lh(s,e){const n=eh(s);if(n)throw e.forEach((i,a)=>{n.metadata.append(a,i)}),n}function uh(s,e,n,i){const a=new Headers(n??{});return a.set(Z0,s?iT:oT),a.set(sT,"1"),a.set(rT,"connect-es/1.2.0"),i&&a.set(nT,"connect-es/1.2.0"),e!==void 0&&a.set(eT,`${e}m`),a}function hT(s){switch(s){case 400:return p.Internal;case 401:return p.Unauthenticated;case 403:return p.PermissionDenied;case 404:return p.Unimplemented;case 429:return p.Unavailable;case 502:return p.Unavailable;case 503:return p.Unavailable;case 504:return p.Unavailable;default:return p.Unknown}}function ch(s,e){var n;if(s>=200&&s<300){const i=eh(e);if(i)throw i;return{foundStatus:e.has(Qd)}}throw new Ve(decodeURIComponent((n=e.get(Zd))!==null&&n!==void 0?n:`HTTP ${s}`),hT(s),e)}var Is=globalThis&&globalThis.__await||function(s){return this instanceof Is?(this.v=s,this):new Is(s)},pT=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(k){i[k]&&(a[k]=function(P){return new Promise(function(U,q){u.push([k,P,U,q])>1||h(k,P)})})}function h(k,P){try{m(i[k](P))}catch(U){x(u[0][3],U)}}function m(k){k.value instanceof Is?Promise.resolve(k.value.v).then(g,T):x(u[0][2],k)}function g(k){h("next",k)}function T(k){h("throw",k)}function x(k,P){k(P),u.shift(),u.length&&h(u[0][0],u[0][1])}};function mT(s){var e;dT();const n=(e=s.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,a,u,d,h,m,g){var T;const{serialize:x,parse:k}=rh(a,n,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await cT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!1,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g??Hd(),message:m},next:async P=>{var U;const K=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(P.url,Object.assign(Object.assign({},P.init),{headers:P.header,signal:P.signal,body:Yd(0,x(P.message))}));if(ch(K.status,K.headers),!K.body)throw"missing response body";const ie=qd(K.body).getReader();let ke,ue;for(;;){const Te=await ie.read();if(Te.done)break;const{flags:Ee,data:xe}=Te.value;if(Ee===xu){if(ke!==void 0)throw"extra trailer";ke=Xd(xe);continue}if(ue!==void 0)throw"extra message";ue=k(xe)}if(ke===void 0)throw"missing trailer";if(lh(ke,K.headers),ue===void 0)throw"missing message";return{stream:!1,header:K.headers,message:ue,trailer:ke}}})},async stream(i,a,u,d,h,m,g){var T;const{serialize:x,parse:k}=rh(a,n,s.jsonOptions,s.binaryOptions);function P(q,K,ie,ke){return pT(this,arguments,function*(){const Te=qd(q).getReader();if(K){if(!(yield Is(Te.read())).done)throw"extra data for trailers-only";return yield Is(void 0)}let Ee=!1;for(;;){const xe=yield Is(Te.read());if(xe.done)break;const{flags:Rs,data:bs}=xe.value;if((Rs&xu)===xu){if(Ee)throw"extra trailer";Ee=!0;const Bo=Xd(bs);lh(Bo,ke),Bo.forEach((Fw,jw)=>ie.set(jw,Fw));continue}if(Ee)throw"extra message";yield yield Is(k(bs))}if(!Ee)throw"missing trailer"})}async function U(q){if(a.kind!=Mt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const K=await q[Symbol.asyncIterator]().next();if(K.done==!0)throw"missing request message";return Yd(0,x(K.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,fT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!0,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g??Hd(),message:m},next:async q=>{var K;const ke=await((K=s.fetch)!==null&&K!==void 0?K:globalThis.fetch)(q.url,Object.assign(Object.assign({},q.init),{headers:q.header,signal:q.signal,body:await U(q.message)})),{foundStatus:ue}=ch(ke.status,ke.headers);if(!ke.body)throw"missing response body";const Te=new Headers;return Object.assign(Object.assign({},q),{header:ke.headers,trailer:Te,message:P(ke.body,ue,Te,ke.headers)})}})}}}var b={exports:{}},te=b.exports;Object.defineProperty(te,"__esModule",{value:!0});const{proto3:Z,StringValue:Ou,Timestamp:li}=Pu,$a=Z.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),fh=Z.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),gT=Z.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:ja},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Lu}}]),yT=Z.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Mh},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:dh,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:H},{no:6,name:"is_removed",kind:"scalar",T:8}]),dh=Z.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:hh},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:ph,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Lh}]),hh=Z.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),ph=Z.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:mh,oneof:"body"},{no:2,name:"add",kind:"message",T:gh,oneof:"body"},{no:3,name:"move",kind:"message",T:yh,oneof:"body"},{no:4,name:"remove",kind:"message",T:vh,oneof:"body"},{no:5,name:"edit",kind:"message",T:Th,oneof:"body"},{no:6,name:"select",kind:"message",T:Sh,oneof:"body"},{no:7,name:"style",kind:"message",T:wh,oneof:"body"},{no:8,name:"increase",kind:"message",T:kh,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Eh,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Nh,oneof:"body"}]),mh=Z.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Fa},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Set"}),gh=Z.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"prev_created_at",kind:"message",T:H},{no:3,name:"value",kind:"message",T:Fa},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Add"}),yh=Z.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"prev_created_at",kind:"message",T:H},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Move"}),vh=Z.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Remove"}),Th=Z.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:H},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),Sh=Z.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Select"}),wh=Z.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:_s},{no:3,name:"to",kind:"message",T:_s},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:H},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}}],{localName:"Operation_Style"}),kh=Z.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"value",kind:"message",T:Fa},{no:3,name:"executed_at",kind:"message",T:H}],{localName:"Operation_Increase"}),Eh=Z.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}},{no:5,name:"contents",kind:"message",T:Rh,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:H}],{localName:"Operation_TreeEdit"}),Nh=Z.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:H},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:H},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:H}}],{localName:"Operation_TreeStyle"}),Fa=Z.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"moved_at",kind:"message",T:H},{no:3,name:"removed_at",kind:"message",T:H},{no:4,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:5,name:"value",kind:"scalar",T:12}]),ja=Z.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:Ih,oneof:"body"},{no:2,name:"json_array",kind:"message",T:_h,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Ah,oneof:"body"},{no:5,name:"text",kind:"message",T:Ph,oneof:"body"},{no:6,name:"counter",kind:"message",T:xh,oneof:"body"},{no:7,name:"tree",kind:"message",T:Oh,oneof:"body"}]),Ih=Z.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:Ch,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_JSONObject"}),_h=Z.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:Cu,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_JSONArray"}),Ah=Z.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"moved_at",kind:"message",T:H},{no:5,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Primitive"}),Ph=Z.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Dh,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Text"}),xh=Z.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType($a)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:H},{no:4,name:"moved_at",kind:"message",T:H},{no:5,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Counter"}),Oh=Z.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:bu,repeated:!0},{no:2,name:"created_at",kind:"message",T:H},{no:3,name:"moved_at",kind:"message",T:H},{no:4,name:"removed_at",kind:"message",T:H}],{localName:"JSONElement_Tree"}),Ch=Z.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ja}]),Cu=Z.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:Cu},{no:2,name:"element",kind:"message",T:ja}]),Du=Z.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:H}]),Dh=Z.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Ru},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:H},{no:4,name:"ins_prev_id",kind:"message",T:Ru},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Du}}]),Ru=Z.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5}]),bu=Z.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:ui},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:H},{no:5,name:"ins_prev_id",kind:"message",T:ui},{no:6,name:"ins_next_id",kind:"message",T:ui},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Du}}]),Rh=Z.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:bu,repeated:!0}]),ui=Z.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5}]),mo=Z.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:ui},{no:2,name:"left_sibling_id",kind:"message",T:ui}]),vT=Z.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:li}]),TT=Z.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:li},{no:9,name:"updated_at",kind:"message",T:li}]),ST=Z.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:Ou},{no:2,name:"auth_webhook_url",kind:"message",T:Ou},{no:3,name:"auth_webhook_methods",kind:"message",T:bh},{no:4,name:"client_deactivate_threshold",kind:"message",T:Ou}]),bh=Z.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),wT=Z.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:li},{no:5,name:"accessed_at",kind:"message",T:li},{no:6,name:"updated_at",kind:"message",T:li}]),Lh=Z.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Bh)},{no:2,name:"presence",kind:"message",T:Lu}]),Bh=Z.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Lu=Z.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Mh=Z.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),_s=Z.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:H},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),H=Z.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Jh=Z.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),kT=Z.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(fh)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Jh}]);te.ValueType=$a,te.DocEventType=fh,te.Snapshot=gT,te.ChangePack=yT,te.Change=dh,te.ChangeID=hh,te.Operation=ph,te.Operation_Set=mh,te.Operation_Add=gh,te.Operation_Move=yh,te.Operation_Remove=vh,te.Operation_Edit=Th,te.Operation_Select=Sh,te.Operation_Style=wh,te.Operation_Increase=kh,te.Operation_TreeEdit=Eh,te.Operation_TreeStyle=Nh,te.JSONElementSimple=Fa,te.JSONElement=ja,te.JSONElement_JSONObject=Ih,te.JSONElement_JSONArray=_h,te.JSONElement_Primitive=Ah,te.JSONElement_Text=Ph,te.JSONElement_Counter=xh,te.JSONElement_Tree=Oh,te.RHTNode=Ch,te.RGANode=Cu,te.NodeAttr=Du,te.TextNode=Dh,te.TextNodeID=Ru,te.TreeNode=bu,te.TreeNodes=Rh,te.TreeNodeID=ui,te.TreePos=mo,te.User=vT,te.Project=TT,te.UpdatableProjectFields=ST,te.UpdatableProjectFields_AuthWebhookMethods=bh,te.DocumentSummary=wT,te.PresenceChange=Lh,te.PresenceChange_ChangeType=Bh,te.Presence=Lu,te.Checkpoint=Mh,te.TextNodePos=_s,te.TimeTicket=H,te.DocEventBody=Jh,te.DocEvent=kT;const Uh=(b.exports==null?{}:b.exports).default||b.exports,oe=(b.exports==null?{}:b.exports).ValueType,za=(b.exports==null?{}:b.exports).DocEventType,$h=(b.exports==null?{}:b.exports).Snapshot,Fh=(b.exports==null?{}:b.exports).ChangePack,jh=(b.exports==null?{}:b.exports).Change,Va=(b.exports==null?{}:b.exports).ChangeID,Bu=(b.exports==null?{}:b.exports).Operation,zh=(b.exports==null?{}:b.exports).Operation_Set,Vh=(b.exports==null?{}:b.exports).Operation_Add,qh=(b.exports==null?{}:b.exports).Operation_Move,Yh=(b.exports==null?{}:b.exports).Operation_Remove,Kh=(b.exports==null?{}:b.exports).Operation_Edit,ET=(b.exports==null?{}:b.exports).Operation_Select,Wh=(b.exports==null?{}:b.exports).Operation_Style,Gh=(b.exports==null?{}:b.exports).Operation_Increase,Hh=(b.exports==null?{}:b.exports).Operation_TreeEdit,Xh=(b.exports==null?{}:b.exports).Operation_TreeStyle,As=(b.exports==null?{}:b.exports).JSONElementSimple,ur=(b.exports==null?{}:b.exports).JSONElement,Qh=(b.exports==null?{}:b.exports).JSONElement_JSONObject,Zh=(b.exports==null?{}:b.exports).JSONElement_JSONArray,ep=(b.exports==null?{}:b.exports).JSONElement_Primitive,tp=(b.exports==null?{}:b.exports).JSONElement_Text,np=(b.exports==null?{}:b.exports).JSONElement_Counter,rp=(b.exports==null?{}:b.exports).JSONElement_Tree,sp=(b.exports==null?{}:b.exports).RHTNode,ip=(b.exports==null?{}:b.exports).RGANode,Mu=(b.exports==null?{}:b.exports).NodeAttr,op=(b.exports==null?{}:b.exports).TextNode,ap=(b.exports==null?{}:b.exports).TextNodeID,lp=(b.exports==null?{}:b.exports).TreeNode,up=(b.exports==null?{}:b.exports).TreeNodes,cp=(b.exports==null?{}:b.exports).TreeNodeID,fp=(b.exports==null?{}:b.exports).TreePos,NT=(b.exports==null?{}:b.exports).User,IT=(b.exports==null?{}:b.exports).Project,_T=(b.exports==null?{}:b.exports).UpdatableProjectFields,AT=(b.exports==null?{}:b.exports).UpdatableProjectFields_AuthWebhookMethods,PT=(b.exports==null?{}:b.exports).DocumentSummary,Ju=(b.exports==null?{}:b.exports).PresenceChange,go=(b.exports==null?{}:b.exports).PresenceChange_ChangeType,dp=(b.exports==null?{}:b.exports).Presence,hp=(b.exports==null?{}:b.exports).Checkpoint,pp=(b.exports==null?{}:b.exports).TextNodePos,mp=(b.exports==null?{}:b.exports).TimeTicket,xT=(b.exports==null?{}:b.exports).DocEventBody,OT=(b.exports==null?{}:b.exports).DocEvent,CT=Object.freeze(Object.defineProperty({__proto__:null,Change:jh,ChangeID:Va,ChangePack:Fh,Checkpoint:hp,DocEvent:OT,DocEventBody:xT,DocEventType:za,DocumentSummary:PT,JSONElement:ur,JSONElementSimple:As,JSONElement_Counter:np,JSONElement_JSONArray:Zh,JSONElement_JSONObject:Qh,JSONElement_Primitive:ep,JSONElement_Text:tp,JSONElement_Tree:rp,NodeAttr:Mu,Operation:Bu,Operation_Add:Vh,Operation_Edit:Kh,Operation_Increase:Gh,Operation_Move:qh,Operation_Remove:Yh,Operation_Select:ET,Operation_Set:zh,Operation_Style:Wh,Operation_TreeEdit:Hh,Operation_TreeStyle:Xh,Presence:dp,PresenceChange:Ju,PresenceChange_ChangeType:go,Project:IT,RGANode:ip,RHTNode:sp,Snapshot:$h,TextNode:op,TextNodeID:ap,TextNodePos:pp,TimeTicket:mp,TreeNode:lp,TreeNodeID:cp,TreeNodes:up,TreePos:fp,UpdatableProjectFields:_T,UpdatableProjectFields_AuthWebhookMethods:AT,User:NT,ValueType:oe,default:Uh},Symbol.toStringTag,{value:"Module"}));var ae={exports:{}},Ge=ae.exports;Object.defineProperty(Ge,"__esModule",{value:!0});const{proto3:Qe}=Pu,{ChangePack:qr,DocEvent:DT}=Uh||CT,RT=Qe.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),bT=Qe.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),LT=Qe.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),BT=Qe.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),MT=Qe.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:qr}]),JT=Qe.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:qr}]),UT=Qe.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),$T=Qe.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:qr}]),FT=Qe.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),jT=Qe.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:gp,oneof:"body"},{no:2,name:"event",kind:"message",T:DT,oneof:"body"}]),gp=Qe.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),zT=Qe.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr}]),VT=Qe.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:qr}]),qT=Qe.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:qr},{no:4,name:"push_only",kind:"scalar",T:8}]),YT=Qe.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:qr}]),KT=Qe.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),WT=Qe.makeMessageType("yorkie.v1.BroadcastResponse",[]);Ge.ActivateClientRequest=RT,Ge.ActivateClientResponse=bT,Ge.DeactivateClientRequest=LT,Ge.DeactivateClientResponse=BT,Ge.AttachDocumentRequest=MT,Ge.AttachDocumentResponse=JT,Ge.DetachDocumentRequest=UT,Ge.DetachDocumentResponse=$T,Ge.WatchDocumentRequest=FT,Ge.WatchDocumentResponse=jT,Ge.WatchDocumentResponse_Initialization=gp,Ge.RemoveDocumentRequest=zT,Ge.RemoveDocumentResponse=VT,Ge.PushPullChangesRequest=qT,Ge.PushPullChangesResponse=YT,Ge.BroadcastRequest=KT,Ge.BroadcastResponse=WT;const yp=(ae.exports==null?{}:ae.exports).default||ae.exports,GT=(ae.exports==null?{}:ae.exports).ActivateClientRequest,HT=(ae.exports==null?{}:ae.exports).ActivateClientResponse,XT=(ae.exports==null?{}:ae.exports).DeactivateClientRequest,QT=(ae.exports==null?{}:ae.exports).DeactivateClientResponse,ZT=(ae.exports==null?{}:ae.exports).AttachDocumentRequest,eS=(ae.exports==null?{}:ae.exports).AttachDocumentResponse,tS=(ae.exports==null?{}:ae.exports).DetachDocumentRequest,nS=(ae.exports==null?{}:ae.exports).DetachDocumentResponse,rS=(ae.exports==null?{}:ae.exports).WatchDocumentRequest,sS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse,iS=(ae.exports==null?{}:ae.exports).WatchDocumentResponse_Initialization,oS=(ae.exports==null?{}:ae.exports).RemoveDocumentRequest,aS=(ae.exports==null?{}:ae.exports).RemoveDocumentResponse,lS=(ae.exports==null?{}:ae.exports).PushPullChangesRequest,uS=(ae.exports==null?{}:ae.exports).PushPullChangesResponse,cS=(ae.exports==null?{}:ae.exports).BroadcastRequest,fS=(ae.exports==null?{}:ae.exports).BroadcastResponse,dS=Object.freeze(Object.defineProperty({__proto__:null,ActivateClientRequest:GT,ActivateClientResponse:HT,AttachDocumentRequest:ZT,AttachDocumentResponse:eS,BroadcastRequest:cS,BroadcastResponse:fS,DeactivateClientRequest:XT,DeactivateClientResponse:QT,DetachDocumentRequest:tS,DetachDocumentResponse:nS,PushPullChangesRequest:lS,PushPullChangesResponse:uS,RemoveDocumentRequest:oS,RemoveDocumentResponse:aS,WatchDocumentRequest:rS,WatchDocumentResponse:sS,WatchDocumentResponse_Initialization:iS,default:yp},Symbol.toStringTag,{value:"Module"}));var ci={exports:{}},vp=ci.exports;Object.defineProperty(vp,"__esModule",{value:!0});const{ActivateClientRequest:hS,ActivateClientResponse:pS,AttachDocumentRequest:mS,AttachDocumentResponse:gS,BroadcastRequest:yS,BroadcastResponse:vS,DeactivateClientRequest:TS,DeactivateClientResponse:SS,DetachDocumentRequest:wS,DetachDocumentResponse:kS,PushPullChangesRequest:ES,PushPullChangesResponse:NS,RemoveDocumentRequest:IS,RemoveDocumentResponse:_S,WatchDocumentRequest:AS,WatchDocumentResponse:PS}=yp||dS,{MethodKind:Yr}=Pu,xS={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:hS,O:pS,kind:Yr.Unary},deactivateClient:{name:"DeactivateClient",I:TS,O:SS,kind:Yr.Unary},attachDocument:{name:"AttachDocument",I:mS,O:gS,kind:Yr.Unary},detachDocument:{name:"DetachDocument",I:wS,O:kS,kind:Yr.Unary},removeDocument:{name:"RemoveDocument",I:IS,O:_S,kind:Yr.Unary},pushPullChanges:{name:"PushPullChanges",I:ES,O:NS,kind:Yr.Unary},watchDocument:{name:"WatchDocument",I:AS,O:PS,kind:Yr.ServerStreaming},broadcast:{name:"Broadcast",I:yS,O:vS,kind:Yr.Unary}}};vp.YorkieService=xS,(ci.exports==null?{}:ci.exports).default||ci.exports;const OS=(ci.exports==null?{}:ci.exports).YorkieService;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Zt=null;try{Zt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ne(s,e,n){this.low=s|0,this.high=e|0,this.unsigned=!!n}ne.prototype.__isLong__,Object.defineProperty(ne.prototype,"__isLong__",{value:!0});function rt(s){return(s&&s.__isLong__)===!0}function Tp(s){var e=Math.clz32(s&-s);return s?31-e:e}ne.isLong=rt;var Sp={},wp={};function Ps(s,e){var n,i,a;return e?(s>>>=0,(a=0<=s&&s<256)&&(i=wp[s],i)?i:(n=pe(s,0,!0),a&&(wp[s]=n),n)):(s|=0,(a=-128<=s&&s<128)&&(i=Sp[s],i)?i:(n=pe(s,s<0?-1:0,!1),a&&(Sp[s]=n),n))}ne.fromInt=Ps;function en(s,e){if(isNaN(s))return e?Ar:pn;if(e){if(s<0)return Ar;if(s>=Ep)return Pp}else{if(s<=-Np)return yt;if(s+1>=Np)return Ap}return s<0?en(-s,e).neg():pe(s%fi|0,s/fi|0,e)}ne.fromNumber=en;function pe(s,e,n){return new ne(s,e,n)}ne.fromBits=pe;var qa=Math.pow;function Uu(s,e,n){if(s.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return e?Ar:pn;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Uu(s.substring(1),e,n).neg();for(var a=en(qa(n,8)),u=pn,d=0;d<s.length;d+=8){var h=Math.min(8,s.length-d),m=parseInt(s.substring(d,d+h),n);if(h<8){var g=en(qa(n,h));u=u.mul(g).add(en(m))}else u=u.mul(a),u=u.add(en(m))}return u.unsigned=e,u}ne.fromString=Uu;function hn(s,e){return typeof s=="number"?en(s,e):typeof s=="string"?Uu(s,e):pe(s.low,s.high,typeof e=="boolean"?e:s.unsigned)}ne.fromValue=hn;var kp=65536,CS=1<<24,fi=kp*kp,Ep=fi*fi,Np=Ep/2,Ip=Ps(CS),pn=Ps(0);ne.ZERO=pn;var Ar=Ps(0,!0);ne.UZERO=Ar;var di=Ps(1);ne.ONE=di;var _p=Ps(1,!0);ne.UONE=_p;var $u=Ps(-1);ne.NEG_ONE=$u;var Ap=pe(-1,2147483647,!1);ne.MAX_VALUE=Ap;var Pp=pe(-1,-1,!0);ne.MAX_UNSIGNED_VALUE=Pp;var yt=pe(0,-2147483648,!1);ne.MIN_VALUE=yt;var J=ne.prototype;J.toInt=function(){return this.unsigned?this.low>>>0:this.low},J.toNumber=function(){return this.unsigned?(this.high>>>0)*fi+(this.low>>>0):this.high*fi+(this.low>>>0)},J.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(yt)){var n=en(e),i=this.div(n),a=i.mul(n).sub(this);return i.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=en(qa(e,6),this.unsigned),d=this,h="";;){var m=d.div(u),g=d.sub(m.mul(u)).toInt()>>>0,T=g.toString(e);if(d=m,d.isZero())return T+h;for(;T.length<6;)T="0"+T;h=""+T+h}},J.getHighBits=function(){return this.high},J.getHighBitsUnsigned=function(){return this.high>>>0},J.getLowBits=function(){return this.low},J.getLowBitsUnsigned=function(){return this.low>>>0},J.getNumBitsAbs=function(){if(this.isNegative())return this.eq(yt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},J.isZero=function(){return this.high===0&&this.low===0},J.eqz=J.isZero,J.isNegative=function(){return!this.unsigned&&this.high<0},J.isPositive=function(){return this.unsigned||this.high>=0},J.isOdd=function(){return(this.low&1)===1},J.isEven=function(){return(this.low&1)===0},J.equals=function(e){return rt(e)||(e=hn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},J.eq=J.equals,J.notEquals=function(e){return!this.eq(e)},J.neq=J.notEquals,J.ne=J.notEquals,J.lessThan=function(e){return this.comp(e)<0},J.lt=J.lessThan,J.lessThanOrEqual=function(e){return this.comp(e)<=0},J.lte=J.lessThanOrEqual,J.le=J.lessThanOrEqual,J.greaterThan=function(e){return this.comp(e)>0},J.gt=J.greaterThan,J.greaterThanOrEqual=function(e){return this.comp(e)>=0},J.gte=J.greaterThanOrEqual,J.ge=J.greaterThanOrEqual,J.compare=function(e){if(rt(e)||(e=hn(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},J.comp=J.compare,J.negate=function(){return!this.unsigned&&this.eq(yt)?yt:this.not().add(di)},J.neg=J.negate,J.add=function(e){rt(e)||(e=hn(e));var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,u=this.low&65535,d=e.high>>>16,h=e.high&65535,m=e.low>>>16,g=e.low&65535,T=0,x=0,k=0,P=0;return P+=u+g,k+=P>>>16,P&=65535,k+=a+m,x+=k>>>16,k&=65535,x+=i+h,T+=x>>>16,x&=65535,T+=n+d,T&=65535,pe(k<<16|P,T<<16|x,this.unsigned)},J.subtract=function(e){return rt(e)||(e=hn(e)),this.add(e.neg())},J.sub=J.subtract,J.multiply=function(e){if(this.isZero())return this;if(rt(e)||(e=hn(e)),Zt){var n=Zt.mul(this.low,this.high,e.low,e.high);return pe(n,Zt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Ar:pn;if(this.eq(yt))return e.isOdd()?yt:pn;if(e.eq(yt))return this.isOdd()?yt:pn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ip)&&e.lt(Ip))return en(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,a=this.high&65535,u=this.low>>>16,d=this.low&65535,h=e.high>>>16,m=e.high&65535,g=e.low>>>16,T=e.low&65535,x=0,k=0,P=0,U=0;return U+=d*T,P+=U>>>16,U&=65535,P+=u*T,k+=P>>>16,P&=65535,P+=d*g,k+=P>>>16,P&=65535,k+=a*T,x+=k>>>16,k&=65535,k+=u*g,x+=k>>>16,k&=65535,k+=d*m,x+=k>>>16,k&=65535,x+=i*T+a*g+u*m+d*h,x&=65535,pe(P<<16|U,x<<16|k,this.unsigned)},J.mul=J.multiply,J.divide=function(e){if(rt(e)||(e=hn(e)),e.isZero())throw Error("division by zero");if(Zt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Zt.div_u:Zt.div_s)(this.low,this.high,e.low,e.high);return pe(n,Zt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ar:pn;var i,a,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ar;if(e.gt(this.shru(1)))return _p;u=Ar}else{if(this.eq(yt)){if(e.eq(di)||e.eq($u))return yt;if(e.eq(yt))return di;var d=this.shr(1);return i=d.div(e).shl(1),i.eq(pn)?e.isNegative()?di:$u:(a=this.sub(e.mul(i)),u=i.add(a.div(e)),u)}else if(e.eq(yt))return this.unsigned?Ar:pn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=pn}for(a=this;a.gte(e);){i=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(i)/Math.LN2),m=h<=48?1:qa(2,h-48),g=en(i),T=g.mul(e);T.isNegative()||T.gt(a);)i-=m,g=en(i,this.unsigned),T=g.mul(e);g.isZero()&&(g=di),u=u.add(g),a=a.sub(T)}return u},J.div=J.divide,J.modulo=function(e){if(rt(e)||(e=hn(e)),Zt){var n=(this.unsigned?Zt.rem_u:Zt.rem_s)(this.low,this.high,e.low,e.high);return pe(n,Zt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},J.mod=J.modulo,J.rem=J.modulo,J.not=function(){return pe(~this.low,~this.high,this.unsigned)},J.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},J.clz=J.countLeadingZeros,J.countTrailingZeros=function(){return this.low?Tp(this.low):Tp(this.high)+32},J.ctz=J.countTrailingZeros,J.and=function(e){return rt(e)||(e=hn(e)),pe(this.low&e.low,this.high&e.high,this.unsigned)},J.or=function(e){return rt(e)||(e=hn(e)),pe(this.low|e.low,this.high|e.high,this.unsigned)},J.xor=function(e){return rt(e)||(e=hn(e)),pe(this.low^e.low,this.high^e.high,this.unsigned)},J.shiftLeft=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):pe(0,this.low<<e-32,this.unsigned)},J.shl=J.shiftLeft,J.shiftRight=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):pe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},J.shr=J.shiftRight,J.shiftRightUnsigned=function(e){return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?pe(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?pe(this.high,0,this.unsigned):pe(this.high>>>e-32,0,this.unsigned)},J.shru=J.shiftRightUnsigned,J.shr_u=J.shiftRightUnsigned,J.rotateLeft=function(e){var n;return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?pe(this.high,this.low,this.unsigned):e<32?(n=32-e,pe(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,pe(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},J.rotl=J.rotateLeft,J.rotateRight=function(e){var n;return rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?pe(this.high,this.low,this.unsigned):e<32?(n=32-e,pe(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,pe(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},J.rotr=J.rotateRight,J.toSigned=function(){return this.unsigned?pe(this.low,this.high,!1):this},J.toUnsigned=function(){return this.unsigned?this:pe(this.low,this.high,!0)},J.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},J.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},J.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},ne.fromBytes=function(e,n,i){return i?ne.fromBytesLE(e,n):ne.fromBytesBE(e,n)},ne.fromBytesLE=function(e,n){return new ne(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},ne.fromBytesBE=function(e,n){return new ne(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var de=(s=>(s.Ok="ok",s.ClientNotActive="client-not-active",s.Unimplemented="unimplemented",s.Unsupported="unsupported",s.DocumentNotAttached="document-not-attached",s.DocumentNotDetached="document-not-detached",s.DocumentRemoved="document-removed",s.InvalidObjectKey="invalid-object-key",s.InvalidArgument="invalid-argument",s))(de||{});class me extends Error{constructor(e,n){super(n),c(this,"name","YorkieError"),c(this,"stack"),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function mn(s){if(s instanceof Map){const e=Array.from(s);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(s))}const xp=s=>s?Object.entries(s).length===0:!0,hi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.stringify(i);return e},pi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.parse(i);return e};var Kr=(s=>(s.Put="put",s.Clear="clear",s))(Kr||{});class Fu{constructor(e,n){c(this,"context"),c(this,"presence"),this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:"put",presence:mn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const Ya="000000000000000000000000",DS="FFFFFFFFFFFFFFFFFFFFFFFF";class ct{constructor(e,n,i){c(this,"lamport"),c(this,"delimiter"),c(this,"actorID"),this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new ct(e,n,i)}static fromStruct(e){return ct.of(ne.fromString(e.lamport,!0),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new ct(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport.greaterThan(e.lamport))return 1;if(e.lamport.greaterThan(this.lamport))return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const ju=0,RS=4294967295,bS=ne.MAX_VALUE,gn=new ct(ne.fromNumber(0),ju,Ya);new ct(ne.fromNumber(1),ju+1,Ya);const yo=new ct(bS,RS,DS);var At=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(At||{});let xs=2;function LS(s){xs=s}const B={trivial:(...s)=>{xs>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{xs>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{xs>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{xs>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{xs>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(s,...e)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e)),new Error(`YORKIE F: ${s}`)},isEnabled:s=>xs<=s};function cr(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class vo{constructor(e){c(this,"createdAt"),c(this,"movedAt"),c(this,"removedAt"),this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.getPositionedAt())&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}}class Wr extends vo{constructor(e){super(e)}}class zu{constructor(e,n){c(this,"strKey"),c(this,"value"),this.strKey=e,this.value=n}static of(e,n){return new zu(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class To{constructor(){c(this,"nodeMapByKey"),c(this,"nodeMapByCreatedAt"),this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new To}set(e,n,i){let a;const u=this.nodeMapByKey.get(e);u!=null&&!u.isRemoved()&&u.remove(i)&&(a=u.getValue());const d=zu.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),d),(u==null||i.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,d),n.setMovedAt(i)),a}delete(e,n){this.nodeMapByCreatedAt.has(e.toIDString())||B.fatal(`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n){B.fatal(`fail to find ${e.getCreatedAt().toIDString()}`);return}const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i!=null&&i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n==null?!1:!n.isRemoved()}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class vt extends Wr{constructor(e,n){super(e),c(this,"memberNodes"),this.memberNodes=n}static create(e,n){if(!n)return new vt(e,To.create());const i=To.create();for(const[a,u]of Object.entries(n))i.set(a,u.deepcopy(),u.getCreatedAt());return new vt(e,i)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,n,i){return this.memberNodes.set(e,n,i)}delete(e,n){return this.memberNodes.delete(e,n)}deleteByKey(e,n){return this.memberNodes.deleteByKey(e,n)}get(e){const n=this.memberNodes.get(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.memberNodes.getByID(e);return n==null?void 0:n.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[n,i]of this)e.push(`"${cr(n)}":${i.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[n,i]of this){const{createdAt:a,value:u,type:d}=i.toJSForTest();e[n]={key:n,createdAt:a,value:u,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[n]of this)e.push(n);return e}toSortedJSON(){var e;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const u=(e=this.memberNodes.get(a))==null?void 0:e.getValue();i.push(`"${cr(a)}":${u.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=vt.create(this.getCreatedAt());for(const n of this.memberNodes)e.memberNodes.set(n.getStrKey(),n.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const n of this.memberNodes){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const n of this.memberNodes)e.has(n.getStrKey())||(e.add(n.getStrKey()),n.isRemoved()||(yield[n.getStrKey(),n.getValue()]))}}var we=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(we||{});class yn{constructor(e,n){c(this,"parentCreatedAt"),c(this,"executedAt"),this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class Op{constructor(e){c(this,"value"),c(this,"left"),c(this,"right"),c(this,"parent"),c(this,"weight"),this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class So{constructor(e){c(this,"root"),this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}return e>n.getLength()&&B.fatal(`out of index range: pos: ${e} > node.length: ${n.getLength()}`),[n,e]}indexOf(e){if(!e||e!==this.root&&!e.hasLinks())return-1;let n=0,i=e,a;for(;i;)(!a||a===i.getRight())&&(n+=i.getLength()+(i.hasLeft()?i.getLeftWeight():0)),a=i,i=i.getParent();return n-e.getLength()}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new So(e.getLeft());n.root&&n.root.setParent();const i=new So(e.getRight());if(i.root&&i.root.setParent(),n.root){const a=n.getRightmost();n.splayNode(a),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){e&&(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){e&&(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var qe=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qe||{});class Pe extends vo{constructor(e,n){super(n),c(this,"valueType"),c(this,"value"),this.valueType=Pe.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,n){return new Pe(e,n)}static valueFromBytes(e,n){switch(e){case 0:return null;case 1:return!!n[0];case 2:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 4:{const i=new DataView(n.buffer);return n.forEach(function(a,u){i.setUint8(u,a)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(n);case 3:return ne.fromBytesLE(Array.from(n));case 6:return n;case 7:return new Date(ne.fromBytesLE(Array.from(n),!0).toNumber());default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${cr(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Pe.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof ne)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Pe.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),n}case 5:return new TextEncoder().encode(this.value);case 3:{const n=this.value.toBytesLE();return Uint8Array.from(n)}case 6:return this.value;case 7:{const e=this.value,n=ne.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(n)}default:throw new me(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class Ka extends Op{constructor(e){super(e),c(this,"prev"),c(this,"next"),this.value=e}static createAfter(e,n){const i=new Ka(n),a=e.next;return e.next=i,i.prev=e,i.next=a,a&&(a.prev=i),i}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class wo{constructor(){c(this,"dummyHead"),c(this,"last"),c(this,"nodeMapByIndex"),c(this,"nodeMapByCreatedAt");const e=Pe.of(0,gn);e.setRemovedAt(gn),this.dummyHead=new Ka(e),this.last=this.dummyHead,this.nodeMapByIndex=new So,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new wo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());for(i||B.fatal(`cant find the given node: ${e.toIDString()}`);i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const a=this.findNextBeforeExecutedAt(e,i),u=Ka.createAfter(a,n);a===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(a,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u)}moveAfter(e,n,i){const a=this.nodeMapByCreatedAt.get(e.toIDString());a||B.fatal(`cant find the given node: ${e.toIDString()}`);const u=this.nodeMapByCreatedAt.get(n.toIDString());u||B.fatal(`cant find the given node: ${n.toIDString()}`),a!==u&&(!u.getValue().getMovedAt()||i.after(u.getValue().getMovedAt()))&&(this.release(u),this.insertAfter(a.getCreatedAt(),u.getValue(),i),u.getValue().setMovedAt(i))}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());n||B.fatal(`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`),this.release(n)}getByIndex(e){if(e>=this.length)return;const[n,i]=this.nodeMapByIndex.find(e);let a=n;if(e===0&&n===this.dummyHead||i>0)do a&&(a=a.getNext());while(a&&a.isRemoved());return a}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),a=i.isRemoved();return i.remove(n)&&!a&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(e,n){const i=this.getByIndex(e);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Pt extends Wr{constructor(e,n){super(e),c(this,"elements"),this.elements=n}static create(e,n){if(!n)return new Pt(e,wo.create());const i=wo.create();for(const a of n)i.insertAfter(i.getLastCreatedAt(),a.deepcopy());return new Pt(e,i)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,n){this.elements.insertAfter(e,n)}moveAfter(e,n,i){this.elements.moveAfter(e,n,i)}get(e){const n=this.elements.getByIndex(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.elements.getByID(e);return n==null?void 0:n.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,n){return this.elements.delete(e,n)}deleteByIndex(e,n){return this.elements.deleteByIndex(e,n)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const n of this.elements){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}toJSON(){const e=[];for(const n of this)e.push(n.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let n=0;n<this.length;n++){const{createdAt:i,value:a,type:u}=this.get(n).toJSForTest();e[n]={key:String(n),createdAt:i,value:a,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Pt.create(this.getCreatedAt());for(const n of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),n.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Gr extends yn{constructor(e,n,i){super(e,i),c(this,"createdAt"),this.createdAt=n}static create(e,n,i){return new Gr(e,n,i)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof Wr||B.fatal(`only object and array can execute remove: ${a}`),n===we.UndoRedo){let g=a.getByID(this.createdAt);for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.subPathOf(this.createdAt),d=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof Pt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:d}}toReverseOperation(e){if(e instanceof vt){const n=e.subPathOf(this.createdAt);if(n!==void 0){const i=e.get(n);if(i!==void 0)return Os.create(n,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Os extends yn{constructor(e,n,i,a){super(i,a),c(this,"key"),c(this,"value"),this.key=e,this.value=n}static create(e,n,i,a){return new Os(e,n,i,a)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof vt||B.fatal("fail to execute, only object can execute set"),n===we.UndoRedo){let g=a;for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.get(this.key),d=this.toReverseOperation(u),h=this.value.deepcopy(),m=a.set(this.key,h,this.getExecutedAt());return n===we.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),m&&e.registerRemovedElement(m),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let n=Gr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(n=Os.create(this.key,e.deepcopy(),this.getParentCreatedAt())),n}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class ko extends yn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"value"),this.prevCreatedAt=n,this.value=i}static create(e,n,i,a){return new ko(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Pt||B.fatal("fail to execute, only array can execute add");const i=n,a=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,a),e.registerElement(a,i),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Hr extends yn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"createdAt"),this.prevCreatedAt=n,this.createdAt=i}static create(e,n,i,a){return new Hr(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Pt||B.fatal("fail to execute, only array can execute move");const i=n,a=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const u=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:u,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class mi{constructor(e,n,i,a){c(this,"key"),c(this,"value"),c(this,"updatedAt"),c(this,"_isRemoved"),this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=a}static of(e,n,i,a){return new mi(e,n,i,a)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class Pr{constructor(){c(this,"nodeMapByKey"),c(this,"numberOfRemovedElement"),this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Pr}set(e,n,i){const a=this.nodeMapByKey.get(e);if(a&&a.isRemoved()&&i.after(a.getUpdatedAt())&&(this.numberOfRemovedElement-=1),a===void 0||i.after(a.getUpdatedAt())){const u=mi.of(e,n,i,!1);return this.nodeMapByKey.set(e,u),a!==void 0&&a.isRemoved()?[a,u]:[void 0,u]}return a.isRemoved()?[a,void 0]:[void 0,void 0]}remove(e,n){const i=this.nodeMapByKey.get(e),a=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const h=mi.of(e,"",n,!0);return this.nodeMapByKey.set(e,h),a.push(h),a}const u=i.isRemoved();u||(this.numberOfRemovedElement+=1),u&&a.push(i);const d=mi.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,d),a.push(d),a}return a}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new Pr;for(const[,n]of this.nodeMapByKey)e.set(n.getKey(),n.getValue(),n.getUpdatedAt());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${cr(n)}":"${cr(i.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const n=this.nodeMapByKey.get(e.getKey());n==null||n.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}class Eo{constructor(e){c(this,"attributes"),c(this,"content"),this.attributes=Pr.create(),this.content=e}static create(e){return new Eo(e)}get length(){return this.content.length}substring(e,n){const i=new Eo(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){return this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const e=cr(this.content),n=this.attributes.toObject(),i=[];for(const[a,u]of Object.entries(n)){const d=JSON.parse(u),h=typeof d=="string"?`"${cr(a)}":"${cr(d)}"`:`"${cr(a)}":${String(d)}`;i.push(h)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof mi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const n of this.attributes)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}class tn extends vo{constructor(e,n){super(n),c(this,"rgaTreeSplit"),this.rgaTreeSplit=e}static create(e,n){return new tn(e,n)}edit(e,n,i,a,u){const d=n?Eo.create(n):void 0;if(d&&a)for(const[k,P]of Object.entries(a))d.setAttr(k,P,i);const[h,m,g,T]=this.rgaTreeSplit.edit(e,i,d,u),x=T.map(k=>({...k,value:k.value?{attributes:pi(k.value.getAttributes()),content:k.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[m,x,g,[h,h]]}setStyle(e,n,i,a){const[,u]=this.rgaTreeSplit.findNodeWithSplit(e[1],i),[,d]=this.rgaTreeSplit.findNodeWithSplit(e[0],i),h=[],m=this.rgaTreeSplit.findBetween(d,u),g=new Map,T=[];for(const k of m){const P=k.getCreatedAt().getActorID(),U=a!=null&&a.size?a.has(P)?a.get(P):gn:yo;if(k.canStyle(i,U)){const q=g.get(P),K=k.getCreatedAt();(!q||K.after(q))&&g.set(P,K),T.push(k)}}const x=[];for(const k of T){if(k.isRemoved())continue;const[P,U]=this.rgaTreeSplit.findIndexesFromRange(k.createPosRange());h.push({type:"style",actor:i.getActorID(),from:P,to:U,value:{attributes:pi(n)}});for(const[q,K]of Object.entries(n)){const[ie]=k.getValue().setAttr(q,K,i);ie!==void 0&&x.push({parent:k.getValue(),child:ie})}}return[g,x,h]}indexRangeToPosRange(e,n){const i=this.rgaTreeSplit.indexToPos(e);return e===n?[i,i]:[i,this.rgaTreeSplit.indexToPos(n)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const e=[];for(const n of this.rgaTreeSplit)n.isRemoved()||e.push(n.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const n of this.rgaTreeSplit)if(!n.isRemoved()){const i=n.getValue();e.push({attributes:pi(i.getAttributes()),content:i.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new tn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const n of this.rgaTreeSplit){n.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:n});for(const i of n.getValue().getGCPairs())e.push(i)}return e}}class No extends yn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"content"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.content=u,this.attributes=d}static create(e,n,i,a,u,d,h){return new No(e,n,i,a,u,d,h)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof tn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a,u]=i.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);for(const d of u)e.registerGCPair(d);return{opInfos:a.map(({from:d,to:h,value:m})=>({type:"edit",from:d,to:h,value:m,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.content;return`${e}.EDIT(${n},${i},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Io extends yn{constructor(e,n,i,a,u,d){super(e,d),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u}static create(e,n,i,a,u,d){return new Io(e,n,i,a,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof tn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a,u]=i.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);for(const d of a)e.registerGCPair(d);return{opInfos:u.map(({from:d,to:h,value:m})=>({type:"style",from:d,to:h,value:m,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.attributes;return`${e}.STYL(${n},${i},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const BS=2,MS="root",xr="text";function _o(s,e){let n=0;const i=s.children;for(let a=0;a<e;a++){const u=i[a];!u||u.isRemoved||(n+=u.paddedSize)}return n}class JS{constructor(e,n=[]){if(c(this,"type"),c(this,"parent"),c(this,"_children"),c(this,"size"),this.type=e,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let e=this.parent;const n=this.isRemoved?-1:1;for(;e;)e.size+=this.paddedSize*n,e=e.parent}updateDescendantsSize(){if(this.isRemoved)return this.size=0,0;let e=0;for(const n of this._children)e+=n.updateDescendantsSize();return this.size+=e,this.paddedSize}get isText(){return this.type===xr}get paddedSize(){return this.size+(this.isText?0:BS)}isAncestorOf(e){return US(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}get prevSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e-1];if(n)return n}splitText(e,n){if(e===0||e===this.size)return;const i=this.value.slice(0,e),a=this.value.slice(e);if(!a.length)return;this.value=i;const u=this.cloneText(e+n);return u.value=a,this.parent.insertAfterInternal(u,this),u}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}append(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize()}prepend(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this}insertBefore(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i),e.updateAncestorsSize()}insertAfter(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize()}insertAt(e,n){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize()}removeChild(e){if(this.isText)throw new Error("Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new Error("child not found");this._children.splice(n,1),e.parent=void 0}splitElement(e,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const a=this.children.slice(0,e),u=this.children.slice(e);this._children=a,i._children=u,this.size=this._children.reduce((d,h)=>d+h.paddedSize,0),i.size=i._children.reduce((d,h)=>d+h.paddedSize,0);for(const d of i._children)d.parent=i;return i}insertAfterInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e){if(this.isText)throw new Error("Text node cannot have children");if(e.isRemoved){const n=this._children.indexOf(e);return this.allChildren.splice(0,n).filter(a=>!a.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new Error("Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function US(s,e){if(s===e)return!1;for(;e.parent;){if(e.parent===s)return!0;e=e.parent}return!1}var Fe=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Fe||{});function Cp(s,e,n,i){if(e>n)throw new Error(`from is greater than to: ${e} > ${n}`);if(e>s.size)throw new Error(`from is out of range: ${e} > ${s.size}`);if(n>s.size)throw new Error(`to is out of range: ${n} > ${s.size}`);if(e===n)return;let a=0;for(const u of s.children){if(e-u.paddedSize<a&&a<n){const d=u.isText?e-a:e-a-1,h=u.isText?n-a:n-a-1,m=!u.isText&&d<0,g=!u.isText&&h>u.size;(u.isText||m)&&i([u,u.isText?"Text":"Start"],g),Cp(u,Math.max(0,d),Math.min(h,u.size),i),g&&i([u,"End"],g)}a+=u.paddedSize}}function Dp(s,e,n=0){for(const i of s.children)Dp(i,e,n+1);e(s,n)}function Wa(s,e,n=0){for(const i of s._children)Wa(i,e,n+1);e(s,n)}function Vu(s,e,n=!0){if(e>s.size)throw new Error(`index is out of range: ${e} > ${s.size}`);if(s.isText)return{node:s,offset:e};let i=0,a=0;for(const u of s.children){if(n&&u.isText&&u.size>=e-a)return Vu(u,e-a,n);if(e===a)return{node:s,offset:i};if(!n&&u.paddedSize===e-a)return{node:s,offset:i+1};if(u.paddedSize>e-a)return Vu(u,e-a-1,n);a+=u.paddedSize,i+=1}return{node:s,offset:i}}function Rp(s){return s.isText||s.children.length===0?s:Rp(s.children[0])}function $S(s,e){if(s.size<e)throw new Error("unacceptable path");for(let n=0;n<s.children.length;n++){const i=s.children[n];if(i.size<e)e-=i.size;else{s=i;break}}return{node:s,offset:e}}class FS{constructor(e){c(this,"root"),this.root=e}tokensBetween(e,n,i){Cp(this.root,e,n,i)}traverse(e){Dp(this.root,e,0)}traverseAll(e){Wa(this.root,e,0)}findTreePos(e,n=!0){return Vu(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");const u=_o(i.parent,a);n.push(u+e.offset),i=i.parent}else if(i.hasTextChild()){const a=_o(i,e.offset);n.push(a)}else n.push(e.offset);for(;i.parent;){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");n.push(a),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new Error("unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const a=e[i];if(n=n.children[a],!n)throw new Error("unacceptable path")}if(n.hasTextChild())return $S(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new Error("unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.size===i){const a=n.nextSibling;return a||n.parent}return n}return n.children.length===i?n:Rp(n.children[i])}indexOf(e){let{node:n}=e;const{offset:i}=e;let a=0,u=1;if(n.isText){a+=i;const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=_o(d,h),n=n.parent}else a+=_o(n,i);for(;n!=null&&n.parent;){const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=_o(d,h),u++,n=n.parent}return a+u-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}const jS=(s,e)=>s===e?0:s<e?-1:1;class zS{constructor(e,n,i){c(this,"key"),c(this,"value"),c(this,"parent"),c(this,"left"),c(this,"right"),c(this,"isRed"),this.key=e,this.value=n,this.isRed=i}}class VS{constructor(e){c(this,"stack"),this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class bp{constructor(e){c(this,"root"),c(this,"comparator"),c(this,"counter"),this.comparator=typeof e<"u"?e:jS,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new VS(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root;for(;n;){const i=this.comparator(e,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let a=n.parent,u=n;for(;a&&u===a.left;)u=a,a=a.parent;return a}else return n}}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new zS(e,n,!0);const a=this.comparator(e,i.key);return a<0?i.left=this.putInternal(e,n,i.left):a>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class vn{constructor(e,n){c(this,"parentID"),c(this,"leftSiblingID"),this.parentID=e,this.leftSiblingID=n}static of(e,n){return new vn(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,a;return i.isText?(i.parent.children[0]===i&&n===0?a=i.parent:a=i,i=i.parent):n===0?a=i:a=i.children[n-1],vn.of(i.id,Ze.of(a.getCreatedAt(),a.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return vn.of(Ze.of(ct.fromStruct(e.parentID.createdAt),e.parentID.offset),Ze.of(ct.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const n=this.getParentID(),i=this.getLeftSiblingID(),a=e.findFloorNode(n);let u=e.findFloorNode(i);if(!a||!u)throw new Error(`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[a,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Ze{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new Ze(e,n)}static fromStruct(e){return Ze.of(ct.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class xt extends JS{constructor(e,n,i,a,u){super(n),c(this,"id"),c(this,"removedAt"),c(this,"attrs"),c(this,"insPrevID"),c(this,"insNextID"),c(this,"_value",""),this.id=e,this.removedAt=u,a&&(this.attrs=a),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,n,i,a){return new xt(e,n,i,a)}deepcopy(){var e;const n=new xt(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(e=this.attrs)==null?void 0:e.deepcopy(),n._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const n=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),n&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(e){return new xt(Ze.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new xt(Ze.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,n,i){const a=this.isText?this.splitText(n,this.id.getOffset()):this.splitElement(n,i);if(a){if(a.insPrevID=this.id,this.insNextID){const u=e.findFloorNode(this.insNextID);u.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,e.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return this.isText?!1:!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,n){this.attrs||(this.attrs=new Pr);const i=new Array;for(const[a,u]of Object.entries(e))i.push(this.attrs.set(a,u,n));return i}purge(e){this.attrs&&this.attrs.purge(e)}getGCPairs(){const e=[];if(!this.attrs)return e;for(const n of this.attrs)n.getRemovedAt()&&e.push({parent:this,child:n});return e}}function qu(s){var e;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(qu)};return s.attrs&&(n.attributes=pi((e=s.attrs)==null?void 0:e.toObject())),n}function Yu(s){if(s.isText)return s.value;let e="";return s.attrs&&s.attrs.size()&&(e=" "+Array.from(s.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${cr(n.getValue())}"`}).join(" ")),`<${s.type}${e}>${s.children.map(n=>Yu(n)).join("")}</${s.type}>`}function Lp(s){if(s.isText){const e=s;return{type:e.type,value:e.value,size:e.size,isRemoved:e.isRemoved}}return{type:s.type,children:s.children.map(Lp),size:s.size,isRemoved:s.isRemoved}}class nn extends vo{constructor(e,n){super(n),c(this,"indexTree"),c(this,"nodeMapByID"),this.indexTree=new FS(e),this.nodeMapByID=new bp(Ze.createComparator()),this.indexTree.traverseAll(i=>{this.nodeMapByID.put(i.id,i)})}static create(e,n){return new nn(e,n)}findFloorNode(e){const n=this.nodeMapByID.floorEntry(e);if(!(!n||!n.key.getCreatedAt().equals(e.getCreatedAt())))return n.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,n){const[i,a]=e.toTreeNodePair(this);let u=a;const d=i===u,h=u.parent&&!d?u.parent:i;if(u.isText&&u.split(this,e.getLeftSiblingID().getOffset()-u.id.getOffset()),n){const m=h.allChildren,g=d?0:m.indexOf(u)+1;for(let T=g;T<m.length;T++){const x=m[T];if(!x.id.getCreatedAt().after(n))break;u=x}}return[h,u]}style(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,m]=this.findNodesAndSplitText(e[1],i),g=[],T=n?pi(n):{},x=new Map,k=[];return this.traverseInPosRange(u,d,h,m,([P])=>{const U=P.getCreatedAt().getActorID(),q=a?a.has(U)?a.get(U):gn:yo;if(P.canStyle(i,q)&&n){const K=x.get(U),ie=P.getCreatedAt();(!K||ie.after(K))&&x.set(U,ie);const ke=P.setAttrs(n,i),ue=ke.reduce((xe,[,Rs])=>(Rs&&(xe[Rs.getKey()]=T[Rs.getKey()]),xe),{}),Te=P.parent,Ee=P.prevSibling||P.parent;Object.keys(ue).length>0&&g.push({type:"style",from:this.toIndex(Te,Ee),to:this.toIndex(P,P),fromPath:this.toPath(Te,Ee),toPath:this.toPath(P,P),actor:i.getActorID(),value:ue});for(const[xe]of ke)xe&&k.push({parent:P,child:xe})}}),[x,k,g]}removeStyle(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,m]=this.findNodesAndSplitText(e[1],i),g=[],T=new Map,x=[];return this.traverseInPosRange(u,d,h,m,([k])=>{const P=k.getCreatedAt().getActorID(),U=a?a.has(P)?a.get(P):gn:yo;if(k.canStyle(i,U)&&n){const q=T.get(P),K=k.getCreatedAt();(!q||K.after(q))&&T.set(P,K),k.attrs||(k.attrs=new Pr);for(const ue of n){const Te=k.attrs.remove(ue,i);for(const Ee of Te)x.push({parent:k,child:Ee})}const ie=k.parent,ke=k.prevSibling||k.parent;g.push({actor:i.getActorID(),type:"removeStyle",from:this.toIndex(ie,ke),to:this.toIndex(k,k),fromPath:this.toPath(ie,ke),toPath:this.toPath(k,k),value:n})}}),[T,x,g]}edit(e,n,i,a,u,d){const[h,m]=this.findNodesAndSplitText(e[0],a),[g,T]=this.findNodesAndSplitText(e[1],a),x=this.toIndex(h,m),k=this.toPath(h,m),P=[],U=[],q=[],K=new Map;this.traverseInPosRange(h,m,g,T,([ue,Te],Ee)=>{if(Te===Fe.Start&&!Ee)for(const bs of ue.children)q.push(bs);const xe=ue.getCreatedAt().getActorID(),Rs=d?d.has(xe)?d.get(xe):gn:yo;if(ue.canDelete(a,Rs)||P.includes(ue.parent)){const bs=K.get(xe),Bo=ue.getCreatedAt();(!bs||Bo.after(bs))&&K.set(xe,Bo),(Te===Fe.Text||Te===Fe.Start)&&P.push(ue),U.push([ue,Te])}});const ie=this.makeDeletionChanges(U,a),ke=[];for(const ue of P)ue.remove(a),ue.isRemoved&&ke.push({parent:this,child:ue});for(const ue of q)ue.removedAt||h.append(ue);if(i>0){let ue=0,Te=h,Ee=m;for(;ue<i;)Te.split(this,Te.findOffset(Ee)+1,u),Ee=Te,Te=Te.parent,ue++;ie.push({type:"content",from:x,to:x,fromPath:k,toPath:k,actor:a.getActorID()})}if(n!=null&&n.length){const ue=[];let Te=m;for(const Ee of n)Te===h?h.insertAt(Ee,0):h.insertAfter(Ee,Te),Te=Ee,Wa(Ee,xe=>{h.isRemoved&&(xe.remove(a),ke.push({parent:this,child:xe})),this.nodeMapByID.put(xe.id,xe)}),Ee.isRemoved||ue.push(Ee);if(ue.length){const Ee=ue.map(xe=>qu(xe));ie.length&&ie[ie.length-1].from===x?ie[ie.length-1].value=Ee:ie.push({type:"content",from:x,to:x,fromPath:k,toPath:k,actor:a.getActorID(),value:Ee})}}return[ie,ke,K]}editT(e,n,i,a,u){const d=this.findPos(e[0]),h=this.findPos(e[1]);this.edit([d,h],n,i,a,u)}move(e,n,i){throw new Error(`not implemented: ${e}, ${n}, ${i}`)}purge(e){var n;(n=e.parent)==null||n.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,a=e.insNextID;if(i){const u=this.findFloorNode(i);u.insNextID=a}if(a){const u=this.findFloorNode(a);u.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(n=>{n.getRemovedAt()&&e.push({parent:this,child:n});for(const i of n.getGCPairs())e.push(i)}),e}findPos(e,n=!0){const i=this.indexTree.findTreePos(e,n);return vn.fromTreePos(i)}pathToPosRange(e){const n=this.pathToIndex(e);return[this.findPos(n),this.findPos(n+1)]}pathToPos(e){const n=this.indexTree.pathToIndex(e);return this.findPos(n)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Yu(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),n=(i,a=void 0,u=void 0,d=0)=>{var h,m,g,T;let x,k,P;const U=i.isText?{node:i,offset:0}:a&&u?this.toTreePos(a,u):null;U&&(x=this.indexTree.indexOf(U),k=this.indexTree.treePosToPath(U),P=vn.fromTreePos(U).toStruct());const q={type:i.type,parent:a==null?void 0:a.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(h=i.removedAt)==null?void 0:h.toTestString(),insPrev:(m=i.insPrevID)==null?void 0:m.toTestString(),insNext:(g=i.insNextID)==null?void 0:g.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:d,attributes:i.attrs?pi((T=i.attrs)==null?void 0:T.toObject()):void 0,index:x,path:k,pos:P};for(let K=0;K<i.allChildren.length;K++){const ie=K===0?i:i.allChildren[K-1];q.children.push(n(i.allChildren[K],i,ie,d+1))}return q};return n(e)}getRootTreeNode(){return qu(this.indexTree.getRoot())}toTestTreeNode(){return Lp(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new nn(e.deepcopy(),this.getCreatedAt())}toPath(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.treePosToPath(i):[]}toIndex(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.indexOf(i):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const n=this.findPos(e[0]);return e[0]===e[1]?[n,n]:[n,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[n,i]=e,a=this.findPos(n);return n===i?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toPath(n,i),this.toPath(a,u)]}posRangeToIndexRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toIndex(n,i),this.toIndex(a,u)]}traverseInPosRange(e,n,i,a,u){const d=this.toIndex(e,n),h=this.toIndex(i,a);return this.indexTree.tokensBetween(d,h,u)}toTreePos(e,n){if(!e||!n)return;if(e.isRemoved){let a;for(;e.isRemoved;)a=e,e=a.parent;const u=e.findOffset(a);return{node:e,offset:u}}if(e===n)return{node:e,offset:0};let i=e.findOffset(n);if(!n.isRemoved){if(n.isText)return{node:n,offset:n.paddedSize};i++}return{node:e,offset:i}}makeDeletionChanges(e,n){const i=[],a=[];let u=null,d=null;for(let h=0;h<e.length;h++){const m=e[h],g=e[h+1];u||(u=m),d=m;const T=this.findRightToken(m);(!T||!g||T[0]!==g[0]||T[1]!==g[1])&&(a.push([u,d]),u=null,d=null)}for(const h of a){const[m,g]=h,[T,x]=this.findLeftToken(m),[k,P]=g,U=x===Fe.Start?T:T.parent,q=P===Fe.Start?k:k.parent,K=this.toIndex(U,T),ie=this.toIndex(q,k);K<ie&&(i.length>0&&K===i[i.length-1].to?(i[i.length-1].to=ie,i[i.length-1].toPath=this.toPath(q,k)):i.push({type:"content",from:K,to:ie,fromPath:this.toPath(U,T),toPath:this.toPath(q,k),actor:n.getActorID()}))}return i.reverse()}findRightToken([e,n]){if(n===Fe.Start){const h=e.allChildren;return h.length>0?[h[0],h[0].isText?Fe.Text:Fe.Start]:[e,Fe.End]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===a.length-1)return[i,Fe.End];const d=a[u+1];return[d,d.isText?Fe.Text:Fe.Start]}findLeftToken([e,n]){if(n===Fe.End){const h=e.allChildren;if(h.length>0){const m=h[h.length-1];return[m,m.isText?Fe.Text:Fe.End]}return[e,Fe.Start]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===0)return[i,Fe.Start];const d=a[u-1];return[d,d.isText?Fe.Text:Fe.End]}}class Ao extends yn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"contents"),c(this,"splitLevel"),c(this,"maxCreatedAtMapByActor"),this.fromPos=n,this.toPos=i,this.contents=a,this.splitLevel=u,this.maxCreatedAtMapByActor=d}static create(e,n,i,a,u,d,h){return new Ao(e,n,i,a,u,d,h)}execute(e){var n;const i=e.findByCreatedAt(this.getParentCreatedAt());i||B.fatal(`fail to find ${this.getParentCreatedAt()}`),i instanceof nn||B.fatal("fail to execute, only Tree can execute edit");const a=this.getExecutedAt(),u=i,[d,h]=u.edit([this.fromPos,this.toPos],(n=this.contents)==null?void 0:n.map(m=>m.deepcopy()),this.splitLevel,a,(()=>{let m=a.getDelimiter();return this.contents!==void 0&&(m+=this.contents.length),()=>ct.of(a.getLamport(),++m,a.getActorID())})(),this.maxCreatedAtMapByActor);for(const m of h)e.registerGCPair(m);return{opInfos:d.map(({from:m,to:g,value:T,splitLevel:x,fromPath:k,toPath:P})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:m,to:g,value:T,splitLevel:x,fromPath:k,toPath:P}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${e}.EDIT(${n},${i},${a.map(u=>Yu(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Xr{constructor(e,n,i,a){c(this,"clientSeq"),c(this,"serverSeq"),c(this,"lamport"),c(this,"actor"),this.clientSeq=e,this.serverSeq=a,this.lamport=n,this.actor=i}static of(e,n,i,a){return new Xr(e,n,i,a)}next(){return new Xr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(e){return e.greaterThan(this.lamport)?new Xr(this.clientSeq,e,this.actor):new Xr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(e){return ct.of(this.lamport,e,this.actor)}setActor(e){return new Xr(this.clientSeq,this.lamport,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const qS=new Xr(0,ne.fromInt(0,!0),Ya);class Cs{constructor({id:e,operations:n,presenceChange:i,message:a}){c(this,"id"),c(this,"operations"),c(this,"presenceChange"),c(this,"message"),this.id=e,this.operations=n||[],this.presenceChange=i,this.message=a}static create({id:e,operations:n,presenceChange:i,message:a}){return new Cs({id:e,operations:n,presenceChange:i,message:a})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const a=[],u=[];for(const d of this.operations){const h=d.execute(e,i);if(!h)continue;const{opInfos:m,reverseOp:g}=h;a.push(...m),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===Kr.Put?n.set(this.id.getActorID(),mn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:a,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:je.bytesToHex(je.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(e=>je.bytesToHex(je.toOperation(e).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:a,message:u}=e;return Cs.create({id:je.bytesToChangeID(je.hexToBytes(n)),operations:i==null?void 0:i.map(d=>je.bytesToOperation(je.hexToBytes(d))),presenceChange:a,message:u})}}class Ga{constructor(e,n,i,a,u,d){c(this,"documentKey"),c(this,"checkpoint"),c(this,"isRemoved"),c(this,"changes"),c(this,"snapshot"),c(this,"minSyncedTicket"),this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=a,this.snapshot=u,this.minSyncedTicket=d}static create(e,n,i,a,u,d){return new Ga(e,n,i,a,u,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class gi{constructor(e,n){c(this,"serverSeq"),c(this,"clientSeq"),this.serverSeq=e,this.clientSeq=n}static of(e,n){return new gi(e,n)}increaseClientSeq(e){return e===0?this:new gi(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq.greaterThan(e.serverSeq)?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return gi.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq.equals(e.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const YS=new gi(ne.fromInt(0,!0),0);class fr{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new fr(e,n)}static fromStruct(e){return fr.of(ct.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new fr(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const KS=fr.of(gn,0);class Tn{constructor(e,n){c(this,"id"),c(this,"relativeOffset"),this.id=e,this.relativeOffset=n}static of(e,n){return new Tn(e,n)}static fromStruct(e){const n=fr.fromStruct(e.id);return Tn.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return fr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Qr extends Op{constructor(e,n,i){super(n),c(this,"id"),c(this,"removedAt"),c(this,"prev"),c(this,"next"),c(this,"insPrev"),c(this,"insNext"),this.id=e,this.removedAt=i}static create(e,n){return new Qr(e,n)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Qr(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,n){const i=!this.removedAt;return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))?i:!1}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Tn.of(this.id,0),Tn.of(this.id,this.getLength())]}deepcopy(){return new Qr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const n=this.value;return this.value=n.substring(0,e),n.substring(e,n.length)}toIDString(){return this.id.toIDString()}}class yi{constructor(){c(this,"head"),c(this,"treeByIndex"),c(this,"treeByID"),this.head=Qr.create(KS),this.treeByIndex=new So,this.treeByID=new bp(Qr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new yi}edit(e,n,i,a){const[u,d]=this.findNodeWithSplit(e[1],n),[h,m]=this.findNodeWithSplit(e[0],n),g=this.findBetween(m,d),[T,x,k]=this.deleteNodes(g,n,a),P=d?d.getID():u.getID();let U=Tn.of(P,0);if(i){const K=this.posToIndex(h.createPosRange()[1],!0),ie=this.insertAfter(h,Qr.create(fr.of(n,0),i));T.length&&T[T.length-1].from===K?T[T.length-1].value=i:T.push({actor:n.getActorID(),from:K,to:K,value:i}),U=Tn.of(ie.getID(),ie.getContentLength())}const q=[];for(const[,K]of k)q.push({parent:this,child:K});return[U,x,q,T]}indexToPos(e){const[n,i]=this.treeByIndex.find(e),a=n;return Tn.of(a.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),a=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);a||B.fatal(`the node of the given id should be found: ${i.toTestString()}`);const u=this.treeByIndex.indexOf(a),d=a.isRemoved()?0:i.getOffset()-a.getID().getOffset();return u+d}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new yi;let n=this.head.getNext(),i=e.head,a;for(;n;){if(a=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const u=e.findNode(n.getInsPrevID());a.setInsPrev(u)}i=a,n=n.getNext()}return e}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let a=this.findFloorNodePreferToLeft(i);const u=i.getOffset()-a.getID().getOffset();for(this.splitNode(a,u);a.hasNext()&&a.getNext().getCreatedAt().after(n);)a=a.getNext();return[a,a.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(n||B.fatal(`the node of the given id should be found: ${e.toTestString()}`),e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let a=e;for(;a&&a!==n;)i.push(a),a=a.getNext();return i}splitNode(e,n){if(n>e.getContentLength()&&B.fatal("offset should be less than or equal to length"),n===0)return e;if(n===e.getContentLength())return e.getNext();const i=e.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(e,i);const a=e.getInsNext();return a&&a.setInsPrev(i),i.setInsPrev(e),i}deleteNodes(e,n,i){if(!e.length)return[[],new Map,new Map];const[a,u]=this.filterNodes(e,n,i),d=new Map,h=new Map,m=this.makeChanges(u,n);for(const g of a){const T=g.getCreatedAt().getActorID();(!d.has(T)||g.getID().getCreatedAt().after(d.get(T)))&&d.set(T,g.getID().getCreatedAt()),h.set(g.getID().toIDString(),g),g.remove(n)}return this.deleteIndexNodes(u),[m,d,h]}filterNodes(e,n,i){const a=!!i,u=[],d=[],[h,m]=this.findEdgesOfCandidates(e);d.push(h);for(const g of e){const T=g.getCreatedAt().getActorID(),x=a?i.has(T)?i.get(T):gn:yo;g.canDelete(n,x)?u.push(g):d.push(g)}return d.push(m),[u,d]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let a,u;for(let d=0;d<e.length-1;d++){const h=e[d],m=e[d+1];h.getNext()!=m&&([a]=this.findIndexesFromRange(h.getNext().createPosRange()),m?[,u]=this.findIndexesFromRange(m.getPrev().createPosRange()):u=this.treeByIndex.length,a<u&&i.push({actor:n.getActorID(),from:a,to:u}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];i.getNext()!=a&&this.treeByIndex.deleteRange(i,a)}}purge(e){const n=e.getPrev(),i=e.getNext(),a=e.getInsPrev(),u=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),a&&a.setInsNext(u),u&&u.setInsPrev(a),e.setInsPrev(void 0),e.setInsNext(void 0)}}const Bp=s=>s<0?Math.ceil(s):Math.floor(s);var dr=(s=>(s[s.IntegerCnt=0]="IntegerCnt",s[s.LongCnt=1]="LongCnt",s))(dr||{});class Ot extends vo{constructor(e,n,i){switch(super(i),c(this,"valueType"),c(this,"value"),this.valueType=e,e){case 0:typeof n=="number"?n>Math.pow(2,31)-1||n<-Math.pow(2,31)?this.value=ne.fromNumber(n).toInt():this.value=Bp(n):this.value=n.toInt();break;case 1:typeof n=="number"?this.value=ne.fromNumber(n):this.value=n;break;default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}static create(e,n,i){return new Ot(e,n,i)}static valueFromBytes(e,n){switch(e){case 0:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 1:return ne.fromBytesLE(Array.from(n));default:throw new me(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ot.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof ne?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ot.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const n=this.value.toBytesLE();return Uint8Array.from(n)}default:throw new me(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function n(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return n(this),n(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===qe.Long?this.value=this.value+e.getValue().toInt():this.value=ne.fromNumber(this.value+Bp(e.getValue())).toInt(),this}}class vi extends yn{constructor(e,n,i){super(e,i),c(this,"value"),this.value=n}static create(e,n,i){return new vi(e,n,i)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Ot||B.fatal("fail to execute, only Counter can execute increase");const i=n,a=this.value.deepcopy();return i.increase(a),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),i=e.getType()===qe.Long?e.getValue().multiply(-1):e.getValue()*-1;return vi.create(this.getParentCreatedAt(),Pe.of(i,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Or extends yn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),c(this,"attributesToRemove"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u,this.attributesToRemove=d}static create(e,n,i,a,u,d){return new Or(e,n,i,a,u,new Array,d)}static createTreeRemoveStyleOperation(e,n,i,a,u,d){return new Or(e,n,i,a,new Map,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof nn||B.fatal("fail to execute, only Tree can execute edit");const i=n;let a,u;if(this.attributes.size){const d={};[...this.attributes].forEach(([h,m])=>d[h]=m),[,u,a]=i.style([this.fromPos,this.toPos],d,this.getExecutedAt(),this.maxCreatedAtMapByActor)}else{const d=this.attributesToRemove;[,u,a]=i.removeStyle([this.fromPos,this.toPos],d,this.getExecutedAt(),this.maxCreatedAtMapByActor)}for(const d of u)e.registerGCPair(d);return{opInfos:a.map(({from:d,to:h,value:m,fromPath:g,toPath:T})=>({type:"tree-style",from:d,to:h,value:this.attributes.size?{attributes:m}:{attributesToRemove:m},fromPath:g,toPath:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${n},${i},${Object.entries(this.attributes||{}).map(([a,u])=>`${a}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function WS(s){const e=new dp,n=e.data;for(const[i,a]of Object.entries(s))n[i]=JSON.stringify(a);return e}function GS(s){if(s.type===Kr.Put)return new Ju({type:go.PUT,presence:WS(s.presence)});if(s.type===Kr.Clear)return new Ju({type:go.CLEAR});throw new me(de.Unimplemented,"unimplemented type")}function HS(s){return new hp({serverSeq:s.getServerSeqAsString(),clientSeq:s.getClientSeq()})}function Mp(s){return new Va({clientSeq:s.getClientSeq(),lamport:s.getLamportAsString(),actorId:Zu(s.getActorID())})}function G(s){if(s)return new mp({lamport:s.getLamportAsString(),delimiter:s.getDelimiter(),actorId:Zu(s.getActorID())})}function Jp(s){switch(s){case qe.Null:return oe.NULL;case qe.Boolean:return oe.BOOLEAN;case qe.Integer:return oe.INTEGER;case qe.Long:return oe.LONG;case qe.Double:return oe.DOUBLE;case qe.String:return oe.STRING;case qe.Bytes:return oe.BYTES;case qe.Date:return oe.DATE;default:throw new me(de.Unsupported,`unsupported type: ${s}`)}}function Up(s){switch(s){case dr.IntegerCnt:return oe.INTEGER_CNT;case dr.LongCnt:return oe.LONG_CNT;default:throw new me(de.Unsupported,`unsupported type: ${s}`)}}function Ku(s){if(s instanceof vt)return new As({type:oe.JSON_OBJECT,createdAt:G(s.getCreatedAt()),value:em(s)});if(s instanceof Pt)return new As({type:oe.JSON_ARRAY,createdAt:G(s.getCreatedAt()),value:Ew(s)});if(s instanceof tn)return new As({type:oe.TEXT,createdAt:G(s.getCreatedAt())});if(s instanceof Pe)return new As({type:Jp(s.getType()),createdAt:G(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ot)return new As({type:Up(s.getType()),createdAt:G(s.getCreatedAt()),value:s.toBytes()});if(s instanceof nn)return new As({type:oe.TREE,createdAt:G(s.getCreatedAt()),value:Iw(s)});throw new me(de.Unimplemented,"unimplemented element")}function XS(s){return new ap({createdAt:G(s.getCreatedAt()),offset:s.getOffset()})}function Ha(s){return new pp({createdAt:G(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Xa(s){return new fp({parentId:Po(s.getParentID()),leftSiblingId:Po(s.getLeftSiblingID())})}function Po(s){return new cp({createdAt:G(s.getCreatedAt()),offset:s.getOffset()})}function $p(s){const e=new Bu;if(s instanceof Os){const n=s,i=new zh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Ku(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(s instanceof ko){const n=s,i=new Vh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.prevCreatedAt=G(n.getPrevCreatedAt()),i.value=Ku(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(s instanceof Hr){const n=s,i=new qh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.prevCreatedAt=G(n.getPrevCreatedAt()),i.createdAt=G(n.getCreatedAt()),i.executedAt=G(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(s instanceof Gr){const n=s,i=new Yh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.createdAt=G(n.getCreatedAt()),i.executedAt=G(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(s instanceof No){const n=s,i=new Kh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Ha(n.getFromPos()),i.to=Ha(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);i.content=n.getContent();const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=G(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(s instanceof Io){const n=s,i=new Wh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Ha(n.getFromPos()),i.to=Ha(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=G(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(s instanceof vi){const n=s,i=new Gh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.value=Ku(n.getValue()),i.executedAt=G(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(s instanceof Ao){const n=s,i=new Hh,a=i.createdAtMapByActor;for(const[u,d]of n.getMaxCreatedAtMapByActor())a[u]=G(d);i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Xa(n.getFromPos()),i.to=Xa(n.getToPos()),i.contents=sw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=G(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(s instanceof Or){const n=s,i=new Xh;i.parentCreatedAt=G(n.getParentCreatedAt()),i.from=Xa(n.getFromPos()),i.to=Xa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=G(h);const u=n.getAttributesToRemove();if(u.length>0)i.attributesToRemove=u;else{const d=i.attributes;for(const[h,m]of n.getAttributes())d[h]=m}i.executedAt=G(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else throw new me(de.Unimplemented,"unimplemented operation");return e}function QS(s){const e=[];for(const n of s)e.push($p(n));return e}function ZS(s){const e=new jh({id:Mp(s.getID()),message:s.getMessage()});return s.hasOperations()&&(e.operations=QS(s.getOperations())),s.hasPresenceChange()&&(e.presenceChange=GS(s.getPresenceChange())),e}function ew(s){const e=[];for(const n of s)e.push(ZS(n));return e}function tw(s){const e=[];for(const n of s)e.push(new sp({key:n.getStrKey(),element:Wu(n.getValue())}));return e}function nw(s){const e=[];for(const n of s)e.push(new ip({element:Wu(n.getValue())}));return e}function rw(s){const e=[];for(const n of s){const i=new op;i.id=XS(n.getID()),i.value=n.getValue().getContent(),i.removedAt=G(n.getRemovedAt());const a=i.attributes,u=n.getValue().getAttrs();for(const d of u){const h=new Mu;h.value=d.getValue(),h.updatedAt=G(d.getUpdatedAt()),a[d.getKey()]=h}e.push(i)}return e}function sw(s){const e=[];if(!s||!s.length)return e;for(const n of s)e.push(new up({content:Fp(n)}));return e}function Fp(s){if(!s)return[];const e=[];return Wa(s,(n,i)=>{const a=new lp({id:Po(n.id),type:n.type,removedAt:G(n.removedAt),depth:i});if(n.isText&&(a.value=n.value),n.insPrevID&&(a.insPrevId=Po(n.insPrevID)),n.insNextID&&(a.insNextId=Po(n.insNextID)),n.attrs)for(const u of n.attrs)a.attributes[u.getKey()]=new Mu({value:u.getValue(),updatedAt:G(u.getUpdatedAt())});e.push(a)}),e}function iw(s){const e=new ur;return e.body.case="jsonObject",e.body.value=new Qh({nodes:tw(s.getRHT()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function jp(s){const e=new ur;return e.body.case="jsonArray",e.body.value=new Zh({nodes:nw(s.getElements()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function ow(s){const e=new ur;return e.body.case="primitive",e.body.value=new ep({type:Jp(s.getType()),value:s.toBytes(),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function aw(s){const e=new ur;return e.body.case="text",e.body.value=new tp({nodes:rw(s.getRGATreeSplit()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function lw(s){const e=new ur;return e.body.case="counter",e.body.value=new np({type:Up(s.getType()),value:s.toBytes(),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function zp(s){const e=new ur;return e.body.case="tree",e.body.value=new rp({nodes:Fp(s.getRoot()),createdAt:G(s.getCreatedAt()),movedAt:G(s.getMovedAt()),removedAt:G(s.getRemovedAt())}),e}function Wu(s){if(s instanceof vt)return iw(s);if(s instanceof Pt)return jp(s);if(s instanceof Pe)return ow(s);if(s instanceof tn)return aw(s);if(s instanceof Ot)return lw(s);if(s instanceof nn)return zp(s);throw new me(de.Unimplemented,"unimplemented element")}function uw(s){return new Fh({documentKey:s.getDocumentKey(),checkpoint:HS(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:ew(s.getChanges()),snapshot:s.getSnapshot(),minSyncedTicket:G(s.getMinSyncedTicket())})}function Vp(s){let e;return s.serverSeq&&(e=ne.fromString(s.serverSeq,!0)),Xr.of(s.clientSeq,ne.fromString(s.lamport,!0),Qu(s.actorId),e)}function X(s){if(s)return ct.of(ne.fromString(s.lamport,!0),s.delimiter,Qu(s.actorId))}function Gu(s){const e={};return Object.entries(s.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function cw(s){const e=s.type;if(e===go.PUT){const n=Gu(s.presence);return{type:Kr.Put,presence:n}}if(e===go.CLEAR)return{type:Kr.Clear};throw new me(de.Unsupported,`unsupported type: ${e}`)}function fw(s){const e=new Map;return Object.entries(s).forEach(([n,i])=>{e.set(n,Gu(i))}),e}function qp(s){switch(s){case oe.NULL:return qe.Null;case oe.BOOLEAN:return qe.Boolean;case oe.INTEGER:return qe.Integer;case oe.LONG:return qe.Long;case oe.DOUBLE:return qe.Double;case oe.STRING:return qe.String;case oe.BYTES:return qe.Bytes;case oe.DATE:return qe.Date}throw new me(de.Unimplemented,`unimplemented value type: ${s}`)}function Qa(s){switch(s){case oe.INTEGER_CNT:return dr.IntegerCnt;case oe.LONG_CNT:return dr.LongCnt}throw new me(de.Unimplemented,`unimplemented value type: ${s}`)}function Hu(s){switch(s.type){case oe.JSON_OBJECT:return s.value?Zp(s.value):vt.create(X(s.createdAt));case oe.JSON_ARRAY:return s.value?kw(s.value):Pt.create(X(s.createdAt));case oe.TEXT:return tn.create(yi.create(),X(s.createdAt));case oe.TREE:return Nw(s.value);case oe.NULL:case oe.BOOLEAN:case oe.INTEGER:case oe.LONG:case oe.DOUBLE:case oe.STRING:case oe.BYTES:case oe.DATE:return Pe.of(Pe.valueFromBytes(qp(s.type),s.value),X(s.createdAt));case oe.INTEGER_CNT:case oe.LONG_CNT:return Ot.create(Qa(s.type),Ot.valueFromBytes(Qa(s.type),s.value),X(s.createdAt))}}function Za(s){return Tn.of(fr.of(X(s.createdAt),s.offset),s.relativeOffset)}function Yp(s){return fr.of(X(s.createdAt),s.offset)}function dw(s){const e=Eo.create(s.value);Object.entries(s.attributes).forEach(([i,a])=>{e.setAttr(i,a.value,X(a.updatedAt))});const n=Qr.create(Yp(s.id),e);return n.remove(X(s.removedAt)),n}function Ti(s){return vn.of(xo(s.parentId),xo(s.leftSiblingId))}function xo(s){return Ze.of(X(s.createdAt),s.offset)}function hw(s){if(!s.length)return;const e=[];return s.forEach(n=>{const i=Kp(n.content);e.push(i)}),e}function Kp(s){if(s.length===0)return;const e=[];for(const i of s)e.push(pw(i));const n=e[e.length-1];for(let i=e.length-2;i>=0;i--){let a;for(let u=i+1;u<e.length;u++)if(s[i].depth-1===s[u].depth){a=e[u];break}a.prepend(e[i])}return n.updateDescendantsSize(),nn.create(n,gn).getRoot()}function pw(s){const e=xo(s.id),n=xt.create(e,s.type),i=Object.entries(s.attributes);if(n.isText)n.value=s.value;else if(i.length){const a=Pr.create();for(const[u,d]of i)a.set(u,d.value,X(d.updatedAt));n.attrs=a}return s.insPrevId&&(n.insPrevID=xo(s.insPrevId)),s.insNextId&&(n.insNextID=xo(s.insNextId)),n.removedAt=X(s.removedAt),n}function Wp(s){if(s.body.case==="set"){const e=s.body.value;return Os.create(e.key,Hu(e.value),X(e.parentCreatedAt),X(e.executedAt))}else if(s.body.case==="add"){const e=s.body.value;return ko.create(X(e.parentCreatedAt),X(e.prevCreatedAt),Hu(e.value),X(e.executedAt))}else if(s.body.case==="move"){const e=s.body.value;return Hr.create(X(e.parentCreatedAt),X(e.prevCreatedAt),X(e.createdAt),X(e.executedAt))}else if(s.body.case==="remove"){const e=s.body.value;return Gr.create(X(e.parentCreatedAt),X(e.createdAt),X(e.executedAt))}else if(s.body.case==="edit"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,X(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),No.create(X(e.parentCreatedAt),Za(e.from),Za(e.to),n,e.content,i,X(e.executedAt))}else if(s.body.case==="style"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,X(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),Io.create(X(e.parentCreatedAt),Za(e.from),Za(e.to),n,i,X(e.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const e=s.body.value;return vi.create(X(e.parentCreatedAt),Hu(e.value),X(e.executedAt))}else if(s.body.case==="treeEdit"){const e=s.body.value,n=new Map;return Object.entries(e.createdAtMapByActor).forEach(([i,a])=>{n.set(i,X(a))}),Ao.create(X(e.parentCreatedAt),Ti(e.from),Ti(e.to),hw(e.contents),e.splitLevel,n,X(e.executedAt))}else if(s.body.case==="treeStyle"){const e=s.body.value,n=new Map,i=e.attributesToRemove,a=new Map;return e!=null&&e.createdAtMapByActor&&Object.entries(e.createdAtMapByActor).forEach(([u,d])=>{a.set(u,X(d))}),(i==null?void 0:i.length)>0?Or.createTreeRemoveStyleOperation(X(e.parentCreatedAt),Ti(e.from),Ti(e.to),a,i,X(e.executedAt)):(Object.entries(e.attributes).forEach(([u,d])=>{n.set(u,d)}),Or.create(X(e.parentCreatedAt),Ti(e.from),Ti(e.to),a,n,X(e.executedAt)))}else throw new me(de.Unimplemented,"unimplemented operation")}}function mw(s){const e=[];for(const n of s){const i=Wp(n);i&&e.push(i)}return e}function Gp(s){const e=[];for(const n of s)e.push(Cs.create({id:Vp(n.id),operations:mw(n.operations),presenceChange:n.presenceChange?cw(n.presenceChange):void 0,message:n.message}));return e}function gw(s){return gi.of(ne.fromString(s.serverSeq,!0),s.clientSeq)}function yw(s){return Ga.create(s.documentKey,gw(s.checkpoint),s.isRemoved,Gp(s.changes),s.snapshot,X(s.minSyncedTicket))}function Hp(s){const e=new To;for(const i of s.nodes){const a=Xu(i.element);e.set(i.key,a,a.getPositionedAt())}const n=new vt(X(s.createdAt),e);return n.setMovedAt(X(s.movedAt)),n.setRemovedAt(X(s.removedAt)),n}function Xp(s){const e=new wo;for(const i of s.nodes)e.insert(Xu(i.element));const n=new Pt(X(s.createdAt),e);return n.setMovedAt(X(s.movedAt)),n.setRemovedAt(X(s.removedAt)),n}function vw(s){const e=Pe.of(Pe.valueFromBytes(qp(s.type),s.value),X(s.createdAt));return e.setMovedAt(X(s.movedAt)),e.setRemovedAt(X(s.removedAt)),e}function Tw(s){const e=new yi;let n=e.getHead();for(const a of s.nodes){const u=e.insertAfter(n,dw(a));a.insPrevId&&u.setInsPrev(e.findNode(Yp(a.insPrevId))),n=u}const i=new tn(e,X(s.createdAt));return i.setMovedAt(X(s.movedAt)),i.setRemovedAt(X(s.removedAt)),i}function Sw(s){const e=Ot.create(Qa(s.type),Ot.valueFromBytes(Qa(s.type),s.value),X(s.createdAt));return e.setMovedAt(X(s.movedAt)),e.setRemovedAt(X(s.removedAt)),e}function Qp(s){const e=Kp(s.nodes);return nn.create(e,X(s.createdAt))}function Xu(s){if(s.body.case==="jsonObject")return Hp(s.body.value);if(s.body.case==="jsonArray")return Xp(s.body.value);if(s.body.case==="primitive")return vw(s.body.value);if(s.body.case==="text")return Tw(s.body.value);if(s.body.case==="counter")return Sw(s.body.value);if(s.body.case==="tree")return Qp(s.body.value);throw new me(de.Unimplemented,"unimplemented element")}function ww(s){if(!s)return{root:vt.create(gn),presences:new Map};const e=$h.fromBinary(s);return{root:Xu(e.root),presences:fw(e.presences)}}function Zp(s){if(!s)throw new Error("bytes is empty");const e=ur.fromBinary(s);return Hp(e.body.value)}function em(s){return Wu(s).toBinary()}function kw(s){if(!s)throw new Error("bytes is empty");const e=ur.fromBinary(s);return Xp(e.body.value)}function Ew(s){return jp(s).toBinary()}function Nw(s){if(!s)throw new Error("bytes is empty");const e=ur.fromBinary(s);return Qp(e.body.value)}function Iw(s){return zp(s).toBinary()}function tm(s){return s?Array.from(s).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Qu(s){return tm(s)}function nm(s){return new Uint8Array(s.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Zu(s){return nm(s)}function _w(s){const e=Va.fromBinary(s);return Vp(e)}function Aw(s){const e=Bu.fromBinary(s);return Wp(e)}const je={fromPresence:Gu,toChangePack:uw,fromChangePack:yw,fromChanges:Gp,objectToBytes:em,bytesToObject:Zp,bytesToSnapshot:ww,bytesToHex:tm,hexToBytes:nm,toHexString:Qu,toUint8Array:Zu,toOperation:$p,toChangeID:Mp,PbChangeID:Va,bytesToChangeID:_w,bytesToOperation:Aw};function rm(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16)})}class Pw{constructor(e,n,i,a){c(this,"reconnectStreamDelay"),c(this,"doc"),c(this,"docID"),c(this,"syncMode"),c(this,"remoteChangeEventReceived"),c(this,"watchStream"),c(this,"watchLoopTimerID"),c(this,"watchAbortController"),this.reconnectStreamDelay=e,this.doc=n,this.docID=i,this.syncMode=a,this.remoteChangeEventReceived=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Lo.RealtimeSyncOff?!1:this.syncMode===Lo.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Lo.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const ec=()=>{};class xw{constructor(e){c(this,"finalized",!1),c(this,"observers",[]),c(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;e||B.fatal("missing observer"),this.finalized&&B.fatal("observable is finalized due to previous error"),typeof e=="object"?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ec),a.error===void 0&&(a.error=ec),a.complete===void 0&&(a.complete=ec);const u=rm(),d=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:a}),this.finalized)try{this.finalError?a.error(this.finalError):a.complete()}catch(h){B.warn(h)}return d}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){B.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function Ow(s){const e=new xw(s);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Si{constructor(e,n,i,a){c(this,"id"),c(this,"delimiter"),c(this,"message"),c(this,"root"),c(this,"operations"),c(this,"presenceChange"),c(this,"previousPresence"),c(this,"reversePresenceKeys"),this.id=e,this.delimiter=ju,this.root=n,this.operations=[],this.previousPresence=mn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=a}static create(e,n,i,a){return new Si(e,n,i,a)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getChange(){return Cs.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Oo{constructor(e){c(this,"rootObject"),c(this,"elementPairMapByCreatedAt"),c(this,"gcElementSetByCreatedAt"),c(this,"gcPairMap"),this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(e,void 0),e.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof tn||n instanceof nn)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Oo(vt.create(gn))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const a=n.element.getCreatedAt(),u=n.parent.subPathOf(a);u===void 0&&B.fatal(`cant find the given element: ${a.toIDString()}`),i.unshift(u),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),e instanceof Wr&&e.getDescendants((i,a)=>(this.registerElement(i,a),!1))}deregisterElement(e){let n=0;const i=a=>{const u=a.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(u),this.gcElementSetByCreatedAt.delete(u),n++};return i(e),e instanceof Wr&&e.getDescendants(a=>(i(a),!1)),n}registerRemovedElement(e){this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const n of this.gcElementSetByCreatedAt){e.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Wr&&i.element.getDescendants(a=>(e.add(a.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new Oo(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(i);a.element.getRemovedAt()&&e.compare(a.element.getRemovedAt())>=0&&(a.parent.purge(a.element),n+=this.deregisterElement(a.element))}for(const[,i]of this.gcPairMap){const a=i.child.getRemovedAt();a!==void 0&&e.compare(a)>=0&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function sm(s,e){const n=new Co(s);return new Proxy(e,n.getHandlers())}class Co{constructor(e){c(this,"context"),c(this,"handlers"),this.context=e,this.handlers={set:(n,i,a)=>(B.isEnabled(At.Trivial)&&B.trivial(`obj[${i}]=${JSON.stringify(a)}`),Co.setInternal(e,n,i,a),!0),get:(n,i)=>(B.isEnabled(At.Trivial)&&B.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Ds(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(B.isEnabled(At.Trivial)&&B.trivial(`obj[${i}]`),Co.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,a){if(i.includes("."))throw new me(de.InvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),d=el(e,a,u),h=n.set(i,d,u);e.registerElement(d,n),h&&e.registerRemovedElement(h),e.push(Os.create(i,d.deepcopy(),n.getCreatedAt(),u))}static buildObjectMembers(e,n){const i={};for(const[a,u]of Object.entries(n)){if(a.includes("."))throw new me(de.InvalidObjectKey,"key must not contain the '.'.");const d=e.issueTimeTicket(),h=el(e,u,d);i[a]=h}return i}static deleteInternal(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByKey(i,a);u&&(e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function Cw(s,e){const n=new Le(s,e);return new Proxy(e,n.getHandlers())}function Dw(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function Rw(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Le{constructor(e,n){c(this,"context"),c(this,"handlers"),c(this,"array"),this.context=e,this.array=n,this.handlers={get:(i,a,u)=>a==="getID"?()=>i.getCreatedAt():a==="getElementByID"?d=>{const h=i.getByID(d);if(!(!h||h.isRemoved()))return Zr(e,h)}:a==="getElementByIndex"?d=>{const h=i.get(d);return Zr(e,h)}:a==="getLast"?()=>Zr(e,i.getLast()):a==="deleteByID"?d=>{const h=Le.deleteInternalByID(e,i,d);return Zr(e,h)}:a==="insertAfter"?(d,h)=>{const m=Le.insertAfterInternal(e,i,d,h);return Zr(e,m)}:a==="insertBefore"?(d,h)=>{const m=Le.insertBeforeInternal(e,i,d,h);return Zr(e,m)}:a==="moveBefore"?(d,h)=>{Le.moveBeforeInternal(e,i,d,h)}:a==="moveAfter"?(d,h)=>{Le.moveAfterInternal(e,i,d,h)}:a==="moveFront"?d=>{Le.moveFrontInternal(e,i,d)}:a==="moveLast"?d=>{Le.moveLastInternal(e,i,d)}:Dw(a)?Ds(e,i.get(Number(a))):a==="push"?d=>Le.pushInternal(e,i,d):a==="splice"?(d,h,...m)=>Le.splice(e,i,d,h,...m):a==="length"?i.length:typeof a=="symbol"&&a===Symbol.iterator?Le.iteratorInternal.bind(this,e,i):a==="includes"?(d,h)=>Le.includes(e,i,d,h):a==="indexOf"?(d,h)=>Le.indexOf(e,i,d,h):a==="lastIndexOf"?(d,h)=>Le.lastIndexOf(e,i,d,h):a==="toJSForTest"?()=>i.toJSForTest():a==="toTestString"?()=>Le.toTestString(i):typeof a=="string"&&Rw(a)?(...d)=>{const h=Array.from(i).map(m=>Ds(e,m));return Array.prototype[a].apply(h,d)}:Reflect.get(i,a,u),deleteProperty:(i,a)=>(B.isEnabled(At.Trivial)&&B.trivial(`array[${a}]`),Le.deleteInternalByIndex(e,i,Number.parseInt(a)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield Zr(e,i)}static buildArrayElements(e,n){const i=[];for(const a of n){const u=e.issueTimeTicket(),d=el(e,a,u);i.push(d)}return i}static pushInternal(e,n,i){return Le.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,a){const u=e.issueTimeTicket(),d=n.getPrevCreatedAt(i);n.moveAfter(d,a,u),e.push(Hr.create(n.getCreatedAt(),d,a,u))}static moveAfterInternal(e,n,i,a){const u=e.issueTimeTicket();n.moveAfter(i,a,u),e.push(Hr.create(n.getCreatedAt(),i,a,u))}static moveFrontInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getHead();n.moveAfter(u.getCreatedAt(),i,a),e.push(Hr.create(n.getCreatedAt(),u.getCreatedAt(),i,a))}static moveLastInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getLastCreatedAt();n.moveAfter(u,i,a),e.push(Hr.create(n.getCreatedAt(),u,i,a))}static insertAfterInternal(e,n,i,a){const u=e.issueTimeTicket(),d=el(e,a,u);return n.insertAfter(i,d),e.registerElement(d,n),e.push(ko.create(n.getCreatedAt(),i,d.deepcopy(),u)),d}static insertBeforeInternal(e,n,i,a){return Le.insertAfterInternal(e,n,n.getPrevCreatedAt(i),a)}static deleteInternalByIndex(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByIndex(i,a);if(u)return e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static deleteInternalByID(e,n,i){const a=e.issueTimeTicket(),u=n.delete(i,a);return e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static splice(e,n,i,a,...u){const d=n.length,h=i>=0?Math.min(i,d):Math.max(d+i,0),m=a===void 0?d:a<0?h:Math.min(h+a,d),g=[];for(let T=h;T<m;T++){const x=Le.deleteInternalByIndex(e,n,h);if(x){const k=x.deepcopy();k.setRemovedAt(),g.push(Ds(e,k))}}if(u){let T=h===0?n.getHead().getID():n.get(h-1).getID();for(const x of u)T=Le.insertAfterInternal(e,n,T,x).getID()}return g}static includes(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return!1;if(Pe.isSupport(i))return Array.from(n).map(g=>Ds(e,g)).includes(i,h);for(let m=h;m<d;m++)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return-1;if(Pe.isSupport(i))return Array.from(n).map(g=>Ds(e,g)).indexOf(i,h);for(let m=h;m<d;m++)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return m;return-1}static lastIndexOf(e,n,i,a){var u;const d=n.length,h=a===void 0||a>=d?d-1:a<0?a+d:a;if(h<0)return-1;if(Pe.isSupport(i))return Array.from(n).map(g=>Ds(e,g)).lastIndexOf(i,h);for(let m=h;m>0;m--)if(((u=n.get(m))==null?void 0:u.getID())===i.getID())return m;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Do{constructor(e,n){c(this,"context"),c(this,"text"),this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,a){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}if(e>n){B.fatal("from should be less than or equal to to");return}const u=this.text.indexRangeToPosRange(e,n);B.isEnabled(At.Debug)&&B.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${n}->${u[1].toTestString()} c:${i}`);const d=a?hi(a):void 0,h=this.context.issueTimeTicket(),[m,,g,T]=this.text.edit(u,i,h,d);for(const x of g)this.context.registerGCPair(x);return this.context.push(new No(this.text.getCreatedAt(),u[0],u[1],m,i,d?new Map(Object.entries(d)):new Map,h)),this.text.findIndexesFromRange(T)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)return B.fatal("it is not initialized yet"),!1;if(e>n)return B.fatal("from should be less than or equal to to"),!1;const a=this.text.indexRangeToPosRange(e,n);B.isEnabled(At.Debug)&&B.debug(`STYL: f:${e}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} a:${JSON.stringify(i)}`);const u=hi(i),d=this.context.issueTimeTicket(),[h,m]=this.text.setStyle(a,u,d);for(const g of m)this.context.registerGCPair(g);return this.context.push(new Io(this.text.getCreatedAt(),a[0],a[1],h,new Map(Object.entries(u)),d)),!0}indexRangeToPosRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.findIndexesFromRange([Tn.fromStruct(e[0]),Tn.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(B.fatal("it is not initialized yet"),""):this.text.toString()}toJSON(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(e,n)}}class Ro{constructor(e,n){c(this,"valueType"),c(this,"value"),c(this,"context"),c(this,"counter"),this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter){B.fatal("it is not initialized yet");return}const n=this.context.issueTimeTicket(),i=Pe.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(vi.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function tc(s,e,n){const{type:i}=s,a=n.issueTimeTicket();if(i===xr){im(s);const{value:u}=s,d=xt.create(Ze.of(a,0),i,u);e.append(d)}else{const{children:u=[]}=s;let{attributes:d}=s,h;if(typeof d=="object"&&!xp(d)){d=hi(d),h=new Pr;for(const[g,T]of Object.entries(d))h.set(g,T,a)}const m=xt.create(Ze.of(a,0),i,void 0,h);e.append(m);for(const g of u)tc(g,m,n)}}function bw(s,e){const{type:n}=e,i=s.issueTimeTicket();let a;if(e.type===xr){const{value:u}=e;a=xt.create(Ze.of(i,0),n,u)}else if(e){const{children:u=[]}=e;let{attributes:d}=e,h;if(typeof d=="object"&&!xp(d)){d=hi(d),h=new Pr;for(const[m,g]of Object.entries(d))h.set(m,g,i)}a=xt.create(Ze.of(s.issueTimeTicket(),0),n,void 0,h);for(const m of u)tc(m,a,s)}return a}function im(s){if(!s.value.length)throw new Error("text node cannot have empty value");return!0}function om(s){if(!s.length)return!0;if(s[0].type===xr)for(const n of s){const{type:i}=n;if(i!==xr)throw new Error("element node and text node cannot be passed together");im(n)}else for(const n of s){const{type:i}=n;if(i===xr)throw new Error("element node and text node cannot be passed together")}return!0}class bo{constructor(e){c(this,"initialRoot"),c(this,"context"),c(this,"tree"),this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return xt.create(Ze.of(e.issueTimeTicket(),0),MS);const n=xt.create(Ze.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)tc(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(e,n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!e.length)throw new Error("path should not be empty");const[i,a]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),d=n?hi(n):void 0,[h]=this.tree.style([i,a],d,u);this.context.push(Or.create(this.tree.getCreatedAt(),i,a,h,d?new Map(Object.entries(d)):new Map,u))}style(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),h=i?hi(i):void 0,[m,g]=this.tree.style([a,u],h,d);for(const T of g)this.context.registerGCPair(T);this.context.push(Or.create(this.tree.getCreatedAt(),a,u,m,h?new Map(Object.entries(h)):new Map,d))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),[h,m]=this.tree.removeStyle([a,u],i,d);for(const g of m)this.context.registerGCPair(g);this.context.push(Or.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),a,u,h,i,d))}editInternal(e,n,i,a=0){var u;if(i.length!==0&&i[0]&&(om(i),i[0].type!==xr))for(const T of i){const{children:x=[]}=T;om(x)}const d=this.context.getLastTimeTicket();let h=new Array;if(((u=i[0])==null?void 0:u.type)===xr){let T="";for(const x of i){const{value:k}=x;T+=k}h.push(xt.create(Ze.of(this.context.issueTimeTicket(),0),xr,T))}else h=i.map(T=>T&&bw(this.context,T)).filter(T=>T);const[,m,g]=this.tree.edit([e,n],h.length?h.map(T=>T==null?void 0:T.deepcopy()):void 0,a,d,()=>this.context.issueTimeTicket());for(const T of m)this.context.registerGCPair(T);return this.context.push(Ao.create(this.tree.getCreatedAt(),e,n,h.length?h:void 0,a,g,d)),!0}editByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulkByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i,a)}edit(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulk(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i,a)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[vn.fromStruct(e[0]),vn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[vn.fromStruct(e[0]),vn.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function am(s,e){return sm(s,e)}function Zr(s,e){if(e){if(e instanceof Pe)return e;if(e instanceof vt)return sm(s,e);if(e instanceof Pt)return Cw(s,e);if(e instanceof tn)return new Do(s,e);if(e instanceof Ot){const n=new Ro(dr.IntegerCnt,0);return n.initialize(s,e),n}else if(e instanceof nn){const n=new bo;return n.initialize(s,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function Ds(s,e){const n=Zr(s,e);return n instanceof Pe?n.getValue():n}function el(s,e,n){let i;if(Pe.isSupport(e))i=Pe.of(e,n);else if(Array.isArray(e))i=Pt.create(n,Le.buildArrayElements(s,e));else if(typeof e=="object")e instanceof Do?(i=tn.create(yi.create(),n),e.initialize(s,i)):e instanceof Ro?(i=Ot.create(e.getValueType(),e.getValue(),n),e.initialize(s,i)):e instanceof bo?(i=nn.create(e.buildRoot(s),n),e.initialize(s,i)):i=vt.create(n,Co.buildObjectMembers(s,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}const lm=50;class Lw{constructor(){c(this,"undoStack",[]),c(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=lm&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=lm&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const um="yorkie-devtools-panel",cm="yorkie-devtools-sdk";let wi="disconnected";const fm=new Map,tl=new Map;typeof window<"u"&&(window.transactionEventsByDocKey=tl);function nl(s,e){(e!=null&&e.force||wi!=="disconnected")&&window.postMessage({source:cm,...s},"*")}function Bw(s){if(!s.isEnableDevtools()||typeof window>"u"||fm.has(s.getKey()))return;tl.set(s.getKey(),[]);const e=s.subscribe("all",n=>{n.some(i=>i.type!==ft.StatusChanged&&i.type!==ft.Snapshot&&i.type!==ft.LocalChange&&i.type!==ft.RemoteChange&&i.type!==ft.Initialized&&i.type!==ft.Watched&&i.type!==ft.Unwatched&&i.type!==ft.PresenceChanged)||(tl.get(s.getKey()).push(n),wi==="synced"&&nl({msg:"doc::sync::partial",docKey:s.getKey(),event:n}))});fm.set(s.getKey(),[e]),nl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var i;if(((i=n.data)==null?void 0:i.source)!==um)return;switch(n.data.msg){case"devtools::connect":if(wi!=="disconnected")break;wi="connected",nl({msg:"doc::available",docKey:s.getKey()}),B.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":wi="disconnected",B.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":wi="synced",nl({msg:"doc::sync::full",docKey:s.getKey(),events:tl.get(s.getKey())}),B.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var es=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(es||{}),ft=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s))(ft||{}),rl=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(rl||{}),sl=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(sl||{});class nc{constructor(e,n){c(this,"key"),c(this,"status"),c(this,"opts"),c(this,"changeID"),c(this,"checkpoint"),c(this,"localChanges"),c(this,"root"),c(this,"clone"),c(this,"eventStream"),c(this,"eventStreamObserver"),c(this,"onlineClients"),c(this,"presences"),c(this,"history"),c(this,"internalHistory"),c(this,"isUpdating"),this.opts=n||{},this.key=e,this.status="detached",this.root=Oo.create(),this.changeID=qS,this.checkpoint=YS,this.localChanges=[],this.eventStream=Ow(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Lw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Bw(this)}update(e,n){if(this.getStatus()==="removed")throw new me(de.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),a=Si.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const u=am(a,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(u,new Fu(a,this.clone.presences.get(i)))}catch(u){throw this.clone=void 0,B.error(u),u}finally{this.isUpdating=!1}if(a.hasChange()){B.isEnabled(At.Trivial)&&B.trivial(`trying to update a local change: ${this.toJSON()}`);const u=a.getChange(),{opInfos:d,reverseOps:h}=u.execute(this.root,this.presences,we.Local),m=a.getReversePresence();m&&h.push({type:"presence",value:m}),this.localChanges.push(u),h.length>0&&this.internalHistory.pushUndo(h),d.length>0&&this.internalHistory.clearRedo(),this.changeID=u.getID();const g=[];d.length>0&&g.push({type:"local-change",source:we.Local,value:{message:u.getMessage()||"",operations:d,actor:i,clientSeq:u.getID().getClientSeq(),serverSeq:u.getID().getServerSeq()},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&g.push({type:"presence-changed",source:we.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(g),B.isEnabled(At.Trivial)&&B.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,a){if(typeof e=="string"){if(typeof n!="function")throw new Error("Second argument must be a callback function");if(e==="presence"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||h(g)},i,a)}if(e==="my-presence"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="initialized"&&g.type!=="presence-changed"||g.type==="presence-changed"&&g.value.clientID!==this.changeID.getActorID()||h(g)},i,a)}if(e==="others"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.value.clientID!==this.changeID.getActorID()&&h(g)},i,a)}if(e==="connection"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type==="connection-changed"&&h(g)},i,a)}if(e==="sync"){const h=n;return this.eventStream.subscribe(m=>{for(const g of m)g.type==="sync-status-changed"&&h(g)},i,a)}if(e==="all"){const h=n;return this.eventStream.subscribe(h,i,a)}const u=e,d=n;return this.eventStream.subscribe(h=>{for(const m of h){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const g=[];for(const T of m.value.operations)this.isSameElementOrChildOf(T.path,u)&&g.push(T);g.length&&d({...m,value:{...m.value,operations:g}})}},i,a)}if(typeof e=="function"){const u=e,d=n,h=i;return this.eventStream.subscribe(m=>{for(const g of m)g.type!=="snapshot"&&g.type!=="local-change"&&g.type!=="remote-change"||u(g)},d,h)}throw new Error(`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((u,d)=>u===i[d])}applyChangePack(e){for(e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getSnapshot()):e.hasChanges()&&this.applyChanges(e.getChanges(),we.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),this.garbageCollect(e.getMinSyncedTicket()),e.getIsRemoved()&&this.applyStatus("removed"),B.isEnabled(At.Trivial)&&B.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:mn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Ga.create(this.key,n,!1,e)}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Si.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return am(e,this.clone.root.getObject())}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n){const{root:i,presences:a}=je.bytesToSnapshot(n);this.root=new Oo(i),this.presences=a,this.changeID=this.changeID.syncLamport(e),this.clone=void 0,this.publish([{type:"snapshot",source:we.Remote,value:{snapshot:this.isEnableDevtools()?je.bytesToHex(n):void 0,serverSeq:e.toString()}}])}applyChanges(e,n){B.isEnabled(At.Debug)&&B.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),B.isEnabled(At.Trivial)&&B.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);B.isEnabled(At.Debug)&&B.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,n){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],a=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(a)){const d=e.getPresenceChange();switch(d.type){case Kr.Put:i.push(this.presences.has(a)?{type:"presence-changed",source:n,value:{clientID:a,presence:d.presence}}:{type:"watched",source:we.Remote,value:{clientID:a,presence:d.presence}});break;case Kr.Clear:i.push({type:"unwatched",source:we.Remote,value:{clientID:a,presence:this.getPresence(a)}}),this.removeOnlineClient(a);break}}const{opInfos:u}=e.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncLamport(e.getID().getLamport()),u.length>0){const d=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===we.Remote?{type:"remote-change",source:n,value:{actor:a,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:d}:{type:"local-change",source:n,value:{actor:a,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:d})}i.length>0&&this.publish(i)}applyWatchStream(e){if(e.body.case==="initialization"){const n=e.body.value.clientIds,i=new Set;for(const a of n)a!==this.changeID.getActorID()&&i.add(a);this.setOnlineClients(i),this.publish([{type:"initialized",source:we.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:n,publisher:i}=e.body.value,a=[];if(n===za.DOCUMENT_WATCHED)this.addOnlineClient(i),this.hasPresence(i)&&a.push({type:"watched",source:we.Remote,value:{clientID:i,presence:this.getPresence(i)}});else if(n===za.DOCUMENT_UNWATCHED){const u=this.getPresence(i);this.removeOnlineClient(i),u&&a.push({type:"unwatched",source:we.Remote,value:{clientID:i,presence:u}})}a.length>0&&this.publish(a)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(Ya),this.publish([{source:e==="removed"?we.Remote:we.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEvent(e){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);return}if(e.type==="snapshot"){const{snapshot:n,serverSeq:i}=e.value;if(!n)return;this.applySnapshot(ne.fromString(i),je.hexToBytes(n));return}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)return;const n=Cs.fromStruct(e.rawChange);this.applyChange(n,e.source)}if(e.type==="initialized"){const n=new Set;for(const{clientID:i,presence:a}of e.value)n.add(i),this.presences.set(i,a);this.setOnlineClients(n);return}if(e.type==="watched"){const{clientID:n,presence:i}=e.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(e.type==="unwatched"){const{clientID:n}=e.value;this.removeOnlineClient(n),this.presences.delete(n)}if(e.type==="presence-changed"){const{clientID:n,presence:i}=e.value;this.presences.set(n,i)}}applyTransactionEvent(e){for(const n of e)this.applyDocEvent(n)}getValueByPath(e){if(!e.startsWith("$"))throw new me(de.InvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const a of n)if(i=i[a],i===void 0)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?mn(e):{}}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?mn(n):void 0}getPresenceForTest(e){const n=this.presences.get(e);return n?mn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:mn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:mn(this.presences.get(n))});return e}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const e=this.internalHistory.popUndo();if(e===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const n=Si.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof yn)){new Fu(n,mn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushRedo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),m=[];a.length>0&&m.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&m.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(m)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const e=this.internalHistory.popRedo();if(e===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const n=Si.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof yn)){new Fu(n,mn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushUndo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),m=[];a.length>0&&m.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&m.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(m)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function Mw(s,e){return n=>async i=>(s&&i.header.set("x-api-key",s),e&&i.header.set("authorization",e),await n(i))}const dm={name:"yorkie-js-sdk",version:"0.4.21",description:"Yorkie JS SDK",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts",files:["dist"],scripts:{build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:examples":"npm run build --workspace examples","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",lint:"eslint . --fix --max-warnings=0 --ext .ts",prepare:"npm run build"},engines:{node:">=18.0.0",npm:">=7.1.0"},repository:{type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},author:{name:"hackerwins",email:"susukang98@gmail.com"},license:"Apache-2.0",bugs:{url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},homepage:"https://github.com/yorkie-team/yorkie-js-sdk#readme",devDependencies:{"@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.2.0","@types/google-protobuf":"^3.15.5","@types/jsdom":"^21.1.3","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5",eslint:"^8.19.0","eslint-plugin-jsdoc":"^39.3.3","eslint-plugin-prettier":"^4.2.1","eslint-plugin-tsdoc":"^0.2.16",husky:"^8.0.3",jsdom:"^22.1.0",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^4.7.4","typescript-transform-paths":"^3.3.1",vite:"^4.4.9","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.2.1",vitest:"^0.34.5","vitest-environment-custom-jsdom":"file:test/vitest/env"},dependencies:{"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.2.0","@connectrpc/connect-web":"^1.2.0",long:"^5.2.0"},husky:{hooks:{"pre-commit":"npm run lint"}},workspaces:["examples/*"]};function Jw(){return s=>async e=>(e.header.set("x-yorkie-user-agent",dm.name+"/"+dm.version),await s(e))}var Lo=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Lo||{}),hm=(s=>(s.Deactivated="deactivated",s.Activated="activated",s))(hm||{});const il={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class rc{constructor(e,n){c(this,"id"),c(this,"key"),c(this,"status"),c(this,"attachmentMap"),c(this,"apiKey"),c(this,"syncLoopDuration"),c(this,"reconnectStreamDelay"),c(this,"retrySyncLoopDelay"),c(this,"rpcClient"),n=n||il,this.key=n.key?n.key:rm(),this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.syncLoopDuration=n.syncLoopDuration||il.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay||il.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay||il.retrySyncLoopDelay,this.rpcClient=Y0(OS,mT({baseUrl:e,interceptors:[Mw(n.apiKey,n.token),Jw()]}))}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(e=>{this.id=e.clientId,this.status="activated",this.runSyncLoop(),B.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(e=>{throw B.error(`[AC] c:"${this.getKey()}" err :`,e),e})}deactivate(){if(this.status==="deactivated")return Promise.resolve();for(const[e]of this.attachmentMap)this.detachInternal(e);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status="deactivated",B.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(e=>{throw B.error(`[DC] c:"${this.getKey()}" err :`,e),e})}attach(e,n={}){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);if(e.getStatus()!==es.Detached)throw new me(de.DocumentNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((a,u)=>u.set(n.initialPresence||{}));const i=n.syncMode??"realtime";return this.rpcClient.attachDocument({clientId:this.id,changePack:je.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(async a=>{const u=je.fromChangePack(a.changePack);return e.applyChangePack(u),e.getStatus()===es.Removed||(e.applyStatus(es.Attached),this.attachmentMap.set(e.getKey(),new Pw(this.reconnectStreamDelay,e,a.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),B.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`)),e}).catch(a=>{throw B.error(`[AD] c:"${this.getKey()}" err :`,a),a})}detach(e,n={}){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);return e.update((a,u)=>u.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:je.toChangePack(e.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=je.fromChangePack(a.changePack);return e.applyChangePack(u),e.getStatus()!==es.Removed&&e.applyStatus(es.Detached),this.detachInternal(e.getKey()),B.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}).catch(a=>{throw B.error(`[DD] c:"${this.getKey()}" err :`,a),a})}async changeSyncMode(e,n){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);const a=i.syncMode;return a===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.remoteChangeEventReceived=!0),a==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const n=[];if(e){const i=this.attachmentMap.get(e.getKey());if(!i)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);n.push(this.syncInternal(i,"realtime"))}else this.attachmentMap.forEach(i=>{n.push(this.syncInternal(i,i.syncMode))});return Promise.all(n)}remove(e){if(!this.isActive())throw new me(de.ClientNotActive,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new me(de.DocumentNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=je.toChangePack(e.createChangePack());return i.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=je.fromChangePack(a.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),B.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}).catch(a=>{throw B.error(`[RD] c:"${this.getKey()}" err :`,a),a})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}runSyncLoop(){const e=()=>{if(!this.isActive()){B.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode)));Promise.all(n).then(()=>setTimeout(e,this.syncLoopDuration)).catch(i=>{B.error(`[SL] c:"${this.getKey()}" sync failed:`,i),setTimeout(e,this.retrySyncLoopDelay)})};B.debug(`[SL] c:"${this.getKey()}" run sync loop`),e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new me(de.DocumentNotAttached,`${e} is not attached`);return n.runWatchLoop(i=>{if(!this.isActive())return Promise.reject(new me(de.ClientNotActive,`${this.key} is not active`));const a=new AbortController,u=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:a.signal});return n.doc.publish([{type:ft.ConnectionChanged,value:rl.Connected}]),B.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),new Promise((d,h)=>{(async()=>{try{for await(const g of u)this.handleWatchDocumentsResponse(n,g),g.body.case==="initialization"&&d([u,a])}catch(g){n.doc.resetOnlineClients(),n.doc.publish([{type:ft.Initialized,source:we.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:ft.ConnectionChanged,value:rl.Disconnected}]),B.debug(`[WD] c:"${this.getKey()}" unwatches`),g instanceof Ve&&g.code!=p.Canceled&&i(),h(g)}})()})})}handleWatchDocumentsResponse(e,n){if(n.body.case==="event"&&n.body.value.type===za.DOCUMENT_CHANGED){e.remoteChangeEventReceived=!0;return}e.doc.applyWatchStream(n)}detachInternal(e){const n=this.attachmentMap.get(e);n&&(n.cancelWatchStream(),B.debug(`[WD] c:"${this.getKey()}" unwatches`),this.attachmentMap.delete(e))}syncInternal(e,n){const{doc:i,docID:a}=e,u=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:je.toChangePack(u),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(d=>{const h=je.fromChangePack(d.changePack);if(h.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return i;i.applyChangePack(h),e.doc.publish([{type:ft.SyncStatusChanged,value:sl.Synced}]),i.getStatus()===es.Removed&&this.detachInternal(i.getKey());const m=i.getKey(),g=h.getChangeSize();return B.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${u.getChangeSize()} pull:${g} cp:${h.getCheckpoint().toTestString()}`),i}).catch(d=>{throw i.publish([{type:ft.SyncStatusChanged,value:sl.SyncFailed}]),B.error(`[PP] c:"${this.getKey()}" err :`,d),d})}}const Uw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),$w={Client:rc,Document:nc,Primitive:Pe,Text:Do,Counter:Ro,Tree:bo,IntType:dr.IntegerCnt,LongType:dr.LongCnt};typeof globalThis<"u"&&(globalThis.yorkie={Client:rc,Document:nc,Primitive:Pe,Text:Do,Counter:Ro,Tree:bo,IntType:dr.IntegerCnt,LongType:dr.LongCnt}),o.Change=Cs,o.Client=rc,o.ClientStatus=hm,o.Counter=Ro,o.Devtools=Uw,o.DocEventType=ft,o.Document=nc,o.DocumentStatus=es,o.DocumentSyncStatus=sl,o.EventSourceDevPanel=um,o.EventSourceSDK=cm,o.OpSource=we,o.Primitive=Pe,o.StreamConnectionStatus=rl,o.SyncMode=Lo,o.Text=Do,o.TimeTicket=ct,o.Tree=bo,o.converter=je,o.default=$w,o.setLogLevel=LS,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(_f,_f.exports);var gE=_f.exports;const Mv=Vw(gE);class yE{constructor(r,o){this.x=r,this.y=o,this.lifetime=0}}const vE=({xPos:t,yPos:r})=>{const[o,l]=St.useState([]),f=St.useRef(null),[c,p]=St.useState([]),y=(v,N)=>{const R=new yE(v,N);c.push(R),p(c),o.push(R),l(o)};return St.useEffect(()=>{const N=f.current.getContext("2d"),R=()=>{N.clearRect(0,0,N.canvas.width,N.canvas.height);const D=.7*(1*4e3)/60;for(let C=0;C<c.length;++C){const $=c[C];let F;if(c[C-1]!==void 0?F=c[C-1]:F=$,$.lifetime+=1,$.lifetime>D)c.shift();else{N.lineWidth=5,N.lineJoin="round";const j=0,ye=0,I=0;N.strokeStyle=`rgb(${j},${ye},${I})`,N.beginPath(),N.moveTo(F.x,F.y),N.lineTo($.x,$.y),N.stroke(),N.closePath()}}requestAnimationFrame(R)};R()},[c]),St.useEffect(()=>{y(t,r)},[t,r]),Me.jsx("canvas",{className:"pen-cursor-canvas",ref:f,width:document.body.clientWidth,height:document.body.clientHeight})},TE="_goUp0_1lnal_1",SE="_goUpAnimation0_1lnal_1",wE="_fadeOut_1lnal_1",kE="_goUp1_1lnal_16",EE="_goUpAnimation1_1lnal_1",NE="_goUp2_1lnal_31",IE="_goUpAnimation2_1lnal_1",_E="_leftRight0_1lnal_46",AE="_leftRightAnimation0_1lnal_1",PE="_leftRight1_1lnal_60",xE="_leftRightAnimation1_1lnal_1",OE="_leftRight2_1lnal_74",CE="_leftRightAnimation2_1lnal_1",Oc={goUp0:TE,goUpAnimation0:SE,fadeOut:wE,goUp1:kE,goUpAnimation1:EE,goUp2:NE,goUpAnimation2:IE,leftRight0:_E,leftRightAnimation0:AE,leftRight1:PE,leftRightAnimation1:xE,leftRight2:OE,leftRightAnimation2:CE};function DE({x:t,y:r,timestamp:o,selectedCursorShape:l}){return Me.jsx("div",{className:"single-animation-container",children:Me.jsx("div",{className:`absolute select-none pointer-events-none ${Oc.disappear} text-${o%5+2}xl ${Oc["goUp"+o%3]}`,style:{left:t,top:r},children:Me.jsx("div",{className:Oc["leftRight"+o%3],children:Me.jsx("div",{className:"transform -translate-x-1/2 -translate-y-1/2",children:Me.jsx("img",{src:`./icons/icon_${l}.svg`})})})})})}function Eg(t,r){const o=St.useRef(t);St.useEffect(()=>{o.current=t},[t]),St.useEffect(()=>{function l(){o.current()}if(r!==null){let f=setInterval(l,r);return()=>clearInterval(f)}},[r])}const RE=({pointerDown:t,xPos:r,yPos:o,selectedCursorShape:l})=>{const[f,c]=St.useState([]),p=100;return Eg(()=>{c(y=>y.filter(v=>v.timestamp>Date.now()-4e3))},1e3),Eg(()=>{t&&c(y=>y.concat([{point:{x:r,y:o},timestamp:Date.now()}]))},p),Me.jsx("div",{style:{transform:`translateX(${r}px) translateY(${o}px)`},children:f.map(y=>Me.jsx(DE,{x:y.point.x,y:y.point.y,timestamp:y.timestamp,selectedCursorShape:l},y.timestamp.toString()))})},bE=({selectedCursorShape:t,x:r,y:o,pointerDown:l})=>Me.jsxs(Me.Fragment,{children:[Me.jsx("img",{src:`./icons/icon_${t}.svg`,className:`${t}-cursor`,style:{transform:`translate3d(${r}px, ${o}px, 0)`}}),(t==="heart"||t==="thumbs")&&Me.jsx(RE,{pointerDown:l,xPos:r,yPos:o,selectedCursorShape:t}),t==="pen"&&l&&Me.jsx(vE,{xPos:r,yPos:o})]}),LE=({handleCursorShapeSelect:t,clientsLength:r})=>{const[o,l]=St.useState("cursor"),f=["heart","thumbs","pen","cursor"];return Me.jsxs("div",{className:"cursor-selector-container",children:[Me.jsx("div",{className:"cursor-selections-container",children:f.map(c=>Me.jsx("img",{onClick:()=>{t(c),l(c)},className:`${o===c?"cursor-shape-selected":"cursor-shape-not-selected"}`,src:`./icons/icon_${c}.svg`},c))}),Me.jsx("div",{className:"num-users-container",children:Me.jsx("p",{children:r!==1?`${r} users are here`:"1 user here"})})]})};const Cc=new Mv.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"}),Ls=new Mv.Document("simultaneous-cursors",{enableDevtools:!0}),BE=()=>{const[t,r]=St.useState([]),o=l=>{Ls.update((f,c)=>{c.set({cursorShape:l})})};return St.useEffect(()=>{(async()=>{await Cc.activate(),Ls.subscribe("presence",y=>{r(Ls.getPresences())}),await Cc.attach(Ls,{initialPresence:{cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1}}),window.addEventListener("beforeunload",()=>{Cc.deactivate()})})();const f=()=>{Ls.update((y,v)=>{v.set({pointerDown:!1})})},c=()=>{Ls.update((y,v)=>{v.set({pointerDown:!0})})},p=y=>{Ls.update((v,N)=>{N.set({cursor:{xPos:y.clientX,yPos:y.clientY}})})};return window.addEventListener("mousedown",c),window.addEventListener("mouseup",f),window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousedown",c),window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",p)}},[]),Me.jsxs("div",{className:"general-container",children:[t.map(({clientID:l,presence:{cursorShape:f,cursor:c,pointerDown:p}})=>c?Me.jsx(bE,{selectedCursorShape:f,x:c.xPos,y:c.yPos,pointerDown:p},l):null),Me.jsx(LE,{handleCursorShapeSelect:o,clientsLength:t.length})]})};Dc.createRoot(document.getElementById("root")).render(Me.jsx(BE,{}));
