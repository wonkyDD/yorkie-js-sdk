(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dd={exports:{}},za={},hd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),Pp=Symbol.for("react.portal"),Op=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),Lp=Symbol.for("react.memo"),Mp=Symbol.for("react.lazy"),tf=Symbol.iterator;function Bp(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pd=Object.assign,gd={};function Os(e,t,i){this.props=e,this.context=t,this.refs=gd,this.updater=i||md}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yd(){}yd.prototype=Os.prototype;function Bl(e,t,i){this.props=e,this.context=t,this.refs=gd,this.updater=i||md}var Fl=Bl.prototype=new yd;Fl.constructor=Bl;pd(Fl,Os.prototype);Fl.isPureReactComponent=!0;var nf=Array.isArray,vd=Object.prototype.hasOwnProperty,Ul={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function wd(e,t,i){var s,c={},d=null,g=null;if(t!=null)for(s in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(d=""+t.key),t)vd.call(t,s)&&!Td.hasOwnProperty(s)&&(c[s]=t[s]);var v=arguments.length-2;if(v===1)c.children=i;else if(1<v){for(var y=Array(v),p=0;p<v;p++)y[p]=arguments[p+2];c.children=y}if(e&&e.defaultProps)for(s in v=e.defaultProps,v)c[s]===void 0&&(c[s]=v[s]);return{$$typeof:Ao,type:e,key:d,ref:g,props:c,_owner:Ul.current}}function Fp(e,t){return{$$typeof:Ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function Up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var rf=/\/+/g;function gu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Up(""+e.key):t.toString(36)}function ua(e,t,i,s,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Ao:case Pp:g=!0}}if(g)return g=e,c=c(g),e=s===""?"."+gu(g,0):s,nf(c)?(i="",e!=null&&(i=e.replace(rf,"$&/")+"/"),ua(c,t,i,"",function(p){return p})):c!=null&&(Jl(c)&&(c=Fp(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(rf,"$&/")+"/")+e)),t.push(c)),1;if(g=0,s=s===""?".":s+":",nf(e))for(var v=0;v<e.length;v++){d=e[v];var y=s+gu(d,v);g+=ua(d,t,i,y,c)}else if(y=Bp(e),typeof y=="function")for(e=y.call(e),v=0;!(d=e.next()).done;)d=d.value,y=s+gu(d,v++),g+=ua(d,t,i,y,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Wo(e,t,i){if(e==null)return e;var s=[],c=0;return ua(e,s,"","",function(d){return t.call(i,d,c++)}),s}function Jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},la={transition:null},$p={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:la,ReactCurrentOwner:Ul};De.Children={map:Wo,forEach:function(e,t,i){Wo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Wo(e,function(){t++}),t},toArray:function(e){return Wo(e,function(t){return t})||[]},only:function(e){if(!Jl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Os;De.Fragment=Op;De.Profiler=_p;De.PureComponent=Bl;De.StrictMode=Cp;De.Suspense=bp;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;De.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=pd({},e.props),c=e.key,d=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,g=Ul.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(y in t)vd.call(t,y)&&!Td.hasOwnProperty(y)&&(s[y]=t[y]===void 0&&v!==void 0?v[y]:t[y])}var y=arguments.length-2;if(y===1)s.children=i;else if(1<y){v=Array(y);for(var p=0;p<y;p++)v[p]=arguments[p+2];s.children=v}return{$$typeof:Ao,type:e.type,key:c,ref:d,props:s,_owner:g}};De.createContext=function(e){return e={$$typeof:xp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dp,_context:e},e.Consumer=e};De.createElement=wd;De.createFactory=function(e){var t=wd.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:Rp,render:e}};De.isValidElement=Jl;De.lazy=function(e){return{$$typeof:Mp,_payload:{_status:-1,_result:e},_init:Jp}};De.memo=function(e,t){return{$$typeof:Lp,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(e,t){return an.current.useCallback(e,t)};De.useContext=function(e){return an.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return an.current.useDeferredValue(e)};De.useEffect=function(e,t){return an.current.useEffect(e,t)};De.useId=function(){return an.current.useId()};De.useImperativeHandle=function(e,t,i){return an.current.useImperativeHandle(e,t,i)};De.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return an.current.useMemo(e,t)};De.useReducer=function(e,t,i){return an.current.useReducer(e,t,i)};De.useRef=function(e){return an.current.useRef(e)};De.useState=function(e){return an.current.useState(e)};De.useSyncExternalStore=function(e,t,i){return an.current.useSyncExternalStore(e,t,i)};De.useTransition=function(){return an.current.useTransition()};De.version="18.2.0";hd.exports=De;var vn=hd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=vn,Vp=Symbol.for("react.element"),zp=Symbol.for("react.fragment"),Wp=Object.prototype.hasOwnProperty,Yp=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kp={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,i){var s,c={},d=null,g=null;i!==void 0&&(d=""+i),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(g=t.ref);for(s in t)Wp.call(t,s)&&!Kp.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)c[s]===void 0&&(c[s]=t[s]);return{$$typeof:Vp,type:e,key:d,ref:g,props:c,_owner:Yp.current}}za.Fragment=zp;za.jsx=Sd;za.jsxs=Sd;dd.exports=za;var at=dd.exports,zu={},Ed={exports:{}},Un={},kd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,ce){var K=Y.length;Y.push(ce);e:for(;0<K;){var me=K-1>>>1,ae=Y[me];if(0<c(ae,ce))Y[me]=ce,Y[K]=ae,K=me;else break e}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ce=Y[0],K=Y.pop();if(K!==ce){Y[0]=K;e:for(var me=0,ae=Y.length,ve=ae>>>1;me<ve;){var Ie=2*(me+1)-1,ke=Y[Ie],be=Ie+1,Je=Y[be];if(0>c(ke,K))be<ae&&0>c(Je,ke)?(Y[me]=Je,Y[be]=K,me=be):(Y[me]=ke,Y[Ie]=K,me=Ie);else if(be<ae&&0>c(Je,K))Y[me]=Je,Y[be]=K,me=be;else break e}}return ce}function c(Y,ce){var K=Y.sortIndex-ce.sortIndex;return K!==0?K:Y.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var g=Date,v=g.now();e.unstable_now=function(){return g.now()-v}}var y=[],p=[],O=1,w=null,C=3,P=!1,B=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var ce=i(p);ce!==null;){if(ce.callback===null)s(p);else if(ce.startTime<=Y)s(p),ce.sortIndex=ce.expirationTime,t(y,ce);else break;ce=i(p)}}function M(Y){if(b=!1,N(Y),!B)if(i(y)!==null)B=!0,te(_);else{var ce=i(p);ce!==null&&ee(M,ce.startTime-Y)}}function _(Y,ce){B=!1,b&&(b=!1,E(F),F=-1),P=!0;var K=C;try{for(N(ce),w=i(y);w!==null&&(!(w.expirationTime>ce)||Y&&!q());){var me=w.callback;if(typeof me=="function"){w.callback=null,C=w.priorityLevel;var ae=me(w.expirationTime<=ce);ce=e.unstable_now(),typeof ae=="function"?w.callback=ae:w===i(y)&&s(y),N(ce)}else s(y);w=i(y)}if(w!==null)var ve=!0;else{var Ie=i(p);Ie!==null&&ee(M,Ie.startTime-ce),ve=!1}return ve}finally{w=null,C=K,P=!1}}var S=!1,J=null,F=-1,R=5,V=-1;function q(){return!(e.unstable_now()-V<R)}function Z(){if(J!==null){var Y=e.unstable_now();V=Y;var ce=!0;try{ce=J(!0,Y)}finally{ce?z():(S=!1,J=null)}}else S=!1}var z;if(typeof k=="function")z=function(){k(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=Z,z=function(){re.postMessage(null)}}else z=function(){D(Z,0)};function te(Y){J=Y,S||(S=!0,z())}function ee(Y,ce){F=D(function(){Y(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){B||P||(B=!0,te(_))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var K=C;C=ce;try{return Y()}finally{C=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=C;C=Y;try{return ce()}finally{C=K}},e.unstable_scheduleCallback=function(Y,ce,K){var me=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?me+K:me):K=me,Y){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=K+ae,Y={id:O++,callback:ce,priorityLevel:Y,startTime:K,expirationTime:ae,sortIndex:-1},K>me?(Y.sortIndex=K,t(p,Y),i(y)===null&&Y===i(p)&&(b?(E(F),F=-1):b=!0,ee(M,K-me))):(Y.sortIndex=ae,t(y,Y),B||P||(B=!0,te(_))),Y},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Y){var ce=C;return function(){var K=C;C=ce;try{return Y.apply(this,arguments)}finally{C=K}}}})(Nd);kd.exports=Nd;var qp=kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=vn,Fn=qp;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,uo={};function Ji(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(uo[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,Gp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},of={};function Hp(e){return Wu.call(of,e)?!0:Wu.call(sf,e)?!1:Gp.test(e)?of[e]=!0:(sf[e]=!0,!1)}function Xp(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qp(e,t,i,s){if(t===null||typeof t>"u"||Xp(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,i,s,c,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var $l=/[\-:]([a-z])/g;function jl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($l,jl);Mt[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($l,jl);Mt[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($l,jl);Mt[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vl(e,t,i,s){var c=Mt.hasOwnProperty(t)?Mt[t]:null;(c!==null?c.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qp(t,i,c,s)&&(i=null),s||c===null?Hp(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,s=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var Fr=Id.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),Pd=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Cd=Symbol.for("react.offscreen"),af=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=af&&e[af]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,yu;function Gs(e){if(yu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);yu=t&&t[1]||""}return`
`+yu+e}var vu=!1;function Tu(e,t){if(!e||vu)return"";vu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var c=p.stack.split(`
`),d=s.stack.split(`
`),g=c.length-1,v=d.length-1;1<=g&&0<=v&&c[g]!==d[v];)v--;for(;1<=g&&0<=v;g--,v--)if(c[g]!==d[v]){if(g!==1||v!==1)do if(g--,v--,0>v||c[g]!==d[v]){var y=`
`+c[g].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=g&&0<=v);break}}}finally{vu=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Gs(e):""}function Zp(e){switch(e.tag){case 5:return Gs(e.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return e=Tu(e.type,!1),e;case 11:return e=Tu(e.type.render,!1),e;case 1:return e=Tu(e.type,!0),e;default:return""}}function Gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case rs:return"Portal";case Yu:return"Profiler";case zl:return"StrictMode";case Ku:return"Suspense";case qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Pd:return(e._context.displayName||"Context")+".Provider";case Wl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Gu(e.type)||"Memo";case Hr:t=e._payload,e=e._init;try{return Gu(e(t))}catch{}}return null}function eg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(t);case 8:return t===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tg(e){var t=_d(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=tg(e))}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=_d(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hu(e,t){var i=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function uf(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=ci(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xd(e,t){t=t.checked,t!=null&&Vl(e,"checked",t,!1)}function Xu(e,t){xd(e,t);var i=ci(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,i):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lf(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Qu(e,t,i){(t!=="number"||wa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hs=Array.isArray;function ps(e,t,i,s){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&s&&(e[i].defaultSelected=!0)}else{for(i=""+ci(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cf(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(oe(92));if(Hs(i)){if(1<i.length)throw Error(oe(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ci(i)}}function Rd(e,t){var i=ci(t.value),s=ci(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,Ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ng=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){ng.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Md(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function Bd(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,c=Md(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,c):e[i]=c}}var rg=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if(rg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function nl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,gs=null,ys=null;function df(e){if(e=Co(e)){if(typeof il!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Ga(t),il(e.stateNode,e.type,t))}}function Fd(e){gs?ys?ys.push(e):ys=[e]:gs=e}function Ud(){if(gs){var e=gs,t=ys;if(ys=gs=null,df(e),t)for(e=0;e<t.length;e++)df(t[e])}}function Jd(e,t){return e(t)}function $d(){}var wu=!1;function jd(e,t,i){if(wu)return e(t,i);wu=!0;try{return Jd(e,t,i)}finally{wu=!1,(gs!==null||ys!==null)&&($d(),Ud())}}function co(e,t){var i=e.stateNode;if(i===null)return null;var s=Ga(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(oe(231,t,typeof i));return i}var sl=!1;if(br)try{var js={};Object.defineProperty(js,"passive",{get:function(){sl=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{sl=!1}function ig(e,t,i,s,c,d,g,v,y){var p=Array.prototype.slice.call(arguments,3);try{t.apply(i,p)}catch(O){this.onError(O)}}var eo=!1,Sa=null,Ea=!1,ol=null,sg={onError:function(e){eo=!0,Sa=e}};function og(e,t,i,s,c,d,g,v,y){eo=!1,Sa=null,ig.apply(sg,arguments)}function ag(e,t,i,s,c,d,g,v,y){if(og.apply(this,arguments),eo){if(eo){var p=Sa;eo=!1,Sa=null}else throw Error(oe(198));Ea||(Ea=!0,ol=p)}}function $i(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hf(e){if($i(e)!==e)throw Error(oe(188))}function ug(e){var t=e.alternate;if(!t){if(t=$i(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var i=e,s=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return hf(c),e;if(d===s)return hf(c),t;d=d.sibling}throw Error(oe(188))}if(i.return!==s.return)i=c,s=d;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,s=d;break}if(v===s){g=!0,s=c,i=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===i){g=!0,i=d,s=c;break}if(v===s){g=!0,s=d,i=c;break}v=v.sibling}if(!g)throw Error(oe(189))}}if(i.alternate!==s)throw Error(oe(190))}if(i.tag!==3)throw Error(oe(188));return i.stateNode.current===i?e:t}function zd(e){return e=ug(e),e!==null?Wd(e):null}function Wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wd(e);if(t!==null)return t;e=e.sibling}return null}var Yd=Fn.unstable_scheduleCallback,mf=Fn.unstable_cancelCallback,lg=Fn.unstable_shouldYield,cg=Fn.unstable_requestPaint,mt=Fn.unstable_now,fg=Fn.unstable_getCurrentPriorityLevel,ql=Fn.unstable_ImmediatePriority,Kd=Fn.unstable_UserBlockingPriority,ka=Fn.unstable_NormalPriority,dg=Fn.unstable_LowPriority,qd=Fn.unstable_IdlePriority,Wa=null,Nr=null;function hg(e){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Wa,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:gg,mg=Math.log,pg=Math.LN2;function gg(e){return e>>>=0,e===0?32:31-(mg(e)/pg|0)|0}var Go=64,Ho=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Na(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,c=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var v=g&~c;v!==0?s=Xs(v):(d&=g,d!==0&&(s=Xs(d)))}else g=i&~c,g!==0?s=Xs(g):d!==0&&(s=Xs(d));if(s===0)return 0;if(t!==0&&t!==s&&!(t&c)&&(c=s&-s,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(s&4&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-cr(t),c=1<<i,s|=e[i],t&=~c;return s}function yg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-cr(d),v=1<<g,y=c[g];y===-1?(!(v&i)||v&s)&&(c[g]=yg(v,t)):y<=t&&(e.expiredLanes|=v),d&=~v}}function al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Su(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Po(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=i}function Tg(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-cr(i),d=1<<c;t[c]=0,s[c]=-1,e[c]=-1,i&=~d}}function Gl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-cr(i),c=1<<s;c&t|e[s]&t&&(e[s]|=t),i&=~c}}var Be=0;function Hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xd,Hl,Qd,Zd,eh,ul=!1,Xo=[],ni=null,ri=null,ii=null,fo=new Map,ho=new Map,Qr=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(t.pointerId)}}function Vs(e,t,i,s,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Co(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Sg(e,t,i,s,c){switch(t){case"focusin":return ni=Vs(ni,e,t,i,s,c),!0;case"dragenter":return ri=Vs(ri,e,t,i,s,c),!0;case"mouseover":return ii=Vs(ii,e,t,i,s,c),!0;case"pointerover":var d=c.pointerId;return fo.set(d,Vs(fo.get(d)||null,e,t,i,s,c)),!0;case"gotpointercapture":return d=c.pointerId,ho.set(d,Vs(ho.get(d)||null,e,t,i,s,c)),!0}return!1}function th(e){var t=_i(e.target);if(t!==null){var i=$i(t);if(i!==null){if(t=i.tag,t===13){if(t=Vd(i),t!==null){e.blockedOn=t,eh(e.priority,function(){Qd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);rl=s,i.target.dispatchEvent(s),rl=null}else return t=Co(i),t!==null&&Hl(t),e.blockedOn=i,!1;t.shift()}return!0}function gf(e,t,i){ca(e)&&i.delete(t)}function Eg(){ul=!1,ni!==null&&ca(ni)&&(ni=null),ri!==null&&ca(ri)&&(ri=null),ii!==null&&ca(ii)&&(ii=null),fo.forEach(gf),ho.forEach(gf)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,Eg)))}function mo(e){function t(c){return zs(c,e)}if(0<Xo.length){zs(Xo[0],e);for(var i=1;i<Xo.length;i++){var s=Xo[i];s.blockedOn===e&&(s.blockedOn=null)}}for(ni!==null&&zs(ni,e),ri!==null&&zs(ri,e),ii!==null&&zs(ii,e),fo.forEach(t),ho.forEach(t),i=0;i<Qr.length;i++)s=Qr[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qr.length&&(i=Qr[0],i.blockedOn===null);)th(i),i.blockedOn===null&&Qr.shift()}var vs=Fr.ReactCurrentBatchConfig,Ia=!0;function kg(e,t,i,s){var c=Be,d=vs.transition;vs.transition=null;try{Be=1,Xl(e,t,i,s)}finally{Be=c,vs.transition=d}}function Ng(e,t,i,s){var c=Be,d=vs.transition;vs.transition=null;try{Be=4,Xl(e,t,i,s)}finally{Be=c,vs.transition=d}}function Xl(e,t,i,s){if(Ia){var c=ll(e,t,i,s);if(c===null)Du(e,t,s,Aa,i),pf(e,s);else if(Sg(c,e,t,i,s))s.stopPropagation();else if(pf(e,s),t&4&&-1<wg.indexOf(e)){for(;c!==null;){var d=Co(c);if(d!==null&&Xd(d),d=ll(e,t,i,s),d===null&&Du(e,t,s,Aa,i),d===c)break;c=d}c!==null&&s.stopPropagation()}else Du(e,t,s,null,i)}}var Aa=null;function ll(e,t,i,s){if(Aa=null,e=Kl(s),e=_i(e),e!==null)if(t=$i(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Vd(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Aa=e,null}function nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fg()){case ql:return 1;case Kd:return 4;case ka:case dg:return 16;case qd:return 536870912;default:return 16}default:return 16}}var ei=null,Ql=null,fa=null;function rh(){if(fa)return fa;var e,t=Ql,i=t.length,s,c="value"in ei?ei.value:ei.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(s=1;s<=g&&t[i-s]===c[d-s];s++);return fa=c.slice(e,1<s?1-s:void 0)}function da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function yf(){return!1}function Jn(e){function t(i,s,c,d,g){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qo:yf,this.isPropagationStopped=yf,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Jn(Cs),Oo=rt({},Cs,{view:0,detail:0}),Ig=Jn(Oo),Eu,ku,Ws,Ya=rt({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(Eu=e.screenX-Ws.screenX,ku=e.screenY-Ws.screenY):ku=Eu=0,Ws=e),Eu)},movementY:function(e){return"movementY"in e?e.movementY:ku}}),vf=Jn(Ya),Ag=rt({},Ya,{dataTransfer:0}),Pg=Jn(Ag),Og=rt({},Oo,{relatedTarget:0}),Nu=Jn(Og),Cg=rt({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),_g=Jn(Cg),Dg=rt({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xg=Jn(Dg),Rg=rt({},Cs,{data:0}),Tf=Jn(Rg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mg[e])?!!t[e]:!1}function ec(){return Bg}var Fg=rt({},Oo,{key:function(e){if(e.key){var t=bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ug=Jn(Fg),Jg=rt({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Jn(Jg),$g=rt({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),jg=Jn($g),Vg=rt({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=Jn(Vg),Wg=rt({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=Jn(Wg),Kg=[9,13,27,32],tc=br&&"CompositionEvent"in window,to=null;br&&"documentMode"in document&&(to=document.documentMode);var qg=br&&"TextEvent"in window&&!to,ih=br&&(!tc||to&&8<to&&11>=to),Sf=String.fromCharCode(32),Ef=!1;function sh(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function Gg(e,t){switch(e){case"compositionend":return oh(t);case"keypress":return t.which!==32?null:(Ef=!0,Sf);case"textInput":return e=t.data,e===Sf&&Ef?null:e;default:return null}}function Hg(e,t){if(ss)return e==="compositionend"||!tc&&sh(e,t)?(e=rh(),fa=Ql=ei=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ih&&t.locale!=="ko"?null:t.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xg[e.type]:t==="textarea"}function ah(e,t,i,s){Fd(s),t=Pa(t,"onChange"),0<t.length&&(i=new Zl("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var no=null,po=null;function Qg(e){vh(e,0)}function Ka(e){var t=us(e);if(Dd(t))return e}function Zg(e,t){if(e==="change")return t}var uh=!1;if(br){var Iu;if(br){var Au="oninput"in document;if(!Au){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Au=typeof Nf.oninput=="function"}Iu=Au}else Iu=!1;uh=Iu&&(!document.documentMode||9<document.documentMode)}function If(){no&&(no.detachEvent("onpropertychange",lh),po=no=null)}function lh(e){if(e.propertyName==="value"&&Ka(po)){var t=[];ah(t,po,e,Kl(e)),jd(Qg,t)}}function ey(e,t,i){e==="focusin"?(If(),no=t,po=i,no.attachEvent("onpropertychange",lh)):e==="focusout"&&If()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(po)}function ny(e,t){if(e==="click")return Ka(t)}function ry(e,t){if(e==="input"||e==="change")return Ka(t)}function iy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dr=typeof Object.is=="function"?Object.is:iy;function go(e,t){if(dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Wu.call(t,c)||!dr(e[c],t[c]))return!1}return!0}function Af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var i=Af(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Af(i)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fh(){for(var e=window,t=wa();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=wa(e.document)}return t}function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sy(e){var t=fh(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&ch(i.ownerDocument.documentElement,i)){if(s!==null&&nc(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(s.start,c);s=s.end===void 0?d:Math.min(s.end,c),!e.extend&&d>s&&(c=s,s=d,d=c),c=Pf(i,d);var g=Pf(i,s);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oy=br&&"documentMode"in document&&11>=document.documentMode,os=null,cl=null,ro=null,fl=!1;function Of(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fl||os==null||os!==wa(s)||(s=os,"selectionStart"in s&&nc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ro&&go(ro,s)||(ro=s,s=Pa(cl,"onSelect"),0<s.length&&(t=new Zl("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=os)))}function Zo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var as={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Pu={},dh={};br&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function qa(e){if(Pu[e])return Pu[e];if(!as[e])return e;var t=as[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in dh)return Pu[e]=t[i];return e}var hh=qa("animationend"),mh=qa("animationiteration"),ph=qa("animationstart"),gh=qa("transitionend"),yh=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){yh.set(e,t),Ji(t,[e])}for(var Ou=0;Ou<Cf.length;Ou++){var Cu=Cf[Ou],ay=Cu.toLowerCase(),uy=Cu[0].toUpperCase()+Cu.slice(1);di(ay,"on"+uy)}di(hh,"onAnimationEnd");di(mh,"onAnimationIteration");di(ph,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(gh,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function _f(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,ag(s,t,void 0,e),e.currentTarget=null}function vh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],c=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var g=s.length-1;0<=g;g--){var v=s[g],y=v.instance,p=v.currentTarget;if(v=v.listener,y!==d&&c.isPropagationStopped())break e;_f(c,v,p),d=y}else for(g=0;g<s.length;g++){if(v=s[g],y=v.instance,p=v.currentTarget,v=v.listener,y!==d&&c.isPropagationStopped())break e;_f(c,v,p),d=y}}}if(Ea)throw e=ol,Ea=!1,ol=null,e}function Ke(e,t){var i=t[gl];i===void 0&&(i=t[gl]=new Set);var s=e+"__bubble";i.has(s)||(Th(t,e,2,!1),i.add(s))}function _u(e,t,i){var s=0;t&&(s|=4),Th(i,e,s,t)}var ea="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[ea]){e[ea]=!0,Ad.forEach(function(i){i!=="selectionchange"&&(ly.has(i)||_u(i,!1,e),_u(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ea]||(t[ea]=!0,_u("selectionchange",!1,t))}}function Th(e,t,i,s){switch(nh(t)){case 1:var c=kg;break;case 4:c=Ng;break;default:c=Xl}i=c.bind(null,t,i,e),c=void 0,!sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Du(e,t,i,s,c){var d=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var v=s.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=s.return;g!==null;){var y=g.tag;if((y===3||y===4)&&(y=g.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;g=g.return}for(;v!==null;){if(g=_i(v),g===null)return;if(y=g.tag,y===5||y===6){s=d=g;continue e}v=v.parentNode}}s=s.return}jd(function(){var p=d,O=Kl(i),w=[];e:{var C=yh.get(e);if(C!==void 0){var P=Zl,B=e;switch(e){case"keypress":if(da(i)===0)break e;case"keydown":case"keyup":P=Ug;break;case"focusin":B="focus",P=Nu;break;case"focusout":B="blur",P=Nu;break;case"beforeblur":case"afterblur":P=Nu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=jg;break;case hh:case mh:case ph:P=_g;break;case gh:P=zg;break;case"scroll":P=Ig;break;case"wheel":P=Yg;break;case"copy":case"cut":case"paste":P=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=wf}var b=(t&4)!==0,D=!b&&e==="scroll",E=b?C!==null?C+"Capture":null:C;b=[];for(var k=p,N;k!==null;){N=k;var M=N.stateNode;if(N.tag===5&&M!==null&&(N=M,E!==null&&(M=co(k,E),M!=null&&b.push(vo(k,M,N)))),D)break;k=k.return}0<b.length&&(C=new P(C,B,null,i,O),w.push({event:C,listeners:b}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",C&&i!==rl&&(B=i.relatedTarget||i.fromElement)&&(_i(B)||B[Lr]))break e;if((P||C)&&(C=O.window===O?O:(C=O.ownerDocument)?C.defaultView||C.parentWindow:window,P?(B=i.relatedTarget||i.toElement,P=p,B=B?_i(B):null,B!==null&&(D=$i(B),B!==D||B.tag!==5&&B.tag!==6)&&(B=null)):(P=null,B=p),P!==B)){if(b=vf,M="onMouseLeave",E="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(b=wf,M="onPointerLeave",E="onPointerEnter",k="pointer"),D=P==null?C:us(P),N=B==null?C:us(B),C=new b(M,k+"leave",P,i,O),C.target=D,C.relatedTarget=N,M=null,_i(O)===p&&(b=new b(E,k+"enter",B,i,O),b.target=N,b.relatedTarget=D,M=b),D=M,P&&B)t:{for(b=P,E=B,k=0,N=b;N;N=ns(N))k++;for(N=0,M=E;M;M=ns(M))N++;for(;0<k-N;)b=ns(b),k--;for(;0<N-k;)E=ns(E),N--;for(;k--;){if(b===E||E!==null&&b===E.alternate)break t;b=ns(b),E=ns(E)}b=null}else b=null;P!==null&&Df(w,C,P,b,!1),B!==null&&D!==null&&Df(w,D,B,b,!0)}}e:{if(C=p?us(p):window,P=C.nodeName&&C.nodeName.toLowerCase(),P==="select"||P==="input"&&C.type==="file")var _=Zg;else if(kf(C))if(uh)_=ry;else{_=ty;var S=ey}else(P=C.nodeName)&&P.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(_=ny);if(_&&(_=_(e,p))){ah(w,_,i,O);break e}S&&S(e,C,p),e==="focusout"&&(S=C._wrapperState)&&S.controlled&&C.type==="number"&&Qu(C,"number",C.value)}switch(S=p?us(p):window,e){case"focusin":(kf(S)||S.contentEditable==="true")&&(os=S,cl=p,ro=null);break;case"focusout":ro=cl=os=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Of(w,i,O);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":Of(w,i,O)}var J;if(tc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ss?sh(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(ih&&i.locale!=="ko"&&(ss||F!=="onCompositionStart"?F==="onCompositionEnd"&&ss&&(J=rh()):(ei=O,Ql="value"in ei?ei.value:ei.textContent,ss=!0)),S=Pa(p,F),0<S.length&&(F=new Tf(F,e,null,i,O),w.push({event:F,listeners:S}),J?F.data=J:(J=oh(i),J!==null&&(F.data=J)))),(J=qg?Gg(e,i):Hg(e,i))&&(p=Pa(p,"onBeforeInput"),0<p.length&&(O=new Tf("onBeforeInput","beforeinput",null,i,O),w.push({event:O,listeners:p}),O.data=J))}vh(w,t)})}function vo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Pa(e,t){for(var i=t+"Capture",s=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=co(e,i),d!=null&&s.unshift(vo(e,d,c)),d=co(e,t),d!=null&&s.push(vo(e,d,c))),e=e.return}return s}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Df(e,t,i,s,c){for(var d=t._reactName,g=[];i!==null&&i!==s;){var v=i,y=v.alternate,p=v.stateNode;if(y!==null&&y===s)break;v.tag===5&&p!==null&&(v=p,c?(y=co(i,d),y!=null&&g.unshift(vo(i,y,v))):c||(y=co(i,d),y!=null&&g.push(vo(i,y,v)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var cy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function xf(e){return(typeof e=="string"?e:""+e).replace(cy,`
`).replace(fy,"")}function ta(e,t,i){if(t=xf(t),xf(e)!==t&&i)throw Error(oe(425))}function Oa(){}var dl=null,hl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(e){return Rf.resolve(null).then(e).catch(my)}:pl;function my(e){setTimeout(function(){throw e})}function xu(e,t){var i=t,s=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(s===0){e.removeChild(c),mo(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=c}while(i);mo(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),kr="__reactFiber$"+_s,To="__reactProps$"+_s,Lr="__reactContainer$"+_s,gl="__reactEvents$"+_s,py="__reactListeners$"+_s,gy="__reactHandles$"+_s;function _i(e){var t=e[kr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Lr]||i[kr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=bf(e);e!==null;){if(i=e[kr])return i;e=bf(e)}return t}e=i,i=e.parentNode}return null}function Co(e){return e=e[kr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Ga(e){return e[To]||null}var yl=[],ls=-1;function hi(e){return{current:e}}function qe(e){0>ls||(e.current=yl[ls],yl[ls]=null,ls--)}function Ve(e,t){ls++,yl[ls]=e.current,e.current=t}var fi={},Kt=hi(fi),wn=hi(!1),Li=fi;function Es(e,t){var i=e.type.contextTypes;if(!i)return fi;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Sn(e){return e=e.childContextTypes,e!=null}function Ca(){qe(wn),qe(Kt)}function Lf(e,t,i){if(Kt.current!==fi)throw Error(oe(168));Ve(Kt,t),Ve(wn,i)}function wh(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var c in s)if(!(c in t))throw Error(oe(108,eg(e)||"Unknown",c));return rt({},i,s)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,Li=Kt.current,Ve(Kt,e),Ve(wn,wn.current),!0}function Mf(e,t,i){var s=e.stateNode;if(!s)throw Error(oe(169));i?(e=wh(e,t,Li),s.__reactInternalMemoizedMergedChildContext=e,qe(wn),qe(Kt),Ve(Kt,e)):qe(wn),Ve(wn,i)}var _r=null,Ha=!1,Ru=!1;function Sh(e){_r===null?_r=[e]:_r.push(e)}function yy(e){Ha=!0,Sh(e)}function mi(){if(!Ru&&_r!==null){Ru=!0;var e=0,t=Be;try{var i=_r;for(Be=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}_r=null,Ha=!1}catch(c){throw _r!==null&&(_r=_r.slice(e+1)),Yd(ql,mi),c}finally{Be=t,Ru=!1}}return null}var cs=[],fs=0,Da=null,xa=0,Xn=[],Qn=0,Mi=null,Dr=1,xr="";function Oi(e,t){cs[fs++]=xa,cs[fs++]=Da,Da=e,xa=t}function Eh(e,t,i){Xn[Qn++]=Dr,Xn[Qn++]=xr,Xn[Qn++]=Mi,Mi=e;var s=Dr;e=xr;var c=32-cr(s)-1;s&=~(1<<c),i+=1;var d=32-cr(t)+c;if(30<d){var g=c-c%5;d=(s&(1<<g)-1).toString(32),s>>=g,c-=g,Dr=1<<32-cr(t)+c|i<<c|s,xr=d+e}else Dr=1<<d|i<<c|s,xr=e}function rc(e){e.return!==null&&(Oi(e,1),Eh(e,1,0))}function ic(e){for(;e===Da;)Da=cs[--fs],cs[fs]=null,xa=cs[--fs],cs[fs]=null;for(;e===Mi;)Mi=Xn[--Qn],Xn[Qn]=null,xr=Xn[--Qn],Xn[Qn]=null,Dr=Xn[--Qn],Xn[Qn]=null}var Bn=null,Mn=null,Qe=!1,lr=null;function kh(e,t){var i=Zn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Bf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,Mn=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,Mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mi!==null?{id:Dr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Zn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Bn=e,Mn=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tl(e){if(Qe){var t=Mn;if(t){var i=t;if(!Bf(e,t)){if(vl(e))throw Error(oe(418));t=si(i.nextSibling);var s=Bn;t&&Bf(e,t)?kh(s,i):(e.flags=e.flags&-4097|2,Qe=!1,Bn=e)}}else{if(vl(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Qe=!1,Bn=e}}}function Ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function na(e){if(e!==Bn)return!1;if(!Qe)return Ff(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Mn)){if(vl(e))throw Nh(),Error(oe(418));for(;t;)kh(e,t),t=si(t.nextSibling)}if(Ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Mn=si(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Mn=null}}else Mn=Bn?si(e.stateNode.nextSibling):null;return!0}function Nh(){for(var e=Mn;e;)e=si(e.nextSibling)}function ks(){Mn=Bn=null,Qe=!1}function sc(e){lr===null?lr=[e]:lr.push(e)}var vy=Fr.ReactCurrentBatchConfig;function ar(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Ra=hi(null),ba=null,ds=null,oc=null;function ac(){oc=ds=ba=null}function uc(e){var t=Ra.current;qe(Ra),e._currentValue=t}function wl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Ts(e,t){ba=e,oc=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tn=!0),e.firstContext=null)}function tr(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(ba===null)throw Error(oe(308));ds=e,ba.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var Di=null;function lc(e){Di===null?Di=[e]:Di.push(e)}function Ih(e,t,i,s){var c=t.interleaved;return c===null?(i.next=i,lc(t)):(i.next=c.next,c.next=i),t.interleaved=i,Mr(e,s)}function Mr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Xr=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Le&2){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,Mr(e,i)}return c=s.interleaved,c===null?(t.next=t,lc(s)):(t.next=c.next,c.next=t),s.interleaved=t,Mr(e,i)}function ha(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Gl(e,i)}}function Uf(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function La(e,t,i,s){var c=e.updateQueue;Xr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var y=v,p=y.next;y.next=null,g===null?d=p:g.next=p,g=y;var O=e.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==g&&(v===null?O.firstBaseUpdate=p:v.next=p,O.lastBaseUpdate=y))}if(d!==null){var w=c.baseState;g=0,O=p=y=null,v=d;do{var C=v.lane,P=v.eventTime;if((s&C)===C){O!==null&&(O=O.next={eventTime:P,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var B=e,b=v;switch(C=t,P=i,b.tag){case 1:if(B=b.payload,typeof B=="function"){w=B.call(P,w,C);break e}w=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=b.payload,C=typeof B=="function"?B.call(P,w,C):B,C==null)break e;w=rt({},w,C);break e;case 2:Xr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,C=c.effects,C===null?c.effects=[v]:C.push(v))}else P={eventTime:P,lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(p=O=P,y=w):O=O.next=P,g|=C;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;C=v,v=C.next,C.next=null,c.lastBaseUpdate=C,c.shared.pending=null}}while(1);if(O===null&&(y=w),c.baseState=y,c.firstBaseUpdate=p,c.lastBaseUpdate=O,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Fi|=g,e.lanes=g,e.memoizedState=w}}function Jf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],c=s.callback;if(c!==null){if(s.callback=null,s=i,typeof c!="function")throw Error(oe(191,c));c.call(s)}}}var Ph=new Id.Component().refs;function Sl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:rt({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xa={isMounted:function(e){return(e=e._reactInternals)?$i(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=on(),c=ui(e),d=Rr(s,c);d.payload=t,i!=null&&(d.callback=i),t=oi(e,d,c),t!==null&&(fr(t,e,c,s),ha(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=on(),c=ui(e),d=Rr(s,c);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=oi(e,d,c),t!==null&&(fr(t,e,c,s),ha(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=on(),s=ui(e),c=Rr(i,s);c.tag=2,t!=null&&(c.callback=t),t=oi(e,c,s),t!==null&&(fr(t,e,s,i),ha(t,e,s))}};function $f(e,t,i,s,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,g):t.prototype&&t.prototype.isPureReactComponent?!go(i,s)||!go(c,d):!0}function Oh(e,t,i){var s=!1,c=fi,d=t.contextType;return typeof d=="object"&&d!==null?d=tr(d):(c=Sn(t)?Li:Kt.current,s=t.contextTypes,d=(s=s!=null)?Es(e,c):fi),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function jf(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Xa.enqueueReplaceState(t,t.state,null)}function El(e,t,i,s){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs=Ph,cc(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=tr(d):(d=Sn(t)?Li:Kt.current,c.context=Es(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Sl(e,t,d,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Xa.enqueueReplaceState(c,c.state,null),La(e,i,c,s),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ys(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(oe(309));var s=i.stateNode}if(!s)throw Error(oe(147,e));var c=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var v=c.refs;v===Ph&&(v=c.refs={}),g===null?delete v[d]:v[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(oe(284));if(!i._owner)throw Error(oe(290,e))}return e}function ra(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vf(e){var t=e._init;return t(e._payload)}function Ch(e){function t(E,k){if(e){var N=E.deletions;N===null?(E.deletions=[k],E.flags|=16):N.push(k)}}function i(E,k){if(!e)return null;for(;k!==null;)t(E,k),k=k.sibling;return null}function s(E,k){for(E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function c(E,k){return E=li(E,k),E.index=0,E.sibling=null,E}function d(E,k,N){return E.index=N,e?(N=E.alternate,N!==null?(N=N.index,N<k?(E.flags|=2,k):N):(E.flags|=2,k)):(E.flags|=1048576,k)}function g(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,k,N,M){return k===null||k.tag!==6?(k=Ju(N,E.mode,M),k.return=E,k):(k=c(k,N),k.return=E,k)}function y(E,k,N,M){var _=N.type;return _===is?O(E,k,N.props.children,M,N.key):k!==null&&(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&Vf(_)===k.type)?(M=c(k,N.props),M.ref=Ys(E,k,N),M.return=E,M):(M=Ta(N.type,N.key,N.props,null,E.mode,M),M.ref=Ys(E,k,N),M.return=E,M)}function p(E,k,N,M){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=$u(N,E.mode,M),k.return=E,k):(k=c(k,N.children||[]),k.return=E,k)}function O(E,k,N,M,_){return k===null||k.tag!==7?(k=bi(N,E.mode,M,_),k.return=E,k):(k=c(k,N),k.return=E,k)}function w(E,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Ju(""+k,E.mode,N),k.return=E,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yo:return N=Ta(k.type,k.key,k.props,null,E.mode,N),N.ref=Ys(E,null,k),N.return=E,N;case rs:return k=$u(k,E.mode,N),k.return=E,k;case Hr:var M=k._init;return w(E,M(k._payload),N)}if(Hs(k)||$s(k))return k=bi(k,E.mode,N,null),k.return=E,k;ra(E,k)}return null}function C(E,k,N,M){var _=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return _!==null?null:v(E,k,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Yo:return N.key===_?y(E,k,N,M):null;case rs:return N.key===_?p(E,k,N,M):null;case Hr:return _=N._init,C(E,k,_(N._payload),M)}if(Hs(N)||$s(N))return _!==null?null:O(E,k,N,M,null);ra(E,N)}return null}function P(E,k,N,M,_){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(N)||null,v(k,E,""+M,_);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Yo:return E=E.get(M.key===null?N:M.key)||null,y(k,E,M,_);case rs:return E=E.get(M.key===null?N:M.key)||null,p(k,E,M,_);case Hr:var S=M._init;return P(E,k,N,S(M._payload),_)}if(Hs(M)||$s(M))return E=E.get(N)||null,O(k,E,M,_,null);ra(k,M)}return null}function B(E,k,N,M){for(var _=null,S=null,J=k,F=k=0,R=null;J!==null&&F<N.length;F++){J.index>F?(R=J,J=null):R=J.sibling;var V=C(E,J,N[F],M);if(V===null){J===null&&(J=R);break}e&&J&&V.alternate===null&&t(E,J),k=d(V,k,F),S===null?_=V:S.sibling=V,S=V,J=R}if(F===N.length)return i(E,J),Qe&&Oi(E,F),_;if(J===null){for(;F<N.length;F++)J=w(E,N[F],M),J!==null&&(k=d(J,k,F),S===null?_=J:S.sibling=J,S=J);return Qe&&Oi(E,F),_}for(J=s(E,J);F<N.length;F++)R=P(J,E,F,N[F],M),R!==null&&(e&&R.alternate!==null&&J.delete(R.key===null?F:R.key),k=d(R,k,F),S===null?_=R:S.sibling=R,S=R);return e&&J.forEach(function(q){return t(E,q)}),Qe&&Oi(E,F),_}function b(E,k,N,M){var _=$s(N);if(typeof _!="function")throw Error(oe(150));if(N=_.call(N),N==null)throw Error(oe(151));for(var S=_=null,J=k,F=k=0,R=null,V=N.next();J!==null&&!V.done;F++,V=N.next()){J.index>F?(R=J,J=null):R=J.sibling;var q=C(E,J,V.value,M);if(q===null){J===null&&(J=R);break}e&&J&&q.alternate===null&&t(E,J),k=d(q,k,F),S===null?_=q:S.sibling=q,S=q,J=R}if(V.done)return i(E,J),Qe&&Oi(E,F),_;if(J===null){for(;!V.done;F++,V=N.next())V=w(E,V.value,M),V!==null&&(k=d(V,k,F),S===null?_=V:S.sibling=V,S=V);return Qe&&Oi(E,F),_}for(J=s(E,J);!V.done;F++,V=N.next())V=P(J,E,F,V.value,M),V!==null&&(e&&V.alternate!==null&&J.delete(V.key===null?F:V.key),k=d(V,k,F),S===null?_=V:S.sibling=V,S=V);return e&&J.forEach(function(Z){return t(E,Z)}),Qe&&Oi(E,F),_}function D(E,k,N,M){if(typeof N=="object"&&N!==null&&N.type===is&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Yo:e:{for(var _=N.key,S=k;S!==null;){if(S.key===_){if(_=N.type,_===is){if(S.tag===7){i(E,S.sibling),k=c(S,N.props.children),k.return=E,E=k;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&Vf(_)===S.type){i(E,S.sibling),k=c(S,N.props),k.ref=Ys(E,S,N),k.return=E,E=k;break e}i(E,S);break}else t(E,S);S=S.sibling}N.type===is?(k=bi(N.props.children,E.mode,M,N.key),k.return=E,E=k):(M=Ta(N.type,N.key,N.props,null,E.mode,M),M.ref=Ys(E,k,N),M.return=E,E=M)}return g(E);case rs:e:{for(S=N.key;k!==null;){if(k.key===S)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){i(E,k.sibling),k=c(k,N.children||[]),k.return=E,E=k;break e}else{i(E,k);break}else t(E,k);k=k.sibling}k=$u(N,E.mode,M),k.return=E,E=k}return g(E);case Hr:return S=N._init,D(E,k,S(N._payload),M)}if(Hs(N))return B(E,k,N,M);if($s(N))return b(E,k,N,M);ra(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,k!==null&&k.tag===6?(i(E,k.sibling),k=c(k,N),k.return=E,E=k):(i(E,k),k=Ju(N,E.mode,M),k.return=E,E=k),g(E)):i(E,k)}return D}var Ns=Ch(!0),_h=Ch(!1),_o={},Ir=hi(_o),wo=hi(_o),So=hi(_o);function xi(e){if(e===_o)throw Error(oe(174));return e}function fc(e,t){switch(Ve(So,t),Ve(wo,e),Ve(Ir,_o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}qe(Ir),Ve(Ir,t)}function Is(){qe(Ir),qe(wo),qe(So)}function Dh(e){xi(So.current);var t=xi(Ir.current),i=el(t,e.type);t!==i&&(Ve(wo,e),Ve(Ir,i))}function dc(e){wo.current===e&&(qe(Ir),qe(wo))}var tt=hi(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bu=[];function hc(){for(var e=0;e<bu.length;e++)bu[e]._workInProgressVersionPrimary=null;bu.length=0}var ma=Fr.ReactCurrentDispatcher,Lu=Fr.ReactCurrentBatchConfig,Bi=0,nt=null,Et=null,Pt=null,Ba=!1,io=!1,Eo=0,Ty=0;function zt(){throw Error(oe(321))}function mc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!dr(e[i],t[i]))return!1;return!0}function pc(e,t,i,s,c,d){if(Bi=d,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?ky:Ny,e=i(s,c),io){d=0;do{if(io=!1,Eo=0,25<=d)throw Error(oe(301));d+=1,Pt=Et=null,t.updateQueue=null,ma.current=Iy,e=i(s,c)}while(io)}if(ma.current=Fa,t=Et!==null&&Et.next!==null,Bi=0,Pt=Et=nt=null,Ba=!1,t)throw Error(oe(300));return e}function gc(){var e=Eo!==0;return Eo=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function nr(){if(Et===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Pt===null?nt.memoizedState:Pt.next;if(t!==null)Pt=t,Et=e;else{if(e===null)throw Error(oe(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function ko(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=nr(),i=t.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=e;var s=Et,c=s.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}s.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,s=s.baseState;var v=g=null,y=null,p=d;do{var O=p.lane;if((Bi&O)===O)y!==null&&(y=y.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var w={lane:O,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};y===null?(v=y=w,g=s):y=y.next=w,nt.lanes|=O,Fi|=O}p=p.next}while(p!==null&&p!==d);y===null?g=s:y.next=v,dr(s,t.memoizedState)||(Tn=!0),t.memoizedState=s,t.baseState=g,t.baseQueue=y,i.lastRenderedState=s}if(e=i.interleaved,e!==null){c=e;do d=c.lane,nt.lanes|=d,Fi|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Bu(e){var t=nr(),i=t.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=e;var s=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);dr(d,t.memoizedState)||(Tn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,s]}function xh(){}function Rh(e,t){var i=nt,s=nr(),c=t(),d=!dr(s.memoizedState,c);if(d&&(s.memoizedState=c,Tn=!0),s=s.queue,yc(Mh.bind(null,i,s,e),[e]),s.getSnapshot!==t||d||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,No(9,Lh.bind(null,i,s,c,t),void 0,null),Ot===null)throw Error(oe(349));Bi&30||bh(i,t,c)}return c}function bh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Lh(e,t,i,s){t.value=i,t.getSnapshot=s,Bh(t)&&Fh(e)}function Mh(e,t,i){return i(function(){Bh(t)&&Fh(e)})}function Bh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!dr(e,i)}catch{return!0}}function Fh(e){var t=Mr(e,1);t!==null&&fr(t,e,1,-1)}function zf(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Ey.bind(null,nt,e),[t.memoizedState,e]}function No(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function Uh(){return nr().memoizedState}function pa(e,t,i,s){var c=Er();nt.flags|=e,c.memoizedState=No(1|t,i,void 0,s===void 0?null:s)}function Qa(e,t,i,s){var c=nr();s=s===void 0?null:s;var d=void 0;if(Et!==null){var g=Et.memoizedState;if(d=g.destroy,s!==null&&mc(s,g.deps)){c.memoizedState=No(t,i,d,s);return}}nt.flags|=e,c.memoizedState=No(1|t,i,d,s)}function Wf(e,t){return pa(8390656,8,e,t)}function yc(e,t){return Qa(2048,8,e,t)}function Jh(e,t){return Qa(4,2,e,t)}function $h(e,t){return Qa(4,4,e,t)}function jh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vh(e,t,i){return i=i!=null?i.concat([e]):null,Qa(4,4,jh.bind(null,t,e),i)}function vc(){}function zh(e,t){var i=nr();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&mc(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Wh(e,t){var i=nr();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&mc(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function Yh(e,t,i){return Bi&21?(dr(i,t)||(i=Gd(),nt.lanes|=i,Fi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=i)}function wy(e,t){var i=Be;Be=i!==0&&4>i?i:4,e(!0);var s=Lu.transition;Lu.transition={};try{e(!1),t()}finally{Be=i,Lu.transition=s}}function Kh(){return nr().memoizedState}function Sy(e,t,i){var s=ui(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},qh(e))Gh(t,i);else if(i=Ih(e,t,i,s),i!==null){var c=on();fr(i,e,s,c),Hh(i,t,s)}}function Ey(e,t,i){var s=ui(e),c={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(qh(e))Gh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,v=d(g,i);if(c.hasEagerState=!0,c.eagerState=v,dr(v,g)){var y=t.interleaved;y===null?(c.next=c,lc(t)):(c.next=y.next,y.next=c),t.interleaved=c;return}}catch{}finally{}i=Ih(e,t,c,s),i!==null&&(c=on(),fr(i,e,s,c),Hh(i,t,s))}}function qh(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Gh(e,t){io=Ba=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Hh(e,t,i){if(i&4194240){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Gl(e,i)}}var Fa={readContext:tr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},ky={readContext:tr,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:tr,useEffect:Wf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,pa(4194308,4,jh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var i=Er();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=Er();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Sy.bind(null,nt,e),[s.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:zf,useDebugValue:vc,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=zf(!1),t=e[0];return e=wy.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=nt,c=Er();if(Qe){if(i===void 0)throw Error(oe(407));i=i()}else{if(i=t(),Ot===null)throw Error(oe(349));Bi&30||bh(s,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Wf(Mh.bind(null,s,d,e),[e]),s.flags|=2048,No(9,Lh.bind(null,s,d,i,t),void 0,null),i},useId:function(){var e=Er(),t=Ot.identifierPrefix;if(Qe){var i=xr,s=Dr;i=(s&~(1<<32-cr(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=Eo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Ty++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ny={readContext:tr,useCallback:zh,useContext:tr,useEffect:yc,useImperativeHandle:Vh,useInsertionEffect:Jh,useLayoutEffect:$h,useMemo:Wh,useReducer:Mu,useRef:Uh,useState:function(){return Mu(ko)},useDebugValue:vc,useDeferredValue:function(e){var t=nr();return Yh(t,Et.memoizedState,e)},useTransition:function(){var e=Mu(ko)[0],t=nr().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:Rh,useId:Kh,unstable_isNewReconciler:!1},Iy={readContext:tr,useCallback:zh,useContext:tr,useEffect:yc,useImperativeHandle:Vh,useInsertionEffect:Jh,useLayoutEffect:$h,useMemo:Wh,useReducer:Bu,useRef:Uh,useState:function(){return Bu(ko)},useDebugValue:vc,useDeferredValue:function(e){var t=nr();return Et===null?t.memoizedState=e:Yh(t,Et.memoizedState,e)},useTransition:function(){var e=Bu(ko)[0],t=nr().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:Rh,useId:Kh,unstable_isNewReconciler:!1};function As(e,t){try{var i="",s=t;do i+=Zp(s),s=s.return;while(s);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Fu(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function kl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Ay=typeof WeakMap=="function"?WeakMap:Map;function Xh(e,t,i){i=Rr(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){Ja||(Ja=!0,Rl=s),kl(e,t)},i}function Qh(e,t,i){i=Rr(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var c=t.value;i.payload=function(){return s(c)},i.callback=function(){kl(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){kl(e,t),typeof s!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Yf(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Ay;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(i)||(c.add(i),e=Jy.bind(null,e,t,i),t.then(e,e))}function Kf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qf(e,t,i,s,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Rr(-1,1),t.tag=2,oi(i,t,1))),i.lanes|=1),e)}var Py=Fr.ReactCurrentOwner,Tn=!1;function sn(e,t,i,s){t.child=e===null?_h(t,null,i,s):Ns(t,e.child,i,s)}function Gf(e,t,i,s,c){i=i.render;var d=t.ref;return Ts(t,c),s=pc(e,t,i,s,d,c),i=gc(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Br(e,t,c)):(Qe&&i&&rc(t),t.flags|=1,sn(e,t,s,c),t.child)}function Hf(e,t,i,s,c){if(e===null){var d=i.type;return typeof d=="function"&&!Ac(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Zh(e,t,d,s,c)):(e=Ta(i.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:go,i(g,s)&&e.ref===t.ref)return Br(e,t,c)}return t.flags|=1,e=li(d,s),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,i,s,c){if(e!==null){var d=e.memoizedProps;if(go(d,s)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=s=d,(e.lanes&c)!==0)e.flags&131072&&(Tn=!0);else return t.lanes=e.lanes,Br(e,t,c)}return Nl(e,t,i,s,c)}function em(e,t,i){var s=t.pendingProps,c=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ms,Ln),Ln|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(ms,Ln),Ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Ve(ms,Ln),Ln|=s}else d!==null?(s=d.baseLanes|i,t.memoizedState=null):s=i,Ve(ms,Ln),Ln|=s;return sn(e,t,c,i),t.child}function tm(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,i,s,c){var d=Sn(i)?Li:Kt.current;return d=Es(t,d),Ts(t,c),i=pc(e,t,i,s,d,c),s=gc(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Br(e,t,c)):(Qe&&s&&rc(t),t.flags|=1,sn(e,t,i,c),t.child)}function Xf(e,t,i,s,c){if(Sn(i)){var d=!0;_a(t)}else d=!1;if(Ts(t,c),t.stateNode===null)ga(e,t),Oh(t,i,s),El(t,i,s,c),s=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var y=g.context,p=i.contextType;typeof p=="object"&&p!==null?p=tr(p):(p=Sn(i)?Li:Kt.current,p=Es(t,p));var O=i.getDerivedStateFromProps,w=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function";w||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==s||y!==p)&&jf(t,g,s,p),Xr=!1;var C=t.memoizedState;g.state=C,La(t,s,g,c),y=t.memoizedState,v!==s||C!==y||wn.current||Xr?(typeof O=="function"&&(Sl(t,i,O,s),y=t.memoizedState),(v=Xr||$f(t,i,v,s,C,y,p))?(w||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=y),g.props=s,g.state=y,g.context=p,s=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,Ah(e,t),v=t.memoizedProps,p=t.type===t.elementType?v:ar(t.type,v),g.props=p,w=t.pendingProps,C=g.context,y=i.contextType,typeof y=="object"&&y!==null?y=tr(y):(y=Sn(i)?Li:Kt.current,y=Es(t,y));var P=i.getDerivedStateFromProps;(O=typeof P=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==w||C!==y)&&jf(t,g,s,y),Xr=!1,C=t.memoizedState,g.state=C,La(t,s,g,c);var B=t.memoizedState;v!==w||C!==B||wn.current||Xr?(typeof P=="function"&&(Sl(t,i,P,s),B=t.memoizedState),(p=Xr||$f(t,i,p,s,C,B,y)||!1)?(O||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,B,y),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,B,y)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),g.props=s,g.state=B,g.context=y,s=p):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),s=!1)}return Il(e,t,i,s,d,c)}function Il(e,t,i,s,c,d){tm(e,t);var g=(t.flags&128)!==0;if(!s&&!g)return c&&Mf(t,i,!1),Br(e,t,d);s=t.stateNode,Py.current=t;var v=g&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&g?(t.child=Ns(t,e.child,null,d),t.child=Ns(t,null,v,d)):sn(e,t,v,d),t.memoizedState=s.state,c&&Mf(t,i,!0),t.child}function nm(e){var t=e.stateNode;t.pendingContext?Lf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lf(e,t.context,!1),fc(e,t.containerInfo)}function Qf(e,t,i,s,c){return ks(),sc(c),t.flags|=256,sn(e,t,i,s),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function rm(e,t,i){var s=t.pendingProps,c=tt.current,d=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(tt,c&1),e===null)return Tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=s.children,e=s.fallback,d?(s=t.mode,d=t.child,g={mode:"hidden",children:g},!(s&1)&&d!==null?(d.childLanes=0,d.pendingProps=g):d=tu(g,s,0,null),e=bi(e,s,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Pl(i),t.memoizedState=Al,e):Tc(t,g));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return Oy(e,t,g,s,v,c,i);if(d){d=s.fallback,g=t.mode,c=e.child,v=c.sibling;var y={mode:"hidden",children:s.children};return!(g&1)&&t.child!==c?(s=t.child,s.childLanes=0,s.pendingProps=y,t.deletions=null):(s=li(c,y),s.subtreeFlags=c.subtreeFlags&14680064),v!==null?d=li(v,d):(d=bi(d,g,i,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,g=e.child.memoizedState,g=g===null?Pl(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,t.memoizedState=Al,s}return d=e.child,e=d.sibling,s=li(d,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function Tc(e,t){return t=tu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ia(e,t,i,s){return s!==null&&sc(s),Ns(t,e.child,null,i),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oy(e,t,i,s,c,d,g){if(i)return t.flags&256?(t.flags&=-257,s=Fu(Error(oe(422))),ia(e,t,g,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,c=t.mode,s=tu({mode:"visible",children:s.children},c,0,null),d=bi(d,c,g,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,t.mode&1&&Ns(t,e.child,null,g),t.child.memoizedState=Pl(g),t.memoizedState=Al,d);if(!(t.mode&1))return ia(e,t,g,null);if(c.data==="$!"){if(s=c.nextSibling&&c.nextSibling.dataset,s)var v=s.dgst;return s=v,d=Error(oe(419)),s=Fu(d,s,void 0),ia(e,t,g,s)}if(v=(g&e.childLanes)!==0,Tn||v){if(s=Ot,s!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(s.suspendedLanes|g)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Mr(e,c),fr(s,e,c,-1))}return Ic(),s=Fu(Error(oe(421))),ia(e,t,g,s)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=$y.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,Mn=si(c.nextSibling),Bn=t,Qe=!0,lr=null,e!==null&&(Xn[Qn++]=Dr,Xn[Qn++]=xr,Xn[Qn++]=Mi,Dr=e.id,xr=e.overflow,Mi=t),t=Tc(t,s.children),t.flags|=4096,t)}function Zf(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wl(e.return,t,i)}function Uu(e,t,i,s,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=c)}function im(e,t,i){var s=t.pendingProps,c=s.revealOrder,d=s.tail;if(sn(e,t,s.children,i),s=tt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,i,t);else if(e.tag===19)Zf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ve(tt,s),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ma(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Uu(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ma(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Uu(t,!0,i,null,d);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,i=li(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=li(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Cy(e,t,i){switch(t.tag){case 3:nm(t),ks();break;case 5:Dh(t);break;case 1:Sn(t.type)&&_a(t);break;case 4:fc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,c=t.memoizedProps.value;Ve(Ra,s._currentValue),s._currentValue=c;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ve(tt,tt.current&1),t.flags|=128,null):i&t.child.childLanes?rm(e,t,i):(Ve(tt,tt.current&1),e=Br(e,t,i),e!==null?e.sibling:null);Ve(tt,tt.current&1);break;case 19:if(s=(i&t.childLanes)!==0,e.flags&128){if(s)return im(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(tt,tt.current),s)break;return null;case 22:case 23:return t.lanes=0,em(e,t,i)}return Br(e,t,i)}var sm,Ol,om,am;sm=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Ol=function(){};om=function(e,t,i,s){var c=e.memoizedProps;if(c!==s){e=t.stateNode,xi(Ir.current);var d=null;switch(i){case"input":c=Hu(e,c),s=Hu(e,s),d=[];break;case"select":c=rt({},c,{value:void 0}),s=rt({},s,{value:void 0}),d=[];break;case"textarea":c=Zu(e,c),s=Zu(e,s),d=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Oa)}tl(i,s);var g;i=null;for(p in c)if(!s.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!=null)if(p==="style"){var v=c[p];for(g in v)v.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(uo.hasOwnProperty(p)?d||(d=[]):(d=d||[]).push(p,null));for(p in s){var y=s[p];if(v=c!=null?c[p]:void 0,s.hasOwnProperty(p)&&y!==v&&(y!=null||v!=null))if(p==="style")if(v){for(g in v)!v.hasOwnProperty(g)||y&&y.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in y)y.hasOwnProperty(g)&&v[g]!==y[g]&&(i||(i={}),i[g]=y[g])}else i||(d||(d=[]),d.push(p,i)),i=y;else p==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,v=v?v.__html:void 0,y!=null&&v!==y&&(d=d||[]).push(p,y)):p==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(p,""+y):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(uo.hasOwnProperty(p)?(y!=null&&p==="onScroll"&&Ke("scroll",e),d||v===y||(d=[])):(d=d||[]).push(p,y))}i&&(d=d||[]).push("style",i);var p=d;(t.updateQueue=p)&&(t.flags|=4)}};am=function(e,t,i,s){i!==s&&(t.flags|=4)};function Ks(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&14680064,s|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function _y(e,t,i){var s=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return Sn(t.type)&&Ca(),Wt(t),null;case 3:return s=t.stateNode,Is(),qe(wn),qe(Kt),hc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(Ml(lr),lr=null))),Ol(e,t),Wt(t),null;case 5:dc(t);var c=xi(So.current);if(i=t.type,e!==null&&t.stateNode!=null)om(e,t,i,s,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(oe(166));return Wt(t),null}if(e=xi(Ir.current),na(t)){s=t.stateNode,i=t.type;var d=t.memoizedProps;switch(s[kr]=t,s[To]=d,e=(t.mode&1)!==0,i){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(c=0;c<Qs.length;c++)Ke(Qs[c],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":uf(s,d),Ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Ke("invalid",s);break;case"textarea":cf(s,d),Ke("invalid",s)}tl(i,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var v=d[g];g==="children"?typeof v=="string"?s.textContent!==v&&(d.suppressHydrationWarning!==!0&&ta(s.textContent,v,e),c=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&ta(s.textContent,v,e),c=["children",""+v]):uo.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Ke("scroll",s)}switch(i){case"input":Ko(s),lf(s,d,!0);break;case"textarea":Ko(s),ff(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=Oa)}s=c,t.updateQueue=s,s!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=g.createElement(i,{is:s.is}):(e=g.createElement(i),i==="select"&&(g=e,s.multiple?g.multiple=!0:s.size&&(g.size=s.size))):e=g.createElementNS(e,i),e[kr]=t,e[To]=s,sm(e,t,!1,!1),t.stateNode=e;e:{switch(g=nl(i,s),i){case"dialog":Ke("cancel",e),Ke("close",e),c=s;break;case"iframe":case"object":case"embed":Ke("load",e),c=s;break;case"video":case"audio":for(c=0;c<Qs.length;c++)Ke(Qs[c],e);c=s;break;case"source":Ke("error",e),c=s;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),c=s;break;case"details":Ke("toggle",e),c=s;break;case"input":uf(e,s),c=Hu(e,s),Ke("invalid",e);break;case"option":c=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},c=rt({},s,{value:void 0}),Ke("invalid",e);break;case"textarea":cf(e,s),c=Zu(e,s),Ke("invalid",e);break;default:c=s}tl(i,c),v=c;for(d in v)if(v.hasOwnProperty(d)){var y=v[d];d==="style"?Bd(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Ld(e,y)):d==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&lo(e,y):typeof y=="number"&&lo(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(uo.hasOwnProperty(d)?y!=null&&d==="onScroll"&&Ke("scroll",e):y!=null&&Vl(e,d,y,g))}switch(i){case"input":Ko(e),lf(e,s,!1);break;case"textarea":Ko(e),ff(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ci(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?ps(e,!!s.multiple,d,!1):s.defaultValue!=null&&ps(e,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Oa)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)am(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(oe(166));if(i=xi(So.current),xi(Ir.current),na(t)){if(s=t.stateNode,i=t.memoizedProps,s[kr]=t,(d=s.nodeValue!==i)&&(e=Bn,e!==null))switch(e.tag){case 3:ta(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ta(s.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[kr]=t,t.stateNode=s}return Wt(t),null;case 13:if(qe(tt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Mn!==null&&t.mode&1&&!(t.flags&128))Nh(),ks(),t.flags|=98560,d=!1;else if(d=na(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(oe(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(oe(317));d[kr]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),d=!1}else lr!==null&&(Ml(lr),lr=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?kt===0&&(kt=3):Ic())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Is(),Ol(e,t),e===null&&yo(t.stateNode.containerInfo),Wt(t),null;case 10:return uc(t.type._context),Wt(t),null;case 17:return Sn(t.type)&&Ca(),Wt(t),null;case 19:if(qe(tt),d=t.memoizedState,d===null)return Wt(t),null;if(s=(t.flags&128)!==0,g=d.rendering,g===null)if(s)Ks(d,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=Ma(e),g!==null){for(t.flags|=128,Ks(d,!1),s=g.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)d=i,e=s,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(tt,tt.current&1|2),t.child}e=e.sibling}d.tail!==null&&mt()>Ps&&(t.flags|=128,s=!0,Ks(d,!1),t.lanes=4194304)}else{if(!s)if(e=Ma(g),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ks(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Qe)return Wt(t),null}else 2*mt()-d.renderingStartTime>Ps&&i!==1073741824&&(t.flags|=128,s=!0,Ks(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(i=d.last,i!==null?i.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=mt(),t.sibling=null,i=tt.current,Ve(tt,s?i&1|2:i&1),t):(Wt(t),null);case 22:case 23:return Nc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ln&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function Dy(e,t){switch(ic(t),t.tag){case 1:return Sn(t.type)&&Ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),qe(wn),qe(Kt),hc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(qe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(tt),null;case 4:return Is(),null;case 10:return uc(t.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var sa=!1,Yt=!1,xy=typeof WeakSet=="function"?WeakSet:Set,de=null;function hs(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){ot(e,t,s)}else i.current=null}function Cl(e,t,i){try{i()}catch(s){ot(e,t,s)}}var ed=!1;function Ry(e,t){if(dl=Ia,e=fh(),nc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,v=-1,y=-1,p=0,O=0,w=e,C=null;t:for(;;){for(var P;w!==i||c!==0&&w.nodeType!==3||(v=g+c),w!==d||s!==0&&w.nodeType!==3||(y=g+s),w.nodeType===3&&(g+=w.nodeValue.length),(P=w.firstChild)!==null;)C=w,w=P;for(;;){if(w===e)break t;if(C===i&&++p===c&&(v=g),C===d&&++O===s&&(y=g),(P=w.nextSibling)!==null)break;w=C,C=w.parentNode}w=P}i=v===-1||y===-1?null:{start:v,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(hl={focusedElem:e,selectionRange:i},Ia=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var b=B.memoizedProps,D=B.memoizedState,E=t.stateNode,k=E.getSnapshotBeforeUpdate(t.elementType===t.type?b:ar(t.type,b),D);E.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(M){ot(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return B=ed,ed=!1,B}function so(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Cl(t,i,d)}c=c.next}while(c!==s)}}function Za(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function _l(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function um(e){var t=e.alternate;t!==null&&(e.alternate=null,um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kr],delete t[To],delete t[gl],delete t[py],delete t[gy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lm(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Oa));else if(s!==4&&(e=e.child,e!==null))for(Dl(e,t,i),e=e.sibling;e!==null;)Dl(e,t,i),e=e.sibling}function xl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xl(e,t,i),e=e.sibling;e!==null;)xl(e,t,i),e=e.sibling}var bt=null,ur=!1;function Gr(e,t,i){for(i=i.child;i!==null;)cm(e,t,i),i=i.sibling}function cm(e,t,i){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Wa,i)}catch{}switch(i.tag){case 5:Yt||hs(i,t);case 6:var s=bt,c=ur;bt=null,Gr(e,t,i),bt=s,ur=c,bt!==null&&(ur?(e=bt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(ur?(e=bt,i=i.stateNode,e.nodeType===8?xu(e.parentNode,i):e.nodeType===1&&xu(e,i),mo(e)):xu(bt,i.stateNode));break;case 4:s=bt,c=ur,bt=i.stateNode.containerInfo,ur=!0,Gr(e,t,i),bt=s,ur=c;break;case 0:case 11:case 14:case 15:if(!Yt&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){c=s=s.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&(d&2||d&4)&&Cl(i,t,g),c=c.next}while(c!==s)}Gr(e,t,i);break;case 1:if(!Yt&&(hs(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(v){ot(i,t,v)}Gr(e,t,i);break;case 21:Gr(e,t,i);break;case 22:i.mode&1?(Yt=(s=Yt)||i.memoizedState!==null,Gr(e,t,i),Yt=s):Gr(e,t,i);break;default:Gr(e,t,i)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new xy),t.forEach(function(s){var c=jy.bind(null,e,s);i.has(s)||(i.add(s),s.then(c,c))})}}function or(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];try{var d=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:bt=v.stateNode,ur=!1;break e;case 3:bt=v.stateNode.containerInfo,ur=!0;break e;case 4:bt=v.stateNode.containerInfo,ur=!0;break e}v=v.return}if(bt===null)throw Error(oe(160));cm(d,g,c),bt=null,ur=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(p){ot(c,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fm(t,e),t=t.sibling}function fm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),Sr(e),s&4){try{so(3,e,e.return),Za(3,e)}catch(b){ot(e,e.return,b)}try{so(5,e,e.return)}catch(b){ot(e,e.return,b)}}break;case 1:or(t,e),Sr(e),s&512&&i!==null&&hs(i,i.return);break;case 5:if(or(t,e),Sr(e),s&512&&i!==null&&hs(i,i.return),e.flags&32){var c=e.stateNode;try{lo(c,"")}catch(b){ot(e,e.return,b)}}if(s&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,v=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&xd(c,d),nl(v,g);var p=nl(v,d);for(g=0;g<y.length;g+=2){var O=y[g],w=y[g+1];O==="style"?Bd(c,w):O==="dangerouslySetInnerHTML"?Ld(c,w):O==="children"?lo(c,w):Vl(c,O,w,p)}switch(v){case"input":Xu(c,d);break;case"textarea":Rd(c,d);break;case"select":var C=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var P=d.value;P!=null?ps(c,!!d.multiple,P,!1):C!==!!d.multiple&&(d.defaultValue!=null?ps(c,!!d.multiple,d.defaultValue,!0):ps(c,!!d.multiple,d.multiple?[]:"",!1))}c[To]=d}catch(b){ot(e,e.return,b)}}break;case 6:if(or(t,e),Sr(e),s&4){if(e.stateNode===null)throw Error(oe(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(b){ot(e,e.return,b)}}break;case 3:if(or(t,e),Sr(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{mo(t.containerInfo)}catch(b){ot(e,e.return,b)}break;case 4:or(t,e),Sr(e);break;case 13:or(t,e),Sr(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ec=mt())),s&4&&nd(e);break;case 22:if(O=i!==null&&i.memoizedState!==null,e.mode&1?(Yt=(p=Yt)||O,or(t,e),Yt=p):or(t,e),Sr(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!O&&e.mode&1)for(de=e,O=e.child;O!==null;){for(w=de=O;de!==null;){switch(C=de,P=C.child,C.tag){case 0:case 11:case 14:case 15:so(4,C,C.return);break;case 1:hs(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){s=C,i=C.return;try{t=s,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(b){ot(s,i,b)}}break;case 5:hs(C,C.return);break;case 22:if(C.memoizedState!==null){id(w);continue}}P!==null?(P.return=C,de=P):id(w)}O=O.sibling}e:for(O=null,w=e;;){if(w.tag===5){if(O===null){O=w;try{c=w.stateNode,p?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=w.stateNode,y=w.memoizedProps.style,g=y!=null&&y.hasOwnProperty("display")?y.display:null,v.style.display=Md("display",g))}catch(b){ot(e,e.return,b)}}}else if(w.tag===6){if(O===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(b){ot(e,e.return,b)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;O===w&&(O=null),w=w.return}O===w&&(O=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:or(t,e),Sr(e),s&4&&nd(e);break;case 21:break;default:or(t,e),Sr(e)}}function Sr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(lm(i)){var s=i;break e}i=i.return}throw Error(oe(160))}switch(s.tag){case 5:var c=s.stateNode;s.flags&32&&(lo(c,""),s.flags&=-33);var d=td(e);xl(e,d,c);break;case 3:case 4:var g=s.stateNode.containerInfo,v=td(e);Dl(e,v,g);break;default:throw Error(oe(161))}}catch(y){ot(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function by(e,t,i){de=e,dm(e)}function dm(e,t,i){for(var s=(e.mode&1)!==0;de!==null;){var c=de,d=c.child;if(c.tag===22&&s){var g=c.memoizedState!==null||sa;if(!g){var v=c.alternate,y=v!==null&&v.memoizedState!==null||Yt;v=sa;var p=Yt;if(sa=g,(Yt=y)&&!p)for(de=c;de!==null;)g=de,y=g.child,g.tag===22&&g.memoizedState!==null?sd(c):y!==null?(y.return=g,de=y):sd(c);for(;d!==null;)de=d,dm(d),d=d.sibling;de=c,sa=v,Yt=p}rd(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,de=d):rd(e)}}function rd(e){for(;de!==null;){var t=de;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Za(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Yt)if(i===null)s.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:ar(t.type,i.memoizedProps);s.componentDidUpdate(c,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Jf(t,d,s);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Jf(t,g,i)}break;case 5:var v=t.stateNode;if(i===null&&t.flags&4){i=v;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var O=p.memoizedState;if(O!==null){var w=O.dehydrated;w!==null&&mo(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Yt||t.flags&512&&_l(t)}catch(C){ot(t,t.return,C)}}if(t===e){de=null;break}if(i=t.sibling,i!==null){i.return=t.return,de=i;break}de=t.return}}function id(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var i=t.sibling;if(i!==null){i.return=t.return,de=i;break}de=t.return}}function sd(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Za(4,t)}catch(y){ot(t,i,y)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var c=t.return;try{s.componentDidMount()}catch(y){ot(t,c,y)}}var d=t.return;try{_l(t)}catch(y){ot(t,d,y)}break;case 5:var g=t.return;try{_l(t)}catch(y){ot(t,g,y)}}}catch(y){ot(t,t.return,y)}if(t===e){de=null;break}var v=t.sibling;if(v!==null){v.return=t.return,de=v;break}de=t.return}}var Ly=Math.ceil,Ua=Fr.ReactCurrentDispatcher,wc=Fr.ReactCurrentOwner,er=Fr.ReactCurrentBatchConfig,Le=0,Ot=null,vt=null,Lt=0,Ln=0,ms=hi(0),kt=0,Io=null,Fi=0,eu=0,Sc=0,oo=null,yn=null,Ec=0,Ps=1/0,Cr=null,Ja=!1,Rl=null,ai=null,oa=!1,ti=null,$a=0,ao=0,bl=null,ya=-1,va=0;function on(){return Le&6?mt():ya!==-1?ya:ya=mt()}function ui(e){return e.mode&1?Le&2&&Lt!==0?Lt&-Lt:vy.transition!==null?(va===0&&(va=Gd()),va):(e=Be,e!==0||(e=window.event,e=e===void 0?16:nh(e.type)),e):1}function fr(e,t,i,s){if(50<ao)throw ao=0,bl=null,Error(oe(185));Po(e,i,s),(!(Le&2)||e!==Ot)&&(e===Ot&&(!(Le&2)&&(eu|=i),kt===4&&Zr(e,Lt)),En(e,s),i===1&&Le===0&&!(t.mode&1)&&(Ps=mt()+500,Ha&&mi()))}function En(e,t){var i=e.callbackNode;vg(e,t);var s=Na(e,e===Ot?Lt:0);if(s===0)i!==null&&mf(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&mf(i),t===1)e.tag===0?yy(od.bind(null,e)):Sh(od.bind(null,e)),hy(function(){!(Le&6)&&mi()}),i=null;else{switch(Hd(s)){case 1:i=ql;break;case 4:i=Kd;break;case 16:i=ka;break;case 536870912:i=qd;break;default:i=ka}i=wm(i,hm.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function hm(e,t){if(ya=-1,va=0,Le&6)throw Error(oe(327));var i=e.callbackNode;if(ws()&&e.callbackNode!==i)return null;var s=Na(e,e===Ot?Lt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ja(e,s);else{t=s;var c=Le;Le|=2;var d=pm();(Ot!==e||Lt!==t)&&(Cr=null,Ps=mt()+500,Ri(e,t));do try{Fy();break}catch(v){mm(e,v)}while(1);ac(),Ua.current=d,Le=c,vt!==null?t=0:(Ot=null,Lt=0,t=kt)}if(t!==0){if(t===2&&(c=al(e),c!==0&&(s=c,t=Ll(e,c))),t===1)throw i=Io,Ri(e,0),Zr(e,s),En(e,mt()),i;if(t===6)Zr(e,s);else{if(c=e.current.alternate,!(s&30)&&!My(c)&&(t=ja(e,s),t===2&&(d=al(e),d!==0&&(s=d,t=Ll(e,d))),t===1))throw i=Io,Ri(e,0),Zr(e,s),En(e,mt()),i;switch(e.finishedWork=c,e.finishedLanes=s,t){case 0:case 1:throw Error(oe(345));case 2:Ci(e,yn,Cr);break;case 3:if(Zr(e,s),(s&130023424)===s&&(t=Ec+500-mt(),10<t)){if(Na(e,0)!==0)break;if(c=e.suspendedLanes,(c&s)!==s){on(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=pl(Ci.bind(null,e,yn,Cr),t);break}Ci(e,yn,Cr);break;case 4:if(Zr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,c=-1;0<s;){var g=31-cr(s);d=1<<g,g=t[g],g>c&&(c=g),s&=~d}if(s=c,s=mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ly(s/1960))-s,10<s){e.timeoutHandle=pl(Ci.bind(null,e,yn,Cr),s);break}Ci(e,yn,Cr);break;case 5:Ci(e,yn,Cr);break;default:throw Error(oe(329))}}}return En(e,mt()),e.callbackNode===i?hm.bind(null,e):null}function Ll(e,t){var i=oo;return e.current.memoizedState.isDehydrated&&(Ri(e,t).flags|=256),e=ja(e,t),e!==2&&(t=yn,yn=i,t!==null&&Ml(t)),e}function Ml(e){yn===null?yn=e:yn.push.apply(yn,e)}function My(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var c=i[s],d=c.getSnapshot;c=c.value;try{if(!dr(d(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Sc,t&=~eu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-cr(t),s=1<<i;e[i]=-1,t&=~s}}function od(e){if(Le&6)throw Error(oe(327));ws();var t=Na(e,0);if(!(t&1))return En(e,mt()),null;var i=ja(e,t);if(e.tag!==0&&i===2){var s=al(e);s!==0&&(t=s,i=Ll(e,s))}if(i===1)throw i=Io,Ri(e,0),Zr(e,t),En(e,mt()),i;if(i===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,yn,Cr),En(e,mt()),null}function kc(e,t){var i=Le;Le|=1;try{return e(t)}finally{Le=i,Le===0&&(Ps=mt()+500,Ha&&mi())}}function Ui(e){ti!==null&&ti.tag===0&&!(Le&6)&&ws();var t=Le;Le|=1;var i=er.transition,s=Be;try{if(er.transition=null,Be=1,e)return e()}finally{Be=s,er.transition=i,Le=t,!(Le&6)&&mi()}}function Nc(){Ln=ms.current,qe(ms)}function Ri(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,dy(i)),vt!==null)for(i=vt.return;i!==null;){var s=i;switch(ic(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ca();break;case 3:Is(),qe(wn),qe(Kt),hc();break;case 5:dc(s);break;case 4:Is();break;case 13:qe(tt);break;case 19:qe(tt);break;case 10:uc(s.type._context);break;case 22:case 23:Nc()}i=i.return}if(Ot=e,vt=e=li(e.current,null),Lt=Ln=t,kt=0,Io=null,Sc=eu=Fi=0,yn=oo=null,Di!==null){for(t=0;t<Di.length;t++)if(i=Di[t],s=i.interleaved,s!==null){i.interleaved=null;var c=s.next,d=i.pending;if(d!==null){var g=d.next;d.next=c,s.next=g}i.pending=s}Di=null}return e}function mm(e,t){do{var i=vt;try{if(ac(),ma.current=Fa,Ba){for(var s=nt.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Ba=!1}if(Bi=0,Pt=Et=nt=null,io=!1,Eo=0,wc.current=null,i===null||i.return===null){kt=1,Io=t,vt=null;break}e:{var d=e,g=i.return,v=i,y=t;if(t=Lt,v.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var p=y,O=v,w=O.tag;if(!(O.mode&1)&&(w===0||w===11||w===15)){var C=O.alternate;C?(O.updateQueue=C.updateQueue,O.memoizedState=C.memoizedState,O.lanes=C.lanes):(O.updateQueue=null,O.memoizedState=null)}var P=Kf(g);if(P!==null){P.flags&=-257,qf(P,g,v,d,t),P.mode&1&&Yf(d,p,t),t=P,y=p;var B=t.updateQueue;if(B===null){var b=new Set;b.add(y),t.updateQueue=b}else B.add(y);break e}else{if(!(t&1)){Yf(d,p,t),Ic();break e}y=Error(oe(426))}}else if(Qe&&v.mode&1){var D=Kf(g);if(D!==null){!(D.flags&65536)&&(D.flags|=256),qf(D,g,v,d,t),sc(As(y,v));break e}}d=y=As(y,v),kt!==4&&(kt=2),oo===null?oo=[d]:oo.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var E=Xh(d,y,t);Uf(d,E);break e;case 1:v=y;var k=d.type,N=d.stateNode;if(!(d.flags&128)&&(typeof k.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ai===null||!ai.has(N)))){d.flags|=65536,t&=-t,d.lanes|=t;var M=Qh(d,v,t);Uf(d,M);break e}}d=d.return}while(d!==null)}ym(i)}catch(_){t=_,vt===i&&i!==null&&(vt=i=i.return);continue}break}while(1)}function pm(){var e=Ua.current;return Ua.current=Fa,e===null?Fa:e}function Ic(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||!(Fi&268435455)&&!(eu&268435455)||Zr(Ot,Lt)}function ja(e,t){var i=Le;Le|=2;var s=pm();(Ot!==e||Lt!==t)&&(Cr=null,Ri(e,t));do try{By();break}catch(c){mm(e,c)}while(1);if(ac(),Le=i,Ua.current=s,vt!==null)throw Error(oe(261));return Ot=null,Lt=0,kt}function By(){for(;vt!==null;)gm(vt)}function Fy(){for(;vt!==null&&!lg();)gm(vt)}function gm(e){var t=Tm(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?ym(e):vt=t,wc.current=null}function ym(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Dy(i,t),i!==null){i.flags&=32767,vt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,vt=null;return}}else if(i=_y(i,t,Ln),i!==null){vt=i;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);kt===0&&(kt=5)}function Ci(e,t,i){var s=Be,c=er.transition;try{er.transition=null,Be=1,Uy(e,t,i,s)}finally{er.transition=c,Be=s}return null}function Uy(e,t,i,s){do ws();while(ti!==null);if(Le&6)throw Error(oe(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Tg(e,d),e===Ot&&(vt=Ot=null,Lt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||oa||(oa=!0,wm(ka,function(){return ws(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=er.transition,er.transition=null;var g=Be;Be=1;var v=Le;Le|=4,wc.current=null,Ry(e,i),fm(i,e),sy(hl),Ia=!!dl,hl=dl=null,e.current=i,by(i),cg(),Le=v,Be=g,er.transition=d}else e.current=i;if(oa&&(oa=!1,ti=e,$a=c),d=e.pendingLanes,d===0&&(ai=null),hg(i.stateNode),En(e,mt()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],s(c.value,{componentStack:c.stack,digest:c.digest});if(Ja)throw Ja=!1,e=Rl,Rl=null,e;return $a&1&&e.tag!==0&&ws(),d=e.pendingLanes,d&1?e===bl?ao++:(ao=0,bl=e):ao=0,mi(),null}function ws(){if(ti!==null){var e=Hd($a),t=er.transition,i=Be;try{if(er.transition=null,Be=16>e?16:e,ti===null)var s=!1;else{if(e=ti,ti=null,$a=0,Le&6)throw Error(oe(331));var c=Le;for(Le|=4,de=e.current;de!==null;){var d=de,g=d.child;if(de.flags&16){var v=d.deletions;if(v!==null){for(var y=0;y<v.length;y++){var p=v[y];for(de=p;de!==null;){var O=de;switch(O.tag){case 0:case 11:case 15:so(8,O,d)}var w=O.child;if(w!==null)w.return=O,de=w;else for(;de!==null;){O=de;var C=O.sibling,P=O.return;if(um(O),O===p){de=null;break}if(C!==null){C.return=P,de=C;break}de=P}}}var B=d.alternate;if(B!==null){var b=B.child;if(b!==null){B.child=null;do{var D=b.sibling;b.sibling=null,b=D}while(b!==null)}}de=d}}if(d.subtreeFlags&2064&&g!==null)g.return=d,de=g;else e:for(;de!==null;){if(d=de,d.flags&2048)switch(d.tag){case 0:case 11:case 15:so(9,d,d.return)}var E=d.sibling;if(E!==null){E.return=d.return,de=E;break e}de=d.return}}var k=e.current;for(de=k;de!==null;){g=de;var N=g.child;if(g.subtreeFlags&2064&&N!==null)N.return=g,de=N;else e:for(g=k;de!==null;){if(v=de,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:Za(9,v)}}catch(_){ot(v,v.return,_)}if(v===g){de=null;break e}var M=v.sibling;if(M!==null){M.return=v.return,de=M;break e}de=v.return}}if(Le=c,mi(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Wa,e)}catch{}s=!0}return s}finally{Be=i,er.transition=t}}return!1}function ad(e,t,i){t=As(i,t),t=Xh(e,t,1),e=oi(e,t,1),t=on(),e!==null&&(Po(e,1,t),En(e,t))}function ot(e,t,i){if(e.tag===3)ad(e,e,i);else for(;t!==null;){if(t.tag===3){ad(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ai===null||!ai.has(s))){e=As(i,e),e=Qh(t,e,1),t=oi(t,e,1),e=on(),t!==null&&(Po(t,1,e),En(t,e));break}}t=t.return}}function Jy(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&i,Ot===e&&(Lt&i)===i&&(kt===4||kt===3&&(Lt&130023424)===Lt&&500>mt()-Ec?Ri(e,0):Sc|=i),En(e,t)}function vm(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var i=on();e=Mr(e,t),e!==null&&(Po(e,t,i),En(e,i))}function $y(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),vm(e,i)}function jy(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(oe(314))}s!==null&&s.delete(t),vm(e,i)}var Tm;Tm=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||wn.current)Tn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Tn=!1,Cy(e,t,i);Tn=!!(e.flags&131072)}else Tn=!1,Qe&&t.flags&1048576&&Eh(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ga(e,t),e=t.pendingProps;var c=Es(t,Kt.current);Ts(t,i),c=pc(null,t,s,e,c,i);var d=gc();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sn(s)?(d=!0,_a(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,cc(t),c.updater=Xa,t.stateNode=c,c._reactInternals=t,El(t,s,e,i),t=Il(null,t,s,!0,d,i)):(t.tag=0,Qe&&d&&rc(t),sn(null,t,c,i),t=t.child),t;case 16:s=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,c=s._init,s=c(s._payload),t.type=s,c=t.tag=zy(s),e=ar(s,e),c){case 0:t=Nl(null,t,s,e,i);break e;case 1:t=Xf(null,t,s,e,i);break e;case 11:t=Gf(null,t,s,e,i);break e;case 14:t=Hf(null,t,s,ar(s.type,e),i);break e}throw Error(oe(306,s,""))}return t;case 0:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:ar(s,c),Nl(e,t,s,c,i);case 1:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:ar(s,c),Xf(e,t,s,c,i);case 3:e:{if(nm(t),e===null)throw Error(oe(387));s=t.pendingProps,d=t.memoizedState,c=d.element,Ah(e,t),La(t,s,null,i);var g=t.memoizedState;if(s=g.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=As(Error(oe(423)),t),t=Qf(e,t,s,i,c);break e}else if(s!==c){c=As(Error(oe(424)),t),t=Qf(e,t,s,i,c);break e}else for(Mn=si(t.stateNode.containerInfo.firstChild),Bn=t,Qe=!0,lr=null,i=_h(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ks(),s===c){t=Br(e,t,i);break e}sn(e,t,s,i)}t=t.child}return t;case 5:return Dh(t),e===null&&Tl(t),s=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,ml(s,c)?g=null:d!==null&&ml(s,d)&&(t.flags|=32),tm(e,t),sn(e,t,g,i),t.child;case 6:return e===null&&Tl(t),null;case 13:return rm(e,t,i);case 4:return fc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ns(t,null,s,i):sn(e,t,s,i),t.child;case 11:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:ar(s,c),Gf(e,t,s,c,i);case 7:return sn(e,t,t.pendingProps,i),t.child;case 8:return sn(e,t,t.pendingProps.children,i),t.child;case 12:return sn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,c=t.pendingProps,d=t.memoizedProps,g=c.value,Ve(Ra,s._currentValue),s._currentValue=g,d!==null)if(dr(d.value,g)){if(d.children===c.children&&!wn.current){t=Br(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){g=d.child;for(var y=v.firstContext;y!==null;){if(y.context===s){if(d.tag===1){y=Rr(-1,i&-i),y.tag=2;var p=d.updateQueue;if(p!==null){p=p.shared;var O=p.pending;O===null?y.next=y:(y.next=O.next,O.next=y),p.pending=y}}d.lanes|=i,y=d.alternate,y!==null&&(y.lanes|=i),wl(d.return,i,t),v.lanes|=i;break}y=y.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(oe(341));g.lanes|=i,v=g.alternate,v!==null&&(v.lanes|=i),wl(g,i,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}sn(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,s=t.pendingProps.children,Ts(t,i),c=tr(c),s=s(c),t.flags|=1,sn(e,t,s,i),t.child;case 14:return s=t.type,c=ar(s,t.pendingProps),c=ar(s.type,c),Hf(e,t,s,c,i);case 15:return Zh(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,c=t.pendingProps,c=t.elementType===s?c:ar(s,c),ga(e,t),t.tag=1,Sn(s)?(e=!0,_a(t)):e=!1,Ts(t,i),Oh(t,s,c),El(t,s,c,i),Il(null,t,s,!0,e,i);case 19:return im(e,t,i);case 22:return em(e,t,i)}throw Error(oe(156,t.tag))};function wm(e,t){return Yd(e,t)}function Vy(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(e,t,i,s){return new Vy(e,t,i,s)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zy(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wl)return 11;if(e===Yl)return 14}return 2}function li(e,t){var i=e.alternate;return i===null?(i=Zn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ta(e,t,i,s,c,d){var g=2;if(s=e,typeof e=="function")Ac(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case is:return bi(i.children,c,d,t);case zl:g=8,c|=8;break;case Yu:return e=Zn(12,i,t,c|2),e.elementType=Yu,e.lanes=d,e;case Ku:return e=Zn(13,i,t,c),e.elementType=Ku,e.lanes=d,e;case qu:return e=Zn(19,i,t,c),e.elementType=qu,e.lanes=d,e;case Cd:return tu(i,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pd:g=10;break e;case Od:g=9;break e;case Wl:g=11;break e;case Yl:g=14;break e;case Hr:g=16,s=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Zn(g,i,t,c),t.elementType=e,t.type=s,t.lanes=d,t}function bi(e,t,i,s){return e=Zn(7,e,s,t),e.lanes=i,e}function tu(e,t,i,s){return e=Zn(22,e,s,t),e.elementType=Cd,e.lanes=i,e.stateNode={isHidden:!1},e}function Ju(e,t,i){return e=Zn(6,e,null,t),e.lanes=i,e}function $u(e,t,i){return t=Zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wy(e,t,i,s,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=s,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Pc(e,t,i,s,c,d,g,v,y){return e=new Wy(e,t,i,v,y),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Zn(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(d),e}function Yy(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function Sm(e){if(!e)return fi;e=e._reactInternals;e:{if($i(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var i=e.type;if(Sn(i))return wh(e,i,t)}return t}function Em(e,t,i,s,c,d,g,v,y){return e=Pc(i,s,!0,e,c,d,g,v,y),e.context=Sm(null),i=e.current,s=on(),c=ui(i),d=Rr(s,c),d.callback=t??null,oi(i,d,c),e.current.lanes=c,Po(e,c,s),En(e,s),e}function nu(e,t,i,s){var c=t.current,d=on(),g=ui(c);return i=Sm(i),t.context===null?t.context=i:t.pendingContext=i,t=Rr(d,g),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=oi(c,t,g),e!==null&&(fr(e,c,g,d),ha(e,c,g)),g}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Oc(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function Ky(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}ru.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));nu(e,t,null,null)};ru.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){nu(null,e,null,null)}),t[Lr]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Qr.length&&t!==0&&t<Qr[i].priority;i++);Qr.splice(i,0,e),i===0&&th(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ld(){}function qy(e,t,i,s,c){if(c){if(typeof s=="function"){var d=s;s=function(){var p=Va(g);d.call(p)}}var g=Em(t,s,e,0,null,!1,!1,"",ld);return e._reactRootContainer=g,e[Lr]=g.current,yo(e.nodeType===8?e.parentNode:e),Ui(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof s=="function"){var v=s;s=function(){var p=Va(y);v.call(p)}}var y=Pc(e,0,!1,null,null,!1,!1,"",ld);return e._reactRootContainer=y,e[Lr]=y.current,yo(e.nodeType===8?e.parentNode:e),Ui(function(){nu(t,y,i,s)}),y}function su(e,t,i,s,c){var d=i._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var v=c;c=function(){var y=Va(g);v.call(y)}}nu(t,g,e,c)}else g=qy(i,t,e,c,s);return Va(g)}Xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Xs(t.pendingLanes);i!==0&&(Gl(t,i|1),En(t,mt()),!(Le&6)&&(Ps=mt()+500,mi()))}break;case 13:Ui(function(){var s=Mr(e,1);if(s!==null){var c=on();fr(s,e,1,c)}}),Oc(e,1)}};Hl=function(e){if(e.tag===13){var t=Mr(e,134217728);if(t!==null){var i=on();fr(t,e,134217728,i)}Oc(e,134217728)}};Qd=function(e){if(e.tag===13){var t=ui(e),i=Mr(e,t);if(i!==null){var s=on();fr(i,e,t,s)}Oc(e,t)}};Zd=function(){return Be};eh=function(e,t){var i=Be;try{return Be=e,t()}finally{Be=i}};il=function(e,t,i){switch(t){case"input":if(Xu(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var c=Ga(s);if(!c)throw Error(oe(90));Dd(s),Xu(s,c)}}}break;case"textarea":Rd(e,i);break;case"select":t=i.value,t!=null&&ps(e,!!i.multiple,t,!1)}};Jd=kc;$d=Ui;var Gy={usingClientEntryPoint:!1,Events:[Co,us,Ga,Fd,Ud,kc]},qs={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hy={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zd(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{Wa=aa.inject(Hy),Nr=aa}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;Un.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(oe(200));return Yy(e,t,null,i)};Un.createRoot=function(e,t){if(!_c(e))throw Error(oe(299));var i=!1,s="",c=km;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Pc(e,1,!1,null,null,i,!1,s,c),e[Lr]=t.current,yo(e.nodeType===8?e.parentNode:e),new Cc(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=zd(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return Ui(e)};Un.hydrate=function(e,t,i){if(!iu(t))throw Error(oe(200));return su(null,e,t,!0,i)};Un.hydrateRoot=function(e,t,i){if(!_c(e))throw Error(oe(405));var s=i!=null&&i.hydratedSources||null,c=!1,d="",g=km;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Em(t,null,e,1,i??null,c,!1,d,g),e[Lr]=t.current,yo(e),s)for(e=0;e<s.length;e++)i=s[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new ru(t)};Un.render=function(e,t,i){if(!iu(t))throw Error(oe(200));return su(null,e,t,!1,i)};Un.unmountComponentAtNode=function(e){if(!iu(e))throw Error(oe(40));return e._reactRootContainer?(Ui(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};Un.unstable_batchedUpdates=kc;Un.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!iu(i))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return su(e,t,i,!1,s)};Un.version="18.2.0-next-9e3b772b8-20220608";function Nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nm)}catch(e){console.error(e)}}Nm(),Ed.exports=Un;var Xy=Ed.exports,cd=Xy;zu.createRoot=cd.createRoot,zu.hydrateRoot=cd.hydrateRoot;var Im={exports:{}};/*!
 * 
 * yorkie-js-sdk for building collaborative editing applications.
 *  - Version: v0.4.13
 *  - Date: 2024-01-19T10:43Z
 *  - Homepage: https://yorkie.dev
 *
 * Copyright 2020 The Yorkie Authors. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e,t){(function(s,c){e.exports=c()})(Ip,()=>(()=>{var i={646:(g,v,y)=>{Object.defineProperty(v,"__esModule",{value:!0});const{proto3:p,StringValue:O,Timestamp:w}=y(532),C=p.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),P=p.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),B=p.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:Q},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Ut}}]),b=p.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Jt},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:D,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:fe},{no:6,name:"is_removed",kind:"scalar",T:8}]),D=p.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:E},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:k,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Ct}]),E=p.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),k=p.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:N,oneof:"body"},{no:2,name:"add",kind:"message",T:M,oneof:"body"},{no:3,name:"move",kind:"message",T:_,oneof:"body"},{no:4,name:"remove",kind:"message",T:S,oneof:"body"},{no:5,name:"edit",kind:"message",T:J,oneof:"body"},{no:6,name:"select",kind:"message",T:F,oneof:"body"},{no:7,name:"style",kind:"message",T:R,oneof:"body"},{no:8,name:"increase",kind:"message",T:V,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:q,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Z,oneof:"body"}]),N=p.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:z},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Set"}),M=p.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"value",kind:"message",T:z},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Add"}),_=p.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Move"}),S=p.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Remove"}),J=p.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ut},{no:3,name:"to",kind:"message",T:ut},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:fe},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),F=p.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ut},{no:3,name:"to",kind:"message",T:ut},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Select"}),R=p.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:ut},{no:3,name:"to",kind:"message",T:ut},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}}],{localName:"Operation_Style"}),V=p.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"value",kind:"message",T:z},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Increase"}),q=p.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:Bt},{no:3,name:"to",kind:"message",T:Bt},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"contents",kind:"message",T:Je,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_TreeEdit"}),Z=p.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:Bt},{no:3,name:"to",kind:"message",T:Bt},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_TreeStyle"}),z=p.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"moved_at",kind:"message",T:fe},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"type",kind:"enum",T:p.getEnumType(C)},{no:5,name:"value",kind:"scalar",T:12}]),Q=p.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:re,oneof:"body"},{no:2,name:"json_array",kind:"message",T:te,oneof:"body"},{no:3,name:"primitive",kind:"message",T:ee,oneof:"body"},{no:5,name:"text",kind:"message",T:Y,oneof:"body"},{no:6,name:"counter",kind:"message",T:ce,oneof:"body"},{no:7,name:"tree",kind:"message",T:K,oneof:"body"}]),re=p.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:me,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONObject"}),te=p.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:ae,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONArray"}),ee=p.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Primitive"}),Y=p.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Ie,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Text"}),ce=p.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Counter"}),K=p.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:be,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Tree"}),me=p.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Q}]),ae=p.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:ae},{no:2,name:"element",kind:"message",T:Q}]),ve=p.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:fe}]),Ie=p.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:ke},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"ins_prev_id",kind:"message",T:ke},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),ke=p.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),be=p.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:Ge},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:fe},{no:5,name:"ins_prev_id",kind:"message",T:Ge},{no:6,name:"ins_next_id",kind:"message",T:Ge},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),Je=p.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:be,repeated:!0}]),Ge=p.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),Bt=p.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:Ge},{no:2,name:"left_sibling_id",kind:"message",T:Ge}]),Ft=p.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:w}]),pt=p.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:w},{no:9,name:"updated_at",kind:"message",T:w}]),we=p.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:O},{no:2,name:"auth_webhook_url",kind:"message",T:O},{no:3,name:"auth_webhook_methods",kind:"message",T:ln},{no:4,name:"client_deactivate_threshold",kind:"message",T:O}]),ln=p.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),qt=p.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:w},{no:5,name:"accessed_at",kind:"message",T:w},{no:6,name:"updated_at",kind:"message",T:w}]),Ct=p.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Gt)},{no:2,name:"presence",kind:"message",T:Ut}]),Gt=p.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Ut=p.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Jt=p.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),ut=p.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),fe=p.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),rr=p.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),cn=p.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(P)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:rr}]);v.ValueType=C,v.DocEventType=P,v.Snapshot=B,v.ChangePack=b,v.Change=D,v.ChangeID=E,v.Operation=k,v.Operation_Set=N,v.Operation_Add=M,v.Operation_Move=_,v.Operation_Remove=S,v.Operation_Edit=J,v.Operation_Select=F,v.Operation_Style=R,v.Operation_Increase=V,v.Operation_TreeEdit=q,v.Operation_TreeStyle=Z,v.JSONElementSimple=z,v.JSONElement=Q,v.JSONElement_JSONObject=re,v.JSONElement_JSONArray=te,v.JSONElement_Primitive=ee,v.JSONElement_Text=Y,v.JSONElement_Counter=ce,v.JSONElement_Tree=K,v.RHTNode=me,v.RGANode=ae,v.NodeAttr=ve,v.TextNode=Ie,v.TextNodeID=ke,v.TreeNode=be,v.TreeNodes=Je,v.TreeNodeID=Ge,v.TreePos=Bt,v.User=Ft,v.Project=pt,v.UpdatableProjectFields=we,v.UpdatableProjectFields_AuthWebhookMethods=ln,v.DocumentSummary=qt,v.PresenceChange=Ct,v.PresenceChange_ChangeType=Gt,v.Presence=Ut,v.Checkpoint=Jt,v.TextNodePos=ut,v.TimeTicket=fe,v.DocEventBody=rr,v.DocEvent=cn},295:(g,v,y)=>{const{ActivateClientRequest:p,ActivateClientResponse:O,AttachDocumentRequest:w,AttachDocumentResponse:C,BroadcastRequest:P,BroadcastResponse:B,DeactivateClientRequest:b,DeactivateClientResponse:D,DetachDocumentRequest:E,DetachDocumentResponse:k,PushPullChangesRequest:N,PushPullChangesResponse:M,RemoveDocumentRequest:_,RemoveDocumentResponse:S,WatchDocumentRequest:J,WatchDocumentResponse:F}=y(176),{MethodKind:R}=y(532),V={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:p,O,kind:R.Unary},deactivateClient:{name:"DeactivateClient",I:b,O:D,kind:R.Unary},attachDocument:{name:"AttachDocument",I:w,O:C,kind:R.Unary},detachDocument:{name:"DetachDocument",I:E,O:k,kind:R.Unary},removeDocument:{name:"RemoveDocument",I:_,O:S,kind:R.Unary},pushPullChanges:{name:"PushPullChanges",I:N,O:M,kind:R.Unary},watchDocument:{name:"WatchDocument",I:J,O:F,kind:R.ServerStreaming},broadcast:{name:"Broadcast",I:P,O:B,kind:R.Unary}}};v.V=V},176:(g,v,y)=>{Object.defineProperty(v,"__esModule",{value:!0});const{proto3:p}=y(532),{ChangePack:O,DocEvent:w}=y(646),C=p.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),P=p.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),B=p.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:2,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9}]),b=p.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),D=p.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:3,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:O}]),E=p.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:O}]),k=p.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:5,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:O},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),N=p.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:O}]),M=p.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:4,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:3,name:"document_key",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),_=p.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:S,oneof:"body"},{no:2,name:"event",kind:"message",T:w,oneof:"body"}]),S=p.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),J=p.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:4,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:O}]),F=p.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:O}]),R=p.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:5,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:O},{no:4,name:"push_only",kind:"scalar",T:8}]),V=p.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:O}]),q=p.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:6,name:"client_key",kind:"scalar",T:9},{no:1,name:"client_id",kind:"scalar",T:9},{no:5,name:"document_key",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),Z=p.makeMessageType("yorkie.v1.BroadcastResponse",[]);v.ActivateClientRequest=C,v.ActivateClientResponse=P,v.DeactivateClientRequest=B,v.DeactivateClientResponse=b,v.AttachDocumentRequest=D,v.AttachDocumentResponse=E,v.DetachDocumentRequest=k,v.DetachDocumentResponse=N,v.WatchDocumentRequest=M,v.WatchDocumentResponse=_,v.WatchDocumentResponse_Initialization=S,v.RemoveDocumentRequest=J,v.RemoveDocumentResponse=F,v.PushPullChangesRequest=R,v.PushPullChangesResponse=V,v.BroadcastRequest=q,v.BroadcastResponse=Z},79:(g,v,y)=>{y.d(v,{Lt:()=>P,TD:()=>C,oP:()=>B});var p=y(818),O=y(120),w=y(210),C;(function(b){b[b.Varint=0]="Varint",b[b.Bit64=1]="Bit64",b[b.LengthDelimited=2]="LengthDelimited",b[b.StartGroup=3]="StartGroup",b[b.EndGroup=4]="EndGroup",b[b.Bit32=5]="Bit32"})(C||(C={}));class P{constructor(D){this.stack=[],this.textEncoder=D??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let D=0;for(let N=0;N<this.chunks.length;N++)D+=this.chunks[N].length;let E=new Uint8Array(D),k=0;for(let N=0;N<this.chunks.length;N++)E.set(this.chunks[N],k),k+=this.chunks[N].length;return this.chunks=[],E}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let D=this.finish(),E=this.stack.pop();if(!E)throw new Error("invalid state, fork stack empty");return this.chunks=E.chunks,this.buf=E.buf,this.uint32(D.byteLength),this.raw(D)}tag(D,E){return this.uint32((D<<3|E)>>>0)}raw(D){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(D),this}uint32(D){for((0,O.fp)(D);D>127;)this.buf.push(D&127|128),D=D>>>7;return this.buf.push(D),this}int32(D){return(0,O.ug)(D),(0,p.fC)(D,this.buf),this}bool(D){return this.buf.push(D?1:0),this}bytes(D){return this.uint32(D.byteLength),this.raw(D)}string(D){let E=this.textEncoder.encode(D);return this.uint32(E.byteLength),this.raw(E)}float(D){(0,O.E_)(D);let E=new Uint8Array(4);return new DataView(E.buffer).setFloat32(0,D,!0),this.raw(E)}double(D){let E=new Uint8Array(8);return new DataView(E.buffer).setFloat64(0,D,!0),this.raw(E)}fixed32(D){(0,O.fp)(D);let E=new Uint8Array(4);return new DataView(E.buffer).setUint32(0,D,!0),this.raw(E)}sfixed32(D){(0,O.ug)(D);let E=new Uint8Array(4);return new DataView(E.buffer).setInt32(0,D,!0),this.raw(E)}sint32(D){return(0,O.ug)(D),D=(D<<1^D>>31)>>>0,(0,p.fC)(D,this.buf),this}sfixed64(D){let E=new Uint8Array(8),k=new DataView(E.buffer),N=w.q.enc(D);return k.setInt32(0,N.lo,!0),k.setInt32(4,N.hi,!0),this.raw(E)}fixed64(D){let E=new Uint8Array(8),k=new DataView(E.buffer),N=w.q.uEnc(D);return k.setInt32(0,N.lo,!0),k.setInt32(4,N.hi,!0),this.raw(E)}int64(D){let E=w.q.enc(D);return(0,p._y)(E.lo,E.hi,this.buf),this}sint64(D){let E=w.q.enc(D),k=E.hi>>31,N=E.lo<<1^k,M=(E.hi<<1|E.lo>>>31)^k;return(0,p._y)(N,M,this.buf),this}uint64(D){let E=w.q.uEnc(D);return(0,p._y)(E.lo,E.hi,this.buf),this}}class B{constructor(D,E){this.varint64=p.sg,this.uint32=p.jI,this.buf=D,this.len=D.length,this.pos=0,this.view=new DataView(D.buffer,D.byteOffset,D.byteLength),this.textDecoder=E??new TextDecoder}tag(){let D=this.uint32(),E=D>>>3,k=D&7;if(E<=0||k<0||k>5)throw new Error("illegal tag: field no "+E+" wire type "+k);return[E,k]}skip(D){let E=this.pos;switch(D){case C.Varint:for(;this.buf[this.pos++]&128;);break;case C.Bit64:this.pos+=4;case C.Bit32:this.pos+=4;break;case C.LengthDelimited:let k=this.uint32();this.pos+=k;break;case C.StartGroup:let N;for(;(N=this.tag()[1])!==C.EndGroup;)this.skip(N);break;default:throw new Error("cant skip wire type "+D)}return this.assertBounds(),this.buf.subarray(E,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let D=this.uint32();return D>>>1^-(D&1)}int64(){return w.q.dec(...this.varint64())}uint64(){return w.q.uDec(...this.varint64())}sint64(){let[D,E]=this.varint64(),k=-(D&1);return D=(D>>>1|(E&1)<<31)^k,E=E>>>1^k,w.q.dec(D,E)}bool(){let[D,E]=this.varint64();return D!==0||E!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return w.q.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return w.q.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let D=this.uint32(),E=this.pos;return this.pos+=D,this.assertBounds(),this.buf.subarray(E,E+D)}string(){return this.textDecoder.decode(this.bytes())}}},465:(g,v,y)=>{y.d(v,{p:()=>O,w:()=>p});var p;(function(w){w[w.DOUBLE=1]="DOUBLE",w[w.FLOAT=2]="FLOAT",w[w.INT64=3]="INT64",w[w.UINT64=4]="UINT64",w[w.INT32=5]="INT32",w[w.FIXED64=6]="FIXED64",w[w.FIXED32=7]="FIXED32",w[w.BOOL=8]="BOOL",w[w.STRING=9]="STRING",w[w.BYTES=12]="BYTES",w[w.UINT32=13]="UINT32",w[w.SFIXED32=15]="SFIXED32",w[w.SFIXED64=16]="SFIXED64",w[w.SINT32=17]="SINT32",w[w.SINT64=18]="SINT64"})(p||(p={}));var O;(function(w){w[w.BIGINT=0]="BIGINT",w[w.STRING=1]="STRING"})(O||(O={}))},733:(g,v,y)=>{y.d(v,{I:()=>w});var p=y(561),O=y(850);class w extends p.v{constructor(P){super(),this.typeUrl="",this.value=new Uint8Array(0),O.w.util.initPartial(P,this)}toJson(P){var B;if(this.typeUrl==="")return{};const b=this.typeUrlToName(this.typeUrl),D=(B=P==null?void 0:P.typeRegistry)===null||B===void 0?void 0:B.findMessage(b);if(!D)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let k=D.fromBinary(this.value).toJson(P);return(b.startsWith("google.protobuf.")||k===null||Array.isArray(k)||typeof k!="object")&&(k={value:k}),k["@type"]=this.typeUrl,k}fromJson(P,B){var b;if(P===null||Array.isArray(P)||typeof P!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${P===null?"null":Array.isArray(P)?"array":typeof P}`);if(Object.keys(P).length==0)return this;const D=P["@type"];if(typeof D!="string"||D=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const E=this.typeUrlToName(D),k=(b=B==null?void 0:B.typeRegistry)===null||b===void 0?void 0:b.findMessage(E);if(!k)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${D} is not in the type registry`);let N;if(E.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(P,"value"))N=k.fromJson(P.value,B);else{const M=Object.assign({},P);delete M["@type"],N=k.fromJson(M,B)}return this.packFrom(N),this}packFrom(P){this.value=P.toBinary(),this.typeUrl=this.typeNameToUrl(P.getType().typeName)}unpackTo(P){return this.is(P.getType())?(P.fromBinary(this.value),!0):!1}unpack(P){if(this.typeUrl==="")return;const B=P.findMessage(this.typeUrlToName(this.typeUrl));if(B)return B.fromBinary(this.value)}is(P){if(this.typeUrl==="")return!1;const B=this.typeUrlToName(this.typeUrl);let b="";return typeof P=="string"?b=P:b=P.typeName,B===b}typeNameToUrl(P){return`type.googleapis.com/${P}`}typeUrlToName(P){if(!P.length)throw new Error(`invalid type url: ${P}`);const B=P.lastIndexOf("/"),b=B>=0?P.substring(B+1):P;if(!b.length)throw new Error(`invalid type url: ${P}`);return b}static pack(P){const B=new w;return B.packFrom(P),B}static fromBinary(P,B){return new w().fromBinary(P,B)}static fromJson(P,B){return new w().fromJson(P,B)}static fromJsonString(P,B){return new w().fromJsonString(P,B)}static equals(P,B){return O.w.util.equals(w,P,B)}}w.runtime=O.w,w.typeName="google.protobuf.Any",w.fields=O.w.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}])},818:(g,v,y)=>{y.d(v,{Ak:()=>P,CZ:()=>C,Fd:()=>B,_y:()=>O,fC:()=>N,jI:()=>M,sg:()=>p});function p(){let _=0,S=0;for(let F=0;F<28;F+=7){let R=this.buf[this.pos++];if(_|=(R&127)<<F,!(R&128))return this.assertBounds(),[_,S]}let J=this.buf[this.pos++];if(_|=(J&15)<<28,S=(J&112)>>4,!(J&128))return this.assertBounds(),[_,S];for(let F=3;F<=31;F+=7){let R=this.buf[this.pos++];if(S|=(R&127)<<F,!(R&128))return this.assertBounds(),[_,S]}throw new Error("invalid varint")}function O(_,S,J){for(let V=0;V<28;V=V+7){const q=_>>>V,Z=!(!(q>>>7)&&S==0),z=(Z?q|128:q)&255;if(J.push(z),!Z)return}const F=_>>>28&15|(S&7)<<4,R=!!(S>>3);if(J.push((R?F|128:F)&255),!!R){for(let V=3;V<31;V=V+7){const q=S>>>V,Z=!!(q>>>7),z=(Z?q|128:q)&255;if(J.push(z),!Z)return}J.push(S>>>31&1)}}const w=4294967296;function C(_){const S=_[0]==="-";S&&(_=_.slice(1));const J=1e6;let F=0,R=0;function V(q,Z){const z=Number(_.slice(q,Z));R*=J,F=F*J+z,F>=w&&(R=R+(F/w|0),F=F%w)}return V(-24,-18),V(-18,-12),V(-12,-6),V(-6),S?E(F,R):D(F,R)}function P(_,S){let J=D(_,S);const F=J.hi&2147483648;F&&(J=E(J.lo,J.hi));const R=B(J.lo,J.hi);return F?"-"+R:R}function B(_,S){if({lo:_,hi:S}=b(_,S),S<=2097151)return String(w*S+_);const J=_&16777215,F=(_>>>24|S<<8)&16777215,R=S>>16&65535;let V=J+F*6777216+R*6710656,q=F+R*8147497,Z=R*2;const z=1e7;return V>=z&&(q+=Math.floor(V/z),V%=z),q>=z&&(Z+=Math.floor(q/z),q%=z),Z.toString()+k(q)+k(V)}function b(_,S){return{lo:_>>>0,hi:S>>>0}}function D(_,S){return{lo:_|0,hi:S|0}}function E(_,S){return S=~S,_?_=~_+1:S+=1,D(_,S)}const k=_=>{const S=String(_);return"0000000".slice(S.length)+S};function N(_,S){if(_>=0){for(;_>127;)S.push(_&127|128),_=_>>>7;S.push(_)}else{for(let J=0;J<9;J++)S.push(_&127|128),_=_>>7;S.push(1)}}function M(){let _=this.buf[this.pos++],S=_&127;if(!(_&128))return this.assertBounds(),S;if(_=this.buf[this.pos++],S|=(_&127)<<7,!(_&128))return this.assertBounds(),S;if(_=this.buf[this.pos++],S|=(_&127)<<14,!(_&128))return this.assertBounds(),S;if(_=this.buf[this.pos++],S|=(_&127)<<21,!(_&128))return this.assertBounds(),S;_=this.buf[this.pos++],S|=(_&15)<<28;for(let J=5;_&128&&J<10;J++)_=this.buf[this.pos++];if(_&128)throw new Error("invalid varint");return this.assertBounds(),S>>>0}},532:(g,v,y)=>{y.r(v),y.d(v,{Any:()=>Yi.I,Api:()=>_n,BinaryReader:()=>q.oP,BinaryWriter:()=>q.Lt,BoolValue:()=>Zt,BytesValue:()=>he,CodeGeneratorRequest:()=>nn,CodeGeneratorResponse:()=>dt,CodeGeneratorResponse_Feature:()=>vr,CodeGeneratorResponse_File:()=>Vt,DescriptorProto:()=>ke,DescriptorProto_ExtensionRange:()=>be,DescriptorProto_ReservedRange:()=>Je,DoubleValue:()=>Qt,Duration:()=>$e,Edition:()=>ae,Empty:()=>qn,Enum:()=>Re,EnumDescriptorProto:()=>Ct,EnumDescriptorProto_EnumReservedRange:()=>Gt,EnumOptions:()=>gt,EnumValue:()=>Cn,EnumValueDescriptorProto:()=>Ut,EnumValueOptions:()=>Vn,ExtensionRangeOptions:()=>Ge,ExtensionRangeOptions_Declaration:()=>Ft,ExtensionRangeOptions_VerificationState:()=>Bt,FeatureSet:()=>ze,FeatureSetDefaults:()=>X,FeatureSetDefaults_FeatureSetEditionDefault:()=>Ze,FeatureSet_EnumType:()=>gi,FeatureSet_FieldPresence:()=>$r,FeatureSet_JsonFormat:()=>Ti,FeatureSet_MessageEncoding:()=>vi,FeatureSet_RepeatedFieldEncoding:()=>Xt,FeatureSet_Utf8Validation:()=>yi,Field:()=>rn,FieldDescriptorProto:()=>pt,FieldDescriptorProto_Label:()=>ln,FieldDescriptorProto_Type:()=>we,FieldMask:()=>Gn,FieldOptions:()=>$n,FieldOptions_CType:()=>Ur,FieldOptions_EditionDefault:()=>Ht,FieldOptions_JSType:()=>hr,FieldOptions_OptionRetention:()=>Jr,FieldOptions_OptionTargetType:()=>pi,Field_Cardinality:()=>Wr,Field_Kind:()=>zr,FileDescriptorProto:()=>Ie,FileDescriptorSet:()=>ve,FileOptions:()=>fe,FileOptions_OptimizeMode:()=>rr,FloatValue:()=>jt,GeneratedCodeInfo:()=>kn,GeneratedCodeInfo_Annotation:()=>Nn,GeneratedCodeInfo_Annotation_Semantic:()=>jr,Int32Value:()=>We,Int64Value:()=>Nt,ListValue:()=>xt,LongType:()=>w.p,Message:()=>K.v,MessageOptions:()=>cn,Method:()=>gn,MethodDescriptorProto:()=>ut,MethodIdempotency:()=>me.w,MethodKind:()=>me.t,MethodOptions:()=>Wn,MethodOptions_IdempotencyLevel:()=>Yn,Mixin:()=>Dn,NullValue:()=>Dt,OneofDescriptorProto:()=>qt,OneofOptions:()=>jn,Option:()=>St,ScalarType:()=>w.w,ServiceDescriptorProto:()=>Jt,ServiceOptions:()=>zn,SourceCodeInfo:()=>Ce,SourceCodeInfo_Location:()=>Fe,SourceContext:()=>mn,StringValue:()=>It,Struct:()=>$t,Syntax:()=>pn,Timestamp:()=>hn,Type:()=>wt,UInt32Value:()=>Xe,UInt64Value:()=>Ue,UninterpretedOption:()=>lt,UninterpretedOption_NamePart:()=>fn,Value:()=>He,Version:()=>tn,WireType:()=>q.TD,codegenInfo:()=>ce,createDescriptorSet:()=>xs,createRegistry:()=>Ro,createRegistryFromDescriptors:()=>Si,proto2:()=>S,proto3:()=>p.w,protoBase64:()=>V.W,protoDelimited:()=>re,protoDouble:()=>F,protoInt64:()=>R.q,toPlainMessage:()=>qi});var p=y(850),O=y(493),w=y(465),C=y(744);function P(){return Object.assign(Object.assign({},(0,C.gY)()),{writeMessage(h,a,f){const A=h.getType();let x;try{for(x of A.fields.byNumber()){let U,$=x.repeated,G=x.localName;if(x.oneof){const W=h[x.oneof.localName];if(W.case!==G)continue;U=W.value}else if(U=h[G],U===void 0&&!x.oneof&&!x.opt)throw new Error(`cannot encode field ${A.typeName}.${x.name} to binary: required field not set`);switch(x.kind){case"scalar":case"enum":let W=x.kind=="enum"?w.w.INT32:x.T;if($)if(x.packed)(0,C.Jj)(a,W,x.no,U);else for(const se of U)(0,C.NN)(a,W,x.no,se,!0);else U!==void 0&&(0,C.NN)(a,W,x.no,U,!0);break;case"message":if($)for(const se of U)(0,C.oQ)(a,f,x,se);else(0,C.oQ)(a,f,x,U);break;case"map":for(const[se,ue]of Object.entries(U))(0,C.gQ)(a,f,x,se,ue);break}}}catch(U){let $=x?`cannot encode field ${A.typeName}.${x==null?void 0:x.name} to binary`:`cannot encode message ${A.typeName} to binary`,G=U instanceof Error?U.message:String(U);throw new Error($+(G.length>0?`: ${G}`:""))}return f.writeUnknownFields&&this.writeUnknownFields(h,a),a}})}var B=y(433),b=y(501),D=y(215),E=y(504),k=y(432),N=y(120),M=y(814);function _(){return(0,M.b)((h,a)=>function(A,x,U){if(A.kind=="map"){const $={};switch(A.V.kind){case"scalar":for(const[W,se]of Object.entries(x)){const ue=a(A.V.T,se,!0);(0,N.hu)(ue!==void 0),$[W.toString()]=ue}break;case"message":for(const[W,se]of Object.entries(x))$[W.toString()]=se.toJson(U);break;case"enum":const G=A.V.T;for(const[W,se]of Object.entries(x)){(0,N.hu)(se===void 0||typeof se=="number");const ue=h(G,se,!0,U.enumAsInteger);(0,N.hu)(ue!==void 0),$[W.toString()]=ue}break}return U.emitDefaultValues||Object.keys($).length>0?$:void 0}else if(A.repeated){const $=[];switch(A.kind){case"scalar":for(let G=0;G<x.length;G++)$.push(a(A.T,x[G],!0));break;case"enum":for(let G=0;G<x.length;G++)$.push(h(A.T,x[G],!0,U.enumAsInteger));break;case"message":for(let G=0;G<x.length;G++)$.push(x[G].toJson(U));break}return U.emitDefaultValues||$.length>0?$:void 0}else{if(x===void 0){if(!A.oneof&&!A.opt)throw"required field not set";return}switch(A.kind){case"scalar":return a(A.T,x,!0);case"enum":return h(A.T,x,!0,U.enumAsInteger);case"message":return(0,k.E)(A.T,x).toJson(U)}}})}const S=(0,O.F)("proto2",_(),P(),Object.assign(Object.assign({},(0,B.f)()),{newFieldList(h){return new b.i(h,J)},initFields(h){for(const a of h.getType().fields.byMember()){const f=a.localName,A=h;if(a.repeated){A[f]=[];continue}switch(a.kind){case"oneof":A[f]={case:void 0};break;case"map":A[f]={};break}}}}));function J(h){var a,f,A,x,U;const $=[];let G;for(const W of typeof h=="function"?h():h){const se=W;if(se.localName=(0,E.Rz)(W.name,W.oneof!==void 0),se.jsonName=(a=W.jsonName)!==null&&a!==void 0?a:(0,E.x1)(W.name),se.repeated=(f=W.repeated)!==null&&f!==void 0?f:!1,W.kind=="scalar"&&(se.L=(A=W.L)!==null&&A!==void 0?A:w.p.BIGINT),W.oneof!==void 0){const ue=typeof W.oneof=="string"?W.oneof:W.oneof.name;(!G||G.name!=ue)&&(G=new D.o(ue)),se.oneof=G,G.addField(se)}W.kind=="message"&&(se.delimited=(x=W.delimited)!==null&&x!==void 0?x:!1),se.packed=(U=W.packed)!==null&&U!==void 0?U:!1,$.push(se)}return $}const F={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var R=y(210),V=y(236),q=y(79),Z=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=h[Symbol.asyncIterator],f;return a?a.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},A("next"),A("throw"),A("return"),f[Symbol.asyncIterator]=function(){return this},f);function A(U){f[U]=h[U]&&function($){return new Promise(function(G,W){$=h[U]($),x(G,W,$.done,$.value)})}}function x(U,$,G,W){Promise.resolve(W).then(function(se){U({value:se,done:G})},$)}},z=function(h){return this instanceof z?(this.v=h,this):new z(h)},Q=function(h,a,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=f.apply(h,a||[]),x,U=[];return x={},G("next"),G("throw"),G("return",$),x[Symbol.asyncIterator]=function(){return this},x;function $(Se){return function(At){return Promise.resolve(At).then(Se,Te)}}function G(Se,At){A[Se]&&(x[Se]=function(xn){return new Promise(function(au,ki){U.push([Se,xn,au,ki])>1||W(Se,xn)})},At&&(x[Se]=At(x[Se])))}function W(Se,At){try{se(A[Se](At))}catch(xn){je(U[0][3],xn)}}function se(Se){Se.value instanceof z?Promise.resolve(Se.value.v).then(ue,Te):je(U[0][2],Se)}function ue(Se){W("next",Se)}function Te(Se){W("throw",Se)}function je(Se,At){Se(At),U.shift(),U.length&&W(U[0][0],U[0][1])}};const re={enc(h,a){const f=(0,C.gY)().makeWriteOptions(a);return f.writerFactory().bytes(h.toBinary(f)).finish()},dec(h,a,f){const A=(0,C.gY)().makeReadOptions(f);return h.fromBinary(A.readerFactory(a).bytes(),A)},decStream(h,a){return Q(this,arguments,function*(){var A,x,U,$;function G(je,Se){const At=new Uint8Array(je.byteLength+Se.byteLength);return At.set(je),At.set(Se,je.length),At}let W=new Uint8Array(0);try{for(var se=!0,ue=Z(a),Te;Te=yield z(ue.next()),A=Te.done,!A;se=!0)for($=Te.value,se=!1,W=G(W,$);;){const Se=re.peekSize(W);if(Se.eof||Se.offset+Se.size>W.byteLength)break;yield yield z(re.dec(h,W)),W=W.subarray(Se.offset+Se.size)}}catch(je){x={error:je}}finally{try{!se&&!A&&(U=ue.return)&&(yield z(U.call(ue)))}finally{if(x)throw x.error}}if(W.byteLength>0)throw new Error("incomplete data")})},peekSize(h){const a={eof:!0,size:null,offset:null};for(let f=0;f<10;f++){if(f>h.byteLength)return a;if(!(h[f]&128)){const A=new q.oP(h);let x;try{x=A.uint32()}catch(U){if(U instanceof RangeError)return a;throw U}return{eof:!1,size:x,offset:A.pos}}}throw new Error("invalid varint")}};var te=y(781);function ee(h){switch(h.typeName){case"google.protobuf.Any":{const a=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===w.w.STRING),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===w.w.BYTES);if(a&&f)return{typeName:h.typeName,typeUrl:a,value:f};break}case"google.protobuf.Timestamp":{const a=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===w.w.INT64),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===w.w.INT32);if(a&&f)return{typeName:h.typeName,seconds:a,nanos:f};break}case"google.protobuf.Duration":{const a=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===w.w.INT64),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===w.w.INT32);if(a&&f)return{typeName:h.typeName,seconds:a,nanos:f};break}case"google.protobuf.Struct":{const a=h.fields.find(f=>f.number==1&&!f.repeated);if((a==null?void 0:a.fieldKind)!=="map"||a.mapValue.kind!=="message"||a.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,fields:a}}case"google.protobuf.Value":{const a=h.oneofs.find(W=>W.name==="kind"),f=h.fields.find(W=>W.number==1&&W.oneof===a);if((f==null?void 0:f.fieldKind)!=="enum"||f.enum.typeName!=="google.protobuf.NullValue")return;const A=h.fields.find(W=>W.number==2&&W.fieldKind=="scalar"&&W.scalar===w.w.DOUBLE&&W.oneof===a),x=h.fields.find(W=>W.number==3&&W.fieldKind=="scalar"&&W.scalar===w.w.STRING&&W.oneof===a),U=h.fields.find(W=>W.number==4&&W.fieldKind=="scalar"&&W.scalar===w.w.BOOL&&W.oneof===a),$=h.fields.find(W=>W.number==5&&W.oneof===a);if(($==null?void 0:$.fieldKind)!=="message"||$.message.typeName!=="google.protobuf.Struct")return;const G=h.fields.find(W=>W.number==6&&W.oneof===a);if((G==null?void 0:G.fieldKind)!=="message"||G.message.typeName!=="google.protobuf.ListValue")return;if(a&&A&&x&&U)return{typeName:h.typeName,kind:a,nullValue:f,numberValue:A,stringValue:x,boolValue:U,structValue:$,listValue:G};break}case"google.protobuf.ListValue":{const a=h.fields.find(f=>f.number==1&&f.repeated);if((a==null?void 0:a.fieldKind)!="message"||a.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,values:a}}case"google.protobuf.FieldMask":{const a=h.fields.find(f=>f.number==1&&f.fieldKind=="scalar"&&f.scalar===w.w.STRING&&f.repeated);if(a)return{typeName:h.typeName,paths:a};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const a=h.fields.find(f=>f.number==1&&f.name=="value");if(!a||a.fieldKind!=="scalar")break;return{typeName:h.typeName,value:a}}}}const Y="@bufbuild/protobuf",ce={packageName:"@bufbuild/protobuf",localName:E.r1,reifyWkt:ee,getUnwrappedFieldType:k.w,scalarDefaultValue:te.kY,safeIdentifier:E.GD,safeObjectProperty:E.ll,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:Y},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:Y},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:Y},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Y},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Y},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:Y},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:Y},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Y},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Y},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Y},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Y},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Y},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Y},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:Y},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:Y},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Y},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Y},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Y},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Y},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:Y}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var K=y(561),me=y(328),ae;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(ae||(ae={})),S.util.setEnumType(ae,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class ve extends K.v{constructor(a){super(),this.file=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new ve().fromBinary(a,f)}static fromJson(a,f){return new ve().fromJson(a,f)}static fromJsonString(a,f){return new ve().fromJsonString(a,f)}static equals(a,f){return S.util.equals(ve,a,f)}}ve.runtime=S,ve.typeName="google.protobuf.FileDescriptorSet",ve.fields=S.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Ie,repeated:!0}]);class Ie extends K.v{constructor(a){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Ie().fromBinary(a,f)}static fromJson(a,f){return new Ie().fromJson(a,f)}static fromJsonString(a,f){return new Ie().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ie,a,f)}}Ie.runtime=S,Ie.typeName="google.protobuf.FileDescriptorProto",Ie.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:ke,repeated:!0},{no:5,name:"enum_type",kind:"message",T:Ct,repeated:!0},{no:6,name:"service",kind:"message",T:Jt,repeated:!0},{no:7,name:"extension",kind:"message",T:pt,repeated:!0},{no:8,name:"options",kind:"message",T:fe,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Ce,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:S.getEnumType(ae),opt:!0}]);class ke extends K.v{constructor(a){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new ke().fromBinary(a,f)}static fromJson(a,f){return new ke().fromJson(a,f)}static fromJsonString(a,f){return new ke().fromJsonString(a,f)}static equals(a,f){return S.util.equals(ke,a,f)}}ke.runtime=S,ke.typeName="google.protobuf.DescriptorProto",ke.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:pt,repeated:!0},{no:6,name:"extension",kind:"message",T:pt,repeated:!0},{no:3,name:"nested_type",kind:"message",T:ke,repeated:!0},{no:4,name:"enum_type",kind:"message",T:Ct,repeated:!0},{no:5,name:"extension_range",kind:"message",T:be,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:qt,repeated:!0},{no:7,name:"options",kind:"message",T:cn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:Je,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class be extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new be().fromBinary(a,f)}static fromJson(a,f){return new be().fromJson(a,f)}static fromJsonString(a,f){return new be().fromJsonString(a,f)}static equals(a,f){return S.util.equals(be,a,f)}}be.runtime=S,be.typeName="google.protobuf.DescriptorProto.ExtensionRange",be.fields=S.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Ge,opt:!0}]);class Je extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Je().fromBinary(a,f)}static fromJson(a,f){return new Je().fromJson(a,f)}static fromJsonString(a,f){return new Je().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Je,a,f)}}Je.runtime=S,Je.typeName="google.protobuf.DescriptorProto.ReservedRange",Je.fields=S.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Ge extends K.v{constructor(a){super(),this.uninterpretedOption=[],this.declaration=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Ge().fromBinary(a,f)}static fromJson(a,f){return new Ge().fromJson(a,f)}static fromJsonString(a,f){return new Ge().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ge,a,f)}}Ge.runtime=S,Ge.typeName="google.protobuf.ExtensionRangeOptions",Ge.fields=S.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0},{no:2,name:"declaration",kind:"message",T:Ft,repeated:!0},{no:50,name:"features",kind:"message",T:ze,opt:!0},{no:3,name:"verification",kind:"enum",T:S.getEnumType(Bt),opt:!0,default:Bt.UNVERIFIED}]);var Bt;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(Bt||(Bt={})),S.util.setEnumType(Bt,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Ft extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Ft().fromBinary(a,f)}static fromJson(a,f){return new Ft().fromJson(a,f)}static fromJsonString(a,f){return new Ft().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ft,a,f)}}Ft.runtime=S,Ft.typeName="google.protobuf.ExtensionRangeOptions.Declaration",Ft.fields=S.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class pt extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new pt().fromBinary(a,f)}static fromJson(a,f){return new pt().fromJson(a,f)}static fromJsonString(a,f){return new pt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(pt,a,f)}}pt.runtime=S,pt.typeName="google.protobuf.FieldDescriptorProto",pt.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:S.getEnumType(ln),opt:!0},{no:5,name:"type",kind:"enum",T:S.getEnumType(we),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:$n,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var we;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(we||(we={})),S.util.setEnumType(we,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var ln;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(ln||(ln={})),S.util.setEnumType(ln,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class qt extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new qt().fromBinary(a,f)}static fromJson(a,f){return new qt().fromJson(a,f)}static fromJsonString(a,f){return new qt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(qt,a,f)}}qt.runtime=S,qt.typeName="google.protobuf.OneofDescriptorProto",qt.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:jn,opt:!0}]);class Ct extends K.v{constructor(a){super(),this.value=[],this.reservedRange=[],this.reservedName=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Ct().fromBinary(a,f)}static fromJson(a,f){return new Ct().fromJson(a,f)}static fromJsonString(a,f){return new Ct().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ct,a,f)}}Ct.runtime=S,Ct.typeName="google.protobuf.EnumDescriptorProto",Ct.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Ut,repeated:!0},{no:3,name:"options",kind:"message",T:gt,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Gt,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Gt extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Gt().fromBinary(a,f)}static fromJson(a,f){return new Gt().fromJson(a,f)}static fromJsonString(a,f){return new Gt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Gt,a,f)}}Gt.runtime=S,Gt.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Gt.fields=S.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Ut extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Ut().fromBinary(a,f)}static fromJson(a,f){return new Ut().fromJson(a,f)}static fromJsonString(a,f){return new Ut().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ut,a,f)}}Ut.runtime=S,Ut.typeName="google.protobuf.EnumValueDescriptorProto",Ut.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Vn,opt:!0}]);class Jt extends K.v{constructor(a){super(),this.method=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Jt().fromBinary(a,f)}static fromJson(a,f){return new Jt().fromJson(a,f)}static fromJsonString(a,f){return new Jt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Jt,a,f)}}Jt.runtime=S,Jt.typeName="google.protobuf.ServiceDescriptorProto",Jt.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:ut,repeated:!0},{no:3,name:"options",kind:"message",T:zn,opt:!0}]);class ut extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new ut().fromBinary(a,f)}static fromJson(a,f){return new ut().fromJson(a,f)}static fromJsonString(a,f){return new ut().fromJsonString(a,f)}static equals(a,f){return S.util.equals(ut,a,f)}}ut.runtime=S,ut.typeName="google.protobuf.MethodDescriptorProto",ut.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:Wn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class fe extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new fe().fromBinary(a,f)}static fromJson(a,f){return new fe().fromJson(a,f)}static fromJsonString(a,f){return new fe().fromJsonString(a,f)}static equals(a,f){return S.util.equals(fe,a,f)}}fe.runtime=S,fe.typeName="google.protobuf.FileOptions",fe.fields=S.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:S.getEnumType(rr),opt:!0,default:rr.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);var rr;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(rr||(rr={})),S.util.setEnumType(rr,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class cn extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new cn().fromBinary(a,f)}static fromJson(a,f){return new cn().fromJson(a,f)}static fromJsonString(a,f){return new cn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(cn,a,f)}}cn.runtime=S,cn.typeName="google.protobuf.MessageOptions",cn.fields=S.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);class $n extends K.v{constructor(a){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new $n().fromBinary(a,f)}static fromJson(a,f){return new $n().fromJson(a,f)}static fromJsonString(a,f){return new $n().fromJsonString(a,f)}static equals(a,f){return S.util.equals($n,a,f)}}$n.runtime=S,$n.typeName="google.protobuf.FieldOptions",$n.fields=S.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:S.getEnumType(Ur),opt:!0,default:Ur.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:S.getEnumType(hr),opt:!0,default:hr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:S.getEnumType(Jr),opt:!0},{no:19,name:"targets",kind:"enum",T:S.getEnumType(pi),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:Ht,repeated:!0},{no:21,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);var Ur;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Ur||(Ur={})),S.util.setEnumType(Ur,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var hr;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(hr||(hr={})),S.util.setEnumType(hr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var Jr;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Jr||(Jr={})),S.util.setEnumType(Jr,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var pi;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(pi||(pi={})),S.util.setEnumType(pi,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class Ht extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Ht().fromBinary(a,f)}static fromJson(a,f){return new Ht().fromJson(a,f)}static fromJsonString(a,f){return new Ht().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ht,a,f)}}Ht.runtime=S,Ht.typeName="google.protobuf.FieldOptions.EditionDefault",Ht.fields=S.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:S.getEnumType(ae),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class jn extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new jn().fromBinary(a,f)}static fromJson(a,f){return new jn().fromJson(a,f)}static fromJsonString(a,f){return new jn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(jn,a,f)}}jn.runtime=S,jn.typeName="google.protobuf.OneofOptions",jn.fields=S.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);class gt extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new gt().fromBinary(a,f)}static fromJson(a,f){return new gt().fromJson(a,f)}static fromJsonString(a,f){return new gt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(gt,a,f)}}gt.runtime=S,gt.typeName="google.protobuf.EnumOptions",gt.fields=S.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);class Vn extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Vn().fromBinary(a,f)}static fromJson(a,f){return new Vn().fromJson(a,f)}static fromJsonString(a,f){return new Vn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Vn,a,f)}}Vn.runtime=S,Vn.typeName="google.protobuf.EnumValueOptions",Vn.fields=S.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:ze,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);class zn extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new zn().fromBinary(a,f)}static fromJson(a,f){return new zn().fromJson(a,f)}static fromJsonString(a,f){return new zn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(zn,a,f)}}zn.runtime=S,zn.typeName="google.protobuf.ServiceOptions",zn.fields=S.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:ze,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);class Wn extends K.v{constructor(a){super(),this.uninterpretedOption=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Wn().fromBinary(a,f)}static fromJson(a,f){return new Wn().fromJson(a,f)}static fromJsonString(a,f){return new Wn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Wn,a,f)}}Wn.runtime=S,Wn.typeName="google.protobuf.MethodOptions",Wn.fields=S.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:S.getEnumType(Yn),opt:!0,default:Yn.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:ze,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:lt,repeated:!0}]);var Yn;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(Yn||(Yn={})),S.util.setEnumType(Yn,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class lt extends K.v{constructor(a){super(),this.name=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new lt().fromBinary(a,f)}static fromJson(a,f){return new lt().fromJson(a,f)}static fromJsonString(a,f){return new lt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(lt,a,f)}}lt.runtime=S,lt.typeName="google.protobuf.UninterpretedOption",lt.fields=S.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:fn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class fn extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new fn().fromBinary(a,f)}static fromJson(a,f){return new fn().fromJson(a,f)}static fromJsonString(a,f){return new fn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(fn,a,f)}}fn.runtime=S,fn.typeName="google.protobuf.UninterpretedOption.NamePart",fn.fields=S.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class ze extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new ze().fromBinary(a,f)}static fromJson(a,f){return new ze().fromJson(a,f)}static fromJsonString(a,f){return new ze().fromJsonString(a,f)}static equals(a,f){return S.util.equals(ze,a,f)}}ze.runtime=S,ze.typeName="google.protobuf.FeatureSet",ze.fields=S.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:S.getEnumType($r),opt:!0},{no:2,name:"enum_type",kind:"enum",T:S.getEnumType(gi),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:S.getEnumType(Xt),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:S.getEnumType(yi),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:S.getEnumType(vi),opt:!0},{no:6,name:"json_format",kind:"enum",T:S.getEnumType(Ti),opt:!0}]);var $r;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})($r||($r={})),S.util.setEnumType($r,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var gi;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(gi||(gi={})),S.util.setEnumType(gi,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var Xt;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(Xt||(Xt={})),S.util.setEnumType(Xt,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var yi;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.NONE=1]="NONE",h[h.VERIFY=2]="VERIFY"})(yi||(yi={})),S.util.setEnumType(yi,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var vi;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(vi||(vi={})),S.util.setEnumType(vi,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var Ti;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Ti||(Ti={})),S.util.setEnumType(Ti,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class X extends K.v{constructor(a){super(),this.defaults=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new X().fromBinary(a,f)}static fromJson(a,f){return new X().fromJson(a,f)}static fromJsonString(a,f){return new X().fromJsonString(a,f)}static equals(a,f){return S.util.equals(X,a,f)}}X.runtime=S,X.typeName="google.protobuf.FeatureSetDefaults",X.fields=S.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Ze,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:S.getEnumType(ae),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:S.getEnumType(ae),opt:!0}]);class Ze extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Ze().fromBinary(a,f)}static fromJson(a,f){return new Ze().fromJson(a,f)}static fromJsonString(a,f){return new Ze().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ze,a,f)}}Ze.runtime=S,Ze.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Ze.fields=S.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:S.getEnumType(ae),opt:!0},{no:2,name:"features",kind:"message",T:ze,opt:!0}]);class Ce extends K.v{constructor(a){super(),this.location=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Ce().fromBinary(a,f)}static fromJson(a,f){return new Ce().fromJson(a,f)}static fromJsonString(a,f){return new Ce().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Ce,a,f)}}Ce.runtime=S,Ce.typeName="google.protobuf.SourceCodeInfo",Ce.fields=S.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Fe,repeated:!0}]);class Fe extends K.v{constructor(a){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Fe().fromBinary(a,f)}static fromJson(a,f){return new Fe().fromJson(a,f)}static fromJsonString(a,f){return new Fe().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Fe,a,f)}}Fe.runtime=S,Fe.typeName="google.protobuf.SourceCodeInfo.Location",Fe.fields=S.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class kn extends K.v{constructor(a){super(),this.annotation=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new kn().fromBinary(a,f)}static fromJson(a,f){return new kn().fromJson(a,f)}static fromJsonString(a,f){return new kn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(kn,a,f)}}kn.runtime=S,kn.typeName="google.protobuf.GeneratedCodeInfo",kn.fields=S.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Nn,repeated:!0}]);class Nn extends K.v{constructor(a){super(),this.path=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new Nn().fromBinary(a,f)}static fromJson(a,f){return new Nn().fromJson(a,f)}static fromJsonString(a,f){return new Nn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Nn,a,f)}}Nn.runtime=S,Nn.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Nn.fields=S.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:S.getEnumType(jr),opt:!0}]);var jr;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(jr||(jr={})),S.util.setEnumType(jr,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function Ar(h,a){const f=h.values.find(A=>A.name===a);return(0,N.hu)(f,`cannot parse ${h.name} default value: ${a}`),f.number}function dn(h,a){switch(h){case w.w.STRING:return a;case w.w.BYTES:{const f=xe(a);if(f===!1)throw new Error(`cannot parse ${w.w[h]} default value: ${a}`);return f}case w.w.INT64:case w.w.SFIXED64:case w.w.SINT64:return R.q.parse(a);case w.w.UINT64:case w.w.FIXED64:return R.q.uParse(a);case w.w.DOUBLE:case w.w.FLOAT:switch(a){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(a)}case w.w.BOOL:return a==="true";case w.w.INT32:case w.w.UINT32:case w.w.SINT32:case w.w.FIXED32:case w.w.SFIXED32:return parseInt(a,10)}}function xe(h){const a=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(A){if(this.tail.length>=A){const x=this.tail.substring(0,A);return this.tail=this.tail.substring(A),x}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":a.push(f.c.charCodeAt(0));break;case"b":a.push(8);break;case"f":a.push(12);break;case"n":a.push(10);break;case"r":a.push(13);break;case"t":a.push(9);break;case"v":a.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const A=f.c,x=f.take(2);if(x===!1)return!1;const U=parseInt(A+x,8);if(isNaN(U))return!1;a.push(U);break}case"x":{const A=f.c,x=f.take(2);if(x===!1)return!1;const U=parseInt(A+x,16);if(isNaN(U))return!1;a.push(U);break}case"u":{const A=f.c,x=f.take(4);if(x===!1)return!1;const U=parseInt(A+x,16);if(isNaN(U))return!1;const $=new Uint8Array(4);new DataView($.buffer).setInt32(0,U,!0),a.push($[0],$[1],$[2],$[3]);break}case"U":{const A=f.c,x=f.take(8);if(x===!1)return!1;const U=R.q.uEnc(A+x),$=new Uint8Array(8),G=new DataView($.buffer);G.setInt32(0,U.lo,!0),G.setInt32(4,U.hi,!0),a.push($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7]);break}}break;default:a.push(f.c.charCodeAt(0))}return new Uint8Array(a)}const ji=X.fromBinary(V.W.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function Ds(h){const a=h.minimumEdition,f=h.maximumEdition;if(a===void 0||f===void 0||h.defaults.some(x=>x.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const A=new Map;return(x,...U)=>{var $,G;let W=A.get(x);if(W===void 0){if(x<a)throw new Error(`Edition ${ae[x]} is earlier than the minimum supported edition ${ae[a]}`);if(f<x)throw new Error(`Edition ${ae[x]} is later than the maximum supported edition ${ae[f]}`);let ue;for(const Te of h.defaults){const je=($=Te.edition)!==null&&$!==void 0?$:0;je>x||ue!==void 0&&ue.e>je||(ue={e:je,f:(G=Te.features)!==null&&G!==void 0?G:new ze})}if(ue===void 0)throw new Error(`No valid default found for edition ${ae[x]}`);W=ue.f.toBinary(),A.set(x,W)}const se=ze.fromBinary(W);for(const ue of U)ue!==void 0&&se.fromBinary(ue.toBinary());if(!In(se))throw new Error(`Invalid FeatureSet for edition ${ae[x]}`);return se}}function In(h){for(const a of ze.fields.list()){const f=h[a.localName];if(f===void 0||a.kind=="enum"&&f===0)return!1}return!0}function xs(h,a){var f;const A={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:Ds((f=a==null?void 0:a.featureSetDefaults)!==null&&f!==void 0?f:ji)},U=(h instanceof ve?h.file:h instanceof Uint8Array?ve.fromBinary(h).file:h).map($=>ou($,A));return Object.assign({files:U},A)}function ou(h,a){var f,A;(0,N.hu)(h.name,"invalid FileDescriptorProto: missing name");const x=Object.assign(Object.assign({kind:"file",proto:h,deprecated:(A=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&A!==void 0?A:!1},Do(h.syntax,h.edition)),{name:h.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return _t(this.proto.sourceCodeInfo,[ft.FileDescriptorProto_Syntax])},getPackageComments(){return _t(this.proto.sourceCodeInfo,[ft.FileDescriptorProto_Package])},getFeatures(){var U;return a.resolveFeatures(this.edition,(U=this.proto.options)===null||U===void 0?void 0:U.features)}});a.mapEntries.clear();for(const U of h.enumType)Rs(U,x,void 0,a);for(const U of h.messageType)bs(U,x,void 0,a);for(const U of h.service)An(U,x,a);mr(x,a);for(const U of a.mapEntries.values())Vi(U,a);for(const U of x.messages)Vi(U,a),mr(U,a);return a.mapEntries.clear(),x}function mr(h,a){switch(h.kind){case"file":for(const f of h.proto.extension){const A=zi(f,h,void 0,a);h.extensions.push(A),a.extensions.set(A.typeName,A)}break;case"message":for(const f of h.proto.extension){const A=zi(f,h.file,h,a);h.nestedExtensions.push(A),a.extensions.set(A.typeName,A)}for(const f of h.nestedMessages)mr(f,a);break}}function Vi(h,a){const f=h.proto.oneofDecl.map(x=>Vr(x,h,a)),A=new Set;for(const x of h.proto.field){const U=Tt(x,f),$=Ls(x,h.file,h,U,a);h.fields.push($),U===void 0?h.members.push($):(U.fields.push($),A.has(U)||(A.add(U),h.members.push(U)))}for(const x of f.filter(U=>A.has(U)))h.oneofs.push(x);for(const x of h.nestedMessages)Vi(x,a)}function Rs(h,a,f,A){var x,U,$;(0,N.hu)(h.name,"invalid EnumDescriptorProto: missing name");const G={kind:"enum",proto:h,deprecated:(U=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&U!==void 0?U:!1,file:a,parent:f,name:h.name,typeName:wi(h,f,a),values:[],sharedPrefix:(0,E.Sm)(h.name,h.value.map(W=>{var se;return(se=W.name)!==null&&se!==void 0?se:""})),toString(){return`enum ${this.typeName}`},getComments(){const W=this.parent?[...this.parent.getComments().sourcePath,ft.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[ft.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return _t(a.proto.sourceCodeInfo,W)},getFeatures(){var W,se,ue;const Te=(se=(W=this.parent)===null||W===void 0?void 0:W.getFeatures())!==null&&se!==void 0?se:this.file.getFeatures();return A.resolveFeatures(this.file.edition,Te,(ue=this.proto.options)===null||ue===void 0?void 0:ue.features)}};A.enums.set(G.typeName,G),h.value.forEach(W=>{var se,ue;(0,N.hu)(W.name,"invalid EnumValueDescriptorProto: missing name"),(0,N.hu)(W.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),G.values.push({kind:"enum_value",proto:W,deprecated:(ue=(se=W.options)===null||se===void 0?void 0:se.deprecated)!==null&&ue!==void 0?ue:!1,parent:G,name:W.name,number:W.number,toString(){return`enum value ${G.typeName}.${this.name}`},declarationString(){var Te;let je=`${this.name} = ${this.number}`;return((Te=this.proto.options)===null||Te===void 0?void 0:Te.deprecated)===!0&&(je+=" [deprecated = true]"),je},getComments(){const Te=[...this.parent.getComments().sourcePath,ft.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return _t(a.proto.sourceCodeInfo,Te)},getFeatures(){var Te;return A.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(Te=this.proto.options)===null||Te===void 0?void 0:Te.features)}})}),(($=f==null?void 0:f.nestedEnums)!==null&&$!==void 0?$:a.enums).push(G)}function bs(h,a,f,A){var x,U,$,G;(0,N.hu)(h.name,"invalid DescriptorProto: missing name");const W={kind:"message",proto:h,deprecated:(U=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&U!==void 0?U:!1,file:a,parent:f,name:h.name,typeName:wi(h,f,a),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const se=this.parent?[...this.parent.getComments().sourcePath,ft.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[ft.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return _t(a.proto.sourceCodeInfo,se)},getFeatures(){var se,ue,Te;const je=(ue=(se=this.parent)===null||se===void 0?void 0:se.getFeatures())!==null&&ue!==void 0?ue:this.file.getFeatures();return A.resolveFeatures(this.file.edition,je,(Te=this.proto.options)===null||Te===void 0?void 0:Te.features)}};(($=h.options)===null||$===void 0?void 0:$.mapEntry)===!0?A.mapEntries.set(W.typeName,W):(((G=f==null?void 0:f.nestedMessages)!==null&&G!==void 0?G:a.messages).push(W),A.messages.set(W.typeName,W));for(const se of h.enumType)Rs(se,a,W,A);for(const se of h.nestedType)bs(se,a,W,A)}function An(h,a,f){var A,x;(0,N.hu)(h.name,"invalid ServiceDescriptorProto: missing name");const U={kind:"service",proto:h,deprecated:(x=(A=h.options)===null||A===void 0?void 0:A.deprecated)!==null&&x!==void 0?x:!1,file:a,name:h.name,typeName:wi(h,void 0,a),methods:[],toString(){return`service ${this.typeName}`},getComments(){const $=[ft.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return _t(a.proto.sourceCodeInfo,$)},getFeatures(){var $;return f.resolveFeatures(this.file.edition,this.file.getFeatures(),($=this.proto.options)===null||$===void 0?void 0:$.features)}};a.services.push(U),f.services.set(U.typeName,U);for(const $ of h.method)U.methods.push(ir($,U,f))}function ir(h,a,f){var A,x,U;(0,N.hu)(h.name,"invalid MethodDescriptorProto: missing name"),(0,N.hu)(h.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,N.hu)(h.outputType,"invalid MethodDescriptorProto: missing output_type");let $;h.clientStreaming===!0&&h.serverStreaming===!0?$=me.t.BiDiStreaming:h.clientStreaming===!0?$=me.t.ClientStreaming:h.serverStreaming===!0?$=me.t.ServerStreaming:$=me.t.Unary;let G;switch((A=h.options)===null||A===void 0?void 0:A.idempotencyLevel){case Yn.IDEMPOTENT:G=me.w.Idempotent;break;case Yn.NO_SIDE_EFFECTS:G=me.w.NoSideEffects;break;case Yn.IDEMPOTENCY_UNKNOWN:case void 0:G=void 0;break}const W=f.messages.get(ct(h.inputType)),se=f.messages.get(ct(h.outputType));(0,N.hu)(W,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),(0,N.hu)(se,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ue=h.name;return{kind:"rpc",proto:h,deprecated:(U=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&U!==void 0?U:!1,parent:a,name:ue,methodKind:$,input:W,output:se,idempotency:G,toString(){return`rpc ${a.typeName}.${ue}`},getComments(){const Te=[...this.parent.getComments().sourcePath,ft.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return _t(a.file.proto.sourceCodeInfo,Te)},getFeatures(){var Te;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(Te=this.proto.options)===null||Te===void 0?void 0:Te.features)}}}function Vr(h,a,f){return(0,N.hu)(h.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:h,deprecated:!1,parent:a,fields:[],name:h.name,toString(){return`oneof ${a.typeName}.${this.name}`},getComments(){const A=[...this.parent.getComments().sourcePath,ft.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return _t(a.file.proto.sourceCodeInfo,A)},getFeatures(){var A;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(A=this.proto.options)===null||A===void 0?void 0:A.features)}}}function Ls(h,a,f,A,x){var U,$,G;(0,N.hu)(h.name,"invalid FieldDescriptorProto: missing name"),(0,N.hu)(h.number,"invalid FieldDescriptorProto: missing number"),(0,N.hu)(h.type,"invalid FieldDescriptorProto: missing type");const W={proto:h,deprecated:($=(U=h.options)===null||U===void 0?void 0:U.deprecated)!==null&&$!==void 0?$:!1,name:h.name,number:h.number,parent:f,oneof:A,optional:Ee(h,a.syntax),packedByDefault:Ae(a,h,x.resolveFeatures),packed:Kn(a,f,h,x.resolveFeatures),jsonName:h.jsonName===(0,E.x1)(h.name)?void 0:h.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:Pn,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const ue=[...this.parent.getComments().sourcePath,ft.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return _t(a.proto.sourceCodeInfo,ue)},getFeatures(){var ue;return x.resolveFeatures(a.edition,this.parent.getFeatures(),(ue=this.proto.options)===null||ue===void 0?void 0:ue.features)}},se=h.label===ln.REPEATED;switch(h.type){case we.MESSAGE:case we.GROUP:{(0,N.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ue=x.mapEntries.get(ct(h.typeName));if(ue!==void 0)return(0,N.hu)(se,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},W),{kind:"field",fieldKind:"map",repeated:!1}),ie(ue));const Te=x.messages.get(ct(h.typeName));return(0,N.hu)(Te!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"message",repeated:se,message:Te})}case we.ENUM:{(0,N.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ue=x.enums.get(ct(h.typeName));return(0,N.hu)(ue!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"enum",getDefaultValue:Wi,repeated:se,enum:ue})}default:{const ue=xo[h.type];return(0,N.hu)(ue,`invalid FieldDescriptorProto: unknown type ${h.type}`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"scalar",getDefaultValue:Wi,repeated:se,scalar:ue,longType:((G=h.options)===null||G===void 0?void 0:G.jstype)==hr.JS_STRING?w.p.STRING:w.p.BIGINT})}}}function zi(h,a,f,A){(0,N.hu)(h.extendee,"invalid FieldDescriptorProto: missing extendee");const x=Ls(h,a,null,void 0,A),U=A.messages.get(ct(h.extendee));return(0,N.hu)(U,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),Object.assign(Object.assign({},x),{kind:"extension",typeName:wi(h,f,a),parent:f,file:a,extendee:U,toString(){return`extension ${this.typeName}`},getComments(){const $=this.parent?[...this.parent.getComments().sourcePath,ft.DescriptorProto_Extension,this.parent.proto.extension.indexOf(h)]:[ft.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(h)];return _t(a.proto.sourceCodeInfo,$)},getFeatures(){var $,G;return A.resolveFeatures(this.file.edition,(($=this.parent)!==null&&$!==void 0?$:this.file).getFeatures(),(G=this.proto.options)===null||G===void 0?void 0:G.features)}})}function Do(h,a){let f,A;switch(h){case void 0:case"proto2":A="proto2",f=ae.EDITION_PROTO2;break;case"proto3":A="proto3",f=ae.EDITION_PROTO3;break;case"editions":switch(A="editions",a){case void 0:case ae.EDITION_1_TEST_ONLY:case ae.EDITION_2_TEST_ONLY:case ae.EDITION_99997_TEST_ONLY:case ae.EDITION_99998_TEST_ONLY:case ae.EDITION_99999_TEST_ONLY:case ae.EDITION_UNKNOWN:f=ae.EDITION_UNKNOWN;break;default:f=a;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${h}`)}if(h==="editions"&&a===ae.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${h} cannot have edition ${String(a)}`);return{syntax:A,edition:f}}function wi(h,a,f){(0,N.hu)(h.name,`invalid ${h.getType().typeName}: missing name`);let A;return a?A=`${a.typeName}.${h.name}`:f.proto.package!==void 0?A=`${f.proto.package}.${h.name}`:A=`${h.name}`,A}function ct(h){return h.startsWith(".")?h.substring(1):h}function ie(h){var a,f;(0,N.hu)((a=h.proto.options)===null||a===void 0?void 0:a.mapEntry,`invalid DescriptorProto: expected ${h.toString()} to be a map entry`),(0,N.hu)(h.fields.length===2,`invalid DescriptorProto: map entry ${h.toString()} has ${h.fields.length} fields`);const A=h.fields.find($=>$.proto.number===1);(0,N.hu)(A,`invalid DescriptorProto: map entry ${h.toString()} is missing key field`);const x=A.scalar;(0,N.hu)(x!==void 0&&x!==w.w.BYTES&&x!==w.w.FLOAT&&x!==w.w.DOUBLE,`invalid DescriptorProto: map entry ${h.toString()} has unexpected key type ${(f=A.proto.type)!==null&&f!==void 0?f:-1}`);const U=h.fields.find($=>$.proto.number===2);switch((0,N.hu)(U,`invalid DescriptorProto: map entry ${h.toString()} is missing value field`),U.fieldKind){case"scalar":return{mapKey:x,mapValue:Object.assign(Object.assign({},U),{kind:"scalar"})};case"message":return{mapKey:x,mapValue:Object.assign(Object.assign({},U),{kind:"message"})};case"enum":return{mapKey:x,mapValue:Object.assign(Object.assign({},U),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function Tt(h,a){var f;const A=h.oneofIndex;if(A===void 0)return;let x;return h.proto3Optional!==!0&&(x=a[A],(0,N.hu)(x,`invalid FieldDescriptorProto: oneof #${A} for field #${(f=h.number)!==null&&f!==void 0?f:-1} not found`)),x}function Ee(h,a){switch(a){case"proto2":return h.oneofIndex===void 0&&h.label===ln.OPTIONAL;case"proto3":return h.proto3Optional===!0;case"editions":return!1}}function Ae(h,a,f){const{repeatedFieldEncoding:A}=f(h.edition);if(A!=Xt.PACKED)return!1;switch(a.type){case we.STRING:case we.BYTES:case we.GROUP:case we.MESSAGE:return!1;default:return!0}}function Kn(h,a,f,A){var x,U,$,G,W,se;switch(f.type){case we.STRING:case we.BYTES:case we.GROUP:case we.MESSAGE:return!1;default:switch(h.edition){case ae.EDITION_PROTO2:return(U=(x=f.options)===null||x===void 0?void 0:x.packed)!==null&&U!==void 0?U:!1;case ae.EDITION_PROTO3:return(G=($=f.options)===null||$===void 0?void 0:$.packed)!==null&&G!==void 0?G:!0;default:{const{repeatedFieldEncoding:ue}=A(h.edition,(W=a==null?void 0:a.getFeatures())!==null&&W!==void 0?W:h.getFeatures(),(se=f.options)===null||se===void 0?void 0:se.features);return ue==Xt.PACKED}}}}const xo={[we.DOUBLE]:w.w.DOUBLE,[we.FLOAT]:w.w.FLOAT,[we.INT64]:w.w.INT64,[we.UINT64]:w.w.UINT64,[we.INT32]:w.w.INT32,[we.FIXED64]:w.w.FIXED64,[we.FIXED32]:w.w.FIXED32,[we.BOOL]:w.w.BOOL,[we.STRING]:w.w.STRING,[we.GROUP]:void 0,[we.MESSAGE]:void 0,[we.BYTES]:w.w.BYTES,[we.UINT32]:w.w.UINT32,[we.ENUM]:void 0,[we.SFIXED32]:w.w.SFIXED32,[we.SFIXED64]:w.w.SFIXED64,[we.SINT32]:w.w.SINT32,[we.SINT64]:w.w.SINT64};function _t(h,a){if(!h)return{leadingDetached:[],sourcePath:a};for(const f of h.location)if(f.path.length===a.length&&!f.path.some((A,x)=>a[x]!==A))return{leadingDetached:f.leadingDetachedComments,leading:f.leadingComments,trailing:f.trailingComments,sourcePath:a};return{leadingDetached:[],sourcePath:a}}var ft;(function(h){h[h.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",h[h.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",h[h.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",h[h.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",h[h.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",h[h.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",h[h.DescriptorProto_Field=2]="DescriptorProto_Field",h[h.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",h[h.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",h[h.DescriptorProto_Extension=6]="DescriptorProto_Extension",h[h.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",h[h.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",h[h.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(ft||(ft={}));function Pn(){var h,a,f;const A=[];this.repeated&&A.push("repeated"),this.optional&&A.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===ln.REQUIRED&&A.push("required");let U;switch(this.fieldKind){case"scalar":U=w.w[this.scalar].toLowerCase();break;case"enum":U=this.enum.typeName;break;case"message":U=this.message.typeName;break;case"map":{const W=w.w[this.mapKey].toLowerCase();let se;switch(this.mapValue.kind){case"scalar":se=w.w[this.mapValue.scalar].toLowerCase();break;case"enum":se=this.mapValue.enum.typeName;break;case"message":se=this.mapValue.message.typeName;break}U=`map<${W}, ${se}>`;break}}A.push(`${U} ${this.name} = ${this.number}`);const $=[];((h=this.proto.options)===null||h===void 0?void 0:h.packed)!==void 0&&$.push(`packed = ${this.proto.options.packed.toString()}`);let G=this.proto.defaultValue;return G!==void 0&&((this.proto.type==we.BYTES||this.proto.type==we.STRING)&&(G='"'+G.replace('"','\\"')+'"'),$.push(`default = ${G}`)),this.jsonName!==void 0&&$.push(`json_name = "${this.jsonName}"`),((a=this.proto.options)===null||a===void 0?void 0:a.jstype)!==void 0&&$.push(`jstype = ${hr[this.proto.options.jstype]}`),((f=this.proto.options)===null||f===void 0?void 0:f.deprecated)===!0&&$.push("deprecated = true"),$.length>0&&A.push("["+$.join(", ")+"]"),A.join(" ")}function Wi(){const h=this.proto.defaultValue;if(h!==void 0)switch(this.fieldKind){case"enum":return Ar(this.enum,h);case"scalar":return dn(this.scalar,h);default:return}}function Ro(...h){const a={},f={},A={},x={add(U){if("fields"in U){if(!this.findMessage(U.typeName)){a[U.typeName]=U;for(const $ of U.fields.list())$.kind=="message"?this.add($.T):$.kind=="map"&&$.V.kind=="message"?this.add($.V.T):$.kind=="enum"&&this.add($.T)}}else if("methods"in U){if(!this.findService(U.typeName)){A[U.typeName]=U;for(const $ of Object.values(U.methods))this.add($.I),this.add($.O)}}else f[U.typeName]=U},findMessage(U){return a[U]},findEnum(U){return f[U]},findService(U){return A[U]}};for(const U of h)x.add(U);return x}class hn extends K.v{constructor(a){super(),this.seconds=R.q.zero,this.nanos=0,p.w.util.initPartial(a,this)}fromJson(a,f){if(typeof a!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${p.w.json.debug(a)}`);const A=a.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!A)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const x=Date.parse(A[1]+"-"+A[2]+"-"+A[3]+"T"+A[4]+":"+A[5]+":"+A[6]+(A[8]?A[8]:"Z"));if(Number.isNaN(x))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(x<Date.parse("0001-01-01T00:00:00Z")||x>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=R.q.parse(x/1e3),this.nanos=0,A[7]&&(this.nanos=parseInt("1"+A[7]+"0".repeat(9-A[7].length))-1e9),this}toJson(a){const f=Number(this.seconds)*1e3;if(f<Date.parse("0001-01-01T00:00:00Z")||f>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let A="Z";if(this.nanos>0){const x=(this.nanos+1e9).toString().substring(1);x.substring(3)==="000000"?A="."+x.substring(0,3)+"Z":x.substring(6)==="000"?A="."+x.substring(0,6)+"Z":A="."+x+"Z"}return new Date(f).toISOString().replace(".000Z",A)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return hn.fromDate(new Date)}static fromDate(a){const f=a.getTime();return new hn({seconds:R.q.parse(Math.floor(f/1e3)),nanos:f%1e3*1e6})}static fromBinary(a,f){return new hn().fromBinary(a,f)}static fromJson(a,f){return new hn().fromJson(a,f)}static fromJsonString(a,f){return new hn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(hn,a,f)}}hn.runtime=p.w,hn.typeName="google.protobuf.Timestamp",hn.fields=p.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class $e extends K.v{constructor(a){super(),this.seconds=R.q.zero,this.nanos=0,p.w.util.initPartial(a,this)}fromJson(a,f){if(typeof a!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(a)}`);const A=a.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(A===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(a)}`);const x=Number(A[1]);if(x>315576e6||x<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(a)}`);if(this.seconds=R.q.parse(x),typeof A[2]=="string"){const U=A[2]+"0".repeat(9-A[2].length);this.nanos=parseInt(U),(x<0||Object.is(x,-0))&&(this.nanos=-this.nanos)}return this}toJson(a){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let f=this.seconds.toString();if(this.nanos!==0){let A=Math.abs(this.nanos).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),f+="."+A,this.nanos<0&&Number(this.seconds)==0&&(f="-"+f)}return f+"s"}static fromBinary(a,f){return new $e().fromBinary(a,f)}static fromJson(a,f){return new $e().fromJson(a,f)}static fromJsonString(a,f){return new $e().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals($e,a,f)}}$e.runtime=p.w,$e.typeName="google.protobuf.Duration",$e.fields=p.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Yi=y(733);class qn extends K.v{constructor(a){super(),p.w.util.initPartial(a,this)}static fromBinary(a,f){return new qn().fromBinary(a,f)}static fromJson(a,f){return new qn().fromJson(a,f)}static fromJsonString(a,f){return new qn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(qn,a,f)}}qn.runtime=p.w,qn.typeName="google.protobuf.Empty",qn.fields=p.w.util.newFieldList(()=>[]);class Gn extends K.v{constructor(a){super(),this.paths=[],p.w.util.initPartial(a,this)}toJson(a){function f(A){let x=!1;const U=[];for(let $=0;$<A.length;$++){let G=A.charAt($);switch(G){case"_":x=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U.push(G),x=!1;break;default:x&&(x=!1,G=G.toUpperCase()),U.push(G);break}}return U.join("")}return this.paths.map(A=>{if(A.match(/_[0-9]?_/g)||A.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+A+'" is irreversible');return f(A)}).join(",")}fromJson(a,f){if(typeof a!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+p.w.json.debug(a));if(a==="")return this;function A(x){if(x.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const U=x.replace(/[A-Z]/g,$=>"_"+$.toLowerCase());return U[0]==="_"?U.substring(1):U}return this.paths=a.split(",").map(A),this}static fromBinary(a,f){return new Gn().fromBinary(a,f)}static fromJson(a,f){return new Gn().fromJson(a,f)}static fromJsonString(a,f){return new Gn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Gn,a,f)}}Gn.runtime=p.w,Gn.typeName="google.protobuf.FieldMask",Gn.fields=p.w.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var Dt;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(Dt||(Dt={})),p.w.util.setEnumType(Dt,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class $t extends K.v{constructor(a){super(),this.fields={},p.w.util.initPartial(a,this)}toJson(a){const f={};for(const[A,x]of Object.entries(this.fields))f[A]=x.toJson(a);return f}fromJson(a,f){if(typeof a!="object"||a==null||Array.isArray(a))throw new Error("cannot decode google.protobuf.Struct from JSON "+p.w.json.debug(a));for(const[A,x]of Object.entries(a))this.fields[A]=He.fromJson(x);return this}static fromBinary(a,f){return new $t().fromBinary(a,f)}static fromJson(a,f){return new $t().fromJson(a,f)}static fromJsonString(a,f){return new $t().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals($t,a,f)}}$t.runtime=p.w,$t.typeName="google.protobuf.Struct",$t.fields=p.w.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:He}}]);class He extends K.v{constructor(a){super(),this.kind={case:void 0},p.w.util.initPartial(a,this)}toJson(a){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},a),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(a,f){switch(typeof a){case"number":this.kind={case:"numberValue",value:a};break;case"string":this.kind={case:"stringValue",value:a};break;case"boolean":this.kind={case:"boolValue",value:a};break;case"object":a===null?this.kind={case:"nullValue",value:Dt.NULL_VALUE}:Array.isArray(a)?this.kind={case:"listValue",value:xt.fromJson(a)}:this.kind={case:"structValue",value:$t.fromJson(a)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+p.w.json.debug(a))}return this}static fromBinary(a,f){return new He().fromBinary(a,f)}static fromJson(a,f){return new He().fromJson(a,f)}static fromJsonString(a,f){return new He().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(He,a,f)}}He.runtime=p.w,He.typeName="google.protobuf.Value",He.fields=p.w.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:p.w.getEnumType(Dt),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:$t,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:xt,oneof:"kind"}]);class xt extends K.v{constructor(a){super(),this.values=[],p.w.util.initPartial(a,this)}toJson(a){return this.values.map(f=>f.toJson())}fromJson(a,f){if(!Array.isArray(a))throw new Error("cannot decode google.protobuf.ListValue from JSON "+p.w.json.debug(a));for(let A of a)this.values.push(He.fromJson(A));return this}static fromBinary(a,f){return new xt().fromBinary(a,f)}static fromJson(a,f){return new xt().fromJson(a,f)}static fromJsonString(a,f){return new xt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(xt,a,f)}}xt.runtime=p.w,xt.typeName="google.protobuf.ListValue",xt.fields=p.w.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:He,repeated:!0}]);var pr=y(609);class Qt extends K.v{constructor(a){super(),this.value=0,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.DOUBLE,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.DOUBLE,a)}catch(A){let x='cannot decode message google.protobuf.DoubleValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new Qt().fromBinary(a,f)}static fromJson(a,f){return new Qt().fromJson(a,f)}static fromJsonString(a,f){return new Qt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Qt,a,f)}}Qt.runtime=p.w,Qt.typeName="google.protobuf.DoubleValue",Qt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),Qt.fieldWrapper={wrapField(h){return new Qt({value:h})},unwrapField(h){return h.value}};class jt extends K.v{constructor(a){super(),this.value=0,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.FLOAT,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.FLOAT,a)}catch(A){let x='cannot decode message google.protobuf.FloatValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new jt().fromBinary(a,f)}static fromJson(a,f){return new jt().fromJson(a,f)}static fromJsonString(a,f){return new jt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(jt,a,f)}}jt.runtime=p.w,jt.typeName="google.protobuf.FloatValue",jt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),jt.fieldWrapper={wrapField(h){return new jt({value:h})},unwrapField(h){return h.value}};class Nt extends K.v{constructor(a){super(),this.value=R.q.zero,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.INT64,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.INT64,a)}catch(A){let x='cannot decode message google.protobuf.Int64Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new Nt().fromBinary(a,f)}static fromJson(a,f){return new Nt().fromJson(a,f)}static fromJsonString(a,f){return new Nt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Nt,a,f)}}Nt.runtime=p.w,Nt.typeName="google.protobuf.Int64Value",Nt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),Nt.fieldWrapper={wrapField(h){return new Nt({value:h})},unwrapField(h){return h.value}};class Ue extends K.v{constructor(a){super(),this.value=R.q.zero,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.UINT64,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.UINT64,a)}catch(A){let x='cannot decode message google.protobuf.UInt64Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new Ue().fromBinary(a,f)}static fromJson(a,f){return new Ue().fromJson(a,f)}static fromJsonString(a,f){return new Ue().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Ue,a,f)}}Ue.runtime=p.w,Ue.typeName="google.protobuf.UInt64Value",Ue.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),Ue.fieldWrapper={wrapField(h){return new Ue({value:h})},unwrapField(h){return h.value}};class We extends K.v{constructor(a){super(),this.value=0,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.INT32,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.INT32,a)}catch(A){let x='cannot decode message google.protobuf.Int32Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new We().fromBinary(a,f)}static fromJson(a,f){return new We().fromJson(a,f)}static fromJsonString(a,f){return new We().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(We,a,f)}}We.runtime=p.w,We.typeName="google.protobuf.Int32Value",We.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),We.fieldWrapper={wrapField(h){return new We({value:h})},unwrapField(h){return h.value}};class Xe extends K.v{constructor(a){super(),this.value=0,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.UINT32,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.UINT32,a)}catch(A){let x='cannot decode message google.protobuf.UInt32Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new Xe().fromBinary(a,f)}static fromJson(a,f){return new Xe().fromJson(a,f)}static fromJsonString(a,f){return new Xe().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Xe,a,f)}}Xe.runtime=p.w,Xe.typeName="google.protobuf.UInt32Value",Xe.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Xe.fieldWrapper={wrapField(h){return new Xe({value:h})},unwrapField(h){return h.value}};class Zt extends K.v{constructor(a){super(),this.value=!1,p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.BOOL,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.BOOL,a)}catch(A){let x='cannot decode message google.protobuf.BoolValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new Zt().fromBinary(a,f)}static fromJson(a,f){return new Zt().fromJson(a,f)}static fromJsonString(a,f){return new Zt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Zt,a,f)}}Zt.runtime=p.w,Zt.typeName="google.protobuf.BoolValue",Zt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Zt.fieldWrapper={wrapField(h){return new Zt({value:h})},unwrapField(h){return h.value}};class It extends K.v{constructor(a){super(),this.value="",p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.STRING,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.STRING,a)}catch(A){let x='cannot decode message google.protobuf.StringValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new It().fromBinary(a,f)}static fromJson(a,f){return new It().fromJson(a,f)}static fromJsonString(a,f){return new It().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(It,a,f)}}It.runtime=p.w,It.typeName="google.protobuf.StringValue",It.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),It.fieldWrapper={wrapField(h){return new It({value:h})},unwrapField(h){return h.value}};class he extends K.v{constructor(a){super(),this.value=new Uint8Array(0),p.w.util.initPartial(a,this)}toJson(a){return p.w.json.writeScalar(w.w.BYTES,this.value,!0)}fromJson(a,f){try{this.value=p.w.json.readScalar(w.w.BYTES,a)}catch(A){let x='cannot decode message google.protobuf.BytesValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(a,f){return new he().fromBinary(a,f)}static fromJson(a,f){return new he().fromJson(a,f)}static fromJsonString(a,f){return new he().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(he,a,f)}}he.runtime=p.w,he.typeName="google.protobuf.BytesValue",he.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),he.fieldWrapper={wrapField(h){return new he({value:h})},unwrapField(h){return h.value}};const Ye=[Yi.I,$e,qn,Gn,$t,He,xt,hn,$e,Qt,jt,Nt,We,Xe,Ue,Zt,It,he],Ki=[(0,pr.V3)(Dt)];function Si(h,a=!0){const f=h instanceof Uint8Array||h instanceof ve?xs(h):h,A={},x={},U={};if(a){for(const $ of Ye)x[$.typeName]=$;for(const $ of Ki)A[$.typeName]=$}return{findEnum($){const G=A[$];if(G)return G;const W=f.enums.get($);if(!W)return;const ue=(W.file.syntax=="proto3"?p.w:S).makeEnumType($,W.values.map(Te=>({no:Te.number,name:Te.name,localName:(0,E.r1)(Te)})),{});return A[$]=ue,ue},findMessage($){const G=x[$];if(G)return G;const W=f.messages.get($);if(!W)return;const se=W.file.syntax=="proto3"?p.w:S,ue=[],Te=se.makeMessageType($,()=>ue,{localName:(0,E.r1)(W)});x[$]=Te;for(const je of W.fields){const Se=en(je,this);ue.push(Se)}return Te},findService($){const G=U[$];if(G)return G;const W=f.services.get($);if(!W)return;const se={};for(const ue of W.methods){const Te=this.findMessage(ue.input.typeName),je=this.findMessage(ue.output.typeName);(0,N.hu)(Te,`message "${ue.input.typeName}" for ${ue.toString()} not found`),(0,N.hu)(je,`output message "${ue.output.typeName}" for ${ue.toString()} not found`),se[(0,E.r1)(ue)]={name:ue.name,I:Te,O:je,kind:ue.methodKind,idempotency:ue.idempotency}}return U[$]={typeName:W.typeName,methods:se}}}}function en(h,a){switch(h.fieldKind){case"map":return gr(h,a);case"message":return Ei(h,a);case"enum":{const f=yr(h,a);return f.default=h.getDefaultValue(),f}case"scalar":{const f=Pr(h);return f.default=h.getDefaultValue(),f}}}function gr(h,a){const f={kind:"map",no:h.number,name:h.name,jsonName:h.jsonName,K:h.mapKey};if(h.mapValue.message){const A=a.findMessage(h.mapValue.message.typeName);return(0,N.hu)(A,`message "${h.mapValue.message.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"message",T:A}})}if(h.mapValue.enum){const A=a.findEnum(h.mapValue.enum.typeName);return(0,N.hu)(A,`enum "${h.mapValue.enum.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"enum",T:A}})}return Object.assign(Object.assign({},f),{V:{kind:"scalar",T:h.mapValue.scalar}})}function Pr(h){const a=h.longType==w.p.STRING?{L:w.p.STRING}:{},f=Object.assign({kind:"scalar",no:h.number,name:h.name,jsonName:h.jsonName,T:h.scalar},a);return h.repeated?Object.assign(Object.assign({},f),{repeated:!0,packed:h.packed,oneof:void 0,T:h.scalar}):h.oneof?Object.assign(Object.assign({},f),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},f),{opt:!0}):f}function Ei(h,a){const f=a.findMessage(h.message.typeName);(0,N.hu)(f,`message "${h.message.typeName}" for ${h.toString()} not found`);const A={kind:"message",no:h.number,name:h.name,jsonName:h.jsonName,T:f,delimited:h.proto.type==we.GROUP};return h.repeated?Object.assign(Object.assign({},A),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},A),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},A),{opt:!0}):A}function yr(h,a){const f=a.findEnum(h.enum.typeName);(0,N.hu)(f,`enum "${h.enum.typeName}" for ${h.toString()} not found`);const A={kind:"enum",no:h.number,name:h.name,jsonName:h.jsonName,T:f};return h.repeated?Object.assign(Object.assign({},A),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},A),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},A),{opt:!0}):A}function qi(h){if(!(h instanceof K.v))return h;const a=h.getType(),f={};for(const A of a.fields.byMember()){const x=h[A.localName];let U;if(A.repeated)U=x.map($=>On($));else if(A.kind=="map"){U={};for(const[$,G]of Object.entries(x))U[$]=On(G)}else A.kind=="oneof"?U=A.findField(x.case)?{case:x.case,value:On(x.value)}:{case:void 0}:U=On(x);f[A.localName]=U}return f}function On(h){if(h===void 0)return h;if(h instanceof K.v)return qi(h);if(h instanceof Uint8Array){const a=new Uint8Array(h.byteLength);return a.set(h),a}return h}class tn extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new tn().fromBinary(a,f)}static fromJson(a,f){return new tn().fromJson(a,f)}static fromJsonString(a,f){return new tn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(tn,a,f)}}tn.runtime=S,tn.typeName="google.protobuf.compiler.Version",tn.fields=S.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class nn extends K.v{constructor(a){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new nn().fromBinary(a,f)}static fromJson(a,f){return new nn().fromJson(a,f)}static fromJsonString(a,f){return new nn().fromJsonString(a,f)}static equals(a,f){return S.util.equals(nn,a,f)}}nn.runtime=S,nn.typeName="google.protobuf.compiler.CodeGeneratorRequest",nn.fields=S.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Ie,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Ie,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:tn,opt:!0}]);class dt extends K.v{constructor(a){super(),this.file=[],S.util.initPartial(a,this)}static fromBinary(a,f){return new dt().fromBinary(a,f)}static fromJson(a,f){return new dt().fromJson(a,f)}static fromJsonString(a,f){return new dt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(dt,a,f)}}dt.runtime=S,dt.typeName="google.protobuf.compiler.CodeGeneratorResponse",dt.fields=S.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:Vt,repeated:!0}]);var vr;(function(h){h[h.NONE=0]="NONE",h[h.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",h[h.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(vr||(vr={})),S.util.setEnumType(vr,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class Vt extends K.v{constructor(a){super(),S.util.initPartial(a,this)}static fromBinary(a,f){return new Vt().fromBinary(a,f)}static fromJson(a,f){return new Vt().fromJson(a,f)}static fromJsonString(a,f){return new Vt().fromJsonString(a,f)}static equals(a,f){return S.util.equals(Vt,a,f)}}Vt.runtime=S,Vt.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",Vt.fields=S.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:kn,opt:!0}]);class mn extends K.v{constructor(a){super(),this.fileName="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new mn().fromBinary(a,f)}static fromJson(a,f){return new mn().fromJson(a,f)}static fromJsonString(a,f){return new mn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(mn,a,f)}}mn.runtime=p.w,mn.typeName="google.protobuf.SourceContext",mn.fields=p.w.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var pn;(function(h){h[h.PROTO2=0]="PROTO2",h[h.PROTO3=1]="PROTO3",h[h.EDITIONS=2]="EDITIONS"})(pn||(pn={})),p.w.util.setEnumType(pn,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class wt extends K.v{constructor(a){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=pn.PROTO2,this.edition="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new wt().fromBinary(a,f)}static fromJson(a,f){return new wt().fromJson(a,f)}static fromJsonString(a,f){return new wt().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(wt,a,f)}}wt.runtime=p.w,wt.typeName="google.protobuf.Type",wt.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:rn,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:St,repeated:!0},{no:5,name:"source_context",kind:"message",T:mn},{no:6,name:"syntax",kind:"enum",T:p.w.getEnumType(pn)},{no:7,name:"edition",kind:"scalar",T:9}]);class rn extends K.v{constructor(a){super(),this.kind=zr.TYPE_UNKNOWN,this.cardinality=Wr.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new rn().fromBinary(a,f)}static fromJson(a,f){return new rn().fromJson(a,f)}static fromJsonString(a,f){return new rn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(rn,a,f)}}rn.runtime=p.w,rn.typeName="google.protobuf.Field",rn.fields=p.w.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:p.w.getEnumType(zr)},{no:2,name:"cardinality",kind:"enum",T:p.w.getEnumType(Wr)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:St,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var zr;(function(h){h[h.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",h[h.TYPE_DOUBLE=1]="TYPE_DOUBLE",h[h.TYPE_FLOAT=2]="TYPE_FLOAT",h[h.TYPE_INT64=3]="TYPE_INT64",h[h.TYPE_UINT64=4]="TYPE_UINT64",h[h.TYPE_INT32=5]="TYPE_INT32",h[h.TYPE_FIXED64=6]="TYPE_FIXED64",h[h.TYPE_FIXED32=7]="TYPE_FIXED32",h[h.TYPE_BOOL=8]="TYPE_BOOL",h[h.TYPE_STRING=9]="TYPE_STRING",h[h.TYPE_GROUP=10]="TYPE_GROUP",h[h.TYPE_MESSAGE=11]="TYPE_MESSAGE",h[h.TYPE_BYTES=12]="TYPE_BYTES",h[h.TYPE_UINT32=13]="TYPE_UINT32",h[h.TYPE_ENUM=14]="TYPE_ENUM",h[h.TYPE_SFIXED32=15]="TYPE_SFIXED32",h[h.TYPE_SFIXED64=16]="TYPE_SFIXED64",h[h.TYPE_SINT32=17]="TYPE_SINT32",h[h.TYPE_SINT64=18]="TYPE_SINT64"})(zr||(zr={})),p.w.util.setEnumType(zr,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var Wr;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.OPTIONAL=1]="OPTIONAL",h[h.REQUIRED=2]="REQUIRED",h[h.REPEATED=3]="REPEATED"})(Wr||(Wr={})),p.w.util.setEnumType(Wr,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class Re extends K.v{constructor(a){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=pn.PROTO2,this.edition="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new Re().fromBinary(a,f)}static fromJson(a,f){return new Re().fromJson(a,f)}static fromJsonString(a,f){return new Re().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Re,a,f)}}Re.runtime=p.w,Re.typeName="google.protobuf.Enum",Re.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Cn,repeated:!0},{no:3,name:"options",kind:"message",T:St,repeated:!0},{no:4,name:"source_context",kind:"message",T:mn},{no:5,name:"syntax",kind:"enum",T:p.w.getEnumType(pn)},{no:6,name:"edition",kind:"scalar",T:9}]);class Cn extends K.v{constructor(a){super(),this.name="",this.number=0,this.options=[],p.w.util.initPartial(a,this)}static fromBinary(a,f){return new Cn().fromBinary(a,f)}static fromJson(a,f){return new Cn().fromJson(a,f)}static fromJsonString(a,f){return new Cn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Cn,a,f)}}Cn.runtime=p.w,Cn.typeName="google.protobuf.EnumValue",Cn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:St,repeated:!0}]);class St extends K.v{constructor(a){super(),this.name="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new St().fromBinary(a,f)}static fromJson(a,f){return new St().fromJson(a,f)}static fromJsonString(a,f){return new St().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(St,a,f)}}St.runtime=p.w,St.typeName="google.protobuf.Option",St.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Yi.I}]);class _n extends K.v{constructor(a){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=pn.PROTO2,p.w.util.initPartial(a,this)}static fromBinary(a,f){return new _n().fromBinary(a,f)}static fromJson(a,f){return new _n().fromJson(a,f)}static fromJsonString(a,f){return new _n().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(_n,a,f)}}_n.runtime=p.w,_n.typeName="google.protobuf.Api",_n.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:gn,repeated:!0},{no:3,name:"options",kind:"message",T:St,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:mn},{no:6,name:"mixins",kind:"message",T:Dn,repeated:!0},{no:7,name:"syntax",kind:"enum",T:p.w.getEnumType(pn)}]);class gn extends K.v{constructor(a){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=pn.PROTO2,p.w.util.initPartial(a,this)}static fromBinary(a,f){return new gn().fromBinary(a,f)}static fromJson(a,f){return new gn().fromJson(a,f)}static fromJsonString(a,f){return new gn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(gn,a,f)}}gn.runtime=p.w,gn.typeName="google.protobuf.Method",gn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:St,repeated:!0},{no:7,name:"syntax",kind:"enum",T:p.w.getEnumType(pn)}]);class Dn extends K.v{constructor(a){super(),this.name="",this.root="",p.w.util.initPartial(a,this)}static fromBinary(a,f){return new Dn().fromBinary(a,f)}static fromJson(a,f){return new Dn().fromJson(a,f)}static fromJsonString(a,f){return new Dn().fromJsonString(a,f)}static equals(a,f){return p.w.util.equals(Dn,a,f)}}Dn.runtime=p.w,Dn.typeName="google.protobuf.Mixin",Dn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}])},561:(g,v,y)=>{y.d(v,{v:()=>p});class p{equals(w){return this.getType().runtime.util.equals(this.getType(),this,w)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(w,C){const P=this.getType(),B=P.runtime.bin,b=B.makeReadOptions(C);return B.readMessage(this,b.readerFactory(w),w.byteLength,b),this}fromJson(w,C){const P=this.getType(),B=P.runtime.json,b=B.makeReadOptions(C);return B.readMessage(P,w,b,this),this}fromJsonString(w,C){let P;try{P=JSON.parse(w)}catch(B){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${B instanceof Error?B.message:String(B)}`)}return this.fromJson(P,C)}toBinary(w){const C=this.getType(),P=C.runtime.bin,B=P.makeWriteOptions(w),b=B.writerFactory();return P.writeMessage(this,b,B),b.finish()}toJson(w){const C=this.getType(),P=C.runtime.json,B=P.makeWriteOptions(w);return P.writeMessage(this,B)}toJsonString(w){var C;const P=this.toJson(w);return JSON.stringify(P,null,(C=w==null?void 0:w.prettySpaces)!==null&&C!==void 0?C:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}},120:(g,v,y)=>{y.d(v,{E_:()=>E,fp:()=>D,hu:()=>p,ug:()=>b});function p(k,N){if(!k)throw new Error(N)}const O=34028234663852886e22,w=-34028234663852886e22,C=4294967295,P=2147483647,B=-2147483648;function b(k){if(typeof k!="number")throw new Error("invalid int 32: "+typeof k);if(!Number.isInteger(k)||k>P||k<B)throw new Error("invalid int 32: "+k)}function D(k){if(typeof k!="number")throw new Error("invalid uint 32: "+typeof k);if(!Number.isInteger(k)||k>C||k<0)throw new Error("invalid uint 32: "+k)}function E(k){if(typeof k!="number")throw new Error("invalid float 32: "+typeof k);if(Number.isFinite(k)&&(k>O||k<w))throw new Error("invalid float 32: "+k)}},744:(g,v,y)=>{y.d(v,{Jj:()=>Z,NN:()=>q,gQ:()=>R,gY:()=>M,oQ:()=>V});var p=y(79),O=y(561),w=y(465),C=y(432),P=y(781),B=y(120);const b=Symbol("@bufbuild/protobuf/unknown-fields"),D={readUnknownFields:!0,readerFactory:z=>new p.oP(z)},E={writeUnknownFields:!0,writerFactory:()=>new p.Lt};function k(z){return z?Object.assign(Object.assign({},D),z):D}function N(z){return z?Object.assign(Object.assign({},E),z):E}function M(){return{makeReadOptions:k,makeWriteOptions:N,listUnknownFields(z){var Q;return(Q=z[b])!==null&&Q!==void 0?Q:[]},discardUnknownFields(z){delete z[b]},writeUnknownFields(z,Q){const te=z[b];if(te)for(const ee of te)Q.tag(ee.no,ee.wireType).raw(ee.data)},onUnknownField(z,Q,re,te){const ee=z;Array.isArray(ee[b])||(ee[b]=[]),ee[b].push({no:Q,wireType:re,data:te})},readMessage(z,Q,re,te,ee){const Y=z.getType(),ce=ee?Q.len:Q.pos+re;let K,me;for(;Q.pos<ce&&([K,me]=Q.tag(),me!=p.TD.EndGroup);){const ae=Y.fields.find(K);if(!ae){const be=Q.skip(me);te.readUnknownFields&&this.onUnknownField(z,K,me,be);continue}let ve=z,Ie=ae.repeated,ke=ae.localName;switch(ae.oneof&&(ve=ve[ae.oneof.localName],ve.case!=ke&&delete ve.value,ve.case=ke,ke="value"),ae.kind){case"scalar":case"enum":const be=ae.kind=="enum"?w.w.INT32:ae.T;let Je=F;if(ae.kind=="scalar"&&ae.L>0&&(Je=J),Ie){let pt=ve[ke];if(me==p.TD.LengthDelimited&&be!=w.w.STRING&&be!=w.w.BYTES){let we=Q.uint32()+Q.pos;for(;Q.pos<we;)pt.push(Je(Q,be))}else pt.push(Je(Q,be))}else ve[ke]=Je(Q,be);break;case"message":const Ge=ae.T;Ie?ve[ke].push(_(Q,new Ge,te,ae)):ve[ke]instanceof O.v?_(Q,ve[ke],te,ae):(ve[ke]=_(Q,new Ge,te,ae),Ge.fieldWrapper&&!ae.oneof&&!ae.repeated&&(ve[ke]=Ge.fieldWrapper.unwrapField(ve[ke])));break;case"map":let[Bt,Ft]=S(ae,Q,te);ve[ke][Bt]=Ft;break}}if(ee&&(me!=p.TD.EndGroup||K!==re))throw new Error("invalid end group tag")}}}function _(z,Q,re,te){const ee=Q.getType().runtime.bin,Y=te==null?void 0:te.delimited;return ee.readMessage(Q,z,Y?te==null?void 0:te.no:z.uint32(),re,Y),Q}function S(z,Q,re){const te=Q.uint32(),ee=Q.pos+te;let Y,ce;for(;Q.pos<ee;){let[K]=Q.tag();switch(K){case 1:Y=F(Q,z.K);break;case 2:switch(z.V.kind){case"scalar":ce=F(Q,z.V.T);break;case"enum":ce=Q.int32();break;case"message":ce=_(Q,new z.V.T,re,void 0);break}break}}if(Y===void 0){let K=(0,P.kY)(z.K,w.p.BIGINT);Y=z.K==w.w.BOOL?K.toString():K}if(typeof Y!="string"&&typeof Y!="number"&&(Y=Y.toString()),ce===void 0)switch(z.V.kind){case"scalar":ce=(0,P.kY)(z.V.T,w.p.BIGINT);break;case"enum":ce=0;break;case"message":ce=new z.V.T;break}return[Y,ce]}function J(z,Q){const re=F(z,Q);return typeof re=="bigint"?re.toString():re}function F(z,Q){switch(Q){case w.w.STRING:return z.string();case w.w.BOOL:return z.bool();case w.w.DOUBLE:return z.double();case w.w.FLOAT:return z.float();case w.w.INT32:return z.int32();case w.w.INT64:return z.int64();case w.w.UINT64:return z.uint64();case w.w.FIXED64:return z.fixed64();case w.w.BYTES:return z.bytes();case w.w.FIXED32:return z.fixed32();case w.w.SFIXED32:return z.sfixed32();case w.w.SFIXED64:return z.sfixed64();case w.w.SINT64:return z.sint64();case w.w.UINT32:return z.uint32();case w.w.SINT32:return z.sint32()}}function R(z,Q,re,te,ee){z.tag(re.no,p.TD.LengthDelimited),z.fork();let Y=te;switch(re.K){case w.w.INT32:case w.w.FIXED32:case w.w.UINT32:case w.w.SFIXED32:case w.w.SINT32:Y=Number.parseInt(te);break;case w.w.BOOL:(0,B.hu)(te=="true"||te=="false"),Y=te=="true";break}switch(q(z,re.K,1,Y,!0),re.V.kind){case"scalar":q(z,re.V.T,2,ee,!0);break;case"enum":q(z,w.w.INT32,2,ee,!0);break;case"message":z.tag(2,p.TD.LengthDelimited).bytes(ee.toBinary(Q));break}z.join()}function V(z,Q,re,te){if(te!==void 0){const ee=(0,C.E)(re.T,te);re!=null&&re.delimited?z.tag(re.no,p.TD.StartGroup).raw(ee.toBinary(Q)).tag(re.no,p.TD.EndGroup):z.tag(re.no,p.TD.LengthDelimited).bytes(ee.toBinary(Q))}}function q(z,Q,re,te,ee){let[Y,ce,K]=(0,P.T1)(Q,te);(!K||ee)&&z.tag(re,Y)[ce](te)}function Z(z,Q,re,te){if(!te.length)return;z.tag(re,p.TD.LengthDelimited).fork();let[,ee]=(0,P.T1)(Q);for(let Y=0;Y<te.length;Y++)z[ee](te[Y]);z.join()}},609:(g,v,y)=>{y.d(v,{V3:()=>w,be:()=>P,ut:()=>B,zg:()=>C});var p=y(120);const O=Symbol("@bufbuild/protobuf/enum-type");function w(D){const E=D[O];return(0,p.hu)(E,"missing enum type on enum object"),E}function C(D,E,k,N){D[O]=P(E,k.map(M=>({no:M.no,name:M.name,localName:D[M.no]})))}function P(D,E,k){const N=Object.create(null),M=Object.create(null),_=[];for(const S of E){const J=b(S);_.push(J),N[S.name]=J,M[S.no]=J}return{typeName:D,values:_,findName(S){return N[S]},findNumber(S){return M[S]}}}function B(D,E,k){const N={};for(const M of E){const _=b(M);N[_.localName]=_.no,N[_.no]=_.localName}return C(N,D,E),N}function b(D){return"localName"in D?D:Object.assign(Object.assign({},D),{localName:D.name})}},501:(g,v,y)=>{y.d(v,{i:()=>p});class p{constructor(w,C){this._fields=w,this._normalizer=C}findJsonName(w){if(!this.jsonNames){const C={};for(const P of this.list())C[P.jsonName]=C[P.name]=P;this.jsonNames=C}return this.jsonNames[w]}find(w){if(!this.numbers){const C={};for(const P of this.list())C[P.no]=P;this.numbers=C}return this.numbers[w]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((w,C)=>w.no-C.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const w=this.members;let C;for(const P of this.list())P.oneof?P.oneof!==C&&(C=P.oneof,w.push(C)):w.push(P)}return this.members}}},432:(g,v,y)=>{y.d(v,{E:()=>w,w:()=>C});var p=y(561),O=y(465);function w(B,b){return b instanceof p.v||!B.fieldWrapper?b:B.fieldWrapper.wrapField(b)}function C(B){if(B.fieldKind==="message"&&!B.repeated&&B.oneof==null)return P[B.message.typeName]}const P={"google.protobuf.DoubleValue":O.w.DOUBLE,"google.protobuf.FloatValue":O.w.FLOAT,"google.protobuf.Int64Value":O.w.INT64,"google.protobuf.UInt64Value":O.w.UINT64,"google.protobuf.Int32Value":O.w.INT32,"google.protobuf.UInt32Value":O.w.UINT32,"google.protobuf.BoolValue":O.w.BOOL,"google.protobuf.StringValue":O.w.STRING,"google.protobuf.BytesValue":O.w.BYTES}},215:(g,v,y)=>{y.d(v,{o:()=>w});var p=y(504),O=y(120);class w{constructor(P){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=P,this.localName=(0,p.uA)(P)}addField(P){(0,O.hu)(P.oneof===this,`field ${P.name} not one of ${this.name}`),this.fields.push(P)}findField(P){if(!this._lookup){this._lookup=Object.create(null);for(let B=0;B<this.fields.length;B++)this._lookup[this.fields[B].localName]=this.fields[B]}return this._lookup[P]}}},814:(g,v,y)=>{y.d(v,{b:()=>k});var p=y(561),O=y(465),w=y(120),C=y(210),P=y(236);const B={ignoreUnknownFields:!1},b={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function D(F){return F?Object.assign(Object.assign({},B),F):B}function E(F){return F?Object.assign(Object.assign({},b),F):b}function k(F){const R=F(S,J);return{makeReadOptions:D,makeWriteOptions:E,readMessage(V,q,Z,z){if(q==null||Array.isArray(q)||typeof q!="object")throw new Error(`cannot decode message ${V.typeName} from JSON: ${this.debug(q)}`);z=z??new V;const Q={};for(const[re,te]of Object.entries(q)){const ee=V.fields.findJsonName(re);if(!ee){if(!Z.ignoreUnknownFields)throw new Error(`cannot decode message ${V.typeName} from JSON: key "${re}" is unknown`);continue}let Y=ee.localName,ce=z;if(ee.oneof){if(te===null&&ee.kind=="scalar")continue;const K=Q[ee.oneof.localName];if(K)throw new Error(`cannot decode message ${V.typeName} from JSON: multiple keys for oneof "${ee.oneof.name}" present: "${K}", "${re}"`);Q[ee.oneof.localName]=re,ce=ce[ee.oneof.localName]={case:Y},Y="value"}if(ee.repeated){if(te===null)continue;if(!Array.isArray(te))throw new Error(`cannot decode field ${V.typeName}.${ee.name} from JSON: ${this.debug(te)}`);const K=ce[Y];for(const me of te){if(me===null)throw new Error(`cannot decode field ${V.typeName}.${ee.name} from JSON: ${this.debug(me)}`);let ae;switch(ee.kind){case"message":ae=ee.T.fromJson(me,Z);break;case"enum":if(ae=_(ee.T,me,Z.ignoreUnknownFields),ae===void 0)continue;break;case"scalar":try{ae=M(ee.T,me,ee.L)}catch(ve){let Ie=`cannot decode field ${V.typeName}.${ee.name} from JSON: ${this.debug(me)}`;throw ve instanceof Error&&ve.message.length>0&&(Ie+=`: ${ve.message}`),new Error(Ie)}break}K.push(ae)}}else if(ee.kind=="map"){if(te===null)continue;if(Array.isArray(te)||typeof te!="object")throw new Error(`cannot decode field ${V.typeName}.${ee.name} from JSON: ${this.debug(te)}`);const K=ce[Y];for(const[me,ae]of Object.entries(te)){if(ae===null)throw new Error(`cannot decode field ${V.typeName}.${ee.name} from JSON: map value null`);let ve;switch(ee.V.kind){case"message":ve=ee.V.T.fromJson(ae,Z);break;case"enum":if(ve=_(ee.V.T,ae,Z.ignoreUnknownFields),ve===void 0)continue;break;case"scalar":try{ve=M(ee.V.T,ae,O.p.BIGINT)}catch(Ie){let ke=`cannot decode map value for field ${V.typeName}.${ee.name} from JSON: ${this.debug(te)}`;throw Ie instanceof Error&&Ie.message.length>0&&(ke+=`: ${Ie.message}`),new Error(ke)}break}try{K[M(ee.K,ee.K==O.w.BOOL?me=="true"?!0:me=="false"?!1:me:me,O.p.BIGINT).toString()]=ve}catch(Ie){let ke=`cannot decode map key for field ${V.typeName}.${ee.name} from JSON: ${this.debug(te)}`;throw Ie instanceof Error&&Ie.message.length>0&&(ke+=`: ${Ie.message}`),new Error(ke)}}}else switch(ee.kind){case"message":const K=ee.T;if(te===null&&K.typeName!="google.protobuf.Value"){if(ee.oneof)throw new Error(`cannot decode field ${V.typeName}.${ee.name} from JSON: null is invalid for oneof field "${re}"`);continue}ce[Y]instanceof p.v?ce[Y].fromJson(te,Z):(ce[Y]=K.fromJson(te,Z),K.fieldWrapper&&!ee.oneof&&(ce[Y]=K.fieldWrapper.unwrapField(ce[Y])));break;case"enum":const me=_(ee.T,te,Z.ignoreUnknownFields);me!==void 0&&(ce[Y]=me);break;case"scalar":try{ce[Y]=M(ee.T,te,ee.L)}catch(ae){let ve=`cannot decode field ${V.typeName}.${ee.name} from JSON: ${this.debug(te)}`;throw ae instanceof Error&&ae.message.length>0&&(ve+=`: ${ae.message}`),new Error(ve)}break}}return z},writeMessage(V,q){const Z=V.getType(),z={};let Q;try{for(const re of Z.fields.byMember()){let te;if(re.kind=="oneof"){const ee=V[re.localName];if(ee.value===void 0)continue;if(Q=re.findField(ee.case),!Q)throw"oneof case not found: "+ee.case;te=R(Q,ee.value,q)}else Q=re,te=R(Q,V[Q.localName],q);te!==void 0&&(z[q.useProtoFieldName?Q.name:Q.jsonName]=te)}}catch(re){const te=Q?`cannot encode field ${Z.typeName}.${Q.name} to JSON`:`cannot encode message ${Z.typeName} to JSON`,ee=re instanceof Error?re.message:String(re);throw new Error(te+(ee.length>0?`: ${ee}`:""))}return z},readScalar:M,writeScalar:J,debug:N}}function N(F){if(F===null)return"null";switch(typeof F){case"object":return Array.isArray(F)?"array":"object";case"string":return F.length>100?"string":`"${F.split('"').join('\\"')}"`;default:return String(F)}}function M(F,R,V){switch(F){case O.w.DOUBLE:case O.w.FLOAT:if(R===null)return 0;if(R==="NaN")return Number.NaN;if(R==="Infinity")return Number.POSITIVE_INFINITY;if(R==="-Infinity")return Number.NEGATIVE_INFINITY;if(R===""||typeof R=="string"&&R.trim().length!==R.length||typeof R!="string"&&typeof R!="number")break;const q=Number(R);if(Number.isNaN(q)||!Number.isFinite(q))break;return F==O.w.FLOAT&&(0,w.E_)(q),q;case O.w.INT32:case O.w.FIXED32:case O.w.SFIXED32:case O.w.SINT32:case O.w.UINT32:if(R===null)return 0;let Z;if(typeof R=="number"?Z=R:typeof R=="string"&&R.length>0&&R.trim().length===R.length&&(Z=Number(R)),Z===void 0)break;return F==O.w.UINT32?(0,w.fp)(Z):(0,w.ug)(Z),Z;case O.w.INT64:case O.w.SFIXED64:case O.w.SINT64:if(R===null)return C.q.zero;if(typeof R!="number"&&typeof R!="string")break;const z=C.q.parse(R);return V?z.toString():z;case O.w.FIXED64:case O.w.UINT64:if(R===null)return C.q.zero;if(typeof R!="number"&&typeof R!="string")break;const Q=C.q.uParse(R);return V?Q.toString():Q;case O.w.BOOL:if(R===null)return!1;if(typeof R!="boolean")break;return R;case O.w.STRING:if(R===null)return"";if(typeof R!="string")break;try{encodeURIComponent(R)}catch{throw new Error("invalid UTF8")}return R;case O.w.BYTES:if(R===null||R==="")return new Uint8Array(0);if(typeof R!="string")break;return P.W.dec(R)}throw new Error}function _(F,R,V){if(R===null)return 0;switch(typeof R){case"number":if(Number.isInteger(R))return R;break;case"string":const q=F.findName(R);if(q||V)return q==null?void 0:q.no;break}throw new Error(`cannot decode enum ${F.typeName} from JSON: ${N(R)}`)}function S(F,R,V,q){var Z;if(R===void 0)return R;if(R===0&&!V)return;if(q)return R;if(F.typeName=="google.protobuf.NullValue")return null;const z=F.findNumber(R);return(Z=z==null?void 0:z.name)!==null&&Z!==void 0?Z:R}function J(F,R,V){if(R!==void 0)switch(F){case O.w.INT32:case O.w.SFIXED32:case O.w.SINT32:case O.w.FIXED32:case O.w.UINT32:return(0,w.hu)(typeof R=="number"),R!=0||V?R:void 0;case O.w.FLOAT:case O.w.DOUBLE:return(0,w.hu)(typeof R=="number"),Number.isNaN(R)?"NaN":R===Number.POSITIVE_INFINITY?"Infinity":R===Number.NEGATIVE_INFINITY?"-Infinity":R!==0||V?R:void 0;case O.w.STRING:return(0,w.hu)(typeof R=="string"),R.length>0||V?R:void 0;case O.w.BOOL:return(0,w.hu)(typeof R=="boolean"),R||V?R:void 0;case O.w.UINT64:case O.w.FIXED64:case O.w.INT64:case O.w.SFIXED64:case O.w.SINT64:return(0,w.hu)(typeof R=="bigint"||typeof R=="string"||typeof R=="number"),V||R!=0?R.toString(10):void 0;case O.w.BYTES:return(0,w.hu)(R instanceof Uint8Array),V||R.byteLength>0?P.W.enc(R):void 0}}},504:(g,v,y)=>{y.d(v,{GD:()=>S,Rz:()=>O,Sm:()=>P,ll:()=>_,r1:()=>p,uA:()=>w,x1:()=>C});function p(J){switch(J.kind){case"field":return O(J.name,J.oneof!==void 0);case"oneof":return w(J.name);case"enum":case"message":case"service":{const F=J.file.proto.package,R=F===void 0?0:F.length+1,V=J.typeName.substring(R).replace(/\./g,"_");return _(S(V))}case"enum_value":{const F=J.parent.sharedPrefix;if(F===void 0)return J.name;const R=J.name.substring(F.length);return _(R)}case"rpc":{let F=J.name;return F.length==0?F:(F=F[0].toLowerCase()+F.substring(1),_(F))}}}function O(J,F){const R=b(J);return F?R:_(M(R))}function w(J){return O(J,!1)}const C=b;function P(J,F){const R=B(J)+"_";for(const V of F){if(!V.toLowerCase().startsWith(R))return;const q=V.substring(R.length);if(q.length==0||/^\d/.test(q))return}return R}function B(J){return(J.substring(0,1)+J.substring(1).replace(/[A-Z]/g,F=>"_"+F)).toLowerCase()}function b(J){let F=!1;const R=[];for(let V=0;V<J.length;V++){let q=J.charAt(V);switch(q){case"_":F=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":R.push(q),F=!1;break;default:F&&(F=!1,q=q.toUpperCase()),R.push(q);break}}return R.join("")}const D=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),E=new Set(["constructor","toString","toJSON","valueOf"]),k=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),N=J=>`${J}$`,M=J=>k.has(J)?N(J):J,_=J=>E.has(J)?N(J):J,S=J=>D.has(J)?N(J):J},493:(g,v,y)=>{y.d(v,{F:()=>C});var p=y(609),O=y(561);function w(P,B,b,D){var E;const k=(E=D==null?void 0:D.localName)!==null&&E!==void 0?E:B.substring(B.lastIndexOf(".")+1),N={[k]:function(M){P.util.initFields(this),P.util.initPartial(M,this)}}[k];return Object.setPrototypeOf(N.prototype,new O.v),Object.assign(N,{runtime:P,typeName:B,fields:P.util.newFieldList(b),fromBinary(M,_){return new N().fromBinary(M,_)},fromJson(M,_){return new N().fromJson(M,_)},fromJsonString(M,_){return new N().fromJsonString(M,_)},equals(M,_){return P.util.equals(N,M,_)}}),N}function C(P,B,b,D){return{syntax:P,json:B,bin:b,util:D,makeMessageType(E,k,N){return w(this,E,k,N)},makeEnum:p.ut,makeEnumType:p.be,getEnumType:p.V3}}},781:(g,v,y)=>{y.d(v,{AA:()=>C,T1:()=>B,kY:()=>P});var p=y(465),O=y(79),w=y(210);function C(b,D,E){if(D===E)return!0;if(b==p.w.BYTES){if(!(D instanceof Uint8Array)||!(E instanceof Uint8Array)||D.length!==E.length)return!1;for(let k=0;k<D.length;k++)if(D[k]!==E[k])return!1;return!0}switch(b){case p.w.UINT64:case p.w.FIXED64:case p.w.INT64:case p.w.SFIXED64:case p.w.SINT64:return D==E}return!1}function P(b,D){switch(b){case p.w.BOOL:return!1;case p.w.UINT64:case p.w.FIXED64:case p.w.INT64:case p.w.SFIXED64:case p.w.SINT64:return D==0?w.q.zero:"0";case p.w.DOUBLE:case p.w.FLOAT:return 0;case p.w.BYTES:return new Uint8Array(0);case p.w.STRING:return"";default:return 0}}function B(b,D){const E=D===void 0;let k=O.TD.Varint,N=D===0;switch(b){case p.w.STRING:N=E||!D.length,k=O.TD.LengthDelimited;break;case p.w.BOOL:N=D===!1;break;case p.w.DOUBLE:k=O.TD.Bit64;break;case p.w.FLOAT:k=O.TD.Bit32;break;case p.w.INT64:N=E||D==0;break;case p.w.UINT64:N=E||D==0;break;case p.w.FIXED64:N=E||D==0,k=O.TD.Bit64;break;case p.w.BYTES:N=E||!D.byteLength,k=O.TD.LengthDelimited;break;case p.w.FIXED32:k=O.TD.Bit32;break;case p.w.SFIXED32:k=O.TD.Bit32;break;case p.w.SFIXED64:N=E||D==0,k=O.TD.Bit64;break;case p.w.SINT64:N=E||D==0;break}const M=p.w[b].toLowerCase();return[k,M,E||N]}},433:(g,v,y)=>{y.d(v,{f:()=>P});var p=y(609),O=y(561),w=y(465),C=y(781);function P(){return{setEnumType:p.zg,initPartial(D,E){if(D===void 0)return;const k=E.getType();for(const N of k.fields.byMember()){const M=N.localName,_=E,S=D;if(S[M]!==void 0)switch(N.kind){case"oneof":const J=S[M].case;if(J===void 0)continue;const F=N.findField(J);let R=S[M].value;F&&F.kind=="message"&&!(R instanceof F.T)?R=new F.T(R):F&&F.kind==="scalar"&&F.T===w.w.BYTES&&(R=b(R)),_[M]={case:J,value:R};break;case"scalar":case"enum":let V=S[M];N.T===w.w.BYTES&&(V=N.repeated?V.map(b):b(V)),_[M]=V;break;case"map":switch(N.V.kind){case"scalar":case"enum":if(N.V.T===w.w.BYTES)for(const[z,Q]of Object.entries(S[M]))_[M][z]=b(Q);else Object.assign(_[M],S[M]);break;case"message":const Z=N.V.T;for(const z of Object.keys(S[M])){let Q=S[M][z];Z.fieldWrapper||(Q=new Z(Q)),_[M][z]=Q}break}break;case"message":const q=N.T;if(N.repeated)_[M]=S[M].map(Z=>Z instanceof q?Z:new q(Z));else if(S[M]!==void 0){const Z=S[M];q.fieldWrapper?q.typeName==="google.protobuf.BytesValue"?_[M]=b(Z):_[M]=Z:_[M]=Z instanceof q?Z:new q(Z)}break}}},equals(D,E,k){return E===k?!0:!E||!k?!1:D.fields.byMember().every(N=>{const M=E[N.localName],_=k[N.localName];if(N.repeated){if(M.length!==_.length)return!1;switch(N.kind){case"message":return M.every((S,J)=>N.T.equals(S,_[J]));case"scalar":return M.every((S,J)=>(0,C.AA)(N.T,S,_[J]));case"enum":return M.every((S,J)=>(0,C.AA)(w.w.INT32,S,_[J]))}throw new Error(`repeated cannot contain ${N.kind}`)}switch(N.kind){case"message":return N.T.equals(M,_);case"enum":return(0,C.AA)(w.w.INT32,M,_);case"scalar":return(0,C.AA)(N.T,M,_);case"oneof":if(M.case!==_.case)return!1;const S=N.findField(M.case);if(S===void 0)return!0;switch(S.kind){case"message":return S.T.equals(M.value,_.value);case"enum":return(0,C.AA)(w.w.INT32,M.value,_.value);case"scalar":return(0,C.AA)(S.T,M.value,_.value)}throw new Error(`oneof cannot contain ${S.kind}`);case"map":const J=Object.keys(M).concat(Object.keys(_));switch(N.V.kind){case"message":const F=N.V.T;return J.every(V=>F.equals(M[V],_[V]));case"enum":return J.every(V=>(0,C.AA)(w.w.INT32,M[V],_[V]));case"scalar":const R=N.V.T;return J.every(V=>(0,C.AA)(R,M[V],_[V]))}break}})},clone(D){const E=D.getType(),k=new E,N=k;for(const M of E.fields.byMember()){const _=D[M.localName];let S;if(M.repeated)S=_.map(B);else if(M.kind=="map"){S=N[M.localName];for(const[J,F]of Object.entries(_))S[J]=B(F)}else M.kind=="oneof"?S=M.findField(_.case)?{case:_.case,value:B(_.value)}:{case:void 0}:S=B(_);N[M.localName]=S}return k}}}function B(D){if(D===void 0)return D;if(D instanceof O.v)return D.clone();if(D instanceof Uint8Array){const E=new Uint8Array(D.byteLength);return E.set(D),E}return D}function b(D){return D instanceof Uint8Array?D:new Uint8Array(D)}},236:(g,v,y)=>{y.d(v,{W:()=>w});let p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),O=[];for(let C=0;C<p.length;C++)O[p[C].charCodeAt(0)]=C;O["-".charCodeAt(0)]=p.indexOf("+"),O["_".charCodeAt(0)]=p.indexOf("/");const w={dec(C){let P=C.length*3/4;C[C.length-2]=="="?P-=2:C[C.length-1]=="="&&(P-=1);let B=new Uint8Array(P),b=0,D=0,E,k=0;for(let N=0;N<C.length;N++){if(E=O[C.charCodeAt(N)],E===void 0)switch(C[N]){case"=":D=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(D){case 0:k=E,D=1;break;case 1:B[b++]=k<<2|(E&48)>>4,k=E,D=2;break;case 2:B[b++]=(k&15)<<4|(E&60)>>2,k=E,D=3;break;case 3:B[b++]=(k&3)<<6|E,D=0;break}}if(D==1)throw Error("invalid base64 string.");return B.subarray(0,b)},enc(C){let P="",B=0,b,D=0;for(let E=0;E<C.length;E++)switch(b=C[E],B){case 0:P+=p[b>>2],D=(b&3)<<4,B=1;break;case 1:P+=p[D|b>>4],D=(b&15)<<2,B=2;break;case 2:P+=p[D|b>>6],P+=p[b&63],B=0;break}return B&&(P+=p[D],P+="=",B==1&&(P+="=")),P}}},210:(g,v,y)=>{y.d(v,{q:()=>C});var p=y(120),O=y(818);function w(){const P=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof P.getBigInt64=="function"&&typeof P.getBigUint64=="function"&&typeof P.setBigInt64=="function"&&typeof P.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const E=BigInt("-9223372036854775808"),k=BigInt("9223372036854775807"),N=BigInt("0"),M=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(_){const S=typeof _=="bigint"?_:BigInt(_);if(S>k||S<E)throw new Error(`int64 invalid: ${_}`);return S},uParse(_){const S=typeof _=="bigint"?_:BigInt(_);if(S>M||S<N)throw new Error(`uint64 invalid: ${_}`);return S},enc(_){return P.setBigInt64(0,this.parse(_),!0),{lo:P.getInt32(0,!0),hi:P.getInt32(4,!0)}},uEnc(_){return P.setBigInt64(0,this.uParse(_),!0),{lo:P.getInt32(0,!0),hi:P.getInt32(4,!0)}},dec(_,S){return P.setInt32(0,_,!0),P.setInt32(4,S,!0),P.getBigInt64(0,!0)},uDec(_,S){return P.setInt32(0,_,!0),P.setInt32(4,S,!0),P.getBigUint64(0,!0)}}}const b=E=>(0,p.hu)(/^-?[0-9]+$/.test(E),`int64 invalid: ${E}`),D=E=>(0,p.hu)(/^[0-9]+$/.test(E),`uint64 invalid: ${E}`);return{zero:"0",supported:!1,parse(E){return typeof E!="string"&&(E=E.toString()),b(E),E},uParse(E){return typeof E!="string"&&(E=E.toString()),D(E),E},enc(E){return typeof E!="string"&&(E=E.toString()),b(E),(0,O.CZ)(E)},uEnc(E){return typeof E!="string"&&(E=E.toString()),D(E),(0,O.CZ)(E)},dec(E,k){return(0,O.Ak)(E,k)},uDec(E,k){return(0,O.Fd)(E,k)}}}const C=w()},850:(g,v,y)=>{y.d(v,{w:()=>S});var p=y(493),O=y(465),w=y(744);function C(){return Object.assign(Object.assign({},(0,w.gY)()),{writeMessage(F,R,V){const q=F.getType();for(const Z of q.fields.byNumber()){let z,Q=Z.repeated,re=Z.localName;if(Z.oneof){const te=F[Z.oneof.localName];if(te.case!==re)continue;z=te.value}else z=F[re];switch(Z.kind){case"scalar":case"enum":let te=Z.kind=="enum"?O.w.INT32:Z.T;if(Q)if(Z.packed)(0,w.Jj)(R,te,Z.no,z);else for(const ee of z)(0,w.NN)(R,te,Z.no,ee,!0);else z!==void 0&&(0,w.NN)(R,te,Z.no,z,!!Z.oneof||Z.opt);break;case"message":if(Q)for(const ee of z)(0,w.oQ)(R,V,Z,ee);else(0,w.oQ)(R,V,Z,z);break;case"map":for(const[ee,Y]of Object.entries(z))(0,w.gQ)(R,V,Z,ee,Y);break}}return V.writeUnknownFields&&this.writeUnknownFields(F,R),R}})}var P=y(432),B=y(120),b=y(814);function D(){return(0,b.b)((F,R)=>function(q,Z,z){if(q.kind=="map"){const Q={};switch(q.V.kind){case"scalar":for(const[te,ee]of Object.entries(Z)){const Y=R(q.V.T,ee,!0);(0,B.hu)(Y!==void 0),Q[te.toString()]=Y}break;case"message":for(const[te,ee]of Object.entries(Z))Q[te.toString()]=ee.toJson(z);break;case"enum":const re=q.V.T;for(const[te,ee]of Object.entries(Z)){(0,B.hu)(ee===void 0||typeof ee=="number");const Y=F(re,ee,!0,z.enumAsInteger);(0,B.hu)(Y!==void 0),Q[te.toString()]=Y}break}return z.emitDefaultValues||Object.keys(Q).length>0?Q:void 0}else if(q.repeated){const Q=[];switch(q.kind){case"scalar":for(let re=0;re<Z.length;re++)Q.push(R(q.T,Z[re],!0));break;case"enum":for(let re=0;re<Z.length;re++)Q.push(F(q.T,Z[re],!0,z.enumAsInteger));break;case"message":for(let re=0;re<Z.length;re++)Q.push((0,P.E)(q.T,Z[re]).toJson(z));break}return z.emitDefaultValues||Q.length>0?Q:void 0}else switch(q.kind){case"scalar":return R(q.T,Z,!!q.oneof||q.opt||z.emitDefaultValues);case"enum":return F(q.T,Z,!!q.oneof||q.opt||z.emitDefaultValues,z.enumAsInteger);case"message":return Z!==void 0?(0,P.E)(q.T,Z).toJson(z):void 0}})}var E=y(433),k=y(501),N=y(781),M=y(215),_=y(504);const S=(0,p.F)("proto3",D(),C(),Object.assign(Object.assign({},(0,E.f)()),{newFieldList(F){return new k.i(F,J)},initFields(F){for(const R of F.getType().fields.byMember()){if(R.opt)continue;const V=R.localName,q=F;if(R.repeated){q[V]=[];continue}switch(R.kind){case"oneof":q[V]={case:void 0};break;case"enum":q[V]=0;break;case"map":q[V]={};break;case"scalar":q[V]=(0,N.kY)(R.T,R.L);break}}}}));function J(F){var R,V,q,Z;const z=[];let Q;for(const re of typeof F=="function"?F():F){const te=re;if(te.localName=(0,_.Rz)(re.name,re.oneof!==void 0),te.jsonName=(R=re.jsonName)!==null&&R!==void 0?R:(0,_.x1)(re.name),te.repeated=(V=re.repeated)!==null&&V!==void 0?V:!1,re.kind=="scalar"&&(te.L=(q=re.L)!==null&&q!==void 0?q:O.p.BIGINT),re.oneof!==void 0){const ee=typeof re.oneof=="string"?re.oneof:re.oneof.name;(!Q||Q.name!=ee)&&(Q=new M.o(ee)),te.oneof=Q,Q.addField(te)}re.kind=="message"&&(te.delimited=!1),te.packed=(Z=re.packed)!==null&&Z!==void 0?Z:re.kind=="enum"||re.kind=="scalar"&&re.T!=O.w.BYTES&&re.T!=O.w.STRING,z.push(te)}return z}},328:(g,v,y)=>{y.d(v,{t:()=>p,w:()=>O});var p;(function(w){w[w.Unary=0]="Unary",w[w.ServerStreaming=1]="ServerStreaming",w[w.ClientStreaming=2]="ClientStreaming",w[w.BiDiStreaming=3]="BiDiStreaming"})(p||(p={}));var O;(function(w){w[w.NoSideEffects=1]="NoSideEffects",w[w.Idempotent=2]="Idempotent"})(O||(O={}))}},s={};function c(g){var v=s[g];if(v!==void 0)return v.exports;var y=s[g]={exports:{}};return i[g](y,y.exports,c),y.exports}c.d=(g,v)=>{for(var y in v)c.o(v,y)&&!c.o(g,y)&&Object.defineProperty(g,y,{enumerable:!0,get:v[y]})},c.o=(g,v)=>Object.prototype.hasOwnProperty.call(g,v),c.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var d={};return(()=>{c.r(d),c.d(d,{Change:()=>ki,Client:()=>Zc,ClientEventType:()=>bn,ClientStatus:()=>qr,Counter:()=>$o,DocEventType:()=>Oe,Document:()=>Xc,DocumentSyncResultType:()=>es,EventSourceDevPanel:()=>vp,EventSourceSDK:()=>Tp,Primitive:()=>Ye,StreamConnectionStatus:()=>Ii,SyncMode:()=>Or,Text:()=>Jo,TimeTicket:()=>$e,Tree:()=>jo,converter:()=>wr,default:()=>Ep});var g;(function(u){u[u.Trivial=0]="Trivial",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warn=3]="Warn",u[u.Error=4]="Error",u[u.Fatal=5]="Fatal"})(g||(g={}));let v=g.Info;const y={trivial:(...u)=>{v>g.Trivial||typeof console<"u"&&console.log("YORKIE T:",...u)},debug:(...u)=>{v>g.Debug||typeof console<"u"&&console.log("YORKIE D:",...u)},info:(...u)=>{v>g.Info||typeof console<"u"&&console.log("YORKIE I:",...u)},warn:(...u)=>{v>g.Warn||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...u):console.log("YORKIE W:",...u))},error:(...u)=>{v>g.Error||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...u):console.log("YORKIE E:",...u))},fatal:(u,...n)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...n):console.log("YORKIE F:",...n)),new Error(`YORKIE F: ${u}`)},isEnabled:u=>v<=u};function p(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,u=>{const n=Math.random()*16|0;return(u==="x"?n:n&3|8).toString(16)})}const O=()=>{};class w{constructor(n){this.finalized=!1,this.observers=[];try{n(this)}catch(r){this.error(r)}}next(n){this.forEachObserver(r=>{r.next(n)})}error(n){this.forEachObserver(r=>{r.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,r,o){let l;n||y.fatal("missing observer"),this.finalized&&y.fatal("observable is finalized due to previous error"),typeof n=="object"?l=n:l={next:n,error:r,complete:o},l.next===void 0&&(l.next=O),l.error===void 0&&(l.error=O),l.complete===void 0&&(l.complete=O);const m=p(),T=this.unsubscribeOne.bind(this,m);if(this.observers.push({subscriptionID:m,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(I){y.warn(I)}return T}unsubscribeOne(n){var r;this.observers=(r=this.observers)===null||r===void 0?void 0:r.filter(o=>o.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,n)}sendOne(n,r){if(this.observers!==void 0&&this.observers[n]!==void 0)try{r(this.observers[n].observer)}catch(o){y.error(o)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function C(u){const n=new w(u);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}var P=c(328);function B(u,n){const r={};for(const[o,l]of Object.entries(u.methods)){const m=n(Object.assign(Object.assign({},l),{localName:o,service:u}));m!=null&&(r[o]=m)}return r}var b;(function(u){u[u.Canceled=1]="Canceled",u[u.Unknown=2]="Unknown",u[u.InvalidArgument=3]="InvalidArgument",u[u.DeadlineExceeded=4]="DeadlineExceeded",u[u.NotFound=5]="NotFound",u[u.AlreadyExists=6]="AlreadyExists",u[u.PermissionDenied=7]="PermissionDenied",u[u.ResourceExhausted=8]="ResourceExhausted",u[u.FailedPrecondition=9]="FailedPrecondition",u[u.Aborted=10]="Aborted",u[u.OutOfRange=11]="OutOfRange",u[u.Unimplemented=12]="Unimplemented",u[u.Internal=13]="Internal",u[u.Unavailable=14]="Unavailable",u[u.DataLoss=15]="DataLoss",u[u.Unauthenticated=16]="Unauthenticated"})(b||(b={}));var D=c(561);function E(u){const n=b[u];return typeof n!="string"?u.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class k extends Error{constructor(n,r=b.Unknown,o,l,m){super(N(n,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=r,this.metadata=new Headers(o??{}),this.details=l??[],this.cause=m}static from(n,r=b.Unknown){return n instanceof k?n:n instanceof Error?n.name=="AbortError"?new k(n.message,b.Canceled):new k(n.message,r,void 0,void 0,n):new k(String(n),r,void 0,void 0,n)}findDetails(n){const r="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,o=[];for(const l of this.details){if(l instanceof D.v){r.findMessage(l.getType().typeName)&&o.push(l);continue}const m=r.findMessage(l.type);if(m)try{o.push(m.fromBinary(l.value))}catch{}}return o}}function N(u,n){return u.length?`[${E(n)}] ${u}`:`[${E(n)}]`}var M=function(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=u[Symbol.asyncIterator],r;return n?n.call(u):(u=typeof __values=="function"?__values(u):u[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(m){r[m]=u[m]&&function(T){return new Promise(function(I,L){T=u[m](T),l(I,L,T.done,T.value)})}}function l(m,T,I,L){Promise.resolve(L).then(function(j){m({value:j,done:I})},T)}},_=function(u){return this instanceof _?(this.v=u,this):new _(u)},S=function(u,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(u,n||[]),l,m=[];return l={},T("next"),T("throw"),T("return"),l[Symbol.asyncIterator]=function(){return this},l;function T(H){o[H]&&(l[H]=function(pe){return new Promise(function(Ne,Pe){m.push([H,pe,Ne,Pe])>1||I(H,pe)})})}function I(H,pe){try{L(o[H](pe))}catch(Ne){le(m[0][3],Ne)}}function L(H){H.value instanceof _?Promise.resolve(H.value.v).then(j,ne):le(m[0][2],H)}function j(H){I("next",H)}function ne(H){I("throw",H)}function le(H,pe){H(pe),m.shift(),m.length&&I(m[0][0],m[0][1])}},J=function(u){var n,r;return n={},o("next"),o("throw",function(l){throw l}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(l,m){n[l]=u[l]?function(T){return(r=!r)?{value:_(u[l](T)),done:!1}:m?m(T):T}:m}};function F(u){return S(this,arguments,function*(){yield _(yield*J(M(u)))})}var R=function(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=u[Symbol.asyncIterator],r;return n?n.call(u):(u=typeof __values=="function"?__values(u):u[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(m){r[m]=u[m]&&function(T){return new Promise(function(I,L){T=u[m](T),l(I,L,T.done,T.value)})}}function l(m,T,I,L){Promise.resolve(L).then(function(j){m({value:j,done:I})},T)}},V=function(u){return this instanceof V?(this.v=u,this):new V(u)},q=function(u){var n,r;return n={},o("next"),o("throw",function(l){throw l}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(l,m){n[l]=u[l]?function(T){return(r=!r)?{value:V(u[l](T)),done:!1}:m?m(T):T}:m}},Z=function(u,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(u,n||[]),l,m=[];return l={},T("next"),T("throw"),T("return"),l[Symbol.asyncIterator]=function(){return this},l;function T(H){o[H]&&(l[H]=function(pe){return new Promise(function(Ne,Pe){m.push([H,pe,Ne,Pe])>1||I(H,pe)})})}function I(H,pe){try{L(o[H](pe))}catch(Ne){le(m[0][3],Ne)}}function L(H){H.value instanceof V?Promise.resolve(H.value.v).then(j,ne):le(m[0][2],H)}function j(H){I("next",H)}function ne(H){I("throw",H)}function le(H,pe){H(pe),m.shift(),m.length&&I(m[0][0],m[0][1])}};function z(u,n){return B(u,r=>{switch(r.kind){case P.t.Unary:return Q(n,u,r);case P.t.ServerStreaming:return re(n,u,r);case P.t.ClientStreaming:return te(n,u,r);case P.t.BiDiStreaming:return ee(n,u,r);default:return null}})}function Q(u,n,r){return async function(o,l){var m,T;const I=await u.unary(n,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,o,l==null?void 0:l.contextValues);return(m=l==null?void 0:l.onHeader)===null||m===void 0||m.call(l,I.header),(T=l==null?void 0:l.onTrailer)===null||T===void 0||T.call(l,I.trailer),I.message}}function re(u,n,r){return function(o,l){return Y(u.stream(n,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,F([o]),l==null?void 0:l.contextValues),l)}}function te(u,n,r){return async function(o,l){var m,T,I,L,j,ne;const le=await u.stream(n,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,o,l==null?void 0:l.contextValues);(j=l==null?void 0:l.onHeader)===null||j===void 0||j.call(l,le.header);let H;try{for(var pe=!0,Ne=R(le.message),Pe;Pe=await Ne.next(),m=Pe.done,!m;pe=!0)L=Pe.value,pe=!1,H=L}catch(Me){T={error:Me}}finally{try{!pe&&!m&&(I=Ne.return)&&await I.call(Ne)}finally{if(T)throw T.error}}if(!H)throw new k("protocol error: missing response message",b.Internal);return(ne=l==null?void 0:l.onTrailer)===null||ne===void 0||ne.call(l,le.trailer),H}}function ee(u,n,r){return function(o,l){return Y(u.stream(n,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,o,l==null?void 0:l.contextValues),l)}}function Y(u,n){const r=function(){var o,l;return Z(this,arguments,function*(){const m=yield V(u);(o=n==null?void 0:n.onHeader)===null||o===void 0||o.call(n,m.header),yield V(yield*q(R(m.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,m.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function ce(){return{get(u){return u.id in this?this[u.id]:u.defaultValue},set(u,n){return this[u.id]=n,this},delete(u){return delete this[u.id],this}}}function K(u){var n;const r=Object.assign({},u);return(n=r.ignoreUnknownFields)!==null&&n!==void 0||(r.ignoreUnknownFields=!0),r}function me(u,n,r,o){const l=n?ae(u.I,o):ve(u.I,r);return{parse:(n?ae(u.O,o):ve(u.O,r)).parse,serialize:l.serialize}}function ae(u,n){return{parse(r){try{return u.fromBinary(r,n)}catch(o){const l=o instanceof Error?o.message:String(o);throw new k(`parse binary: ${l}`,b.InvalidArgument)}},serialize(r){try{return r.toBinary(n)}catch(o){const l=o instanceof Error?o.message:String(o);throw new k(`serialize binary: ${l}`,b.Internal)}}}}function ve(u,n){var r,o;const l=(r=n==null?void 0:n.textEncoder)!==null&&r!==void 0?r:new TextEncoder,m=(o=n==null?void 0:n.textDecoder)!==null&&o!==void 0?o:new TextDecoder,T=K(n);return{parse(I){try{const L=m.decode(I);return u.fromJsonString(L,T)}catch(L){throw k.from(L,b.InvalidArgument)}},serialize(I){try{const L=I.toJsonString(T);return l.encode(L)}catch(L){throw k.from(L,b.Internal)}}}}function Ie(...u){const n=new AbortController,r=u.filter(l=>l!==void 0).concat(n.signal);for(const l of r){if(l.aborted){o.apply(l);break}l.addEventListener("abort",o)}function o(){n.signal.aborted||n.abort(be(this));for(const l of r)l.removeEventListener("abort",o)}return n}function ke(u){const n=new AbortController,r=()=>{n.abort(new k("the operation timed out",b.DeadlineExceeded))};let o;return u!==void 0&&(u<=0?r():o=setTimeout(r,u)),{signal:n.signal,cleanup:()=>clearTimeout(o)}}function be(u){if(!u.aborted)return;if(u.reason!==void 0)return u.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Je(u,n){return n instanceof D.v?n:new u(n)}function Ge(u,n){function r(o){return o.done===!0?o:{done:o.done,value:Je(u,o.value)}}return{[Symbol.asyncIterator](){const o=n[Symbol.asyncIterator](),l={next:()=>o.next().then(r)};return o.throw!==void 0&&(l.throw=m=>o.throw(m).then(r)),o.return!==void 0&&(l.return=m=>o.return(m).then(r)),l}}}function Bt(u){const n=we(u.next,u.interceptors),[r,o,l]=pt(u),m=Object.assign(Object.assign({},u.req),{message:Je(u.req.method.I,u.req.message),signal:r});return n(m).then(T=>(l(),T),o)}function Ft(u){const n=we(u.next,u.interceptors),[r,o,l]=pt(u),m=Object.assign(Object.assign({},u.req),{message:Ge(u.req.method.I,u.req.message),signal:r});let T=!1;return r.addEventListener("abort",function(){var I,L;const j=u.req.message[Symbol.asyncIterator]();T||(I=j.throw)===null||I===void 0||I.call(j,this.reason).catch(()=>{}),(L=j.return)===null||L===void 0||L.call(j).catch(()=>{})}),n(m).then(I=>Object.assign(Object.assign({},I),{message:{[Symbol.asyncIterator](){const L=I.message[Symbol.asyncIterator]();return{next(){return L.next().then(j=>(j.done==!0&&(T=!0,l()),j),o)}}}}}),o)}function pt(u){const{signal:n,cleanup:r}=ke(u.timeoutMs),o=Ie(u.signal,n);return[o.signal,function(m){const T=k.from(n.aborted?be(n):m);return o.abort(T),r(),Promise.reject(T)},function(){r(),o.abort()}]}function we(u,n){var r;return(r=n==null?void 0:n.concat().reverse().reduce((o,l)=>l(o),u))!==null&&r!==void 0?r:u}function ln(u,n,r){const o=typeof n=="string"?n:n.typeName,l=typeof r=="string"?r:r.name;return u.toString().replace(/\/?$/,`/${o}/${l}`)}function qt(u){let n,r=new Uint8Array(0);function o(l){const m=new Uint8Array(r.length+l.length);m.set(r),m.set(l,r.length),r=m}return new ReadableStream({start(){n=u.getReader()},async pull(l){let m;for(;;){if(m===void 0&&r.byteLength>=5){let L=0;for(let j=1;j<5;j++)L=(L<<8)+r[j];m={flags:r[0],length:L}}if(m!==void 0&&r.byteLength>=m.length+5)break;const I=await n.read();if(I.done)break;o(I.value)}if(m===void 0){if(r.byteLength==0){l.close();return}l.error(new k("premature end of stream",b.DataLoss));return}const T=r.subarray(5,5+m.length);r=r.subarray(5+m.length),l.enqueue({flags:m.flags,data:T})}})}function Ct(u,n){const r=new Uint8Array(n.length+5);r.set(n,5);const o=new DataView(r.buffer,r.byteOffset,r.byteLength);return o.setUint8(0,u),o.setUint32(1,n.length),r}const Gt="Content-Type",Ut="Grpc-Timeout",Jt="Grpc-Status",ut="Grpc-Message",fe="Grpc-Status-Details-Bin",rr="User-Agent",cn="X-User-Agent",$n="X-Grpc-Web",Ur="application/grpc-web+proto",hr="application/grpc-web+json";function Jr(u,n,r,o){const l=new Headers(r??{});return l.set(Gt,u?Ur:hr),l.set($n,"1"),l.set(cn,"connect-es/1.2.0"),o&&l.set(rr,"connect-es/1.2.0"),n!==void 0&&l.set(Ut,`${n}m`),l}function pi(u){switch(u){case 400:return b.Internal;case 401:return b.Unauthenticated;case 403:return b.PermissionDenied;case 404:return b.Unimplemented;case 429:return b.Unavailable;case 502:return b.Unavailable;case 503:return b.Unavailable;case 504:return b.Unavailable;default:return b.Unknown}}var Ht=c(850),jn=c(733);class gt extends D.v{constructor(n){super(),this.code=0,this.message="",this.details=[],Ht.w.util.initPartial(n,this)}static fromBinary(n,r){return new gt().fromBinary(n,r)}static fromJson(n,r){return new gt().fromJson(n,r)}static fromJsonString(n,r){return new gt().fromJsonString(n,r)}static equals(n,r){return Ht.w.util.equals(gt,n,r)}}gt.runtime=Ht.w,gt.typeName="google.rpc.Status",gt.fields=Ht.w.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:jn.I,repeated:!0}]);var Vn=c(236);function zn(u,n,r){try{const o=Vn.W.dec(u);return n?n.fromBinary(o,r):o}catch(o){throw k.from(o,b.DataLoss)}}const Wn="0";function Yn(u){var n;const r=u.get(fe);if(r!=null){const l=zn(r,gt);if(l.code==0)return;const m=new k(l.message,l.code,u);return m.details=l.details.map(T=>({type:T.typeUrl.substring(T.typeUrl.lastIndexOf("/")+1),value:T.value})),m}const o=u.get(Jt);if(o!=null){if(o===Wn)return;const l=parseInt(o,10);return l in b?new k(decodeURIComponent((n=u.get(ut))!==null&&n!==void 0?n:""),l,u):new k(`invalid grpc-status: ${o}`,b.Internal,u)}}function lt(u,n){var r;if(u>=200&&u<300){const o=Yn(n);if(o)throw o;return{foundStatus:n.has(Jt)}}throw new k(decodeURIComponent((r=n.get(ut))!==null&&r!==void 0?r:`HTTP ${u}`),pi(u),n)}const fn=128;function ze(u){const n=new Headers,r=new TextDecoder().decode(u).split(`\r
`);for(const o of r){if(o==="")continue;const l=o.indexOf(":");if(l>0){const m=o.substring(0,l).trim(),T=o.substring(l+1).trim();n.append(m,T)}}return n}function $r(u,n){const r=Yn(u);if(r)throw n.forEach((o,l)=>{r.metadata.append(l,o)}),r}function gi(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var Xt=function(u){return this instanceof Xt?(this.v=u,this):new Xt(u)},yi=function(u,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(u,n||[]),l,m=[];return l={},T("next"),T("throw"),T("return"),l[Symbol.asyncIterator]=function(){return this},l;function T(H){o[H]&&(l[H]=function(pe){return new Promise(function(Ne,Pe){m.push([H,pe,Ne,Pe])>1||I(H,pe)})})}function I(H,pe){try{L(o[H](pe))}catch(Ne){le(m[0][3],Ne)}}function L(H){H.value instanceof Xt?Promise.resolve(H.value.v).then(j,ne):le(m[0][2],H)}function j(H){I("next",H)}function ne(H){I("throw",H)}function le(H,pe){H(pe),m.shift(),m.length&&I(m[0][0],m[0][1])}};function vi(u){var n;gi();const r=(n=u.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(o,l,m,T,I,L,j){var ne;const{serialize:le,parse:H}=me(l,r,u.jsonOptions,u.binaryOptions);return T=T===void 0?u.defaultTimeoutMs:T<=0?void 0:T,await Bt({interceptors:u.interceptors,signal:m,timeoutMs:T,req:{stream:!1,service:o,method:l,url:ln(u.baseUrl,o,l),init:{method:"POST",credentials:(ne=u.credentials)!==null&&ne!==void 0?ne:"same-origin",redirect:"error",mode:"cors"},header:Jr(r,T,I,!1),contextValues:j??ce(),message:L},next:async pe=>{var Ne;const Me=await((Ne=u.fetch)!==null&&Ne!==void 0?Ne:globalThis.fetch)(pe.url,Object.assign(Object.assign({},pe.init),{headers:pe.header,signal:pe.signal,body:Ct(0,le(pe.message))}));if(lt(Me.status,Me.headers),!Me.body)throw"missing response body";const Rt=qt(Me.body).getReader();let _e,st;for(;;){const et=await Rt.read();if(et.done)break;const{flags:yt,data:Ai}=et.value;if(yt===fn){if(_e!==void 0)throw"extra trailer";_e=ze(Ai);continue}if(st!==void 0)throw"extra message";st=H(Ai)}if(_e===void 0)throw"missing trailer";if($r(_e,Me.headers),st===void 0)throw"missing message";return{stream:!1,header:Me.headers,message:st,trailer:_e}}})},async stream(o,l,m,T,I,L,j){var ne;const{serialize:le,parse:H}=me(l,r,u.jsonOptions,u.binaryOptions);function pe(Pe,Me,Rt,_e){return yi(this,arguments,function*(){const et=qt(Pe).getReader();if(Me){if(!(yield Xt(et.read())).done)throw"extra data for trailers-only";return yield Xt(void 0)}let yt=!1;for(;;){const Ai=yield Xt(et.read());if(Ai.done)break;const{flags:ts,data:Js}=Ai.value;if((ts&fn)===fn){if(yt)throw"extra trailer";yt=!0;const ef=ze(Js);$r(ef,_e),ef.forEach((kp,Np)=>Rt.set(Np,kp));continue}if(yt)throw"extra message";yield yield Xt(H(Js))}if(!yt)throw"missing trailer"})}async function Ne(Pe){if(l.kind!=P.t.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Me=await Pe[Symbol.asyncIterator]().next();if(Me.done==!0)throw"missing request message";return Ct(0,le(Me.value))}return T=T===void 0?u.defaultTimeoutMs:T<=0?void 0:T,Ft({interceptors:u.interceptors,signal:m,timeoutMs:T,req:{stream:!0,service:o,method:l,url:ln(u.baseUrl,o,l),init:{method:"POST",credentials:(ne=u.credentials)!==null&&ne!==void 0?ne:"same-origin",redirect:"error",mode:"cors"},header:Jr(r,T,I,!1),contextValues:j??ce(),message:L},next:async Pe=>{var Me;const _e=await((Me=u.fetch)!==null&&Me!==void 0?Me:globalThis.fetch)(Pe.url,Object.assign(Object.assign({},Pe.init),{headers:Pe.header,signal:Pe.signal,body:await Ne(Pe.message)})),{foundStatus:st}=lt(_e.status,_e.headers);if(!_e.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},Pe),{header:_e.headers,trailer:et,message:pe(_e.body,st,et,_e.headers)})}})}}}var Ti=c(295),X=c(646);/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Ze=null;try{Ze=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ce(u,n,r){this.low=u|0,this.high=n|0,this.unsigned=!!r}Ce.prototype.__isLong__,Object.defineProperty(Ce.prototype,"__isLong__",{value:!0});function Fe(u){return(u&&u.__isLong__)===!0}function kn(u){var n=Math.clz32(u&-u);return u?31-n:n}Ce.isLong=Fe;var Nn={},jr={};function Ar(u,n){var r,o,l;return n?(u>>>=0,(l=0<=u&&u<256)&&(o=jr[u],o)?o:(r=xe(u,0,!0),l&&(jr[u]=r),r)):(u|=0,(l=-128<=u&&u<128)&&(o=Nn[u],o)?o:(r=xe(u,u<0?-1:0,!1),l&&(Nn[u]=r),r))}Ce.fromInt=Ar;function dn(u,n){if(isNaN(u))return n?ir:An;if(n){if(u<0)return ir;if(u>=Vi)return wi}else{if(u<=-Rs)return ct;if(u+1>=Rs)return Do}return u<0?dn(-u,n).neg():xe(u%mr|0,u/mr|0,n)}Ce.fromNumber=dn;function xe(u,n,r){return new Ce(u,n,r)}Ce.fromBits=xe;var ji=Math.pow;function Ds(u,n,r){if(u.length===0)throw Error("empty string");if(typeof n=="number"?(r=n,n=!1):n=!!n,u==="NaN"||u==="Infinity"||u==="+Infinity"||u==="-Infinity")return n?ir:An;if(r=r||10,r<2||36<r)throw RangeError("radix");var o;if((o=u.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return Ds(u.substring(1),n,r).neg();for(var l=dn(ji(r,8)),m=An,T=0;T<u.length;T+=8){var I=Math.min(8,u.length-T),L=parseInt(u.substring(T,T+I),r);if(I<8){var j=dn(ji(r,I));m=m.mul(j).add(dn(L))}else m=m.mul(l),m=m.add(dn(L))}return m.unsigned=n,m}Ce.fromString=Ds;function In(u,n){return typeof u=="number"?dn(u,n):typeof u=="string"?Ds(u,n):xe(u.low,u.high,typeof n=="boolean"?n:u.unsigned)}Ce.fromValue=In;var xs=65536,ou=1<<24,mr=xs*xs,Vi=mr*mr,Rs=Vi/2,bs=Ar(ou),An=Ar(0);Ce.ZERO=An;var ir=Ar(0,!0);Ce.UZERO=ir;var Vr=Ar(1);Ce.ONE=Vr;var Ls=Ar(1,!0);Ce.UONE=Ls;var zi=Ar(-1);Ce.NEG_ONE=zi;var Do=xe(-1,2147483647,!1);Ce.MAX_VALUE=Do;var wi=xe(-1,-1,!0);Ce.MAX_UNSIGNED_VALUE=wi;var ct=xe(0,-2147483648,!1);Ce.MIN_VALUE=ct;var ie=Ce.prototype;ie.toInt=function(){return this.unsigned?this.low>>>0:this.low},ie.toNumber=function(){return this.unsigned?(this.high>>>0)*mr+(this.low>>>0):this.high*mr+(this.low>>>0)},ie.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ct)){var r=dn(n),o=this.div(r),l=o.mul(r).sub(this);return o.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var m=dn(ji(n,6),this.unsigned),T=this,I="";;){var L=T.div(m),j=T.sub(L.mul(m)).toInt()>>>0,ne=j.toString(n);if(T=L,T.isZero())return ne+I;for(;ne.length<6;)ne="0"+ne;I=""+ne+I}},ie.getHighBits=function(){return this.high},ie.getHighBitsUnsigned=function(){return this.high>>>0},ie.getLowBits=function(){return this.low},ie.getLowBitsUnsigned=function(){return this.low>>>0},ie.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ct)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,r=31;r>0&&!(n&1<<r);r--);return this.high!=0?r+33:r+1},ie.isZero=function(){return this.high===0&&this.low===0},ie.eqz=ie.isZero,ie.isNegative=function(){return!this.unsigned&&this.high<0},ie.isPositive=function(){return this.unsigned||this.high>=0},ie.isOdd=function(){return(this.low&1)===1},ie.isEven=function(){return(this.low&1)===0},ie.equals=function(n){return Fe(n)||(n=In(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low},ie.eq=ie.equals,ie.notEquals=function(n){return!this.eq(n)},ie.neq=ie.notEquals,ie.ne=ie.notEquals,ie.lessThan=function(n){return this.comp(n)<0},ie.lt=ie.lessThan,ie.lessThanOrEqual=function(n){return this.comp(n)<=0},ie.lte=ie.lessThanOrEqual,ie.le=ie.lessThanOrEqual,ie.greaterThan=function(n){return this.comp(n)>0},ie.gt=ie.greaterThan,ie.greaterThanOrEqual=function(n){return this.comp(n)>=0},ie.gte=ie.greaterThanOrEqual,ie.ge=ie.greaterThanOrEqual,ie.compare=function(n){if(Fe(n)||(n=In(n)),this.eq(n))return 0;var r=this.isNegative(),o=n.isNegative();return r&&!o?-1:!r&&o?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1},ie.comp=ie.compare,ie.negate=function(){return!this.unsigned&&this.eq(ct)?ct:this.not().add(Vr)},ie.neg=ie.negate,ie.add=function(n){Fe(n)||(n=In(n));var r=this.high>>>16,o=this.high&65535,l=this.low>>>16,m=this.low&65535,T=n.high>>>16,I=n.high&65535,L=n.low>>>16,j=n.low&65535,ne=0,le=0,H=0,pe=0;return pe+=m+j,H+=pe>>>16,pe&=65535,H+=l+L,le+=H>>>16,H&=65535,le+=o+I,ne+=le>>>16,le&=65535,ne+=r+T,ne&=65535,xe(H<<16|pe,ne<<16|le,this.unsigned)},ie.subtract=function(n){return Fe(n)||(n=In(n)),this.add(n.neg())},ie.sub=ie.subtract,ie.multiply=function(n){if(this.isZero())return this;if(Fe(n)||(n=In(n)),Ze){var r=Ze.mul(this.low,this.high,n.low,n.high);return xe(r,Ze.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?ir:An;if(this.eq(ct))return n.isOdd()?ct:An;if(n.eq(ct))return this.isOdd()?ct:An;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(bs)&&n.lt(bs))return dn(this.toNumber()*n.toNumber(),this.unsigned);var o=this.high>>>16,l=this.high&65535,m=this.low>>>16,T=this.low&65535,I=n.high>>>16,L=n.high&65535,j=n.low>>>16,ne=n.low&65535,le=0,H=0,pe=0,Ne=0;return Ne+=T*ne,pe+=Ne>>>16,Ne&=65535,pe+=m*ne,H+=pe>>>16,pe&=65535,pe+=T*j,H+=pe>>>16,pe&=65535,H+=l*ne,le+=H>>>16,H&=65535,H+=m*j,le+=H>>>16,H&=65535,H+=T*L,le+=H>>>16,H&=65535,le+=o*ne+l*j+m*L+T*I,le&=65535,xe(pe<<16|Ne,le<<16|H,this.unsigned)},ie.mul=ie.multiply,ie.divide=function(n){if(Fe(n)||(n=In(n)),n.isZero())throw Error("division by zero");if(Ze){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var r=(this.unsigned?Ze.div_u:Ze.div_s)(this.low,this.high,n.low,n.high);return xe(r,Ze.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ir:An;var o,l,m;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return ir;if(n.gt(this.shru(1)))return Ls;m=ir}else{if(this.eq(ct)){if(n.eq(Vr)||n.eq(zi))return ct;if(n.eq(ct))return Vr;var T=this.shr(1);return o=T.div(n).shl(1),o.eq(An)?n.isNegative()?Vr:zi:(l=this.sub(n.mul(o)),m=o.add(l.div(n)),m)}else if(n.eq(ct))return this.unsigned?ir:An;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();m=An}for(l=this;l.gte(n);){o=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var I=Math.ceil(Math.log(o)/Math.LN2),L=I<=48?1:ji(2,I-48),j=dn(o),ne=j.mul(n);ne.isNegative()||ne.gt(l);)o-=L,j=dn(o,this.unsigned),ne=j.mul(n);j.isZero()&&(j=Vr),m=m.add(j),l=l.sub(ne)}return m},ie.div=ie.divide,ie.modulo=function(n){if(Fe(n)||(n=In(n)),Ze){var r=(this.unsigned?Ze.rem_u:Ze.rem_s)(this.low,this.high,n.low,n.high);return xe(r,Ze.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))},ie.mod=ie.modulo,ie.rem=ie.modulo,ie.not=function(){return xe(~this.low,~this.high,this.unsigned)},ie.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ie.clz=ie.countLeadingZeros,ie.countTrailingZeros=function(){return this.low?kn(this.low):kn(this.high)+32},ie.ctz=ie.countTrailingZeros,ie.and=function(n){return Fe(n)||(n=In(n)),xe(this.low&n.low,this.high&n.high,this.unsigned)},ie.or=function(n){return Fe(n)||(n=In(n)),xe(this.low|n.low,this.high|n.high,this.unsigned)},ie.xor=function(n){return Fe(n)||(n=In(n)),xe(this.low^n.low,this.high^n.high,this.unsigned)},ie.shiftLeft=function(n){return Fe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xe(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):xe(0,this.low<<n-32,this.unsigned)},ie.shl=ie.shiftLeft,ie.shiftRight=function(n){return Fe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xe(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):xe(this.high>>n-32,this.high>=0?0:-1,this.unsigned)},ie.shr=ie.shiftRight,ie.shiftRightUnsigned=function(n){return Fe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xe(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?xe(this.high,0,this.unsigned):xe(this.high>>>n-32,0,this.unsigned)},ie.shru=ie.shiftRightUnsigned,ie.shr_u=ie.shiftRightUnsigned,ie.rotateLeft=function(n){var r;return Fe(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xe(this.high,this.low,this.unsigned):n<32?(r=32-n,xe(this.low<<n|this.high>>>r,this.high<<n|this.low>>>r,this.unsigned)):(n-=32,r=32-n,xe(this.high<<n|this.low>>>r,this.low<<n|this.high>>>r,this.unsigned))},ie.rotl=ie.rotateLeft,ie.rotateRight=function(n){var r;return Fe(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xe(this.high,this.low,this.unsigned):n<32?(r=32-n,xe(this.high<<r|this.low>>>n,this.low<<r|this.high>>>n,this.unsigned)):(n-=32,r=32-n,xe(this.low<<r|this.high>>>n,this.high<<r|this.low>>>n,this.unsigned))},ie.rotr=ie.rotateRight,ie.toSigned=function(){return this.unsigned?xe(this.low,this.high,!1):this},ie.toUnsigned=function(){return this.unsigned?this:xe(this.low,this.high,!0)},ie.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()},ie.toBytesLE=function(){var n=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]},ie.toBytesBE=function(){var n=this.high,r=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},Ce.fromBytes=function(n,r,o){return o?Ce.fromBytesLE(n,r):Ce.fromBytesBE(n,r)},Ce.fromBytesLE=function(n,r){return new Ce(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,r)},Ce.fromBytesBE=function(n,r){return new Ce(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],r)};const Tt=Ce;var Ee;(function(u){u.Ok="ok",u.ClientNotActive="client-not-active",u.Unimplemented="unimplemented",u.Unsupported="unsupported",u.DocumentNotAttached="document-not-attached",u.DocumentNotDetached="document-not-detached",u.DocumentRemoved="document-removed",u.InvalidObjectKey="invalid-object-key",u.InvalidArgument="invalid-argument"})(Ee||(Ee={}));class Ae extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="YorkieError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function Kn(u){if(u instanceof Map){const n=Array.from(u);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(u))}const xo=u=>u?Object.entries(u).length===0:!0,_t=u=>{const n={};for(const[r,o]of Object.entries(u))n[r]=JSON.stringify(o);return n},ft=u=>{const n={};for(const[r,o]of Object.entries(u))n[r]=JSON.parse(o);return n};var Pn;(function(u){u.Put="put",u.Clear="clear"})(Pn||(Pn={}));class Wi{constructor(n,r){this.context=n,this.presence=r}set(n,r){for(const o of Object.keys(n))this.presence[o]=n[o];this.context.setPresenceChange({type:Pn.Put,presence:Kn(this.presence)}),this.context.setReversePresence(n,r)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:Pn.Clear})}}const Ro="000000000000000000000000",hn="FFFFFFFFFFFFFFFFFFFFFFFF";class $e{constructor(n,r,o){this.lamport=n,this.delimiter=r,this.actorID=o}static of(n,r,o){return new $e(n,r,o)}static fromStruct(n){return $e.of(Tt.fromString(n.lamport,!0),n.delimiter,n.actorID)}toIDString(){return this.actorID?`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`:`${this.lamport.toString()}:nil:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return this.actorID?`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`:`${this.lamport.toString()}:nil:${this.delimiter}`}setActor(n){return new $e(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport.greaterThan(n.lamport))return 1;if(n.lamport.greaterThan(this.lamport))return-1;const r=this.actorID.localeCompare(n.actorID);return r!==0?r:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const Yi=0,qn=4294967295,Gn=Tt.MAX_VALUE,Dt=new $e(Tt.fromNumber(0),Yi,Ro),$t=new $e(Gn,qn,hn);function He(u){return u.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class xt{constructor(n){this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}}class pr extends xt{constructor(n){super(n)}}class Qt extends xt{}class jt{constructor(n,r){this.strKey=n,this.value=r}static of(n,r){return new jt(n,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class Nt{constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Nt}set(n,r,o){let l;const m=this.nodeMapByKey.get(n);m!=null&&!m.isRemoved()&&m.remove(o)&&(l=m.getValue());const T=jt.of(n,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),T),(m==null||o.after(m.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,T),r.setMovedAt(o)),l}delete(n,r){this.nodeMapByCreatedAt.has(n.toIDString())||y.fatal(`fail to find ${n.toIDString()}`);const o=this.nodeMapByCreatedAt.get(n.toIDString());return o.remove(r),o.getValue()}subPathOf(n){const r=this.nodeMapByCreatedAt.get(n.toIDString());if(r)return r.getStrKey()}purge(n){const r=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!r){y.fatal(`fail to find ${n.getCreatedAt().toIDString()}`);return}const o=this.nodeMapByKey.get(r.getStrKey());r===o&&this.nodeMapByKey.delete(o.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(n,r){const o=this.nodeMapByKey.get(n);if(o!=null&&o.remove(r))return o.getValue()}has(n){const r=this.nodeMapByKey.get(n);return r==null?!1:!r.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const r=this.nodeMapByKey.get(n);if(!(!r||r.isRemoved()))return r}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class Ue extends pr{constructor(n,r){super(n),this.memberNodes=r}static create(n,r){if(!r)return new Ue(n,Nt.create());const o=Nt.create();for(const[l,m]of Object.entries(r))o.set(l,m.deepcopy(),m.getCreatedAt());return new Ue(n,o)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,r,o){return this.memberNodes.set(n,r,o)}delete(n,r){return this.memberNodes.delete(n,r)}deleteByKey(n,r){return this.memberNodes.deleteByKey(n,r)}get(n){const r=this.memberNodes.get(n);return r==null?void 0:r.getValue()}getByID(n){const r=this.memberNodes.getByID(n);return r==null?void 0:r.getValue()}has(n){return this.memberNodes.has(n)}toJSON(){const n=[];for(const[r,o]of this)n.push(`"${He(r)}":${o.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[r,o]of this){const{createdAt:l,value:m,type:T}=o.toJSForTest();n[r]={key:r,createdAt:l,value:m,type:T}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[r]of this)n.push(r);return n}toSortedJSON(){var n;const r=Array();for(const[l]of this)r.push(l);const o=[];for(const l of r.sort()){const m=(n=this.memberNodes.get(l))===null||n===void 0?void 0:n.getValue();o.push(`"${He(l)}":${m.toSortedJSON()}`)}return`{${o.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=Ue.create(this.getCreatedAt());for(const r of this.memberNodes)n.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const r of this.memberNodes){const o=r.getValue();if(n(o,this))return;o instanceof pr&&o.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const r of this.memberNodes)n.has(r.getStrKey())||(n.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var We;(function(u){u.Local="local",u.Remote="remote",u.UndoRedo="undoredo"})(We||(We={}));class Xe{constructor(n,r){this.parentCreatedAt=n,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class Zt{constructor(n){this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class It{constructor(n){this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&n<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<n)n-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{n-=r.getLeftWeight();break}return n>r.getLength()&&y.fatal(`out of index range: pos: ${n} > node.length: ${r.getLength()}`),[r,n]}indexOf(n){if(!n||n!==this.root&&!n.hasLinks())return-1;let r=0,o=n,l;for(;o;)(!l||l===o.getRight())&&(r+=o.getLength()+(o.hasLeft()?o.getLeftWeight():0)),l=o,o=o.getParent();return r-n.getLength()}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,r){return n?(this.splayNode(n),this.root=r,r.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(r),r.setLeft(n),n.setParent(r),n.setRight(),this.updateWeight(n),this.updateWeight(r),r):(this.root=r,r)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const r=new It(n.getLeft());r.root&&r.root.setParent();const o=new It(n.getRight());if(o.root&&o.root.setParent(),r.root){const l=r.getRightmost();r.splayNode(l),r.root.setRight(o.root),o.root&&o.root.setParent(r.root),this.root=r.root}else this.root=o.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,r){if(!r){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(r),r.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const r=[];this.traversePostorder(n.getRight(),r);for(const o of r)o.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const r of n)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,r){n&&(this.traverseInorder(n.getLeft(),r),r.push(n),this.traverseInorder(n.getRight(),r))}traversePostorder(n,r){n&&(this.traversePostorder(n.getLeft(),r),this.traversePostorder(n.getRight(),r),r.push(n))}rotateLeft(n){const r=n.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(n):r.getParent().setRight(n):this.root=n,n.setParent(r.getParent()),r.setRight(n.getLeft()),r.hasRight()&&r.getRight().setParent(r),n.setLeft(r),n.getLeft().setParent(n),this.updateWeight(r),this.updateWeight(n)}rotateRight(n){const r=n.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(n):r.getParent().setRight(n):this.root=n,n.setParent(r.getParent()),r.setLeft(n.getRight()),r.hasLeft()&&r.getLeft().setParent(r),n.setRight(r),n.getRight().setParent(n),this.updateWeight(r),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}var he;(function(u){u[u.Null=0]="Null",u[u.Boolean=1]="Boolean",u[u.Integer=2]="Integer",u[u.Long=3]="Long",u[u.Double=4]="Double",u[u.String=5]="String",u[u.Bytes=6]="Bytes",u[u.Date=7]="Date"})(he||(he={}));class Ye extends xt{constructor(n,r){super(r),this.valueType=Ye.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,r){return new Ye(n,r)}static valueFromBytes(n,r){switch(n){case he.Null:return null;case he.Boolean:return!!r[0];case he.Integer:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case he.Double:{const o=new DataView(r.buffer);return r.forEach(function(l,m){o.setUint8(m,l)}),o.getFloat64(0,!0)}case he.String:return new TextDecoder("utf-8").decode(r);case he.Long:return Tt.fromBytesLE(Array.from(r));case he.Bytes:return r;case he.Date:return new Date(Tt.fromBytesLE(Array.from(r),!0).toNumber());default:throw new Ae(Ee.Unimplemented,`unimplemented type: ${n}`)}}toJSON(){return this.valueType===he.String?`"${He(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Ye.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return he.Null;case"boolean":return he.Boolean;case"number":return this.isInteger(n)?he.Integer:he.Double;case"string":return he.String;case"object":if(n===null)return he.Null;if(n instanceof Tt)return he.Long;if(n instanceof Uint8Array)return he.Bytes;if(n instanceof Date)return he.Date}}static isSupport(n){return Ye.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===he.Integer||n===he.Long||n===he.Double}getValue(){return this.value}toBytes(){switch(this.valueType){case he.Null:return new Uint8Array;case he.Boolean:return this.value?new Uint8Array([1]):new Uint8Array([0]);case he.Integer:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case he.Double:{const n=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,n,!0),r}case he.String:return new TextEncoder().encode(this.value);case he.Long:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case he.Bytes:return this.value;case he.Date:{const n=this.value,r=Tt.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new Ae(Ee.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class Ki extends Zt{constructor(n){super(n),this.value=n}static createAfter(n,r){const o=new Ki(r),l=n.next;return n.next=o,o.prev=n,o.next=l,l&&(l.prev=o),o}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Si{constructor(){const n=Ye.of(0,Dt);n.setRemovedAt(Dt),this.dummyHead=new Ki(n),this.last=this.dummyHead,this.nodeMapByIndex=new It,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Si}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,r){let o=this.nodeMapByCreatedAt.get(n.toIDString());for(o||y.fatal(`cant find the given node: ${n.toIDString()}`);o.getNext()&&o.getNext().getPositionedAt().after(r);)o=o.getNext();return o}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,r,o=r.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,o),m=Ki.createAfter(l,r);l===this.last&&(this.last=m),this.nodeMapByIndex.insertAfter(l,m),this.nodeMapByCreatedAt.set(m.getCreatedAt().toIDString(),m)}moveAfter(n,r,o){const l=this.nodeMapByCreatedAt.get(n.toIDString());l||y.fatal(`cant find the given node: ${n.toIDString()}`);const m=this.nodeMapByCreatedAt.get(r.toIDString());m||y.fatal(`cant find the given node: ${r.toIDString()}`),l!==m&&(!m.getValue().getMovedAt()||o.after(m.getValue().getMovedAt()))&&(this.release(m),this.insertAfter(l.getCreatedAt(),m.getValue(),o),m.getValue().setMovedAt(o))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const r=this.nodeMapByCreatedAt.get(n.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(n){const r=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());r||y.fatal(`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`),this.release(r)}getByIndex(n){if(n>=this.length)return;const[r,o]=this.nodeMapByIndex.find(n);let l=r;if(n===0&&r===this.dummyHead||o>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let r=this.nodeMapByCreatedAt.get(n.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(n,r){const o=this.nodeMapByCreatedAt.get(n.toIDString()),l=o.isRemoved();return o.remove(r)&&!l&&this.nodeMapByIndex.splayNode(o),o.getValue()}deleteByIndex(n,r){const o=this.getByIndex(n);if(o)return o.remove(r)&&this.nodeMapByIndex.splayNode(o),o.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const r of this){const o=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?n.push(`{${o}}`):n.push(`[${o}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class en extends pr{constructor(n,r){super(n),this.elements=r}static create(n,r){if(!r)return new en(n,Si.create());const o=Si.create();for(const l of r)o.insertAfter(o.getLastCreatedAt(),l.deepcopy());return new en(n,o)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,r){this.elements.insertAfter(n,r)}moveAfter(n,r,o){this.elements.moveAfter(n,r,o)}get(n){const r=this.elements.getByIndex(n);return r==null?void 0:r.getValue()}getByID(n){const r=this.elements.getByID(n);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,r){return this.elements.delete(n,r)}deleteByIndex(n,r){return this.elements.deleteByIndex(n,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const r of this.elements){const o=r.getValue();if(n(o,this))return;o instanceof pr&&o.getDescendants(n)}}toJSON(){const n=[];for(const r of this)n.push(r.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let r=0;r<this.length;r++){const{createdAt:o,value:l,type:m}=this.get(r).toJSForTest();n[r]={key:String(r),createdAt:o,value:l,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=en.create(this.getCreatedAt());for(const r of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),r.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class gr extends Xe{constructor(n,r,o){super(n,o),this.createdAt=r}static create(n,r,o){return new gr(n,r,o)}execute(n,r){var o;const l=n.findByCreatedAt(this.getParentCreatedAt());if(l||y.fatal(`fail to find ${this.getParentCreatedAt()}`),l instanceof pr||y.fatal(`only object and array can execute remove: ${l}`),r===We.UndoRedo){let j=l.getByID(this.createdAt);for(;j;){if(j.getRemovedAt())return;j=(o=n.findElementPairByCreatedAt(j.getCreatedAt()))===null||o===void 0?void 0:o.parent}}const m=l.subPathOf(this.createdAt),T=this.toReverseOperation(l),I=l.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(I),{opInfos:l instanceof en?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(m)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:m}],reverseOp:T}}toReverseOperation(n){if(n instanceof Ue){const r=n.subPathOf(this.createdAt);if(r!==void 0){const o=n.get(r);if(o!==void 0)return Pr.create(r,o.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Pr extends Xe{constructor(n,r,o,l){super(o,l),this.key=n,this.value=r}static create(n,r,o,l){return new Pr(n,r,o,l)}execute(n,r){var o;const l=n.findByCreatedAt(this.getParentCreatedAt());if(l||y.fatal(`fail to find ${this.getParentCreatedAt()}`),l instanceof Ue||y.fatal("fail to execute, only object can execute set"),r===We.UndoRedo){let j=l;for(;j;){if(j.getRemovedAt())return;j=(o=n.findElementPairByCreatedAt(j.getCreatedAt()))===null||o===void 0?void 0:o.parent}}const m=l.get(this.key),T=this.toReverseOperation(m),I=this.value.deepcopy(),L=l.set(this.key,I,this.getExecutedAt());return r===We.UndoRedo&&n.findByCreatedAt(I.getCreatedAt())&&n.deregisterElement(I),n.registerElement(I,l),L&&n.registerRemovedElement(L),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:T}}toReverseOperation(n){let r=gr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(r=Pr.create(this.key,n.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ei extends Xe{constructor(n,r,o,l){super(n,l),this.prevCreatedAt=r,this.value=o}static create(n,r,o,l){return new Ei(n,r,o,l)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof en||y.fatal("fail to execute, only array can execute add");const o=r,l=this.value.deepcopy();return o.insertAfter(this.prevCreatedAt,l),n.registerElement(l,o),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(o.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class yr extends Xe{constructor(n,r,o,l){super(n,l),this.prevCreatedAt=r,this.createdAt=o}static create(n,r,o,l){return new yr(n,r,o,l)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof en||y.fatal("fail to execute, only array can execute move");const o=r,l=Number(o.subPathOf(this.createdAt));o.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const m=Number(o.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:m,previousIndex:l}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class qi{constructor(n,r,o){this.key=n,this.value=r,this.updatedAt=o}static of(n,r,o){return new qi(n,r,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}}class On{constructor(){this.nodeMapByKey=new Map}static create(){return new On}set(n,r,o){const l=this.nodeMapByKey.get(n);if(l===void 0||o.after(l.getUpdatedAt())){const m=qi.of(n,r,o);this.nodeMapByKey.set(n,m)}}has(n){return this.nodeMapByKey.has(n)}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new On;for(const[,r]of this.nodeMapByKey)n.set(r.getKey(),r.getValue(),r.getUpdatedAt());return n}toJSON(){const n=[];for(const[r,o]of this.nodeMapByKey)n.push(`"${He(r)}":"${He(o.getValue())}"`);return`{${n.join(",")}}`}toXML(){return this.size()?` ${[...this.nodeMapByKey].map(([n,r])=>`${n}="${JSON.parse(r.getValue())}"`).join(" ")}`:""}size(){return this.nodeMapByKey.size}toObject(){const n={};for(const[r,o]of this.nodeMapByKey)n[r]=o.getValue();return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}var tn;(function(u){u.Content="content",u.Style="style"})(tn||(tn={}));class nn{constructor(n){this.attributes=On.create(),this.content=n}static create(n){return new nn(n)}get length(){return this.content.length}substring(n,r){const o=new nn(this.content.substring(n,r));return o.attributes=this.attributes.deepcopy(),o}setAttr(n,r,o){this.attributes.set(n,r,o)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const n=He(this.content),r=this.attributes.toObject(),o=[];for(const[l,m]of Object.entries(r)){const T=JSON.parse(m),I=typeof T=="string"?`"${He(l)}":"${He(T)}"`:`"${He(l)}":${String(T)}`;o.push(I)}return o.sort(),o.length===0?`{"val":"${n}"}`:`{"attrs":{${o.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}}class dt extends Qt{constructor(n,r){super(r),this.rgaTreeSplit=n}static create(n,r){return new dt(n,r)}edit(n,r,o,l,m){const T=r?nn.create(r):void 0;if(T&&l)for(const[le,H]of Object.entries(l))T.setAttr(le,H,o);const[I,L,j]=this.rgaTreeSplit.edit(n,o,T,m),ne=j.map(le=>({...le,value:le.value?{attributes:ft(le.value.getAttributes()),content:le.value.getContent()}:{attributes:void 0,content:""},type:tn.Content}));return[L,ne,[I,I]]}setStyle(n,r,o,l){const[,m]=this.rgaTreeSplit.findNodeWithSplit(n[1],o),[,T]=this.rgaTreeSplit.findNodeWithSplit(n[0],o),I=[],L=this.rgaTreeSplit.findBetween(T,m),j=new Map,ne=[];for(const le of L){const H=le.getCreatedAt().getActorID(),pe=l!=null&&l.size?l.has(H)?l.get(H):Dt:$t;if(le.canStyle(o,pe)){const Ne=j.get(H),Pe=le.getCreatedAt();(!Ne||Pe.after(Ne))&&j.set(H,Pe),ne.push(le)}}for(const le of ne){if(le.isRemoved())continue;const[H,pe]=this.rgaTreeSplit.findIndexesFromRange(le.createPosRange());I.push({type:tn.Style,actor:o.getActorID(),from:H,to:pe,value:{attributes:ft(r)}});for(const[Ne,Pe]of Object.entries(r))le.getValue().setAttr(Ne,Pe,o)}return[j,I]}indexRangeToPosRange(n,r){const o=this.rgaTreeSplit.indexToPos(n);return n===r?[o,o]:[o,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const n=[];for(const r of this.rgaTreeSplit)r.isRemoved()||n.push(r.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const o=r.getValue();n.push({attributes:ft(o.getAttributes()),content:o.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}getRemovedNodesLen(){return this.rgaTreeSplit.getRemovedNodesLen()}purgeRemovedNodesBefore(n){return this.rgaTreeSplit.purgeRemovedNodesBefore(n)}deepcopy(){const n=new dt(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}}class vr extends Xe{constructor(n,r,o,l,m,T,I){super(n,I),this.fromPos=r,this.toPos=o,this.maxCreatedAtMapByActor=l,this.content=m,this.attributes=T}static create(n,r,o,l,m,T,I){return new vr(n,r,o,l,m,T,I)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof dt||y.fatal("fail to execute, only Text can execute edit");const o=r,[,l]=o.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||n.registerElementHasRemovedNodes(o),{opInfos:l.map(({from:m,to:T,value:I})=>({type:"edit",from:m,to:T,value:I,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),o=this.toPos.toTestString(),l=this.content;return`${n}.EDIT(${r},${o},${l})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Vt extends Xe{constructor(n,r,o,l,m,T){super(n,T),this.fromPos=r,this.toPos=o,this.maxCreatedAtMapByActor=l,this.attributes=m}static create(n,r,o,l,m,T){return new Vt(n,r,o,l,m,T)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof dt||y.fatal("fail to execute, only Text can execute edit");const o=r,[,l]=o.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);return{opInfos:l.map(({from:m,to:T,value:I})=>({type:"style",from:m,to:T,value:I,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),o=this.toPos.toTestString(),l=this.attributes;return`${n}.STYL(${r},${o},${JSON.stringify(l)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const mn=2,pn="root",wt="text";function rn(u,n){let r=0;const o=u.children;for(let l=0;l<n;l++){const m=o[l];!m||m.isRemoved||(r+=m.paddedSize)}return r}class zr{constructor(n,r=[]){if(this.type=n,this.size=0,this._children=r,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let n=this.parent;const r=this.isRemoved?-1:1;for(;n;)n.size+=this.paddedSize*r,n=n.parent}get isText(){return this.type===wt}get paddedSize(){return this.size+(this.isText?0:mn)}isAncestorOf(n){return Wr(this,n)}get nextSibling(){const n=this.parent.findOffset(this),r=this.parent.children[n+1];if(r)return r}splitText(n,r){if(n===0||n===this.size)return;const o=this.value.slice(0,n),l=this.value.slice(n);if(!l.length)return;this.value=o;const m=this.cloneText(n+r);return m.value=l,this.parent.insertAfterInternal(m,this),m}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.some(n=>n.isText)}append(...n){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...n);for(const r of n)r.parent=this,r.updateAncestorsSize()}prepend(...n){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...n);for(const r of n)r.parent=this,r.isRemoved||r.updateAncestorsSize()}insertBefore(n,r){if(this.isText)throw new Error("Text node cannot have children");const o=this._children.indexOf(r);if(o===-1)throw new Error("child not found");this.insertAtInternal(n,o),n.updateAncestorsSize()}insertAfter(n,r){if(this.isText)throw new Error("Text node cannot have children");const o=this._children.indexOf(r);if(o===-1)throw new Error("child not found");this.insertAtInternal(n,o+1),n.updateAncestorsSize()}insertAt(n,r){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(n,r),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new Error("Text node cannot have children");const r=this._children.indexOf(n);if(r===-1)throw new Error("child not found");this._children.splice(r,1),n.parent=void 0}splitElement(n,r){const o=this.cloneElement(r);this.parent.insertAfterInternal(o,this),o.updateAncestorsSize();const l=this.children.slice(0,n),m=this.children.slice(n);this._children=l,o._children=m,this.size=this._children.reduce((T,I)=>T+I.paddedSize,0),o.size=o._children.reduce((T,I)=>T+I.paddedSize,0);for(const T of o._children)T.parent=o;return o}insertAfterInternal(n,r){if(this.isText)throw new Error("Text node cannot have children");const o=this._children.indexOf(r);if(o===-1)throw new Error("child not found");this.insertAtInternal(n,o+1)}insertAtInternal(n,r){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(r,0,n),n.parent=this}findOffset(n){if(this.isText)throw new Error("Text node cannot have children");if(n.isRemoved){const r=this._children.indexOf(n);return this.allChildren.splice(0,r).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new Error("Text node cannot have children");let r=n;for(;r;){const o=this._children.indexOf(r);if(o!==-1)return o;r=r.parent}return-1}}function Wr(u,n){if(u===n)return!1;for(;n.parent;){if(n.parent===u)return!0;n=n.parent}return!1}var Re;(function(u){u.Start="Start",u.End="End",u.Text="Text"})(Re||(Re={}));function Cn(u,n,r,o){if(n>r)throw new Error(`from is greater than to: ${n} > ${r}`);if(n>u.size)throw new Error(`from is out of range: ${n} > ${u.size}`);if(r>u.size)throw new Error(`to is out of range: ${r} > ${u.size}`);if(n===r)return;let l=0;for(const m of u.children){if(n-m.paddedSize<l&&l<r){const T=m.isText?n-l:n-l-1,I=m.isText?r-l:r-l-1,L=!m.isText&&T<0,j=!m.isText&&I>m.size;(m.isText||L)&&o([m,m.isText?Re.Text:Re.Start],j),Cn(m,Math.max(0,T),Math.min(I,m.size),o),j&&o([m,Re.End],j)}l+=m.paddedSize}}function St(u,n,r=0){for(const o of u.children)St(o,n,r+1);n(u,r)}function _n(u,n,r=0){for(const o of u._children)_n(o,n,r+1);n(u,r)}function gn(u,n,r=!0){if(n>u.size)throw new Error(`index is out of range: ${n} > ${u.size}`);if(u.isText)return{node:u,offset:n};let o=0,l=0;for(const m of u.children){if(r&&m.isText&&m.size>=n-l)return gn(m,n-l,r);if(n===l)return{node:u,offset:o};if(!r&&m.paddedSize===n-l)return{node:u,offset:o+1};if(m.paddedSize>n-l)return gn(m,n-l-1,r);l+=m.paddedSize,o+=1}return{node:u,offset:o}}function Dn(u){return u.isText||u.children.length===0?u:Dn(u.children[0])}function h(u,n){if(u.size<n)throw new Error("unacceptable path");for(let r=0;r<u.children.length;r++){const o=u.children[r];if(o.size<n)n-=o.size;else{u=o;break}}return{node:u,offset:n}}class a{constructor(n){this.root=n}tokensBetween(n,r,o){Cn(this.root,n,r,o)}traverse(n){St(this.root,n,0)}traverseAll(n){_n(this.root,n,0)}findTreePos(n,r=!0){return gn(this.root,n,r)}treePosToPath(n){const r=[];let o=n.node;if(o.isText){const l=o.parent.findOffset(o);if(l===-1)throw new Error("invalid treePos");const m=rn(o.parent,l);o=o.parent,r.push(m+n.offset)}else r.push(n.offset);for(;o.parent;){const l=o.parent.findOffset(o);if(l===-1)throw new Error("invalid treePos");r.push(l),o=o.parent}return r.reverse()}pathToIndex(n){const r=this.pathToTreePos(n);return this.indexOf(r)}pathToTreePos(n){if(!n.length)throw new Error("unacceptable path");let r=this.root;for(let o=0;o<n.length-1;o++){const l=n[o];if(r=r.children[l],!r)throw new Error("unacceptable path")}if(r.hasTextChild())return h(r,n[n.length-1]);if(r.children.length<n[n.length-1])throw new Error("unacceptable path");return{node:r,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:r,offset:o}=n;if(r.isText){if(r.size===o){const l=r.nextSibling;return l||r.parent}return r}return r.children.length===o?r:Dn(r.children[o])}indexOf(n){let{node:r}=n;const{offset:o}=n;let l=0,m=1;if(r.isText){l+=o;const T=r.parent,I=T.findOffset(r);if(I===-1)throw new Error("invalid pos");l+=rn(T,I),r=r.parent}else l+=rn(r,o);for(;r!=null&&r.parent;){const T=r.parent,I=T.findOffset(r);if(I===-1)throw new Error("invalid pos");l+=rn(T,I),m++,r=r.parent}return l+m-1}indexToPath(n){const r=this.findTreePos(n);return this.treePosToPath(r)}}const f=(u,n)=>u===n?0:u<n?-1:1;class A{constructor(n,r,o){this.key=n,this.value=r,this.isRed=o}}class x{constructor(n){this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class U{constructor(n){this.comparator=typeof n<"u"?n:f,this.counter=0}put(n,r){return this.root=this.putInternal(n,r,this.root),this.root.isRed=!1,r}get(n){const r=this.getInternal(n,this.root);return r?r.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new x(this.root)}values(){const n=[];for(const r of this.getIterator().stack)n.push(r.value);return n}floorEntry(n){let r=this.root;for(;r;){const o=this.comparator(n,r.key);if(o>0)if(r.right)r.right.parent=r,r=r.right;else return r;else if(o<0)if(r.left)r.left.parent=r,r=r.left;else{let l=r.parent,m=r;for(;l&&m===l.left;)m=l,l=l.parent;return l}else return r}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,r){for(;r;){const o=this.comparator(n,r.key);if(o===0)return r;o<0?r=r.left:o>0&&(r=r.right)}}putInternal(n,r,o){if(!o)return this.counter+=1,new A(n,r,!0);const l=this.comparator(n,o.key);return l<0?o.left=this.putInternal(n,r,o.left):l>0?o.right=this.putInternal(n,r,o.right):o.value=r,this.isRed(o.right)&&!this.isRed(o.left)&&(o=this.rotateLeft(o)),this.isRed(o.left)&&this.isRed(o.left.left)&&(o=this.rotateRight(o)),this.isRed(o.left)&&this.isRed(o.right)&&this.flipColors(o),o}removeInternal(n,r){if(this.comparator(r,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,r);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(r,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(r,n.key)===0){this.counter-=1;const o=this.min(n.right);n.value=o.value,n.key=o.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,r)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const r=n.right;return n.right=r.left,r.left=n,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(n){const r=n.left;return n.left=r.right,r.right=n,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}var $;(function(u){u.Content="content",u.Style="style"})($||($={}));class G{constructor(n,r){this.parentID=n,this.leftSiblingID=r}static of(n,r){return new G(n,r)}static fromTreePos(n){const{offset:r}=n;let{node:o}=n,l;return o.isText?(o.parent.children[0]===o&&r===0?l=o.parent:l=o,o=o.parent):r===0?l=o:l=o.children[r-1],G.of(o.id,W.of(l.getCreatedAt(),l.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(n){return G.of(W.of($e.fromStruct(n.parentID.createdAt),n.parentID.offset),W.of($e.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodes(n){const r=this.getParentID(),o=this.getLeftSiblingID(),l=n.findFloorNode(r);let m=n.findFloorNode(o);if(!l||!m)throw new Error(`cannot find node at ${this}`);return!o.equals(r)&&o.getOffset()>0&&o.getOffset()===m.id.getOffset()&&m.insPrevID&&(m=n.findFloorNode(m.insPrevID)),[l,m]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class W{constructor(n,r){this.createdAt=n,this.offset=r}static of(n,r){return new W(n,r)}static fromStruct(n){return W.of($e.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,r)=>{const o=n.getCreatedAt().compare(r.getCreatedAt());return o!==0?o:n.getOffset()>r.getOffset()?1:n.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}}class se extends zr{constructor(n,r,o,l,m){super(r),this._value="",this.id=n,this.removedAt=m,l&&(this.attrs=l),typeof o=="string"?this.value=o:Array.isArray(o)&&(this._children=o)}static create(n,r,o,l){return new se(n,r,o,l)}deepcopy(){var n;const r=new se(this.id,this.type);return r.removedAt=this.removedAt,r._value=this._value,r.size=this.size,r.attrs=(n=this.attrs)===null||n===void 0?void 0:n.deepcopy(),r._children=this._children.map(o=>{const l=o.deepcopy();return l.parent=r,l}),r}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),r&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(n){return new se(W.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new se(W.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,r,o){const l=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,o);if(l){if(l.insPrevID=this.id,this.insNextID){const m=n.findFloorNode(this.insNextID);m.insPrevID=l.id,l.insNextID=this.insNextID}this.insNextID=l.id,n.registerNode(l)}return l}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||n.after(this.removedAt))}}function ue(u){var n;if(u.isText){const r=u;return{type:r.type,value:r.value}}return{type:u.type,children:u.children.map(ue),attributes:u.attrs?ft((n=u.attrs)===null||n===void 0?void 0:n.toObject()):void 0}}function Te(u){var n;return u.isText?u.value:`<${u.type}${((n=u.attrs)===null||n===void 0?void 0:n.toXML())||""}>${u.children.map(r=>Te(r)).join("")}</${u.type}>`}function je(u){if(u.isText){const n=u;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:u.type,children:u.children.map(je),size:u.size,isRemoved:u.isRemoved}}class Se extends Qt{constructor(n,r){super(r),this.indexTree=new a(n),this.nodeMapByID=new U(W.createComparator()),this.removedNodeMap=new Map,this.indexTree.traverse(o=>{this.nodeMapByID.put(o.id,o)})}static create(n,r){return new Se(n,r)}findFloorNode(n){const r=this.nodeMapByID.floorEntry(n);if(!(!r||!r.key.getCreatedAt().equals(n.getCreatedAt())))return r.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,r){const[o,l]=n.toTreeNodes(this);let m=l;const T=o===m,I=m.parent&&!T?m.parent:o;m.isText&&m.split(this,n.getLeftSiblingID().getOffset()-m.id.getOffset());const L=I.allChildren,j=T?0:L.indexOf(m)+1;for(let ne=j;ne<L.length;ne++){const le=L[ne];if(!le.id.getCreatedAt().after(r))break;m=le}return[I,m]}style(n,r,o){const[l,m]=this.findNodesAndSplitText(n[0],o),[T,I]=this.findNodesAndSplitText(n[1],o),L=[];return L.push({type:$.Style,from:this.toIndex(l,m),to:this.toIndex(T,I),fromPath:this.toPath(l,m),toPath:this.toPath(T,I),actor:o.getActorID(),value:r?ft(r):void 0}),this.traverseInPosRange(l,m,T,I,([j])=>{if(!j.isRemoved&&!j.isText&&r){j.attrs||(j.attrs=new On);for(const[ne,le]of Object.entries(r))j.attrs.set(ne,le,o)}}),L}edit(n,r,o,l,m,T){const[I,L]=this.findNodesAndSplitText(n[0],l),[j,ne]=this.findNodesAndSplitText(n[1],l),le=this.toIndex(I,L),H=this.toPath(I,L),pe=[],Ne=[],Pe=[],Me=new Map;this.traverseInPosRange(I,L,j,ne,([_e,st],et)=>{if(st===Re.Start&&!et)for(const ts of _e.children)Pe.push(ts);const yt=_e.getCreatedAt().getActorID(),Ai=T?T.has(yt)?T.get(yt):Dt:$t;if(_e.canDelete(l,Ai)||pe.includes(_e.parent)){const ts=Me.get(yt),Js=_e.getCreatedAt();(!ts||Js.after(ts))&&Me.set(yt,Js),(st===Re.Text||st===Re.Start)&&pe.push(_e),Ne.push([_e,st])}});const Rt=this.makeDeletionChanges(Ne,l);for(const _e of pe)_e.remove(l),_e.isRemoved&&this.removedNodeMap.set(_e.id.toIDString(),_e);for(const _e of Pe)_e.removedAt||I.append(_e);if(o>0){let _e=0,st=I,et=L;for(;_e<o;)st.split(this,st.findOffset(et)+1,m),et=st,st=st.parent,_e++;Rt.push({type:$.Content,from:le,to:le,fromPath:H,toPath:H,actor:l.getActorID()})}if(r!=null&&r.length){const _e=[];let st=L;for(const et of r)st===I?I.insertAt(et,0):I.insertAfter(et,st),st=et,_n(et,yt=>{I.isRemoved&&(yt.remove(l),this.removedNodeMap.set(yt.id.toIDString(),yt)),this.nodeMapByID.put(yt.id,yt)}),et.isRemoved||_e.push(et);if(_e.length){const et=_e.map(yt=>ue(yt));Rt.length&&Rt[Rt.length-1].from===le?Rt[Rt.length-1].value=et:Rt.push({type:$.Content,from:le,to:le,fromPath:H,toPath:H,actor:l.getActorID(),value:et})}}return[Rt,Me]}editT(n,r,o,l,m){const T=this.findPos(n[0]),I=this.findPos(n[1]);this.edit([T,I],r,o,l,m)}move(n,r,o){throw new Error(`not implemented: ${n}, ${r}, ${o}`)}purgeRemovedNodesBefore(n){var r;const o=new Set;let l=0;for(const[,m]of this.removedNodeMap)m.removedAt&&n.compare(m.removedAt)>=0&&(o.add(m),l++);for(const m of o)(r=m.parent)===null||r===void 0||r.removeChild(m),this.nodeMapByID.remove(m.id),this.purge(m),this.removedNodeMap.delete(m.id.toIDString());return l}purge(n){const r=n.insPrevID,o=n.insNextID;if(r){const l=this.findFloorNode(r);l.insNextID=o}if(o){const l=this.findFloorNode(o);l.insPrevID=r}n.insPrevID=void 0,n.insNextID=void 0}findPos(n,r=!0){const o=this.indexTree.findTreePos(n,r);return G.fromTreePos(o)}getRemovedNodesLen(){return this.removedNodeMap.size}pathToPosRange(n){const r=this.pathToIndex(n);return[this.findPos(r),this.findPos(r+1)]}pathToPos(n){const r=this.indexTree.pathToIndex(n);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getIndexTree(){return this.indexTree}toXML(){return Te(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),r=(o,l=void 0,m=0)=>{var T,I,L;const j={type:o.type,parent:l,size:o.size,id:o.id.toTestString(),removedAt:(T=o.removedAt)===null||T===void 0?void 0:T.toTestString(),insPrev:(I=o.insPrevID)===null||I===void 0?void 0:I.toTestString(),insNext:(L=o.insNextID)===null||L===void 0?void 0:L.toTestString(),value:o.isText?o.value:void 0,isRemoved:o.isRemoved,children:[],depth:m};for(const ne of o.children)j.children.push(r(ne,j.id,m+1));return j};return r(n)}getRootTreeNode(){return ue(this.indexTree.getRoot())}toTestTreeNode(){return je(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Se(n.deepcopy(),this.getCreatedAt())}toPath(n,r){const o=this.toTreePos(n,r);return o?this.indexTree.treePosToPath(o):[]}toIndex(n,r){const o=this.toTreePos(n,r);return o?this.indexTree.indexOf(o):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const r=this.findPos(n[0]);return n[0]===n[1]?[r,r]:[r,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[r,o]=n,l=this.findPos(r);return r===o?[l.toStruct(),l.toStruct()]:[l.toStruct(),this.findPos(o).toStruct()]}posRangeToPathRange(n,r){const[o,l]=this.findNodesAndSplitText(n[0],r),[m,T]=this.findNodesAndSplitText(n[1],r);return[this.toPath(o,l),this.toPath(m,T)]}posRangeToIndexRange(n,r){const[o,l]=this.findNodesAndSplitText(n[0],r),[m,T]=this.findNodesAndSplitText(n[1],r);return[this.toIndex(o,l),this.toIndex(m,T)]}traverseInPosRange(n,r,o,l,m){const T=this.toIndex(n,r),I=this.toIndex(o,l);return this.indexTree.tokensBetween(T,I,m)}toTreePos(n,r){if(!n||!r)return;if(n.isRemoved){let l;for(;n.isRemoved;)l=n,n=l.parent;const m=n.findOffset(l);return{node:n,offset:m}}if(n===r)return{node:n,offset:0};let o=n.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};o++}return{node:n,offset:o}}makeDeletionChanges(n,r){const o=[],l=[];let m=null,T=null;for(let I=0;I<n.length;I++){const L=n[I],j=n[I+1];m||(m=L),T=L;const ne=this.findRightToken(L);(!ne||!j||ne[0]!==j[0]||ne[1]!==j[1])&&(l.push([m,T]),m=null,T=null)}for(const I of l){const[L,j]=I,[ne,le]=this.findLeftToken(L),[H,pe]=j,Ne=le===Re.Start?ne:ne.parent,Pe=pe===Re.Start?H:H.parent,Me=this.toIndex(Ne,ne),Rt=this.toIndex(Pe,H);Me<Rt&&(o.length>0&&Me===o[o.length-1].to?(o[o.length-1].to=Rt,o[o.length-1].toPath=this.toPath(Pe,H)):o.push({type:$.Content,from:Me,to:Rt,fromPath:this.toPath(Ne,ne),toPath:this.toPath(Pe,H),actor:r.getActorID()}))}return o}findRightToken([n,r]){if(r===Re.Start){const I=n.allChildren;return I.length>0?[I[0],I[0].isText?Re.Text:Re.Start]:[n,Re.End]}const o=n.parent,l=o.allChildren,m=l.indexOf(n);if(o&&m===l.length-1)return[o,Re.End];const T=l[m+1];return[T,T.isText?Re.Text:Re.Start]}findLeftToken([n,r]){if(r===Re.End){const I=n.allChildren;if(I.length>0){const L=I[I.length-1];return[L,L.isText?Re.Text:Re.End]}return[n,Re.Start]}const o=n.parent,l=o.allChildren,m=l.indexOf(n);if(o&&m===0)return[o,Re.Start];const T=l[m-1];return[T,T.isText?Re.Text:Re.End]}}class At extends Xe{constructor(n,r,o,l,m,T,I){super(n,I),this.fromPos=r,this.toPos=o,this.contents=l,this.splitLevel=m,this.maxCreatedAtMapByActor=T}static create(n,r,o,l,m,T,I){return new At(n,r,o,l,m,T,I)}execute(n){var r;const o=n.findByCreatedAt(this.getParentCreatedAt());o||y.fatal(`fail to find ${this.getParentCreatedAt()}`),o instanceof Se||y.fatal("fail to execute, only Tree can execute edit");const l=this.getExecutedAt(),m=o,[T]=m.edit([this.fromPos,this.toPos],(r=this.contents)===null||r===void 0?void 0:r.map(I=>I.deepcopy()),this.splitLevel,l,(()=>{let I=l.getDelimiter();return this.contents!==void 0&&(I+=this.contents.length),()=>$e.of(l.getLamport(),++I,l.getActorID())})(),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||n.registerElementHasRemovedNodes(m),{opInfos:T.map(({from:I,to:L,value:j,splitLevel:ne,fromPath:le,toPath:H})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:I,to:L,value:j,splitLevel:ne,fromPath:le,toPath:H}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`,l=this.contents;return`${n}.EDIT(${r},${o},${l==null?void 0:l.join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class xn{constructor(n,r,o){this.clientSeq=n,this.lamport=r,this.actor=o}static of(n,r,o){return new xn(n,r,o)}next(){return new xn(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(n){return n.greaterThan(this.lamport)?new xn(this.clientSeq,n,this.actor):new xn(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(n){return $e.of(this.lamport,n,this.actor)}setActor(n){return new xn(this.clientSeq,this.lamport,n)}getClientSeq(){return this.clientSeq}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return this.actor?`${this.lamport.toString()}:${this.actor.substring(22,24)}:${this.clientSeq}`:`${this.lamport.toString()}:nil:${this.clientSeq}`}}const au=new xn(0,Tt.fromInt(0,!0),Ro);class ki{constructor({id:n,operations:r,presenceChange:o,message:l}){this.id=n,this.operations=r||[],this.presenceChange=o,this.message=l}static create({id:n,operations:r,presenceChange:o,message:l}){return new ki({id:n,operations:r,presenceChange:o,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const r of this.operations)r.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,r,o){const l=[],m=[];for(const T of this.operations){const I=T.execute(n,o);if(!I)continue;const{opInfos:L,reverseOp:j}=I;l.push(...L),j&&m.unshift(j)}return this.presenceChange&&(this.presenceChange.type===Pn.Put?r.set(this.id.getActorID(),Kn(this.presenceChange.presence)):r.delete(this.id.getActorID())),{opInfos:l,reverseOps:m}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}}class bo{constructor(n,r,o,l,m,T){this.documentKey=n,this.checkpoint=r,this.isRemoved=o,this.changes=l,this.snapshot=m,this.minSyncedTicket=T}static create(n,r,o,l,m,T){return new bo(n,r,o,l,m,T)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class Gi{constructor(n,r){this.serverSeq=n,this.clientSeq=r}static of(n,r){return new Gi(n,r)}increaseClientSeq(n){return n===0?this:new Gi(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const r=this.serverSeq.greaterThan(n.serverSeq)?this.serverSeq:n.serverSeq,o=Math.max(this.clientSeq,n.clientSeq);return Gi.of(r,o)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq.equals(n.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Pm=new Gi(Tt.fromInt(0,!0),0);class Tr{constructor(n,r){this.createdAt=n,this.offset=r}static of(n,r){return new Tr(n,r)}static fromStruct(n){return Tr.of($e.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Tr(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Om=Tr.of(Dt,0);class sr{constructor(n,r){this.id=n,this.relativeOffset=r}static of(n,r){return new sr(n,r)}static fromStruct(n){const r=Tr.fromStruct(n.id);return sr.of(r,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Tr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class Yr extends Zt{constructor(n,r,o){super(r),this.id=n,this.removedAt=o}static create(n,r){return new Yr(n,r)}static createComparator(){return(n,r)=>{const o=n.getCreatedAt().compare(r.getCreatedAt());return o!==0?o:n.getOffset()>r.getOffset()?1:n.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Yr(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[sr.of(this.id,0),sr.of(this.id,this.getLength())]}deepcopy(){return new Yr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const r=this.value;return this.value=r.substring(0,n),r.substring(n,r.length)}}class Hi{constructor(){this.head=Yr.create(Om),this.treeByIndex=new It,this.treeByID=new U(Yr.createComparator()),this.removedNodeMap=new Map,this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Hi}edit(n,r,o,l){const[m,T]=this.findNodeWithSplit(n[1],r),[I,L]=this.findNodeWithSplit(n[0],r),j=this.findBetween(L,T),[ne,le,H]=this.deleteNodes(j,r,l),pe=T?T.getID():m.getID();let Ne=sr.of(pe,0);if(o){const Pe=this.posToIndex(I.createPosRange()[1],!0),Me=this.insertAfter(I,Yr.create(Tr.of(r,0),o));ne.length&&ne[ne.length-1].from===Pe?ne[ne.length-1].value=o:ne.push({actor:r.getActorID(),from:Pe,to:Pe,value:o}),Ne=sr.of(Me.getID(),Me.getContentLength())}for(const[Pe,Me]of H)this.removedNodeMap.set(Pe,Me);return[Ne,le,ne]}indexToPos(n){const[r,o]=this.treeByIndex.find(n),l=r;return sr.of(l.getID(),o)}findIndexesFromRange(n){const[r,o]=n;return[this.posToIndex(r,!1),this.posToIndex(o,!0)]}posToIndex(n,r){const o=n.getAbsoluteID(),l=r?this.findFloorNodePreferToLeft(o):this.findFloorNode(o);l||y.fatal(`the node of the given id should be found: ${o.toTestString()}`);const m=this.treeByIndex.indexOf(l),T=l.isRemoved()?0:o.getOffset()-l.getID().getOffset();return m+T}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const n=[];for(const r of this)r.isRemoved()||n.push(r.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Hi;let r=this.head.getNext(),o=n.head,l;for(;r;){if(l=n.insertAfter(o,r.deepcopy()),r.hasInsPrev()){const m=n.findNode(r.getInsPrevID());l.setInsPrev(m)}o=l,r=r.getNext()}return n}toTestString(){const n=[];let r=this.head;for(;r;)r.isRemoved()?n.push(`{${r.toTestString()}}`):n.push(`[${r.toTestString()}]`),r=r.getNext();return n.join("")}insertAfter(n,r){const o=n.getNext();return r.setPrev(n),o&&o.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(n,r),r}findNodeWithSplit(n,r){const o=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(o);const m=o.getOffset()-l.getID().getOffset();for(this.splitNode(l,m);l.hasNext()&&l.getNext().getCreatedAt().after(r);)l=l.getNext();return[l,l.getNext()]}findFloorNodePreferToLeft(n){let r=this.findFloorNode(n);if(r||y.fatal(`the node of the given id should be found: ${n.toTestString()}`),n.getOffset()>0&&r.getID().getOffset()==n.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(n){const r=this.treeByID.floorEntry(n);if(r&&!(!r.key.equals(n)&&!r.key.hasSameCreatedAt(n)))return r.value}findBetween(n,r){const o=[];let l=n;for(;l&&l!==r;)o.push(l),l=l.getNext();return o}splitNode(n,r){if(r>n.getContentLength()&&y.fatal("offset should be less than or equal to length"),r===0)return n;if(r===n.getContentLength())return n.getNext();const o=n.split(r);this.treeByIndex.updateWeight(o),this.insertAfter(n,o);const l=n.getInsNext();return l&&l.setInsPrev(o),o.setInsPrev(n),o}deleteNodes(n,r,o){if(!n.length)return[[],new Map,new Map];const[l,m]=this.filterNodes(n,r,o),T=new Map,I=new Map,L=this.makeChanges(m,r);for(const j of l){const ne=j.getCreatedAt().getActorID();(!T.has(ne)||j.getID().getCreatedAt().after(T.get(ne)))&&T.set(ne,j.getID().getCreatedAt()),I.set(j.getID().toIDString(),j),j.remove(r)}return this.deleteIndexNodes(m),[L,T,I]}filterNodes(n,r,o){const l=!!o,m=[],T=[],[I,L]=this.findEdgesOfCandidates(n);T.push(I);for(const j of n){const ne=j.getCreatedAt().getActorID(),le=l?o.has(ne)?o.get(ne):Dt:$t;j.canDelete(r,le)?m.push(j):T.push(j)}return T.push(L),[m,T]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,r){const o=[];let l,m;for(let T=0;T<n.length-1;T++){const I=n[T],L=n[T+1];I.getNext()!=L&&([l]=this.findIndexesFromRange(I.getNext().createPosRange()),L?[,m]=this.findIndexesFromRange(L.getPrev().createPosRange()):m=this.treeByIndex.length,l<m&&o.push({actor:r.getActorID(),from:l,to:m}))}return o.reverse()}deleteIndexNodes(n){for(let r=0;r<n.length-1;r++){const o=n[r],l=n[r+1];o.getNext()!=l&&this.treeByIndex.deleteRange(o,l)}}getRemovedNodesLen(){return this.removedNodeMap.size}purgeRemovedNodesBefore(n){let r=0;for(const[,o]of this.removedNodeMap)o.getRemovedAt()&&n.compare(o.getRemovedAt())>=0&&(this.treeByIndex.delete(o),this.purge(o),this.treeByID.remove(o.getID()),this.removedNodeMap.delete(o.getID().toIDString()),r++);return r}purge(n){const r=n.getPrev(),o=n.getNext(),l=n.getInsPrev(),m=n.getInsNext();r&&r.setNext(o),o&&o.setPrev(r),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(m),m&&m.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const Dc=u=>u<0?Math.ceil(u):Math.floor(u);var ht;(function(u){u[u.IntegerCnt=0]="IntegerCnt",u[u.LongCnt=1]="LongCnt"})(ht||(ht={}));class Rn extends xt{constructor(n,r,o){switch(super(o),this.valueType=n,n){case ht.IntegerCnt:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=Tt.fromNumber(r).toInt():this.value=Dc(r):this.value=r.toInt();break;case ht.LongCnt:typeof r=="number"?this.value=Tt.fromNumber(r):this.value=r;break;default:throw new Ae(Ee.Unimplemented,`unimplemented type: ${n}`)}}static create(n,r,o){return new Rn(n,r,o)}static valueFromBytes(n,r){switch(n){case ht.IntegerCnt:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case ht.LongCnt:return Tt.fromBytesLE(Array.from(r));default:throw new Ae(Ee.Unimplemented,`unimplemented type: ${n}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=Rn.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof Tt?ht.LongCnt:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?ht.LongCnt:ht.IntegerCnt;default:return}}static isSupport(n){return!!Rn.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===ht.IntegerCnt||n===ht.LongCnt}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case ht.IntegerCnt:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case ht.LongCnt:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new Ae(Ee.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function r(o){if(!o.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof o.getValue()}`)}return r(this),r(n),this.valueType===ht.LongCnt?this.value=this.value.add(n.getValue()):n.getType()===he.Long?this.value=this.value+n.getValue().toInt():this.value=Tt.fromNumber(this.value+Dc(n.getValue())).toInt(),this}}class Xi extends Xe{constructor(n,r,o){super(n,o),this.value=r}static create(n,r,o){return new Xi(n,r,o)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof Rn||y.fatal("fail to execute, only Counter can execute increase");const o=r,l=this.value.deepcopy();return o.increase(l),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:l.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),o=n.getType()===he.Long?n.getValue().multiply(-1):n.getValue()*-1;return Xi.create(this.getParentCreatedAt(),Ye.of(o,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Qi extends Xe{constructor(n,r,o,l,m){super(n,m),this.fromPos=r,this.toPos=o,this.attributes=l}static create(n,r,o,l,m){return new Qi(n,r,o,l,m)}execute(n){const r=n.findByCreatedAt(this.getParentCreatedAt());r||y.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof Se||y.fatal("fail to execute, only Tree can execute edit");const o={};return[...this.attributes].forEach(([T,I])=>o[T]=I),{opInfos:r.style([this.fromPos,this.toPos],o,this.getExecutedAt()).map(({from:T,to:I,value:L,fromPath:j})=>({type:"tree-style",from:T,to:I,value:L,fromPath:j,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${r},${o},${Object.entries(this.attributes||{}).map(([l,m])=>`${l}:"${m}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}function Cm(u){const n=new X.Presence,r=n.data;for(const[o,l]of Object.entries(u))r[o]=JSON.stringify(l);return n}function _m(u){if(u.type===Pn.Put)return new X.PresenceChange({type:X.PresenceChange_ChangeType.PUT,presence:Cm(u.presence)});if(u.type===Pn.Clear)return new X.PresenceChange({type:X.PresenceChange_ChangeType.CLEAR});throw new Ae(Ee.Unimplemented,"unimplemented type")}function Dm(u){return new X.Checkpoint({serverSeq:u.getServerSeqAsString(),clientSeq:u.getClientSeq()})}function xm(u){return new X.ChangeID({clientSeq:u.getClientSeq(),lamport:u.getLamportAsString(),actorId:mu(u.getActorID())})}function ge(u){if(u)return new X.TimeTicket({lamport:u.getLamportAsString(),delimiter:u.getDelimiter(),actorId:mu(u.getActorID())})}function xc(u){switch(u){case he.Null:return X.ValueType.NULL;case he.Boolean:return X.ValueType.BOOLEAN;case he.Integer:return X.ValueType.INTEGER;case he.Long:return X.ValueType.LONG;case he.Double:return X.ValueType.DOUBLE;case he.String:return X.ValueType.STRING;case he.Bytes:return X.ValueType.BYTES;case he.Date:return X.ValueType.DATE;default:throw new Ae(Ee.Unsupported,`unsupported type: ${u}`)}}function Rc(u){switch(u){case ht.IntegerCnt:return X.ValueType.INTEGER_CNT;case ht.LongCnt:return X.ValueType.LONG_CNT;default:throw new Ae(Ee.Unsupported,`unsupported type: ${u}`)}}function uu(u){if(u instanceof Ue)return new X.JSONElementSimple({type:X.ValueType.JSON_OBJECT,createdAt:ge(u.getCreatedAt()),value:Wc(u)});if(u instanceof en)return new X.JSONElementSimple({type:X.ValueType.JSON_ARRAY,createdAt:ge(u.getCreatedAt()),value:ap(u)});if(u instanceof dt)return new X.JSONElementSimple({type:X.ValueType.TEXT,createdAt:ge(u.getCreatedAt())});if(u instanceof Ye)return new X.JSONElementSimple({type:xc(u.getType()),createdAt:ge(u.getCreatedAt()),value:u.toBytes()});if(u instanceof Rn)return new X.JSONElementSimple({type:Rc(u.getType()),createdAt:ge(u.getCreatedAt()),value:u.toBytes()});if(u instanceof Se)return new X.JSONElementSimple({type:X.ValueType.TREE,createdAt:ge(u.getCreatedAt()),value:lp(u)});throw new Ae(Ee.Unimplemented,"unimplemented element")}function Rm(u){return new X.TextNodeID({createdAt:ge(u.getCreatedAt()),offset:u.getOffset()})}function Lo(u){return new X.TextNodePos({createdAt:ge(u.getID().getCreatedAt()),offset:u.getID().getOffset(),relativeOffset:u.getRelativeOffset()})}function Mo(u){return new X.TreePos({parentId:Ms(u.getParentID()),leftSiblingId:Ms(u.getLeftSiblingID())})}function Ms(u){return new X.TreeNodeID({createdAt:ge(u.getCreatedAt()),offset:u.getOffset()})}function bm(u){const n=new X.Operation;if(u instanceof Pr){const r=u,o=new X.Operation_Set;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.key=r.getKey(),o.value=uu(r.getValue()),o.executedAt=ge(r.getExecutedAt()),n.body.case="set",n.body.value=o}else if(u instanceof Ei){const r=u,o=new X.Operation_Add;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.prevCreatedAt=ge(r.getPrevCreatedAt()),o.value=uu(r.getValue()),o.executedAt=ge(r.getExecutedAt()),n.body.case="add",n.body.value=o}else if(u instanceof yr){const r=u,o=new X.Operation_Move;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.prevCreatedAt=ge(r.getPrevCreatedAt()),o.createdAt=ge(r.getCreatedAt()),o.executedAt=ge(r.getExecutedAt()),n.body.case="move",n.body.value=o}else if(u instanceof gr){const r=u,o=new X.Operation_Remove;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.createdAt=ge(r.getCreatedAt()),o.executedAt=ge(r.getExecutedAt()),n.body.case="remove",n.body.value=o}else if(u instanceof vr){const r=u,o=new X.Operation_Edit;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.from=Lo(r.getFromPos()),o.to=Lo(r.getToPos());const l=o.createdAtMapByActor;for(const[T,I]of r.getMaxCreatedAtMapByActor())l[T]=ge(I);o.content=r.getContent();const m=o.attributes;for(const[T,I]of r.getAttributes())m[T]=I;o.executedAt=ge(r.getExecutedAt()),n.body.case="edit",n.body.value=o}else if(u instanceof Vt){const r=u,o=new X.Operation_Style;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.from=Lo(r.getFromPos()),o.to=Lo(r.getToPos());const l=o.createdAtMapByActor;for(const[T,I]of r.getMaxCreatedAtMapByActor())l[T]=ge(I);const m=o.attributes;for(const[T,I]of r.getAttributes())m[T]=I;o.executedAt=ge(r.getExecutedAt()),n.body.case="style",n.body.value=o}else if(u instanceof Xi){const r=u,o=new X.Operation_Increase;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.value=uu(r.getValue()),o.executedAt=ge(r.getExecutedAt()),n.body.case="increase",n.body.value=o}else if(u instanceof At){const r=u,o=new X.Operation_TreeEdit,l=o.createdAtMapByActor;for(const[m,T]of r.getMaxCreatedAtMapByActor())l[m]=ge(T);o.parentCreatedAt=ge(r.getParentCreatedAt()),o.from=Mo(r.getFromPos()),o.to=Mo(r.getToPos()),o.contents=$m(r.getContents()),o.splitLevel=r.getSplitLevel(),o.executedAt=ge(r.getExecutedAt()),n.body.case="treeEdit",n.body.value=o}else if(u instanceof Qi){const r=u,o=new X.Operation_TreeStyle;o.parentCreatedAt=ge(r.getParentCreatedAt()),o.from=Mo(r.getFromPos()),o.to=Mo(r.getToPos());const l=o.attributes;for(const[m,T]of r.getAttributes())l[m]=T;o.executedAt=ge(r.getExecutedAt()),n.body.case="treeStyle",n.body.value=o}else throw new Ae(Ee.Unimplemented,"unimplemented operation");return n}function Lm(u){const n=[];for(const r of u)n.push(bm(r));return n}function Mm(u){const n=new X.Change({id:xm(u.getID()),message:u.getMessage()});return u.hasOperations()&&(n.operations=Lm(u.getOperations())),u.hasPresenceChange()&&(n.presenceChange=_m(u.getPresenceChange())),n}function Bm(u){const n=[];for(const r of u)n.push(Mm(r));return n}function Fm(u){const n=[];for(const r of u)n.push(new X.RHTNode({key:r.getStrKey(),element:lu(r.getValue())}));return n}function Um(u){const n=[];for(const r of u)n.push(new X.RGANode({element:lu(r.getValue())}));return n}function Jm(u){const n=[];for(const r of u){const o=new X.TextNode;o.id=Rm(r.getID()),o.value=r.getValue().getContent(),o.removedAt=ge(r.getRemovedAt());const l=o.attributes,m=r.getValue().getAttrs();for(const T of m){const I=new X.NodeAttr;I.value=T.getValue(),I.updatedAt=ge(T.getUpdatedAt()),l[T.getKey()]=I}n.push(o)}return n}function $m(u){const n=[];if(!u||!u.length)return n;for(const r of u)n.push(new X.TreeNodes({content:bc(r)}));return n}function bc(u){if(!u)return[];const n=[];return St(u,(r,o)=>{const l=new X.TreeNode({id:Ms(r.id),type:r.type,removedAt:ge(r.removedAt),depth:o});if(r.isText&&(l.value=r.value),r.insPrevID&&(l.insPrevId=Ms(r.insPrevID)),r.insNextID&&(l.insNextId=Ms(r.insNextID)),r.attrs)for(const m of r.attrs)l.attributes[m.getKey()]=new X.NodeAttr({value:m.getValue(),updatedAt:ge(m.getUpdatedAt())});n.push(l)}),n}function jm(u){const n=new X.JSONElement;return n.body.case="jsonObject",n.body.value=new X.JSONElement_JSONObject({nodes:Fm(u.getRHT()),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function Lc(u){const n=new X.JSONElement;return n.body.case="jsonArray",n.body.value=new X.JSONElement_JSONArray({nodes:Um(u.getElements()),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function Vm(u){const n=new X.JSONElement;return n.body.case="primitive",n.body.value=new X.JSONElement_Primitive({type:xc(u.getType()),value:u.toBytes(),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function zm(u){const n=new X.JSONElement;return n.body.case="text",n.body.value=new X.JSONElement_Text({nodes:Jm(u.getRGATreeSplit()),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function Wm(u){const n=new X.JSONElement;return n.body.case="counter",n.body.value=new X.JSONElement_Counter({type:Rc(u.getType()),value:u.toBytes(),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function Mc(u){const n=new X.JSONElement;return n.body.case="tree",n.body.value=new X.JSONElement_Tree({nodes:bc(u.getRoot()),createdAt:ge(u.getCreatedAt()),movedAt:ge(u.getMovedAt()),removedAt:ge(u.getRemovedAt())}),n}function lu(u){if(u instanceof Ue)return jm(u);if(u instanceof en)return Lc(u);if(u instanceof Ye)return Vm(u);if(u instanceof dt)return zm(u);if(u instanceof Rn)return Wm(u);if(u instanceof Se)return Mc(u);throw new Ae(Ee.Unimplemented,"unimplemented element")}function Ym(u){return new X.ChangePack({documentKey:u.getDocumentKey(),checkpoint:Dm(u.getCheckpoint()),isRemoved:u.getIsRemoved(),changes:Bm(u.getChanges()),snapshot:u.getSnapshot(),minSyncedTicket:ge(u.getMinSyncedTicket())})}function Km(u){return xn.of(u.clientSeq,Tt.fromString(u.lamport,!0),hu(u.actorId))}function ye(u){if(u)return $e.of(Tt.fromString(u.lamport,!0),u.delimiter,hu(u.actorId))}function cu(u){const n={};return Object.entries(u.data).forEach(([r,o])=>{n[r]=JSON.parse(o)}),n}function qm(u){const n=u.type;if(n===X.PresenceChange_ChangeType.PUT){const r=cu(u.presence);return{type:Pn.Put,presence:r}}if(n===X.PresenceChange_ChangeType.CLEAR)return{type:Pn.Clear};throw new Ae(Ee.Unsupported,`unsupported type: ${n}`)}function Gm(u){const n=new Map;return Object.entries(u).forEach(([r,o])=>{n.set(r,cu(o))}),n}function Bc(u){switch(u){case X.ValueType.NULL:return he.Null;case X.ValueType.BOOLEAN:return he.Boolean;case X.ValueType.INTEGER:return he.Integer;case X.ValueType.LONG:return he.Long;case X.ValueType.DOUBLE:return he.Double;case X.ValueType.STRING:return he.String;case X.ValueType.BYTES:return he.Bytes;case X.ValueType.DATE:return he.Date}throw new Ae(Ee.Unimplemented,`unimplemented value type: ${u}`)}function Bo(u){switch(u){case X.ValueType.INTEGER_CNT:return ht.IntegerCnt;case X.ValueType.LONG_CNT:return ht.LongCnt}throw new Ae(Ee.Unimplemented,`unimplemented value type: ${u}`)}function fu(u){switch(u.type){case X.ValueType.JSON_OBJECT:return u.value?zc(u.value):Ue.create(ye(u.createdAt));case X.ValueType.JSON_ARRAY:return u.value?op(u.value):en.create(ye(u.createdAt));case X.ValueType.TEXT:return dt.create(Hi.create(),ye(u.createdAt));case X.ValueType.TREE:return up(u.value);case X.ValueType.NULL:case X.ValueType.BOOLEAN:case X.ValueType.INTEGER:case X.ValueType.LONG:case X.ValueType.DOUBLE:case X.ValueType.STRING:case X.ValueType.BYTES:case X.ValueType.DATE:return Ye.of(Ye.valueFromBytes(Bc(u.type),u.value),ye(u.createdAt));case X.ValueType.INTEGER_CNT:case X.ValueType.LONG_CNT:return Rn.create(Bo(u.type),Rn.valueFromBytes(Bo(u.type),u.value),ye(u.createdAt))}}function Fo(u){return sr.of(Tr.of(ye(u.createdAt),u.offset),u.relativeOffset)}function Fc(u){return Tr.of(ye(u.createdAt),u.offset)}function Hm(u){const n=nn.create(u.value);Object.entries(u.attributes).forEach(([o,l])=>{n.setAttr(o,l.value,ye(l.updatedAt))});const r=Yr.create(Fc(u.id),n);return r.remove(ye(u.removedAt)),r}function Uo(u){return G.of(Bs(u.parentId),Bs(u.leftSiblingId))}function Bs(u){return W.of(ye(u.createdAt),u.offset)}function Xm(u){if(!u.length)return;const n=[];return u.forEach(r=>{const o=Uc(r.content);n.push(o)}),n}function Uc(u){if(u.length===0)return;const n=[];for(const o of u)n.push(Qm(o));const r=n[n.length-1];for(let o=n.length-2;o>=0;o--){let l;for(let m=o+1;m<n.length;m++)if(u[o].depth-1===u[m].depth){l=n[m];break}l.prepend(n[o])}return Se.create(r,Dt).getRoot()}function Qm(u){const n=Bs(u.id),r=se.create(n,u.type);if(r.isText)r.value=u.value;else{const o=On.create();Object.entries(u.attributes).forEach(([l,m])=>{o.set(l,m.value,ye(m.updatedAt))}),r.attrs=o}return u.insPrevId&&(r.insPrevID=Bs(u.insPrevId)),u.insNextId&&(r.insNextID=Bs(u.insNextId)),r.removedAt=ye(u.removedAt),r}function Zm(u){const n=[];for(const r of u){let o;if(r.body.case==="set"){const l=r.body.value;o=Pr.create(l.key,fu(l.value),ye(l.parentCreatedAt),ye(l.executedAt))}else if(r.body.case==="add"){const l=r.body.value;o=Ei.create(ye(l.parentCreatedAt),ye(l.prevCreatedAt),fu(l.value),ye(l.executedAt))}else if(r.body.case==="move"){const l=r.body.value;o=yr.create(ye(l.parentCreatedAt),ye(l.prevCreatedAt),ye(l.createdAt),ye(l.executedAt))}else if(r.body.case==="remove"){const l=r.body.value;o=gr.create(ye(l.parentCreatedAt),ye(l.createdAt),ye(l.executedAt))}else if(r.body.case==="edit"){const l=r.body.value,m=new Map;Object.entries(l.createdAtMapByActor).forEach(([I,L])=>{m.set(I,ye(L))});const T=new Map;Object.entries(l.attributes).forEach(([I,L])=>{T.set(I,L)}),o=vr.create(ye(l.parentCreatedAt),Fo(l.from),Fo(l.to),m,l.content,T,ye(l.executedAt))}else if(r.body.case==="style"){const l=r.body.value,m=new Map;Object.entries(l.createdAtMapByActor).forEach(([I,L])=>{m.set(I,ye(L))});const T=new Map;Object.entries(l.attributes).forEach(([I,L])=>{T.set(I,L)}),o=Vt.create(ye(l.parentCreatedAt),Fo(l.from),Fo(l.to),m,T,ye(l.executedAt))}else{if(r.body.case==="select")continue;if(r.body.case==="increase"){const l=r.body.value;o=Xi.create(ye(l.parentCreatedAt),fu(l.value),ye(l.executedAt))}else if(r.body.case==="treeEdit"){const l=r.body.value,m=new Map;Object.entries(l.createdAtMapByActor).forEach(([T,I])=>{m.set(T,ye(I))}),o=At.create(ye(l.parentCreatedAt),Uo(l.from),Uo(l.to),Xm(l.contents),l.splitLevel,m,ye(l.executedAt))}else if(r.body.case==="treeStyle"){const l=r.body.value,m=new Map;Object.entries(l.attributes).forEach(([T,I])=>{m.set(T,I)}),o=Qi.create(ye(l.parentCreatedAt),Uo(l.from),Uo(l.to),m,ye(l.executedAt))}else throw new Ae(Ee.Unimplemented,"unimplemented operation")}n.push(o)}return n}function Jc(u){const n=[];for(const r of u)n.push(ki.create({id:Km(r.id),operations:Zm(r.operations),presenceChange:r.presenceChange?qm(r.presenceChange):void 0,message:r.message}));return n}function ep(u){return Gi.of(Tt.fromString(u.serverSeq,!0),u.clientSeq)}function tp(u){return bo.create(u.documentKey,ep(u.checkpoint),u.isRemoved,Jc(u.changes),u.snapshot,ye(u.minSyncedTicket))}function $c(u){const n=new Nt;for(const o of u.nodes){const l=du(o.element);n.set(o.key,l,l.getPositionedAt())}const r=new Ue(ye(u.createdAt),n);return r.setMovedAt(ye(u.movedAt)),r.setRemovedAt(ye(u.removedAt)),r}function jc(u){const n=new Si;for(const o of u.nodes)n.insert(du(o.element));const r=new en(ye(u.createdAt),n);return r.setMovedAt(ye(u.movedAt)),r.setRemovedAt(ye(u.removedAt)),r}function np(u){const n=Ye.of(Ye.valueFromBytes(Bc(u.type),u.value),ye(u.createdAt));return n.setMovedAt(ye(u.movedAt)),n.setRemovedAt(ye(u.removedAt)),n}function rp(u){const n=new Hi;let r=n.getHead();for(const l of u.nodes){const m=n.insertAfter(r,Hm(l));l.insPrevId&&m.setInsPrev(n.findNode(Fc(l.insPrevId))),r=m}const o=new dt(n,ye(u.createdAt));return o.setMovedAt(ye(u.movedAt)),o.setRemovedAt(ye(u.removedAt)),o}function ip(u){const n=Rn.create(Bo(u.type),Rn.valueFromBytes(Bo(u.type),u.value),ye(u.createdAt));return n.setMovedAt(ye(u.movedAt)),n.setRemovedAt(ye(u.removedAt)),n}function Vc(u){const n=Uc(u.nodes);return Se.create(n,ye(u.createdAt))}function du(u){if(u.body.case==="jsonObject")return $c(u.body.value);if(u.body.case==="jsonArray")return jc(u.body.value);if(u.body.case==="primitive")return np(u.body.value);if(u.body.case==="text")return rp(u.body.value);if(u.body.case==="counter")return ip(u.body.value);if(u.body.case==="tree")return Vc(u.body.value);throw new Ae(Ee.Unimplemented,"unimplemented element")}function sp(u){if(!u)return{root:Ue.create(Dt),presences:new Map};const n=X.Snapshot.fromBinary(u);return{root:du(n.root),presences:Gm(n.presences)}}function zc(u){if(!u)throw new Error("bytes is empty");const n=X.JSONElement.fromBinary(u);return $c(n.body.value)}function Wc(u){return lu(u).toBinary()}function op(u){if(!u)throw new Error("bytes is empty");const n=X.JSONElement.fromBinary(u);return jc(n.body.value)}function ap(u){return Lc(u).toBinary()}function up(u){if(!u)throw new Error("bytes is empty");const n=X.JSONElement.fromBinary(u);return Vc(n.body.value)}function lp(u){return Mc(u).toBinary()}function cp(u){return u?Array.from(u).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function hu(u){return cp(u)}function fp(u){return new Uint8Array(u.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function mu(u){return fp(u)}const wr={fromPresence:cu,toChangePack:Ym,fromChangePack:tp,fromChanges:Jc,objectToBytes:Wc,bytesToObject:zc,bytesToSnapshot:sp,toHexString:hu,toUint8Array:mu};class dp{constructor(n,r,o,l){this.reconnectStreamDelay=n,this.doc=r,this.docID=o,this.isRealtimeSync=l,this.syncMode=Or.PushPull,this.remoteChangeEventReceived=!1}changeRealtimeSync(n){return this.isRealtimeSync===n?!1:n?(this.isRealtimeSync=!0,!0):(this.cancelWatchStream(),this.isRealtimeSync=!1,!0)}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.isRealtimeSync&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay)})}catch{}};await r()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}class Zi{constructor(n,r,o,l){this.id=n,this.delimiter=Yi,this.root=r,this.operations=[],this.previousPresence=Kn(o),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,r,o,l){return new Zi(n,r,o,l)}push(n){this.operations.push(n)}registerElement(n,r){this.root.registerElement(n,r)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerElementHasRemovedNodes(n){this.root.registerElementHasRemovedNodes(n)}getChange(){return ki.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,r){for(const o of Object.keys(n))r!=null&&r.addToHistory?this.reversePresenceKeys.add(o):this.reversePresenceKeys.delete(o)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const r of this.reversePresenceKeys)n[r]=this.previousPresence[r];return n}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Fs{constructor(n){this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.removedElementSetByCreatedAt=new Set,this.elementHasRemovedNodesSetByCreatedAt=new Set,this.opsForTest=[],this.registerElement(n,void 0)}static create(){return new Fs(Ue.create(Dt))}findByCreatedAt(n){const r=this.elementPairMapByCreatedAt.get(n.toIDString());if(r)return r.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let r=this.elementPairMapByCreatedAt.get(n.toIDString());if(!r)return[];const o=[];for(;r.parent;){const l=r.element.getCreatedAt(),m=r.parent.subPathOf(l);m===void 0&&y.fatal(`cant find the given element: ${l.toIDString()}`),o.unshift(m),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return o.unshift("$"),o}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,r){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:r,element:n}),n instanceof pr&&n.getDescendants((o,l)=>(this.registerElement(o,l),!1))}deregisterElement(n){let r=0;const o=l=>{const m=l.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(m),this.removedElementSetByCreatedAt.delete(m),r++};return o(n),n instanceof pr&&n.getDescendants(l=>(o(l),!1)),r}registerRemovedElement(n){this.removedElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerElementHasRemovedNodes(n){this.elementHasRemovedNodesSetByCreatedAt.add(n.getCreatedAt().toIDString())}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getRemovedElementSetSize(){return this.removedElementSetByCreatedAt.size}getObject(){return this.rootObject}getGarbageLen(){let n=0;const r=new Set;for(const o of this.removedElementSetByCreatedAt){r.add(o);const l=this.elementPairMapByCreatedAt.get(o);l.element instanceof pr&&l.element.getDescendants(m=>(r.add(m.getCreatedAt().toIDString()),!1))}n+=r.size;for(const o of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(o).element;n+=m.getRemovedNodesLen()}return n}deepcopy(){return new Fs(this.rootObject.deepcopy())}garbageCollect(n){let r=0;for(const o of this.removedElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(o);l.element.getRemovedAt()&&n.compare(l.element.getRemovedAt())>=0&&(l.parent.purge(l.element),r+=this.deregisterElement(l.element))}for(const o of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(o).element,T=m.purgeRemovedNodesBefore(n);T>0&&this.elementHasRemovedNodesSetByCreatedAt.delete(m.getCreatedAt().toIDString()),r+=T}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function Yc(u,n){const r=new Us(u);return new Proxy(n,r.getHandlers())}class Us{constructor(n){this.context=n,this.handlers={set:(r,o,l)=>(y.isEnabled(g.Trivial)&&y.trivial(`obj[${o}]=${JSON.stringify(l)}`),Us.setInternal(n,r,o,l),!0),get:(r,o)=>(y.isEnabled(g.Trivial)&&y.trivial(`obj[${o}]`),o==="getID"?()=>r.getCreatedAt():o==="toJSON"||o==="toString"?()=>r.toJSON():o==="toJS"?()=>r.toJS():o==="toJSForTest"?()=>r.toJSForTest():Ni(n,r.get(o))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,o)=>(y.isEnabled(g.Trivial)&&y.trivial(`obj[${o}]`),Us.deleteInternal(n,r,o),!0)}}static setInternal(n,r,o,l){if(o.includes("."))throw new Ae(Ee.InvalidObjectKey,"key must not contain the '.'.");const m=n.issueTimeTicket(),T=Vo(n,l,m),I=r.set(o,T,m);n.registerElement(T,r),I&&n.registerRemovedElement(I),n.push(Pr.create(o,T.deepcopy(),r.getCreatedAt(),m))}static buildObjectMembers(n,r){const o={};for(const[l,m]of Object.entries(r)){if(l.includes("."))throw new Ae(Ee.InvalidObjectKey,"key must not contain the '.'.");const T=n.issueTimeTicket(),I=Vo(n,m,T);o[l]=I}return o}static deleteInternal(n,r,o){const l=n.issueTimeTicket(),m=r.deleteByKey(o,l);m&&(n.push(gr.create(r.getCreatedAt(),m.getCreatedAt(),l)),n.registerRemovedElement(m))}getHandlers(){return this.handlers}}function hp(u,n){const r=new it(u,n);return new Proxy(n,r.getHandlers())}function mp(u){return typeof u=="string"||u instanceof String?!isNaN(u):!1}function pp(u){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(u)}class it{constructor(n,r){this.context=n,this.array=r,this.handlers={get:(o,l,m)=>l==="getID"?()=>o.getCreatedAt():l==="getElementByID"?T=>{const I=o.getByID(T);if(!(!I||I.isRemoved()))return Kr(n,I)}:l==="getElementByIndex"?T=>{const I=o.get(T);return Kr(n,I)}:l==="getLast"?()=>Kr(n,o.getLast()):l==="deleteByID"?T=>{const I=it.deleteInternalByID(n,o,T);return Kr(n,I)}:l==="insertAfter"?(T,I)=>{const L=it.insertAfterInternal(n,o,T,I);return Kr(n,L)}:l==="insertBefore"?(T,I)=>{const L=it.insertBeforeInternal(n,o,T,I);return Kr(n,L)}:l==="moveBefore"?(T,I)=>{it.moveBeforeInternal(n,o,T,I)}:l==="moveAfter"?(T,I)=>{it.moveAfterInternal(n,o,T,I)}:l==="moveFront"?T=>{it.moveFrontInternal(n,o,T)}:l==="moveLast"?T=>{it.moveLastInternal(n,o,T)}:mp(l)?Ni(n,o.get(Number(l))):l==="push"?T=>it.pushInternal(n,o,T):l==="splice"?(T,I,...L)=>it.splice(n,o,T,I,...L):l==="length"?o.length:typeof l=="symbol"&&l===Symbol.iterator?it.iteratorInternal.bind(this,n,o):l==="includes"?(T,I)=>it.includes(n,o,T,I):l==="indexOf"?(T,I)=>it.indexOf(n,o,T,I):l==="lastIndexOf"?(T,I)=>it.lastIndexOf(n,o,T,I):l==="toTestString"?()=>it.toTestString(o):typeof l=="string"&&pp(l)?(...T)=>{const I=Array.from(o).map(L=>Ni(n,L));return Array.prototype[l].apply(I,T)}:Reflect.get(o,l,m),deleteProperty:(o,l)=>(y.isEnabled(g.Trivial)&&y.trivial(`array[${l}]`),it.deleteInternalByIndex(n,o,Number.parseInt(l)),!0)}}static*iteratorInternal(n,r){for(const o of r)yield Kr(n,o)}static buildArrayElements(n,r){const o=[];for(const l of r){const m=n.issueTimeTicket(),T=Vo(n,l,m);o.push(T)}return o}static pushInternal(n,r,o){return it.insertAfterInternal(n,r,r.getLastCreatedAt(),o),r.length}static moveBeforeInternal(n,r,o,l){const m=n.issueTimeTicket(),T=r.getPrevCreatedAt(o);r.moveAfter(T,l,m),n.push(yr.create(r.getCreatedAt(),T,l,m))}static moveAfterInternal(n,r,o,l){const m=n.issueTimeTicket();r.moveAfter(o,l,m),n.push(yr.create(r.getCreatedAt(),o,l,m))}static moveFrontInternal(n,r,o){const l=n.issueTimeTicket(),m=r.getHead();r.moveAfter(m.getCreatedAt(),o,l),n.push(yr.create(r.getCreatedAt(),m.getCreatedAt(),o,l))}static moveLastInternal(n,r,o){const l=n.issueTimeTicket(),m=r.getLastCreatedAt();r.moveAfter(m,o,l),n.push(yr.create(r.getCreatedAt(),m,o,l))}static insertAfterInternal(n,r,o,l){const m=n.issueTimeTicket(),T=Vo(n,l,m);return r.insertAfter(o,T),n.registerElement(T,r),n.push(Ei.create(r.getCreatedAt(),o,T.deepcopy(),m)),T}static insertBeforeInternal(n,r,o,l){return it.insertAfterInternal(n,r,r.getPrevCreatedAt(o),l)}static deleteInternalByIndex(n,r,o){const l=n.issueTimeTicket(),m=r.deleteByIndex(o,l);if(m)return n.push(gr.create(r.getCreatedAt(),m.getCreatedAt(),l)),n.registerRemovedElement(m),m}static deleteInternalByID(n,r,o){const l=n.issueTimeTicket(),m=r.delete(o,l);return n.push(gr.create(r.getCreatedAt(),m.getCreatedAt(),l)),n.registerRemovedElement(m),m}static splice(n,r,o,l,...m){const T=r.length,I=o>=0?Math.min(o,T):Math.max(T+o,0),L=l===void 0?T:l<0?I:Math.min(I+l,T),j=[];for(let ne=I;ne<L;ne++){const le=it.deleteInternalByIndex(n,r,I);if(le){const H=le.deepcopy();H.setRemovedAt(),j.push(Ni(n,H))}}if(m){let ne=I===0?r.getHead().getID():r.get(I-1).getID();for(const le of m)ne=it.insertAfterInternal(n,r,ne,le).getID()}return j}static includes(n,r,o,l){var m;const T=r.length,I=l===void 0?0:l<0?Math.max(l+T,0):l;if(I>=T)return!1;if(Ye.isSupport(o))return Array.from(r).map(j=>Ni(n,j)).includes(o,I);for(let L=I;L<T;L++)if(((m=r.get(L))===null||m===void 0?void 0:m.getID())===o.getID())return!0;return!1}static indexOf(n,r,o,l){var m;const T=r.length,I=l===void 0?0:l<0?Math.max(l+T,0):l;if(I>=T)return-1;if(Ye.isSupport(o))return Array.from(r).map(j=>Ni(n,j)).indexOf(o,I);for(let L=I;L<T;L++)if(((m=r.get(L))===null||m===void 0?void 0:m.getID())===o.getID())return L;return-1}static lastIndexOf(n,r,o,l){var m;const T=r.length,I=l===void 0||l>=T?T-1:l<0?l+T:l;if(I<0)return-1;if(Ye.isSupport(o))return Array.from(r).map(j=>Ni(n,j)).lastIndexOf(o,I);for(let L=I;L>0;L--)if(((m=r.get(L))===null||m===void 0?void 0:m.getID())===o.getID())return L;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Jo{constructor(n,r){this.context=n,this.text=r}initialize(n,r){this.context=n,this.text=r}getID(){return this.text.getID()}edit(n,r,o,l){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}if(n>r){y.fatal("from should be less than or equal to to");return}const m=this.text.indexRangeToPosRange(n,r);y.isEnabled(g.Debug)&&y.debug(`EDIT: f:${n}->${m[0].toTestString()}, t:${r}->${m[1].toTestString()} c:${o}`);const T=l?_t(l):void 0,I=this.context.issueTimeTicket(),[L,,j]=this.text.edit(m,o,I,T);return this.context.push(new vr(this.text.getCreatedAt(),m[0],m[1],L,o,T?new Map(Object.entries(T)):new Map,I)),m[0].equals(m[1])||this.context.registerElementHasRemovedNodes(this.text),this.text.findIndexesFromRange(j)}delete(n,r){return this.edit(n,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,r,o){if(!this.context||!this.text)return y.fatal("it is not initialized yet"),!1;if(n>r)return y.fatal("from should be less than or equal to to"),!1;const l=this.text.indexRangeToPosRange(n,r);y.isEnabled(g.Debug)&&y.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${r}->${l[1].toTestString()} a:${JSON.stringify(o)}`);const m=_t(o),T=this.context.issueTimeTicket(),[I]=this.text.setStyle(l,m,T);return this.context.push(new Vt(this.text.getCreatedAt(),l[0],l[1],I,new Map(Object.entries(m)),T)),!0}indexRangeToPosRange(n){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}const r=this.text.indexRangeToPosRange(n[0],n[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}const r=this.text.findIndexesFromRange([sr.fromStruct(n[0]),sr.fromStruct(n[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(y.fatal("it is not initialized yet"),""):this.text.toString()}createRangeForTest(n,r){if(!this.context||!this.text){y.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(n,r)}}class $o{constructor(n,r){this.valueType=n,this.value=r}initialize(n,r){this.valueType=r.getValueType(),this.context=n,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter){y.fatal("it is not initialized yet");return}const r=this.context.issueTimeTicket(),o=Ye.of(n,r);if(!o.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof o.getValue()}`);return this.counter.increase(o),this.context.push(Xi.create(this.counter.getCreatedAt(),o,r)),this}}function pu(u,n,r){const{type:o}=u,l=r.issueTimeTicket();if(o===wt){Kc(u);const{value:m}=u,T=se.create(W.of(l,0),o,m);n.append(T)}else{const{children:m=[]}=u;let{attributes:T}=u,I;if(typeof T=="object"&&!xo(T)){T=_t(T),I=new On;for(const[j,ne]of Object.entries(T))I.set(j,ne,l)}const L=se.create(W.of(l,0),o,void 0,I);n.append(L);for(const j of m)pu(j,L,r)}}function gp(u,n){const{type:r}=n,o=u.issueTimeTicket();let l;if(n.type===wt){const{value:m}=n;l=se.create(W.of(o,0),r,m)}else if(n){const{children:m=[]}=n;let{attributes:T}=n,I;if(typeof T=="object"&&!xo(T)){T=_t(T),I=new On;for(const[L,j]of Object.entries(T))I.set(L,j,o)}l=se.create(W.of(u.issueTimeTicket(),0),r,void 0,I);for(const L of m)pu(L,l,u)}return l}function Kc(u){if(!u.value.length)throw new Error("text node cannot have empty value");return!0}function qc(u){if(!u.length)return!0;if(u[0].type===wt)for(const r of u){const{type:o}=r;if(o!==wt)throw new Error("element node and text node cannot be passed together");Kc(r)}else for(const r of u){const{type:o}=r;if(o===wt)throw new Error("element node and text node cannot be passed together")}return!0}class jo{constructor(n){this.initialRoot=n}initialize(n,r){this.context=n,this.tree=r}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return se.create(W.of(n.issueTimeTicket(),0),pn);const r=se.create(W.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const o of this.initialRoot.children)pu(o,r,n);return r}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(n,r){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!n.length)throw new Error("path should not be empty");const[o,l]=this.tree.pathToPosRange(n),m=this.context.issueTimeTicket(),T=r?_t(r):void 0;this.tree.style([o,l],T,m),this.context.push(Qi.create(this.tree.getCreatedAt(),o,l,T?new Map(Object.entries(T)):new Map,m))}style(n,r,o){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(n>r)throw new Error("from should be less than or equal to to");const l=this.tree.findPos(n),m=this.tree.findPos(r),T=this.context.issueTimeTicket(),I=o?_t(o):void 0;this.tree.style([l,m],I,T),this.context.push(Qi.create(this.tree.getCreatedAt(),l,m,I?new Map(Object.entries(I)):new Map,T))}editInternal(n,r,o,l=0){var m;if(o.length!==0&&o[0]&&(qc(o),o[0].type!==wt))for(const j of o){const{children:ne=[]}=j;qc(ne)}const T=this.context.getLastTimeTicket();let I=new Array;if(((m=o[0])===null||m===void 0?void 0:m.type)===wt){let j="";for(const ne of o){const{value:le}=ne;j+=le}I.push(se.create(W.of(this.context.issueTimeTicket(),0),wt,j))}else I=o.map(j=>j&&gp(this.context,j)).filter(j=>j);const[,L]=this.tree.edit([n,r],I.length?I.map(j=>j==null?void 0:j.deepcopy()):void 0,l,T,()=>this.context.issueTimeTicket());return this.context.push(At.create(this.tree.getCreatedAt(),n,r,I.length?I:void 0,l,L,T)),n.equals(r)||this.context.registerElementHasRemovedNodes(this.tree),!0}editByPath(n,r,o,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(n.length!==r.length)throw new Error("path length should be equal");if(!n.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(n),T=this.tree.pathToPos(r);return this.editInternal(m,T,o?[o]:[],l)}editBulkByPath(n,r,o,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(n.length!==r.length)throw new Error("path length should be equal");if(!n.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(n),T=this.tree.pathToPos(r);return this.editInternal(m,T,o,l)}edit(n,r,o,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(n>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(n),T=this.tree.findPos(r);return this.editInternal(m,T,o?[o]:[],l)}editBulk(n,r,o,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(n>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(n),T=this.tree.findPos(r);return this.editInternal(m,T,o,l)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree){y.fatal("it is not initialized yet");return}const r=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],o=this.tree.indexRangeToPosRange(r);return[o[0].toStruct(),o[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree){y.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree){y.fatal("it is not initialized yet");return}const r=[G.fromStruct(n[0]),G.fromStruct(n[1])];return this.tree.posRangeToIndexRange(r,this.context.getLastTimeTicket())}posRangeToPathRange(n){if(!this.context||!this.tree){y.fatal("it is not initialized yet");return}const r=[G.fromStruct(n[0]),G.fromStruct(n[1])];return this.tree.posRangeToPathRange(r,this.context.getLastTimeTicket())}}function Gc(u,n){return Yc(u,n)}function Kr(u,n){if(n){if(n instanceof Ye)return n;if(n instanceof Ue)return Yc(u,n);if(n instanceof en)return hp(u,n);if(n instanceof dt)return new Jo(u,n);if(n instanceof Rn){const r=new $o(ht.IntegerCnt,0);return r.initialize(u,n),r}else if(n instanceof Se){const r=new jo;return r.initialize(u,n),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Ni(u,n){const r=Kr(u,n);return r instanceof Ye?r.getValue():r}function Vo(u,n,r){let o;if(Ye.isSupport(n))o=Ye.of(n,r);else if(Array.isArray(n))o=en.create(r,it.buildArrayElements(u,n));else if(typeof n=="object")n instanceof Jo?(o=dt.create(Hi.create(),r),n.initialize(u,o)):n instanceof $o?(o=Rn.create(n.getValueType(),n.getValue(),r),n.initialize(u,o)):n instanceof jo?(o=Se.create(n.buildRoot(u),r),n.initialize(u,o)):o=Ue.create(r,Us.buildObjectMembers(u,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return o}const Hc=50;class yp{constructor(){this.undoStack=[],this.redoStack=[]}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=Hc&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=Hc&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const vp="yorkie-devtools-panel",Tp="yorkie-devtools-sdk";var Hn;(function(u){u.Detached="detached",u.Attached="attached",u.Removed="removed"})(Hn||(Hn={}));var Oe;(function(u){u.Snapshot="snapshot",u.LocalChange="local-change",u.RemoteChange="remote-change",u.Initialized="initialized",u.Watched="watched",u.Unwatched="unwatched",u.PresenceChanged="presence-changed"})(Oe||(Oe={}));class Xc{constructor(n,r){this.opts=r||{},this.key=n,this.status=Hn.Detached,this.root=Fs.create(),this.changeID=au,this.checkpoint=Pm,this.localChanges=[],this.eventStream=C(o=>{this.eventStreamObserver=o}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new yp,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)}}update(n,r){if(this.getStatus()===Hn.Removed)throw new Ae(Ee.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const o=this.changeID.getActorID(),l=Zi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(o)||{},r);try{const m=Gc(l,this.clone.root.getObject());this.presences.has(o)||this.clone.presences.set(o,{}),this.isUpdating=!0,n(m,new Wi(l,this.clone.presences.get(o)))}catch(m){throw this.clone=void 0,y.error(m),m}finally{this.isUpdating=!1}if(l.hasChange()){y.isEnabled(g.Trivial)&&y.trivial(`trying to update a local change: ${this.toJSON()}`);const m=l.getChange(),{opInfos:T,reverseOps:I}=m.execute(this.root,this.presences,We.Local),L=l.getReversePresence();L&&I.push({type:"presence",value:L}),this.localChanges.push(m),I.length>0&&this.internalHistory.pushUndo(I),T.length>0&&this.internalHistory.clearRedo(),this.changeID=m.getID(),T.length>0&&this.publish({type:Oe.LocalChange,value:{message:m.getMessage()||"",operations:T,actor:o}}),m.hasPresenceChange()&&this.publish({type:Oe.PresenceChanged,value:{clientID:o,presence:this.getPresence(o)}}),y.isEnabled(g.Trivial)&&y.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,r,o,l){if(typeof n=="string"){if(typeof r!="function")throw new Error("Second argument must be a callback function");if(n==="presence"){const I=r;return this.eventStream.subscribe(L=>{L.type!==Oe.Initialized&&L.type!==Oe.Watched&&L.type!==Oe.Unwatched&&L.type!==Oe.PresenceChanged||I(L)},o,l)}if(n==="my-presence"){const I=r;return this.eventStream.subscribe(L=>{L.type!==Oe.Initialized&&L.type!==Oe.Watched&&L.type!==Oe.Unwatched&&L.type!==Oe.PresenceChanged||L.type!==Oe.Initialized&&L.value.clientID!==this.changeID.getActorID()||I(L)},o,l)}if(n==="others"){const I=r;return this.eventStream.subscribe(L=>{L.type!==Oe.Watched&&L.type!==Oe.Unwatched&&L.type!==Oe.PresenceChanged||L.value.clientID!==this.changeID.getActorID()&&I(L)},o,l)}const m=n,T=r;return this.eventStream.subscribe(I=>{if(I.type===Oe.Initialized||I.type===Oe.Watched||I.type===Oe.Unwatched||I.type===Oe.PresenceChanged)return;if(I.type===Oe.Snapshot){m==="$"&&T(I);return}const{message:L,operations:j,actor:ne}=I.value,le=[];for(const H of j)this.isSameElementOrChildOf(H.path,m)&&le.push(H);le.length&&T({type:I.type,value:{message:L,operations:le,actor:ne}})},o,l)}if(typeof n=="function"){const m=n,T=r,I=o;return this.eventStream.subscribe(L=>{L.type===Oe.Initialized||L.type===Oe.Watched||L.type===Oe.Unwatched||L.type===Oe.PresenceChanged||m(L)},T,I)}throw new Error(`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,r){if(r===n)return!0;const o=n.split(".");return r.split(".").every((m,T)=>m===o[T])}applyChangePack(n){for(n.hasSnapshot()?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getSnapshot()):n.hasChanges()&&this.applyChanges(n.getChanges());this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),this.garbageCollect(n.getMinSyncedTicket()),n.getIsRemoved()&&this.setStatus(Hn.Removed),y.isEnabled(g.Trivial)&&y.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Kn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(n.length);return bo.create(this.key,r,!1,n)}setActor(n){for(const r of this.localChanges)r.setActor(n);this.changeID=this.changeID.setActor(n)}getKey(){return this.key}setStatus(n){this.status=n}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=Zi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Gc(n,this.clone.root.getObject())}getOpsForTest(){return this.root.opsForTest}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,r){const{root:o,presences:l}=wr.bytesToSnapshot(r);this.root=new Fs(o),this.presences=l,this.changeID=this.changeID.syncLamport(n),this.clone=void 0,this.publish({type:Oe.Snapshot,value:r})}applyChanges(n){y.isEnabled(g.Debug)&&y.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getRemovedElementSetSize()}`),y.isEnabled(g.Trivial)&&y.trivial(n.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`)),this.ensureClone();for(const r of n){r.execute(this.clone.root,this.clone.presences,We.Remote);let o;const l=r.getID().getActorID();if(r.hasPresenceChange()&&this.onlineClients.has(l)){const T=r.getPresenceChange();switch(T.type){case Pn.Put:o={type:this.presences.has(l)?Oe.PresenceChanged:Oe.Watched,value:{clientID:l,presence:T.presence}};break;case Pn.Clear:o={type:Oe.Unwatched,value:{clientID:l,presence:this.getPresence(l)}},this.removeOnlineClient(l);break}}const{opInfos:m}=r.execute(this.root,this.presences,We.Remote);m.length>0&&this.publish({type:Oe.RemoteChange,value:{actor:l,message:r.getMessage()||"",operations:m}}),o&&this.publish(o),this.changeID=this.changeID.syncLamport(r.getID().getLamport())}y.isEnabled(g.Debug)&&y.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getRemovedElementSetSize()}`)}getValueByPath(n){if(!n.startsWith("$"))throw new Ae(Ee.InvalidArgument,'path must start with "$"');const r=n.split(".");r.shift();let o=this.getRoot();for(const l of r)if(o=o[l],o===void 0)return;return o}setOnlineClients(n){this.onlineClients=n}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!==Hn.Attached)return{};const n=this.presences.get(this.changeID.getActorID());return Kn(n)}getPresence(n){if(!this.onlineClients.has(n))return;const r=this.presences.get(n);return r?Kn(r):void 0}getPresenceForTest(n){const r=this.presences.get(n);return r?Kn(r):void 0}getPresences(){const n=[];for(const r of this.onlineClients)this.presences.has(r)&&n.push({clientID:r,presence:Kn(this.presences.get(r))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==n).sort((r,o)=>r.clientID>o.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const r=Zi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const L of n){if(!(L instanceof Xe)){new Wi(r,Kn(this.clone.presences.get(this.changeID.getActorID()))).set(L.value,{addToHistory:!0});continue}const j=r.issueTimeTicket();L.setExecutedAt(j),r.push(L)}const o=r.getChange();o.execute(this.clone.root,this.clone.presences,We.UndoRedo);const{opInfos:l,reverseOps:m}=o.execute(this.root,this.presences,We.UndoRedo),T=r.getReversePresence();if(T&&m.push({type:"presence",value:T}),m.length>0&&this.internalHistory.pushRedo(m),!o.hasPresenceChange()&&l.length===0)return;this.localChanges.push(o),this.changeID=o.getID();const I=this.changeID.getActorID();l.length>0&&this.publish({type:Oe.LocalChange,value:{message:o.getMessage()||"",operations:l,actor:I}}),o.hasPresenceChange()&&this.publish({type:Oe.PresenceChanged,value:{clientID:I,presence:this.getPresence(I)}})}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const r=Zi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const L of n){if(!(L instanceof Xe)){new Wi(r,Kn(this.clone.presences.get(this.changeID.getActorID()))).set(L.value,{addToHistory:!0});continue}const j=r.issueTimeTicket();L.setExecutedAt(j),r.push(L)}const o=r.getChange();o.execute(this.clone.root,this.clone.presences,We.UndoRedo);const{opInfos:l,reverseOps:m}=o.execute(this.root,this.presences,We.UndoRedo),T=r.getReversePresence();if(T&&m.push({type:"presence",value:T}),m.length>0&&this.internalHistory.pushUndo(m),!o.hasPresenceChange()&&l.length===0)return;this.localChanges.push(o),this.changeID=o.getID();const I=this.changeID.getActorID();l.length>0&&this.publish({type:Oe.LocalChange,value:{message:o.getMessage()||"",operations:l,actor:I}}),o.hasPresenceChange()&&this.publish({type:Oe.PresenceChanged,value:{clientID:I,presence:this.getPresence(I)}})}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function wp(u,n){return r=>async o=>(u&&o.header.set("x-api-key",u),n&&o.header.set("authorization",n),await r(o))}const Qc=JSON.parse('{"u2":"yorkie-js-sdk","i8":"0.4.13"}');function Sp(){return u=>async n=>(n.header.set("x-yorkie-user-agent",Qc.u2+"/"+Qc.i8),await u(n))}var Or;(function(u){u.PushPull="pushpull",u.PushOnly="pushonly"})(Or||(Or={}));var qr;(function(u){u.Deactivated="deactivated",u.Activated="activated"})(qr||(qr={}));var Ii;(function(u){u.Connected="connected",u.Disconnected="disconnected"})(Ii||(Ii={}));var es;(function(u){u.Synced="synced",u.SyncFailed="sync-failed"})(es||(es={}));var bn;(function(u){u.StatusChanged="status-changed",u.DocumentChanged="document-changed",u.StreamConnectionStatusChanged="stream-connection-status-changed",u.DocumentSynced="document-synced"})(bn||(bn={}));const zo={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class Zc{constructor(n,r){r=r||zo,this.key=r.key?r.key:p(),this.status=qr.Deactivated,this.attachmentMap=new Map,this.apiKey=r.apiKey||"",this.syncLoopDuration=r.syncLoopDuration||zo.syncLoopDuration,this.reconnectStreamDelay=r.reconnectStreamDelay||zo.reconnectStreamDelay,this.retrySyncLoopDelay=r.retrySyncLoopDelay||zo.retrySyncLoopDelay,this.rpcClient=z(Ti.V,vi({baseUrl:n,interceptors:[wp(r.apiKey,r.token),Sp()]})),this.eventStream=C(o=>{this.eventStreamObserver=o})}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(n=>{this.id=n.clientId,this.status=qr.Activated,this.runSyncLoop(),this.eventStreamObserver.next({type:bn.StatusChanged,value:this.status}),y.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(n=>{throw y.error(`[AC] c:"${this.getKey()}" err :`,n),n})}deactivate(){if(this.status===qr.Deactivated)return Promise.resolve();for(const[n]of this.attachmentMap)this.detachInternal(n);return this.rpcClient.deactivateClient({clientKey:this.key,clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status=qr.Deactivated,this.eventStreamObserver.next({type:bn.StatusChanged,value:this.status}),y.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(n=>{throw y.error(`[DC] c:"${this.getKey()}" err :`,n),n})}attach(n,r={}){var o;if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);if(n.getStatus()!==Hn.Detached)throw new Ae(Ee.DocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((m,T)=>T.set(r.initialPresence||{}));const l=(o=r.isRealtimeSync)!==null&&o!==void 0?o:!0;return this.rpcClient.attachDocument({clientKey:this.key,clientId:this.id,changePack:wr.toChangePack(n.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(async m=>{const T=wr.fromChangePack(m.changePack);return n.applyChangePack(T),n.getStatus()===Hn.Removed||(n.setStatus(Hn.Attached),this.attachmentMap.set(n.getKey(),new dp(this.reconnectStreamDelay,n,m.documentId,l)),l&&await this.runWatchLoop(n.getKey()),y.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`)),n}).catch(m=>{throw y.error(`[AD] c:"${this.getKey()}" err :`,m),m})}detach(n,r={}){var o;if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);const l=this.attachmentMap.get(n.getKey());if(!l)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);return n.update((m,T)=>T.clear()),this.rpcClient.detachDocument({clientKey:this.key,clientId:this.id,documentId:l.docID,changePack:wr.toChangePack(n.createChangePack()),removeIfNotAttached:(o=r.removeIfNotAttached)!==null&&o!==void 0?o:!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(m=>{const T=wr.fromChangePack(m.changePack);return n.applyChangePack(T),n.getStatus()!==Hn.Removed&&n.setStatus(Hn.Detached),this.detachInternal(n.getKey()),y.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}).catch(m=>{throw y.error(`[DD] c:"${this.getKey()}" err :`,m),m})}pause(n){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);return this.changeRealtimeSync(n,!1)}resume(n){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);return this.changeRealtimeSync(n,!0)}pauseRemoteChanges(n){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);r.changeSyncMode(Or.PushOnly)}resumeRemoteChanges(n){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);r.changeSyncMode(Or.PushPull),r.remoteChangeEventReceived=!0}async changeRealtimeSync(n,r){const o=this.attachmentMap.get(n.getKey());if(!o)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);return o.changeRealtimeSync(r)?r?(o.remoteChangeEventReceived=!0,await this.runWatchLoop(n.getKey()),n):(this.eventStreamObserver.next({type:bn.StreamConnectionStatusChanged,value:Ii.Disconnected}),y.debug(`[WD] c:"${this.getKey()}" unwatches`),n):n}sync(n,r=Or.PushPull){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);const o=[];if(n){const l=this.attachmentMap.get(n.getKey());if(!l)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);o.push(this.syncInternal(l,r))}else this.attachmentMap.forEach(l=>{o.push(this.syncInternal(l,l.syncMode))});return Promise.all(o).catch(l=>{throw this.eventStreamObserver.next({type:bn.DocumentSynced,value:es.SyncFailed}),l})}remove(n){if(!this.isActive())throw new Ae(Ee.ClientNotActive,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new Ae(Ee.DocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const o=wr.toChangePack(n.createChangePack());return o.isRemoved=!0,this.rpcClient.removeDocument({clientKey:this.key,clientId:this.id,documentId:r.docID,changePack:o},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(l=>{const m=wr.fromChangePack(l.changePack);n.applyChangePack(m),this.detachInternal(n.getKey()),y.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}).catch(l=>{throw y.error(`[RD] c:"${this.getKey()}" err :`,l),l})}subscribe(n,r,o){return this.eventStream.subscribe(n,r,o)}getID(){return this.id}getKey(){return this.key}isActive(){return this.status===qr.Activated}getStatus(){return this.status}runSyncLoop(){const n=()=>{if(!this.isActive()){y.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const r=[];for(const[,o]of this.attachmentMap)o.needRealtimeSync()&&(o.remoteChangeEventReceived=!1,r.push(this.syncInternal(o,o.syncMode)));Promise.all(r).then(()=>setTimeout(n,this.syncLoopDuration)).catch(o=>{y.error(`[SL] c:"${this.getKey()}" sync failed:`,o),this.eventStreamObserver.next({type:bn.DocumentSynced,value:es.SyncFailed}),setTimeout(n,this.retrySyncLoopDelay)})};y.debug(`[SL] c:"${this.getKey()}" run sync loop`),n()}async runWatchLoop(n){const r=this.attachmentMap.get(n);if(!r)throw new Ae(Ee.DocumentNotAttached,`${n} is not attached`);return r.runWatchLoop(o=>{if(!this.isActive())return Promise.reject(new Ae(Ee.ClientNotActive,`${this.key} is not active`));const l=new AbortController,m=this.rpcClient.watchDocument({clientKey:this.key,clientId:this.id,documentKey:n,documentId:r.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return this.eventStreamObserver.next({type:bn.StreamConnectionStatusChanged,value:Ii.Connected}),y.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((T,I)=>{(async()=>{try{for await(const j of m)this.handleWatchDocumentsResponse(r,j),j.body.case==="initialization"&&T([m,l])}catch(j){this.eventStreamObserver.next({type:bn.StreamConnectionStatusChanged,value:Ii.Disconnected}),y.debug(`[WD] c:"${this.getKey()}" unwatches`),o(),I(j)}})()})})}handleWatchDocumentsResponse(n,r){const o=n.doc.getKey();if(r.body.case==="initialization"){const l=r.body.value.clientIds,m=new Set;for(const T of l)m.add(T);n.doc.setOnlineClients(m),n.doc.publish({type:Oe.Initialized,value:n.doc.getPresences()});return}else if(r.body.case==="event"){const l=r.body.value,m=l.type,T=l.publisher;switch(m){case X.DocEventType.DOCUMENT_CHANGED:n.remoteChangeEventReceived=!0,this.eventStreamObserver.next({type:bn.DocumentChanged,value:[o]});break;case X.DocEventType.DOCUMENT_WATCHED:n.doc.addOnlineClient(T),n.doc.hasPresence(T)&&n.doc.publish({type:Oe.Watched,value:{clientID:T,presence:n.doc.getPresence(T)}});break;case X.DocEventType.DOCUMENT_UNWATCHED:{const I=n.doc.getPresence(T);n.doc.removeOnlineClient(T),I&&n.doc.publish({type:Oe.Unwatched,value:{clientID:T,presence:I}});break}}}}detachInternal(n){const r=this.attachmentMap.get(n);r&&(r.cancelWatchStream(),y.debug(`[WD] c:"${this.getKey()}" unwatches`),this.eventStreamObserver.next({type:bn.StreamConnectionStatusChanged,value:Ii.Disconnected}),this.attachmentMap.delete(n))}syncInternal(n,r){const{doc:o,docID:l}=n,m=o.createChangePack();return this.rpcClient.pushPullChanges({clientKey:this.key,clientId:this.id,documentId:l,changePack:wr.toChangePack(m),pushOnly:r===Or.PushOnly},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}).then(T=>{const I=wr.fromChangePack(T.changePack);if(I.hasChanges()&&r===Or.PushOnly)return o;o.applyChangePack(I),this.eventStreamObserver.next({type:bn.DocumentSynced,value:es.Synced}),o.getStatus()===Hn.Removed&&this.detachInternal(o.getKey());const L=o.getKey(),j=I.getChangeSize();return y.info(`[PP] c:"${this.getKey()}" sync d:"${L}", push:${m.getChangeSize()} pull:${j} cp:${I.getCheckpoint().toTestString()}`),o}).catch(T=>{throw y.error(`[PP] c:"${this.getKey()}" err :`,T),T})}}const Ep={Client:Zc,Document:Xc,Primitive:Ye,Text:Jo,Counter:$o,Tree:jo,IntType:ht.IntegerCnt,LongType:ht.LongCnt}})(),d})())})(Im);var Qy=Im.exports;const Am=Ap(Qy);class Zy{constructor(t,i){this.x=t,this.y=i,this.lifetime=0}}const ev=({xPos:e,yPos:t})=>{const[i,s]=vn.useState([]),c=vn.useRef(null),[d,g]=vn.useState([]),v=(y,p)=>{const O=new Zy(y,p);d.push(O),g(d),i.push(O),s(i)};return vn.useEffect(()=>{const p=c.current.getContext("2d"),O=()=>{p.clearRect(0,0,p.canvas.width,p.canvas.height);const w=.7*(1*4e3)/60;for(let C=0;C<d.length;++C){const P=d[C];let B;if(d[C-1]!==void 0?B=d[C-1]:B=P,P.lifetime+=1,P.lifetime>w)d.shift();else{p.lineWidth=5,p.lineJoin="round";const b=0,D=0,E=0;p.strokeStyle=`rgb(${b},${D},${E})`,p.beginPath(),p.moveTo(B.x,B.y),p.lineTo(P.x,P.y),p.stroke(),p.closePath()}}requestAnimationFrame(O)};O()},[d]),vn.useEffect(()=>{v(e,t)},[e,t]),at.jsx("canvas",{className:"pen-cursor-canvas",ref:c,width:document.body.clientWidth,height:document.body.clientHeight})},tv="_goUp0_1lnal_1",nv="_goUpAnimation0_1lnal_1",rv="_fadeOut_1lnal_1",iv="_goUp1_1lnal_16",sv="_goUpAnimation1_1lnal_1",ov="_goUp2_1lnal_31",av="_goUpAnimation2_1lnal_1",uv="_leftRight0_1lnal_46",lv="_leftRightAnimation0_1lnal_1",cv="_leftRight1_1lnal_60",fv="_leftRightAnimation1_1lnal_1",dv="_leftRight2_1lnal_74",hv="_leftRightAnimation2_1lnal_1",ju={goUp0:tv,goUpAnimation0:nv,fadeOut:rv,goUp1:iv,goUpAnimation1:sv,goUp2:ov,goUpAnimation2:av,leftRight0:uv,leftRightAnimation0:lv,leftRight1:cv,leftRightAnimation1:fv,leftRight2:dv,leftRightAnimation2:hv};function mv({x:e,y:t,timestamp:i,selectedCursorShape:s}){return at.jsx("div",{className:"single-animation-container",children:at.jsx("div",{className:`absolute select-none pointer-events-none ${ju.disappear} text-${i%5+2}xl ${ju["goUp"+i%3]}`,style:{left:e,top:t},children:at.jsx("div",{className:ju["leftRight"+i%3],children:at.jsx("div",{className:"transform -translate-x-1/2 -translate-y-1/2",children:at.jsx("img",{src:`./icons/icon_${s}.svg`})})})})})}function fd(e,t){const i=vn.useRef(e);vn.useEffect(()=>{i.current=e},[e]),vn.useEffect(()=>{function s(){i.current()}if(t!==null){let c=setInterval(s,t);return()=>clearInterval(c)}},[t])}const pv=({pointerDown:e,xPos:t,yPos:i,selectedCursorShape:s})=>{const[c,d]=vn.useState([]),g=100;return fd(()=>{d(v=>v.filter(y=>y.timestamp>Date.now()-4e3))},1e3),fd(()=>{e&&d(v=>v.concat([{point:{x:t,y:i},timestamp:Date.now()}]))},g),at.jsx("div",{style:{transform:`translateX(${t}px) translateY(${i}px)`},children:c.map(v=>at.jsx(mv,{x:v.point.x,y:v.point.y,timestamp:v.timestamp,selectedCursorShape:s},v.timestamp.toString()))})},gv=({selectedCursorShape:e,x:t,y:i,pointerDown:s})=>at.jsxs(at.Fragment,{children:[at.jsx("img",{src:`./icons/icon_${e}.svg`,className:`${e}-cursor`,style:{transform:`translate3d(${t}px, ${i}px, 0)`}}),(e==="heart"||e==="thumbs")&&at.jsx(pv,{pointerDown:s,xPos:t,yPos:i,selectedCursorShape:e}),e==="pen"&&s&&at.jsx(ev,{xPos:t,yPos:i})]}),yv=({handleCursorShapeSelect:e,clientsLength:t})=>{const[i,s]=vn.useState("cursor"),c=["heart","thumbs","pen","cursor"];return at.jsxs("div",{className:"cursor-selector-container",children:[at.jsx("div",{className:"cursor-selections-container",children:c.map(d=>at.jsx("img",{onClick:()=>{e(d),s(d)},className:`${i===d?"cursor-shape-selected":"cursor-shape-not-selected"}`,src:`./icons/icon_${d}.svg`},d))}),at.jsx("div",{className:"num-users-container",children:at.jsx("p",{children:t!==1?`${t} users are here`:"1 user here"})})]})};const Vu=new Am.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"}),Pi=new Am.Document("simultaneous-cursors"),vv=()=>{const[e,t]=vn.useState([]),i=s=>{Pi.update((c,d)=>{d.set({cursorShape:s})})};return vn.useEffect(()=>{(async()=>{await Vu.activate(),Pi.subscribe("presence",v=>{t(Pi.getPresences())}),await Vu.attach(Pi,{initialPresence:{cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1}}),window.addEventListener("beforeunload",()=>{Vu.deactivate()})})();const c=()=>{Pi.update((v,y)=>{y.set({pointerDown:!1})})},d=()=>{Pi.update((v,y)=>{y.set({pointerDown:!0})})},g=v=>{Pi.update((y,p)=>{p.set({cursor:{xPos:v.clientX,yPos:v.clientY}})})};return window.addEventListener("mousedown",d),window.addEventListener("mouseup",c),window.addEventListener("mousemove",g),()=>{window.removeEventListener("mousedown",d),window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",g)}},[]),at.jsxs("div",{className:"general-container",children:[e.map(({clientID:s,presence:{cursorShape:c,cursor:d,pointerDown:g}})=>at.jsx(gv,{selectedCursorShape:c,x:d.xPos,y:d.yPos,pointerDown:g},s)),at.jsx(yv,{handleCursorShapeSelect:i,clientsLength:e.length})]})};zu.createRoot(document.getElementById("root")).render(at.jsx(vv,{}));
