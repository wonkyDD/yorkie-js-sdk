(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerPolicy&&(c.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?c.credentials="include":f.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(f){if(f.ep)return;f.ep=!0;const c=o(f);fetch(f.href,c)}})();var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ig={exports:{}},nu={},_g={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),YS=Symbol.for("react.portal"),WS=Symbol.for("react.fragment"),KS=Symbol.for("react.strict_mode"),GS=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),ZS=Symbol.for("react.suspense"),e1=Symbol.for("react.memo"),t1=Symbol.for("react.lazy"),pp=Symbol.iterator;function n1(t){return t===null||typeof t!="object"?null:(t=pp&&t[pp]||t["@@iterator"],typeof t=="function"?t:null)}var Ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xg=Object.assign,Pg={};function Wi(t,r,o){this.props=t,this.context=r,this.refs=Pg,this.updater=o||Ag}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Og(){}Og.prototype=Wi.prototype;function Af(t,r,o){this.props=t,this.context=r,this.refs=Pg,this.updater=o||Ag}var xf=Af.prototype=new Og;xf.constructor=Af;xg(xf,Wi.prototype);xf.isPureReactComponent=!0;var gp=Array.isArray,Cg=Object.prototype.hasOwnProperty,Pf={current:null},Dg={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,r,o){var l,f={},c=null,m=null;if(r!=null)for(l in r.ref!==void 0&&(m=r.ref),r.key!==void 0&&(c=""+r.key),r)Cg.call(r,l)&&!Dg.hasOwnProperty(l)&&(f[l]=r[l]);var y=arguments.length-2;if(y===1)f.children=o;else if(1<y){for(var v=Array(y),E=0;E<y;E++)v[E]=arguments[E+2];f.children=v}if(t&&t.defaultProps)for(l in y=t.defaultProps,y)f[l]===void 0&&(f[l]=y[l]);return{$$typeof:va,type:t,key:c,ref:m,props:f,_owner:Pf.current}}function r1(t,r){return{$$typeof:va,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===va}function s1(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return r[o]})}var yp=/\/+/g;function sc(t,r){return typeof t=="object"&&t!==null&&t.key!=null?s1(""+t.key):r.toString(36)}function wl(t,r,o,l,f){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var m=!1;if(t===null)m=!0;else switch(c){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case va:case YS:m=!0}}if(m)return m=t,f=f(m),t=l===""?"."+sc(m,0):l,gp(f)?(o="",t!=null&&(o=t.replace(yp,"$&/")+"/"),wl(f,r,o,"",function(E){return E})):f!=null&&(Of(f)&&(f=r1(f,o+(!f.key||m&&m.key===f.key?"":(""+f.key).replace(yp,"$&/")+"/")+t)),r.push(f)),1;if(m=0,l=l===""?".":l+":",gp(t))for(var y=0;y<t.length;y++){c=t[y];var v=l+sc(c,y);m+=wl(c,r,o,v,f)}else if(v=n1(t),typeof v=="function")for(t=v.call(t),y=0;!(c=t.next()).done;)c=c.value,v=l+sc(c,y++),m+=wl(c,r,o,v,f);else if(c==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return m}function rl(t,r,o){if(t==null)return t;var l=[],f=0;return wl(t,l,"","",function(c){return r.call(o,c,f++)}),l}function i1(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},Sl={transition:null},o1={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:Pf};ue.Children={map:rl,forEach:function(t,r,o){rl(t,function(){r.apply(this,arguments)},o)},count:function(t){var r=0;return rl(t,function(){r++}),r},toArray:function(t){return rl(t,function(r){return r})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wi;ue.Fragment=WS;ue.Profiler=GS;ue.PureComponent=Af;ue.StrictMode=KS;ue.Suspense=ZS;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;ue.cloneElement=function(t,r,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=xg({},t.props),f=t.key,c=t.ref,m=t._owner;if(r!=null){if(r.ref!==void 0&&(c=r.ref,m=Pf.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var y=t.type.defaultProps;for(v in r)Cg.call(r,v)&&!Dg.hasOwnProperty(v)&&(l[v]=r[v]===void 0&&y!==void 0?y[v]:r[v])}var v=arguments.length-2;if(v===1)l.children=o;else if(1<v){y=Array(v);for(var E=0;E<v;E++)y[E]=arguments[E+2];l.children=y}return{$$typeof:va,type:t.type,key:f,ref:c,props:l,_owner:m}};ue.createContext=function(t){return t={$$typeof:XS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HS,_context:t},t.Consumer=t};ue.createElement=Rg;ue.createFactory=function(t){var r=Rg.bind(null,t);return r.type=t,r};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:QS,render:t}};ue.isValidElement=Of;ue.lazy=function(t){return{$$typeof:t1,_payload:{_status:-1,_result:t},_init:i1}};ue.memo=function(t,r){return{$$typeof:e1,type:t,compare:r===void 0?null:r}};ue.startTransition=function(t){var r=Sl.transition;Sl.transition={};try{t()}finally{Sl.transition=r}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,r){return ht.current.useCallback(t,r)};ue.useContext=function(t){return ht.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ue.useEffect=function(t,r){return ht.current.useEffect(t,r)};ue.useId=function(){return ht.current.useId()};ue.useImperativeHandle=function(t,r,o){return ht.current.useImperativeHandle(t,r,o)};ue.useInsertionEffect=function(t,r){return ht.current.useInsertionEffect(t,r)};ue.useLayoutEffect=function(t,r){return ht.current.useLayoutEffect(t,r)};ue.useMemo=function(t,r){return ht.current.useMemo(t,r)};ue.useReducer=function(t,r,o){return ht.current.useReducer(t,r,o)};ue.useRef=function(t){return ht.current.useRef(t)};ue.useState=function(t){return ht.current.useState(t)};ue.useSyncExternalStore=function(t,r,o){return ht.current.useSyncExternalStore(t,r,o)};ue.useTransition=function(){return ht.current.useTransition()};ue.version="18.2.0";_g.exports=ue;var Tt=_g.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=Tt,l1=Symbol.for("react.element"),u1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,f1=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d1={key:!0,ref:!0,__self:!0,__source:!0};function bg(t,r,o){var l,f={},c=null,m=null;o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(m=r.ref);for(l in r)c1.call(r,l)&&!d1.hasOwnProperty(l)&&(f[l]=r[l]);if(t&&t.defaultProps)for(l in r=t.defaultProps,r)f[l]===void 0&&(f[l]=r[l]);return{$$typeof:l1,type:t,key:c,ref:m,props:f,_owner:f1.current}}nu.Fragment=u1;nu.jsx=bg;nu.jsxs=bg;Ig.exports=nu;var Le=Ig.exports,Dc={},Lg={exports:{}},bt={},Bg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(z,re){var ie=z.length;z.push(re);e:for(;0<ie;){var Ie=ie-1>>>1,Me=z[Ie];if(0<f(Me,re))z[Ie]=re,z[ie]=Me,ie=Ie;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var re=z[0],ie=z.pop();if(ie!==re){z[0]=ie;e:for(var Ie=0,Me=z.length,Hs=Me>>>1;Ie<Hs;){var ce=2*(Ie+1)-1,ge=z[ce],_n=ce+1,$r=z[_n];if(0>f(ge,ie))_n<Me&&0>f($r,ge)?(z[Ie]=$r,z[_n]=ie,Ie=_n):(z[Ie]=ge,z[ce]=ie,Ie=ce);else if(_n<Me&&0>f($r,ie))z[Ie]=$r,z[_n]=ie,Ie=_n;else break e}}return re}function f(z,re){var ie=z.sortIndex-re.sortIndex;return ie!==0?ie:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,y=m.now();t.unstable_now=function(){return m.now()-y}}var v=[],E=[],R=1,D=null,O=3,$=!1,F=!1,j=!1,ye=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var re=o(E);re!==null;){if(re.callback===null)l(E);else if(re.startTime<=z)l(E),re.sortIndex=re.expirationTime,r(v,re);else break;re=o(E)}}function L(z){if(j=!1,_(z),!F)if(o(v)!==null)F=!0,Gs(q);else{var re=o(E);re!==null&&Xi(L,re.startTime-z)}}function q(z,re){F=!1,j&&(j=!1,I(X),X=-1),$=!0;var ie=O;try{for(_(re),D=o(v);D!==null&&(!(D.expirationTime>re)||z&&!Nt());){var Ie=D.callback;if(typeof Ie=="function"){D.callback=null,O=D.priorityLevel;var Me=Ie(D.expirationTime<=re);re=t.unstable_now(),typeof Me=="function"?D.callback=Me:D===o(v)&&l(v),_(re)}else l(v);D=o(v)}if(D!==null)var Hs=!0;else{var ce=o(E);ce!==null&&Xi(L,ce.startTime-re),Hs=!1}return Hs}finally{D=null,O=ie,$=!1}}var P=!1,W=null,X=-1,S=5,ee=-1;function Nt(){return!(t.unstable_now()-ee<S)}function gr(){if(W!==null){var z=t.unstable_now();ee=z;var re=!0;try{re=W(!0,z)}finally{re?In():(P=!1,W=null)}}else P=!1}var In;if(typeof w=="function")In=function(){w(gr)};else if(typeof MessageChannel<"u"){var Hi=new MessageChannel,vu=Hi.port2;Hi.port1.onmessage=gr,In=function(){vu.postMessage(null)}}else In=function(){ye(gr,0)};function Gs(z){W=z,P||(P=!0,In())}function Xi(z,re){X=ye(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){F||$||(F=!0,Gs(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return o(v)},t.unstable_next=function(z){switch(O){case 1:case 2:case 3:var re=3;break;default:re=O}var ie=O;O=re;try{return z()}finally{O=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=O;O=z;try{return re()}finally{O=ie}},t.unstable_scheduleCallback=function(z,re,ie){var Ie=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ie+ie:Ie):ie=Ie,z){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ie+Me,z={id:R++,callback:re,priorityLevel:z,startTime:ie,expirationTime:Me,sortIndex:-1},ie>Ie?(z.sortIndex=ie,r(E,z),o(v)===null&&z===o(E)&&(j?(I(X),X=-1):j=!0,Xi(L,ie-Ie))):(z.sortIndex=Me,r(v,z),F||$||(F=!0,Gs(q))),z},t.unstable_shouldYield=Nt,t.unstable_wrapCallback=function(z){var re=O;return function(){var ie=O;O=re;try{return z.apply(this,arguments)}finally{O=ie}}}})(Mg);Bg.exports=Mg;var h1=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=Tt,Rt=h1;function M(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ug=new Set,ta={};function Ws(t,r){$i(t,r),$i(t+"Capture",r)}function $i(t,r){for(ta[t]=r,t=0;t<r.length;t++)Ug.add(r[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,m1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vp={},Tp={};function p1(t){return Rc.call(Tp,t)?!0:Rc.call(vp,t)?!1:m1.test(t)?Tp[t]=!0:(vp[t]=!0,!1)}function g1(t,r,o,l){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y1(t,r,o,l){if(r===null||typeof r>"u"||g1(t,r,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function mt(t,r,o,l,f,c,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=c,this.removeEmptyString=m}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];tt[r]=new mt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cf=/[\-:]([a-z])/g;function Df(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Cf,Df);tt[r]=new mt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Cf,Df);tt[r]=new mt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Cf,Df);tt[r]=new mt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rf(t,r,o,l){var f=tt.hasOwnProperty(r)?tt[r]:null;(f!==null?f.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(y1(r,o,f,l)&&(o=null),l||f===null?p1(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,l=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,l?t.setAttributeNS(l,r,o):t.setAttribute(r,o))))}var Ur=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),jg=Symbol.for("react.offscreen"),wp=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=wp&&t[wp]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,ic;function Fo(t){if(ic===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ic=r&&r[1]||""}return`
`+ic+t}var oc=!1;function ac(t,r){if(!t||oc)return"";oc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(E){var l=E}Reflect.construct(t,[],r)}else{try{r.call()}catch(E){l=E}t.call(r.prototype)}else{try{throw Error()}catch(E){l=E}t()}}catch(E){if(E&&l&&typeof E.stack=="string"){for(var f=E.stack.split(`
`),c=l.stack.split(`
`),m=f.length-1,y=c.length-1;1<=m&&0<=y&&f[m]!==c[y];)y--;for(;1<=m&&0<=y;m--,y--)if(f[m]!==c[y]){if(m!==1||y!==1)do if(m--,y--,0>y||f[m]!==c[y]){var v=`
`+f[m].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=m&&0<=y);break}}}finally{oc=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Fo(t):""}function v1(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function Mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case ki:return"Portal";case bc:return"Profiler";case bf:return"StrictMode";case Lc:return"Suspense";case Bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fg:return(t.displayName||"Context")+".Consumer";case $g:return(t._context.displayName||"Context")+".Provider";case Lf:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bf:return r=t.displayName||null,r!==null?r:Mc(t.type)||"Memo";case ts:r=t._payload,t=t._init;try{return Mc(t(r))}catch{}}return null}function T1(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(r);case 8:return r===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zg(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function w1(t){var r=zg(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,c=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(m){l=""+m,c.call(this,m)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function il(t){t._valueTracker||(t._valueTracker=w1(t))}function Vg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return t&&(l=zg(t)?t.checked?"true":"false":t.value),t=l,t!==o?(r.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,r){var o=r.checked;return Ce({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Sp(t,r){var o=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;o=ps(r.value!=null?r.value:o),t._wrapperState={initialChecked:l,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qg(t,r){r=r.checked,r!=null&&Rf(t,"checked",r,!1)}function Uc(t,r){qg(t,r);var o=ps(r.value),l=r.type;if(o!=null)l==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?$c(t,r.type,o):r.hasOwnProperty("defaultValue")&&$c(t,r.type,ps(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function kp(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function $c(t,r,o){(r!=="number"||Dl(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var jo=Array.isArray;function bi(t,r,o,l){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&l&&(t[o].defaultSelected=!0)}else{for(o=""+ps(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Fc(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ce({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(M(92));if(jo(o)){if(1<o.length)throw Error(M(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ps(o)}}function Yg(t,r){var o=ps(r.value),l=ps(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),l!=null&&(t.defaultValue=""+l)}function Np(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Wg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jc(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Wg(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ol,Kg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,l,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,l,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function na(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){S1.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Yo[r]=Yo[t]})});function Gg(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+r).trim():r+"px"}function Hg(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var l=o.indexOf("--")===0,f=Gg(o,r[o],l);o==="float"&&(o="cssFloat"),l?t.setProperty(o,f):t[o]=f}}var k1=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(t,r){if(r){if(k1[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(M(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(M(61))}if(r.style!=null&&typeof r.style!="object")throw Error(M(62))}}function Vc(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function Mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yc=null,Li=null,Bi=null;function Ip(t){if(t=Sa(t)){if(typeof Yc!="function")throw Error(M(280));var r=t.stateNode;r&&(r=au(r),Yc(t.stateNode,t.type,r))}}function Xg(t){Li?Bi?Bi.push(t):Bi=[t]:Li=t}function Qg(){if(Li){var t=Li,r=Bi;if(Bi=Li=null,Ip(t),r)for(t=0;t<r.length;t++)Ip(r[t])}}function Zg(t,r){return t(r)}function ey(){}var lc=!1;function ty(t,r,o){if(lc)return t(r,o);lc=!0;try{return Zg(t,r,o)}finally{lc=!1,(Li!==null||Bi!==null)&&(ey(),Qg())}}function ra(t,r){var o=t.stateNode;if(o===null)return null;var l=au(o);if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(M(231,r,typeof o));return o}var Wc=!1;if(Lr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Wc=!1}function E1(t,r,o,l,f,c,m,y,v){var E=Array.prototype.slice.call(arguments,3);try{r.apply(o,E)}catch(R){this.onError(R)}}var Wo=!1,Rl=null,bl=!1,Kc=null,N1={onError:function(t){Wo=!0,Rl=t}};function I1(t,r,o,l,f,c,m,y,v){Wo=!1,Rl=null,E1.apply(N1,arguments)}function _1(t,r,o,l,f,c,m,y,v){if(I1.apply(this,arguments),Wo){if(Wo){var E=Rl;Wo=!1,Rl=null}else throw Error(M(198));bl||(bl=!0,Kc=E)}}function Ks(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ny(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _p(t){if(Ks(t)!==t)throw Error(M(188))}function A1(t){var r=t.alternate;if(!r){if(r=Ks(t),r===null)throw Error(M(188));return r!==t?null:t}for(var o=t,l=r;;){var f=o.return;if(f===null)break;var c=f.alternate;if(c===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===c.child){for(c=f.child;c;){if(c===o)return _p(f),t;if(c===l)return _p(f),r;c=c.sibling}throw Error(M(188))}if(o.return!==l.return)o=f,l=c;else{for(var m=!1,y=f.child;y;){if(y===o){m=!0,o=f,l=c;break}if(y===l){m=!0,l=f,o=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===o){m=!0,o=c,l=f;break}if(y===l){m=!0,l=c,o=f;break}y=y.sibling}if(!m)throw Error(M(189))}}if(o.alternate!==l)throw Error(M(190))}if(o.tag!==3)throw Error(M(188));return o.stateNode.current===o?t:r}function ry(t){return t=A1(t),t!==null?sy(t):null}function sy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=sy(t);if(r!==null)return r;t=t.sibling}return null}var iy=Rt.unstable_scheduleCallback,Ap=Rt.unstable_cancelCallback,x1=Rt.unstable_shouldYield,P1=Rt.unstable_requestPaint,Be=Rt.unstable_now,O1=Rt.unstable_getCurrentPriorityLevel,Jf=Rt.unstable_ImmediatePriority,oy=Rt.unstable_UserBlockingPriority,Ll=Rt.unstable_NormalPriority,C1=Rt.unstable_LowPriority,ay=Rt.unstable_IdlePriority,ru=null,mr=null;function D1(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:L1,R1=Math.log,b1=Math.LN2;function L1(t){return t>>>=0,t===0?32:31-(R1(t)/b1|0)|0}var al=64,ll=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,r){var o=t.pendingLanes;if(o===0)return 0;var l=0,f=t.suspendedLanes,c=t.pingedLanes,m=o&268435455;if(m!==0){var y=m&~f;y!==0?l=zo(y):(c&=m,c!==0&&(l=zo(c)))}else m=o&~f,m!==0?l=zo(m):c!==0&&(l=zo(c));if(l===0)return 0;if(r!==0&&r!==l&&!(r&f)&&(f=l&-l,c=r&-r,f>=c||f===16&&(c&4194240)!==0))return r;if(l&4&&(l|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)o=31-kn(r),f=1<<o,l|=t[o],r&=~f;return l}function B1(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(t,r){for(var o=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,c=t.pendingLanes;0<c;){var m=31-kn(c),y=1<<m,v=f[m];v===-1?(!(y&o)||y&l)&&(f[m]=B1(y,r)):v<=r&&(t.expiredLanes|=y),c&=~y}}function Gc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ly(){var t=al;return al<<=1,!(al&4194240)&&(al=64),t}function uc(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ta(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-kn(r),t[r]=o}function J1(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-kn(o),c=1<<f;r[f]=0,l[f]=-1,t[f]=-1,o&=~c}}function Uf(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var l=31-kn(o),f=1<<l;f&r|t[l]&r&&(t[l]|=r),o&=~f}}var ve=0;function uy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cy,$f,fy,dy,hy,Hc=!1,ul=[],as=null,ls=null,us=null,sa=new Map,ia=new Map,rs=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xp(t,r){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":sa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(r.pointerId)}}function Lo(t,r,o,l,f,c){return t===null||t.nativeEvent!==c?(t={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:c,targetContainers:[f]},r!==null&&(r=Sa(r),r!==null&&$f(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function $1(t,r,o,l,f){switch(r){case"focusin":return as=Lo(as,t,r,o,l,f),!0;case"dragenter":return ls=Lo(ls,t,r,o,l,f),!0;case"mouseover":return us=Lo(us,t,r,o,l,f),!0;case"pointerover":var c=f.pointerId;return sa.set(c,Lo(sa.get(c)||null,t,r,o,l,f)),!0;case"gotpointercapture":return c=f.pointerId,ia.set(c,Lo(ia.get(c)||null,t,r,o,l,f)),!0}return!1}function my(t){var r=Ms(t.target);if(r!==null){var o=Ks(r);if(o!==null){if(r=o.tag,r===13){if(r=ny(o),r!==null){t.blockedOn=r,hy(t.priority,function(){fy(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Xc(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);qc=l,o.target.dispatchEvent(l),qc=null}else return r=Sa(o),r!==null&&$f(r),t.blockedOn=o,!1;r.shift()}return!0}function Pp(t,r,o){kl(t)&&o.delete(r)}function F1(){Hc=!1,as!==null&&kl(as)&&(as=null),ls!==null&&kl(ls)&&(ls=null),us!==null&&kl(us)&&(us=null),sa.forEach(Pp),ia.forEach(Pp)}function Bo(t,r){t.blockedOn===r&&(t.blockedOn=null,Hc||(Hc=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,F1)))}function oa(t){function r(f){return Bo(f,t)}if(0<ul.length){Bo(ul[0],t);for(var o=1;o<ul.length;o++){var l=ul[o];l.blockedOn===t&&(l.blockedOn=null)}}for(as!==null&&Bo(as,t),ls!==null&&Bo(ls,t),us!==null&&Bo(us,t),sa.forEach(r),ia.forEach(r),o=0;o<rs.length;o++)l=rs[o],l.blockedOn===t&&(l.blockedOn=null);for(;0<rs.length&&(o=rs[0],o.blockedOn===null);)my(o),o.blockedOn===null&&rs.shift()}var Mi=Ur.ReactCurrentBatchConfig,Ml=!0;function j1(t,r,o,l){var f=ve,c=Mi.transition;Mi.transition=null;try{ve=1,Ff(t,r,o,l)}finally{ve=f,Mi.transition=c}}function z1(t,r,o,l){var f=ve,c=Mi.transition;Mi.transition=null;try{ve=4,Ff(t,r,o,l)}finally{ve=f,Mi.transition=c}}function Ff(t,r,o,l){if(Ml){var f=Xc(t,r,o,l);if(f===null)Tc(t,r,l,Jl,o),xp(t,l);else if($1(f,t,r,o,l))l.stopPropagation();else if(xp(t,l),r&4&&-1<U1.indexOf(t)){for(;f!==null;){var c=Sa(f);if(c!==null&&cy(c),c=Xc(t,r,o,l),c===null&&Tc(t,r,l,Jl,o),c===f)break;f=c}f!==null&&l.stopPropagation()}else Tc(t,r,l,null,o)}}var Jl=null;function Xc(t,r,o,l){if(Jl=null,t=Mf(l),t=Ms(t),t!==null)if(r=Ks(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ny(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Jl=t,null}function py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O1()){case Jf:return 1;case oy:return 4;case Ll:case C1:return 16;case ay:return 536870912;default:return 16}default:return 16}}var is=null,jf=null,El=null;function gy(){if(El)return El;var t,r=jf,o=r.length,l,f="value"in is?is.value:is.textContent,c=f.length;for(t=0;t<o&&r[t]===f[t];t++);var m=o-t;for(l=1;l<=m&&r[o-l]===f[c-l];l++);return El=f.slice(t,1<l?1-l:void 0)}function Nl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function Op(){return!1}function Lt(t){function r(o,l,f,c,m){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(o=t[y],this[y]=o?o(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?cl:Op,this.isPropagationStopped=Op,this}return Ce(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=Lt(Ki),wa=Ce({},Ki,{view:0,detail:0}),V1=Lt(wa),cc,fc,Mo,su=Ce({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(cc=t.screenX-Mo.screenX,fc=t.screenY-Mo.screenY):fc=cc=0,Mo=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),Cp=Lt(su),q1=Ce({},su,{dataTransfer:0}),Y1=Lt(q1),W1=Ce({},wa,{relatedTarget:0}),dc=Lt(W1),K1=Ce({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=Lt(K1),H1=Ce({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X1=Lt(H1),Q1=Ce({},Ki,{data:0}),Dp=Lt(Q1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nk(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=tk[t])?!!r[t]:!1}function Vf(){return nk}var rk=Ce({},wa,{key:function(t){if(t.key){var r=Z1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sk=Lt(rk),ik=Ce({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=Lt(ik),ok=Ce({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),ak=Lt(ok),lk=Ce({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),uk=Lt(lk),ck=Ce({},su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=Lt(ck),dk=[9,13,27,32],qf=Lr&&"CompositionEvent"in window,Ko=null;Lr&&"documentMode"in document&&(Ko=document.documentMode);var hk=Lr&&"TextEvent"in window&&!Ko,yy=Lr&&(!qf||Ko&&8<Ko&&11>=Ko),bp=String.fromCharCode(32),Lp=!1;function vy(t,r){switch(t){case"keyup":return dk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function mk(t,r){switch(t){case"compositionend":return Ty(r);case"keypress":return r.which!==32?null:(Lp=!0,bp);case"textInput":return t=r.data,t===bp&&Lp?null:t;default:return null}}function pk(t,r){if(Ni)return t==="compositionend"||!qf&&vy(t,r)?(t=gy(),El=jf=is=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yy&&r.locale!=="ko"?null:r.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!gk[t.type]:r==="textarea"}function wy(t,r,o,l){Xg(l),r=Ul(r,"onChange"),0<r.length&&(o=new zf("onChange","change",null,o,l),t.push({event:o,listeners:r}))}var Go=null,aa=null;function yk(t){Cy(t,0)}function iu(t){var r=Ai(t);if(Vg(r))return t}function vk(t,r){if(t==="change")return r}var Sy=!1;if(Lr){var hc;if(Lr){var mc="oninput"in document;if(!mc){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),mc=typeof Mp.oninput=="function"}hc=mc}else hc=!1;Sy=hc&&(!document.documentMode||9<document.documentMode)}function Jp(){Go&&(Go.detachEvent("onpropertychange",ky),aa=Go=null)}function ky(t){if(t.propertyName==="value"&&iu(aa)){var r=[];wy(r,aa,t,Mf(t)),ty(yk,r)}}function Tk(t,r,o){t==="focusin"?(Jp(),Go=r,aa=o,Go.attachEvent("onpropertychange",ky)):t==="focusout"&&Jp()}function wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(aa)}function Sk(t,r){if(t==="click")return iu(r)}function kk(t,r){if(t==="input"||t==="change")return iu(r)}function Ek(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nn=typeof Object.is=="function"?Object.is:Ek;function la(t,r){if(Nn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Rc.call(r,f)||!Nn(t[f],r[f]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,r){var o=Up(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=r&&l>=r)return{node:o,offset:r-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Up(o)}}function Ey(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ey(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ny(){for(var t=window,r=Dl();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Dl(t.document)}return r}function Yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Nk(t){var r=Ny(),o=t.focusedElem,l=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Ey(o.ownerDocument.documentElement,o)){if(l!==null&&Yf(o)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,c=Math.min(l.start,f);l=l.end===void 0?c:Math.min(l.end,f),!t.extend&&c>l&&(f=l,l=c,c=f),f=$p(o,c);var m=$p(o,l);f&&m&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),c>l?(t.addRange(r),t.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ik=Lr&&"documentMode"in document&&11>=document.documentMode,Ii=null,Qc=null,Ho=null,Zc=!1;function Fp(t,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zc||Ii==null||Ii!==Dl(l)||(l=Ii,"selectionStart"in l&&Yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&la(Ho,l)||(Ho=l,l=Ul(Qc,"onSelect"),0<l.length&&(r=new zf("onSelect","select",null,r,o),t.push({event:r,listeners:l}),r.target=Ii)))}function fl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var _i={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},pc={},Iy={};Lr&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function ou(t){if(pc[t])return pc[t];if(!_i[t])return t;var r=_i[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Iy)return pc[t]=r[o];return t}var _y=ou("animationend"),Ay=ou("animationiteration"),xy=ou("animationstart"),Py=ou("transitionend"),Oy=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,r){Oy.set(t,r),Ws(r,[t])}for(var gc=0;gc<jp.length;gc++){var yc=jp[gc],_k=yc.toLowerCase(),Ak=yc[0].toUpperCase()+yc.slice(1);ys(_k,"on"+Ak)}ys(_y,"onAnimationEnd");ys(Ay,"onAnimationIteration");ys(xy,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(Py,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function zp(t,r,o){var l=t.type||"unknown-event";t.currentTarget=o,_1(l,r,void 0,t),t.currentTarget=null}function Cy(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],f=l.event;l=l.listeners;e:{var c=void 0;if(r)for(var m=l.length-1;0<=m;m--){var y=l[m],v=y.instance,E=y.currentTarget;if(y=y.listener,v!==c&&f.isPropagationStopped())break e;zp(f,y,E),c=v}else for(m=0;m<l.length;m++){if(y=l[m],v=y.instance,E=y.currentTarget,y=y.listener,v!==c&&f.isPropagationStopped())break e;zp(f,y,E),c=v}}}if(bl)throw t=Kc,bl=!1,Kc=null,t}function Ee(t,r){var o=r[sf];o===void 0&&(o=r[sf]=new Set);var l=t+"__bubble";o.has(l)||(Dy(r,t,2,!1),o.add(l))}function vc(t,r,o){var l=0;r&&(l|=4),Dy(o,t,l,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[dl]){t[dl]=!0,Ug.forEach(function(o){o!=="selectionchange"&&(xk.has(o)||vc(o,!1,t),vc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[dl]||(r[dl]=!0,vc("selectionchange",!1,r))}}function Dy(t,r,o,l){switch(py(r)){case 1:var f=j1;break;case 4:f=z1;break;default:f=Ff}o=f.bind(null,r,o,t),f=void 0,!Wc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Tc(t,r,o,l,f){var c=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var y=l.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(m===4)for(m=l.return;m!==null;){var v=m.tag;if((v===3||v===4)&&(v=m.stateNode.containerInfo,v===f||v.nodeType===8&&v.parentNode===f))return;m=m.return}for(;y!==null;){if(m=Ms(y),m===null)return;if(v=m.tag,v===5||v===6){l=c=m;continue e}y=y.parentNode}}l=l.return}ty(function(){var E=c,R=Mf(o),D=[];e:{var O=Oy.get(t);if(O!==void 0){var $=zf,F=t;switch(t){case"keypress":if(Nl(o)===0)break e;case"keydown":case"keyup":$=sk;break;case"focusin":F="focus",$=dc;break;case"focusout":F="blur",$=dc;break;case"beforeblur":case"afterblur":$=dc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ak;break;case _y:case Ay:case xy:$=G1;break;case Py:$=uk;break;case"scroll":$=V1;break;case"wheel":$=fk;break;case"copy":case"cut":case"paste":$=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Rp}var j=(r&4)!==0,ye=!j&&t==="scroll",I=j?O!==null?O+"Capture":null:O;j=[];for(var w=E,_;w!==null;){_=w;var L=_.stateNode;if(_.tag===5&&L!==null&&(_=L,I!==null&&(L=ra(w,I),L!=null&&j.push(ca(w,L,_)))),ye)break;w=w.return}0<j.length&&(O=new $(O,F,null,o,R),D.push({event:O,listeners:j}))}}if(!(r&7)){e:{if(O=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",O&&o!==qc&&(F=o.relatedTarget||o.fromElement)&&(Ms(F)||F[Br]))break e;if(($||O)&&(O=R.window===R?R:(O=R.ownerDocument)?O.defaultView||O.parentWindow:window,$?(F=o.relatedTarget||o.toElement,$=E,F=F?Ms(F):null,F!==null&&(ye=Ks(F),F!==ye||F.tag!==5&&F.tag!==6)&&(F=null)):($=null,F=E),$!==F)){if(j=Cp,L="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(j=Rp,L="onPointerLeave",I="onPointerEnter",w="pointer"),ye=$==null?O:Ai($),_=F==null?O:Ai(F),O=new j(L,w+"leave",$,o,R),O.target=ye,O.relatedTarget=_,L=null,Ms(R)===E&&(j=new j(I,w+"enter",F,o,R),j.target=_,j.relatedTarget=ye,L=j),ye=L,$&&F)t:{for(j=$,I=F,w=0,_=j;_;_=Si(_))w++;for(_=0,L=I;L;L=Si(L))_++;for(;0<w-_;)j=Si(j),w--;for(;0<_-w;)I=Si(I),_--;for(;w--;){if(j===I||I!==null&&j===I.alternate)break t;j=Si(j),I=Si(I)}j=null}else j=null;$!==null&&Vp(D,O,$,j,!1),F!==null&&ye!==null&&Vp(D,ye,F,j,!0)}}e:{if(O=E?Ai(E):window,$=O.nodeName&&O.nodeName.toLowerCase(),$==="select"||$==="input"&&O.type==="file")var q=vk;else if(Bp(O))if(Sy)q=kk;else{q=wk;var P=Tk}else($=O.nodeName)&&$.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(q=Sk);if(q&&(q=q(t,E))){wy(D,q,o,R);break e}P&&P(t,O,E),t==="focusout"&&(P=O._wrapperState)&&P.controlled&&O.type==="number"&&$c(O,"number",O.value)}switch(P=E?Ai(E):window,t){case"focusin":(Bp(P)||P.contentEditable==="true")&&(Ii=P,Qc=E,Ho=null);break;case"focusout":Ho=Qc=Ii=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Fp(D,o,R);break;case"selectionchange":if(Ik)break;case"keydown":case"keyup":Fp(D,o,R)}var W;if(qf)e:{switch(t){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ni?vy(t,o)&&(X="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(X="onCompositionStart");X&&(yy&&o.locale!=="ko"&&(Ni||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ni&&(W=gy()):(is=R,jf="value"in is?is.value:is.textContent,Ni=!0)),P=Ul(E,X),0<P.length&&(X=new Dp(X,t,null,o,R),D.push({event:X,listeners:P}),W?X.data=W:(W=Ty(o),W!==null&&(X.data=W)))),(W=hk?mk(t,o):pk(t,o))&&(E=Ul(E,"onBeforeInput"),0<E.length&&(R=new Dp("onBeforeInput","beforeinput",null,o,R),D.push({event:R,listeners:E}),R.data=W))}Cy(D,r)})}function ca(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ul(t,r){for(var o=r+"Capture",l=[];t!==null;){var f=t,c=f.stateNode;f.tag===5&&c!==null&&(f=c,c=ra(t,o),c!=null&&l.unshift(ca(t,c,f)),c=ra(t,r),c!=null&&l.push(ca(t,c,f))),t=t.return}return l}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,r,o,l,f){for(var c=r._reactName,m=[];o!==null&&o!==l;){var y=o,v=y.alternate,E=y.stateNode;if(v!==null&&v===l)break;y.tag===5&&E!==null&&(y=E,f?(v=ra(o,c),v!=null&&m.unshift(ca(o,v,y))):f||(v=ra(o,c),v!=null&&m.push(ca(o,v,y)))),o=o.return}m.length!==0&&t.push({event:r,listeners:m})}var Pk=/\r\n?/g,Ok=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(Pk,`
`).replace(Ok,"")}function hl(t,r,o){if(r=qp(r),qp(t)!==r&&o)throw Error(M(425))}function $l(){}var ef=null,tf=null;function nf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Dk=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(Rk)}:rf;function Rk(t){setTimeout(function(){throw t})}function wc(t,r){var o=r,l=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){t.removeChild(f),oa(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);oa(r)}function cs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Wp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),hr="__reactFiber$"+Gi,fa="__reactProps$"+Gi,Br="__reactContainer$"+Gi,sf="__reactEvents$"+Gi,bk="__reactListeners$"+Gi,Lk="__reactHandles$"+Gi;function Ms(t){var r=t[hr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Br]||o[hr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Wp(t);t!==null;){if(o=t[hr])return o;t=Wp(t)}return r}t=o,o=t.parentNode}return null}function Sa(t){return t=t[hr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function au(t){return t[fa]||null}var of=[],xi=-1;function vs(t){return{current:t}}function Ne(t){0>xi||(t.current=of[xi],of[xi]=null,xi--)}function ke(t,r){xi++,of[xi]=t.current,t.current=r}var gs={},ot=vs(gs),St=vs(!1),js=gs;function Fi(t,r){var o=t.type.contextTypes;if(!o)return gs;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var f={},c;for(c in o)f[c]=r[c];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function kt(t){return t=t.childContextTypes,t!=null}function Fl(){Ne(St),Ne(ot)}function Kp(t,r,o){if(ot.current!==gs)throw Error(M(168));ke(ot,r),ke(St,o)}function Ry(t,r,o){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in r))throw Error(M(108,T1(t)||"Unknown",f));return Ce({},o,l)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,js=ot.current,ke(ot,t),ke(St,St.current),!0}function Gp(t,r,o){var l=t.stateNode;if(!l)throw Error(M(169));o?(t=Ry(t,r,js),l.__reactInternalMemoizedMergedChildContext=t,Ne(St),Ne(ot),ke(ot,t)):Ne(St),ke(St,o)}var Cr=null,lu=!1,Sc=!1;function by(t){Cr===null?Cr=[t]:Cr.push(t)}function Bk(t){lu=!0,by(t)}function Ts(){if(!Sc&&Cr!==null){Sc=!0;var t=0,r=ve;try{var o=Cr;for(ve=1;t<o.length;t++){var l=o[t];do l=l(!0);while(l!==null)}Cr=null,lu=!1}catch(f){throw Cr!==null&&(Cr=Cr.slice(t+1)),iy(Jf,Ts),f}finally{ve=r,Sc=!1}}return null}var Pi=[],Oi=0,zl=null,Vl=0,en=[],tn=0,zs=null,Dr=1,Rr="";function bs(t,r){Pi[Oi++]=Vl,Pi[Oi++]=zl,zl=t,Vl=r}function Ly(t,r,o){en[tn++]=Dr,en[tn++]=Rr,en[tn++]=zs,zs=t;var l=Dr;t=Rr;var f=32-kn(l)-1;l&=~(1<<f),o+=1;var c=32-kn(r)+f;if(30<c){var m=f-f%5;c=(l&(1<<m)-1).toString(32),l>>=m,f-=m,Dr=1<<32-kn(r)+f|o<<f|l,Rr=c+t}else Dr=1<<c|o<<f|l,Rr=t}function Wf(t){t.return!==null&&(bs(t,1),Ly(t,1,0))}function Kf(t){for(;t===zl;)zl=Pi[--Oi],Pi[Oi]=null,Vl=Pi[--Oi],Pi[Oi]=null;for(;t===zs;)zs=en[--tn],en[tn]=null,Rr=en[--tn],en[tn]=null,Dr=en[--tn],en[tn]=null}var Dt=null,Ct=null,Ae=!1,Sn=null;function By(t,r){var o=nn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Hp(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Dt=t,Ct=cs(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Dt=t,Ct=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=zs!==null?{id:Dr,overflow:Rr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=nn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Dt=t,Ct=null,!0):!1;default:return!1}}function af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lf(t){if(Ae){var r=Ct;if(r){var o=r;if(!Hp(t,r)){if(af(t))throw Error(M(418));r=cs(o.nextSibling);var l=Dt;r&&Hp(t,r)?By(l,o):(t.flags=t.flags&-4097|2,Ae=!1,Dt=t)}}else{if(af(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ae=!1,Dt=t}}}function Xp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function ml(t){if(t!==Dt)return!1;if(!Ae)return Xp(t),Ae=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!nf(t.type,t.memoizedProps)),r&&(r=Ct)){if(af(t))throw My(),Error(M(418));for(;r;)By(t,r),r=cs(r.nextSibling)}if(Xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ct=cs(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ct=null}}else Ct=Dt?cs(t.stateNode.nextSibling):null;return!0}function My(){for(var t=Ct;t;)t=cs(t.nextSibling)}function ji(){Ct=Dt=null,Ae=!1}function Gf(t){Sn===null?Sn=[t]:Sn.push(t)}var Mk=Ur.ReactCurrentBatchConfig;function Tn(t,r){if(t&&t.defaultProps){r=Ce({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var ql=vs(null),Yl=null,Ci=null,Hf=null;function Xf(){Hf=Ci=Yl=null}function Qf(t){var r=ql.current;Ne(ql),t._currentValue=r}function uf(t,r,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===o)break;t=t.return}}function Ji(t,r){Yl=t,Hf=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(wt=!0),t.firstContext=null)}function sn(t){var r=t._currentValue;if(Hf!==t)if(t={context:t,memoizedValue:r,next:null},Ci===null){if(Yl===null)throw Error(M(308));Ci=t,Yl.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return r}var Js=null;function Zf(t){Js===null?Js=[t]:Js.push(t)}function Jy(t,r,o,l){var f=r.interleaved;return f===null?(o.next=o,Zf(r)):(o.next=f.next,f.next=o),r.interleaved=o,Mr(t,l)}function Mr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var ns=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function fs(t,r,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,he&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,Mr(t,o)}return f=l.interleaved,f===null?(r.next=r,Zf(l)):(r.next=f.next,f.next=r),l.interleaved=r,Mr(t,o)}function Il(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Uf(t,o)}}function Qp(t,r){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?f=c=m:c=c.next=m,o=o.next}while(o!==null);c===null?f=c=r:c=c.next=r}else f=c=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:c,shared:l.shared,effects:l.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Wl(t,r,o,l){var f=t.updateQueue;ns=!1;var c=f.firstBaseUpdate,m=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var v=y,E=v.next;v.next=null,m===null?c=E:m.next=E,m=v;var R=t.alternate;R!==null&&(R=R.updateQueue,y=R.lastBaseUpdate,y!==m&&(y===null?R.firstBaseUpdate=E:y.next=E,R.lastBaseUpdate=v))}if(c!==null){var D=f.baseState;m=0,R=E=v=null,y=c;do{var O=y.lane,$=y.eventTime;if((l&O)===O){R!==null&&(R=R.next={eventTime:$,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var F=t,j=y;switch(O=r,$=o,j.tag){case 1:if(F=j.payload,typeof F=="function"){D=F.call($,D,O);break e}D=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,O=typeof F=="function"?F.call($,D,O):F,O==null)break e;D=Ce({},D,O);break e;case 2:ns=!0}}y.callback!==null&&y.lane!==0&&(t.flags|=64,O=f.effects,O===null?f.effects=[y]:O.push(y))}else $={eventTime:$,lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},R===null?(E=R=$,v=D):R=R.next=$,m|=O;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;O=y,y=O.next,O.next=null,f.lastBaseUpdate=O,f.shared.pending=null}}while(1);if(R===null&&(v=D),f.baseState=v,f.firstBaseUpdate=E,f.lastBaseUpdate=R,r=f.shared.interleaved,r!==null){f=r;do m|=f.lane,f=f.next;while(f!==r)}else c===null&&(f.shared.lanes=0);qs|=m,t.lanes=m,t.memoizedState=D}}function Zp(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(M(191,f));f.call(l)}}}var $y=new Jg.Component().refs;function cf(t,r,o,l){r=t.memoizedState,o=o(l,r),o=o==null?r:Ce({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var uu={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var l=dt(),f=hs(t),c=br(l,f);c.payload=r,o!=null&&(c.callback=o),r=fs(t,c,f),r!==null&&(En(r,t,f,l),Il(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var l=dt(),f=hs(t),c=br(l,f);c.tag=1,c.payload=r,o!=null&&(c.callback=o),r=fs(t,c,f),r!==null&&(En(r,t,f,l),Il(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=dt(),l=hs(t),f=br(o,l);f.tag=2,r!=null&&(f.callback=r),r=fs(t,f,l),r!==null&&(En(r,t,l,o),Il(r,t,l))}};function eg(t,r,o,l,f,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,m):r.prototype&&r.prototype.isPureReactComponent?!la(o,l)||!la(f,c):!0}function Fy(t,r,o){var l=!1,f=gs,c=r.contextType;return typeof c=="object"&&c!==null?c=sn(c):(f=kt(r)?js:ot.current,l=r.contextTypes,c=(l=l!=null)?Fi(t,f):gs),r=new r(o,c),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=uu,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=c),r}function tg(t,r,o,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==t&&uu.enqueueReplaceState(r,r.state,null)}function ff(t,r,o,l){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs=$y,ed(t);var c=r.contextType;typeof c=="object"&&c!==null?f.context=sn(c):(c=kt(r)?js:ot.current,f.context=Fi(t,c)),f.state=t.memoizedState,c=r.getDerivedStateFromProps,typeof c=="function"&&(cf(t,r,c,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&uu.enqueueReplaceState(f,f.state,null),Wl(t,o,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(M(309));var l=o.stateNode}if(!l)throw Error(M(147,t));var f=l,c=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(m){var y=f.refs;y===$y&&(y=f.refs={}),m===null?delete y[c]:y[c]=m},r._stringRef=c,r)}if(typeof t!="string")throw Error(M(284));if(!o._owner)throw Error(M(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ng(t){var r=t._init;return r(t._payload)}function jy(t){function r(I,w){if(t){var _=I.deletions;_===null?(I.deletions=[w],I.flags|=16):_.push(w)}}function o(I,w){if(!t)return null;for(;w!==null;)r(I,w),w=w.sibling;return null}function l(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function f(I,w){return I=ms(I,w),I.index=0,I.sibling=null,I}function c(I,w,_){return I.index=_,t?(_=I.alternate,_!==null?(_=_.index,_<w?(I.flags|=2,w):_):(I.flags|=2,w)):(I.flags|=1048576,w)}function m(I){return t&&I.alternate===null&&(I.flags|=2),I}function y(I,w,_,L){return w===null||w.tag!==6?(w=xc(_,I.mode,L),w.return=I,w):(w=f(w,_),w.return=I,w)}function v(I,w,_,L){var q=_.type;return q===Ei?R(I,w,_.props.children,L,_.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ts&&ng(q)===w.type)?(L=f(w,_.props),L.ref=Jo(I,w,_),L.return=I,L):(L=Cl(_.type,_.key,_.props,null,I.mode,L),L.ref=Jo(I,w,_),L.return=I,L)}function E(I,w,_,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Pc(_,I.mode,L),w.return=I,w):(w=f(w,_.children||[]),w.return=I,w)}function R(I,w,_,L,q){return w===null||w.tag!==7?(w=Fs(_,I.mode,L,q),w.return=I,w):(w=f(w,_),w.return=I,w)}function D(I,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xc(""+w,I.mode,_),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sl:return _=Cl(w.type,w.key,w.props,null,I.mode,_),_.ref=Jo(I,null,w),_.return=I,_;case ki:return w=Pc(w,I.mode,_),w.return=I,w;case ts:var L=w._init;return D(I,L(w._payload),_)}if(jo(w)||Ro(w))return w=Fs(w,I.mode,_,null),w.return=I,w;pl(I,w)}return null}function O(I,w,_,L){var q=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:y(I,w,""+_,L);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:return _.key===q?v(I,w,_,L):null;case ki:return _.key===q?E(I,w,_,L):null;case ts:return q=_._init,O(I,w,q(_._payload),L)}if(jo(_)||Ro(_))return q!==null?null:R(I,w,_,L,null);pl(I,_)}return null}function $(I,w,_,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(_)||null,y(w,I,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case sl:return I=I.get(L.key===null?_:L.key)||null,v(w,I,L,q);case ki:return I=I.get(L.key===null?_:L.key)||null,E(w,I,L,q);case ts:var P=L._init;return $(I,w,_,P(L._payload),q)}if(jo(L)||Ro(L))return I=I.get(_)||null,R(w,I,L,q,null);pl(w,L)}return null}function F(I,w,_,L){for(var q=null,P=null,W=w,X=w=0,S=null;W!==null&&X<_.length;X++){W.index>X?(S=W,W=null):S=W.sibling;var ee=O(I,W,_[X],L);if(ee===null){W===null&&(W=S);break}t&&W&&ee.alternate===null&&r(I,W),w=c(ee,w,X),P===null?q=ee:P.sibling=ee,P=ee,W=S}if(X===_.length)return o(I,W),Ae&&bs(I,X),q;if(W===null){for(;X<_.length;X++)W=D(I,_[X],L),W!==null&&(w=c(W,w,X),P===null?q=W:P.sibling=W,P=W);return Ae&&bs(I,X),q}for(W=l(I,W);X<_.length;X++)S=$(W,I,X,_[X],L),S!==null&&(t&&S.alternate!==null&&W.delete(S.key===null?X:S.key),w=c(S,w,X),P===null?q=S:P.sibling=S,P=S);return t&&W.forEach(function(Nt){return r(I,Nt)}),Ae&&bs(I,X),q}function j(I,w,_,L){var q=Ro(_);if(typeof q!="function")throw Error(M(150));if(_=q.call(_),_==null)throw Error(M(151));for(var P=q=null,W=w,X=w=0,S=null,ee=_.next();W!==null&&!ee.done;X++,ee=_.next()){W.index>X?(S=W,W=null):S=W.sibling;var Nt=O(I,W,ee.value,L);if(Nt===null){W===null&&(W=S);break}t&&W&&Nt.alternate===null&&r(I,W),w=c(Nt,w,X),P===null?q=Nt:P.sibling=Nt,P=Nt,W=S}if(ee.done)return o(I,W),Ae&&bs(I,X),q;if(W===null){for(;!ee.done;X++,ee=_.next())ee=D(I,ee.value,L),ee!==null&&(w=c(ee,w,X),P===null?q=ee:P.sibling=ee,P=ee);return Ae&&bs(I,X),q}for(W=l(I,W);!ee.done;X++,ee=_.next())ee=$(W,I,X,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&W.delete(ee.key===null?X:ee.key),w=c(ee,w,X),P===null?q=ee:P.sibling=ee,P=ee);return t&&W.forEach(function(gr){return r(I,gr)}),Ae&&bs(I,X),q}function ye(I,w,_,L){if(typeof _=="object"&&_!==null&&_.type===Ei&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:e:{for(var q=_.key,P=w;P!==null;){if(P.key===q){if(q=_.type,q===Ei){if(P.tag===7){o(I,P.sibling),w=f(P,_.props.children),w.return=I,I=w;break e}}else if(P.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ts&&ng(q)===P.type){o(I,P.sibling),w=f(P,_.props),w.ref=Jo(I,P,_),w.return=I,I=w;break e}o(I,P);break}else r(I,P);P=P.sibling}_.type===Ei?(w=Fs(_.props.children,I.mode,L,_.key),w.return=I,I=w):(L=Cl(_.type,_.key,_.props,null,I.mode,L),L.ref=Jo(I,w,_),L.return=I,I=L)}return m(I);case ki:e:{for(P=_.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){o(I,w.sibling),w=f(w,_.children||[]),w.return=I,I=w;break e}else{o(I,w);break}else r(I,w);w=w.sibling}w=Pc(_,I.mode,L),w.return=I,I=w}return m(I);case ts:return P=_._init,ye(I,w,P(_._payload),L)}if(jo(_))return F(I,w,_,L);if(Ro(_))return j(I,w,_,L);pl(I,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(o(I,w.sibling),w=f(w,_),w.return=I,I=w):(o(I,w),w=xc(_,I.mode,L),w.return=I,I=w),m(I)):o(I,w)}return ye}var zi=jy(!0),zy=jy(!1),ka={},pr=vs(ka),da=vs(ka),ha=vs(ka);function Us(t){if(t===ka)throw Error(M(174));return t}function td(t,r){switch(ke(ha,r),ke(da,t),ke(pr,ka),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:jc(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=jc(r,t)}Ne(pr),ke(pr,r)}function Vi(){Ne(pr),Ne(da),Ne(ha)}function Vy(t){Us(ha.current);var r=Us(pr.current),o=jc(r,t.type);r!==o&&(ke(da,t),ke(pr,o))}function nd(t){da.current===t&&(Ne(pr),Ne(da))}var Pe=vs(0);function Kl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function rd(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var _l=Ur.ReactCurrentDispatcher,Ec=Ur.ReactCurrentBatchConfig,Vs=0,Oe=null,qe=null,Ge=null,Gl=!1,Xo=!1,ma=0,Jk=0;function rt(){throw Error(M(321))}function sd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Nn(t[o],r[o]))return!1;return!0}function id(t,r,o,l,f,c){if(Vs=c,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_l.current=t===null||t.memoizedState===null?jk:zk,t=o(l,f),Xo){c=0;do{if(Xo=!1,ma=0,25<=c)throw Error(M(301));c+=1,Ge=qe=null,r.updateQueue=null,_l.current=Vk,t=o(l,f)}while(Xo)}if(_l.current=Hl,r=qe!==null&&qe.next!==null,Vs=0,Ge=qe=Oe=null,Gl=!1,r)throw Error(M(300));return t}function od(){var t=ma!==0;return ma=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Oe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function on(){if(qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var r=Ge===null?Oe.memoizedState:Ge.next;if(r!==null)Ge=r,qe=t;else{if(t===null)throw Error(M(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ge===null?Oe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function pa(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=on(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=qe,f=l.baseQueue,c=o.pending;if(c!==null){if(f!==null){var m=f.next;f.next=c.next,c.next=m}l.baseQueue=f=c,o.pending=null}if(f!==null){c=f.next,l=l.baseState;var y=m=null,v=null,E=c;do{var R=E.lane;if((Vs&R)===R)v!==null&&(v=v.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),l=E.hasEagerState?E.eagerState:t(l,E.action);else{var D={lane:R,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};v===null?(y=v=D,m=l):v=v.next=D,Oe.lanes|=R,qs|=R}E=E.next}while(E!==null&&E!==c);v===null?m=l:v.next=y,Nn(l,r.memoizedState)||(wt=!0),r.memoizedState=l,r.baseState=m,r.baseQueue=v,o.lastRenderedState=l}if(t=o.interleaved,t!==null){f=t;do c=f.lane,Oe.lanes|=c,qs|=c,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ic(t){var r=on(),o=r.queue;if(o===null)throw Error(M(311));o.lastRenderedReducer=t;var l=o.dispatch,f=o.pending,c=r.memoizedState;if(f!==null){o.pending=null;var m=f=f.next;do c=t(c,m.action),m=m.next;while(m!==f);Nn(c,r.memoizedState)||(wt=!0),r.memoizedState=c,r.baseQueue===null&&(r.baseState=c),o.lastRenderedState=c}return[c,l]}function qy(){}function Yy(t,r){var o=Oe,l=on(),f=r(),c=!Nn(l.memoizedState,f);if(c&&(l.memoizedState=f,wt=!0),l=l.queue,ad(Gy.bind(null,o,l,t),[t]),l.getSnapshot!==r||c||Ge!==null&&Ge.memoizedState.tag&1){if(o.flags|=2048,ga(9,Ky.bind(null,o,l,f,r),void 0,null),He===null)throw Error(M(349));Vs&30||Wy(o,r,f)}return f}function Wy(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r={lastEffect:null,stores:null},Oe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ky(t,r,o,l){r.value=o,r.getSnapshot=l,Hy(r)&&Xy(t)}function Gy(t,r,o){return o(function(){Hy(r)&&Xy(t)})}function Hy(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Nn(t,o)}catch{return!0}}function Xy(t){var r=Mr(t,1);r!==null&&En(r,t,1,-1)}function rg(t){var r=dr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},r.queue=t,t=t.dispatch=Fk.bind(null,Oe,t),[r.memoizedState,t]}function ga(t,r,o,l){return t={tag:t,create:r,destroy:o,deps:l,next:null},r=Oe.updateQueue,r===null?(r={lastEffect:null,stores:null},Oe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,r.lastEffect=t)),t}function Qy(){return on().memoizedState}function Al(t,r,o,l){var f=dr();Oe.flags|=t,f.memoizedState=ga(1|r,o,void 0,l===void 0?null:l)}function cu(t,r,o,l){var f=on();l=l===void 0?null:l;var c=void 0;if(qe!==null){var m=qe.memoizedState;if(c=m.destroy,l!==null&&sd(l,m.deps)){f.memoizedState=ga(r,o,c,l);return}}Oe.flags|=t,f.memoizedState=ga(1|r,o,c,l)}function sg(t,r){return Al(8390656,8,t,r)}function ad(t,r){return cu(2048,8,t,r)}function Zy(t,r){return cu(4,2,t,r)}function ev(t,r){return cu(4,4,t,r)}function tv(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function nv(t,r,o){return o=o!=null?o.concat([t]):null,cu(4,4,tv.bind(null,r,t),o)}function ld(){}function rv(t,r){var o=on();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&sd(r,l[1])?l[0]:(o.memoizedState=[t,r],t)}function sv(t,r){var o=on();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&sd(r,l[1])?l[0]:(t=t(),o.memoizedState=[t,r],t)}function iv(t,r,o){return Vs&21?(Nn(o,r)||(o=ly(),Oe.lanes|=o,qs|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o)}function Uk(t,r){var o=ve;ve=o!==0&&4>o?o:4,t(!0);var l=Ec.transition;Ec.transition={};try{t(!1),r()}finally{ve=o,Ec.transition=l}}function ov(){return on().memoizedState}function $k(t,r,o){var l=hs(t);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},av(t))lv(r,o);else if(o=Jy(t,r,o,l),o!==null){var f=dt();En(o,t,l,f),uv(o,r,l)}}function Fk(t,r,o){var l=hs(t),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(av(t))lv(r,f);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=r.lastRenderedReducer,c!==null))try{var m=r.lastRenderedState,y=c(m,o);if(f.hasEagerState=!0,f.eagerState=y,Nn(y,m)){var v=r.interleaved;v===null?(f.next=f,Zf(r)):(f.next=v.next,v.next=f),r.interleaved=f;return}}catch{}finally{}o=Jy(t,r,f,l),o!==null&&(f=dt(),En(o,t,l,f),uv(o,r,l))}}function av(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function lv(t,r){Xo=Gl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function uv(t,r,o){if(o&4194240){var l=r.lanes;l&=t.pendingLanes,o|=l,r.lanes=o,Uf(t,o)}}var Hl={readContext:sn,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},jk={readContext:sn,useCallback:function(t,r){return dr().memoizedState=[t,r===void 0?null:r],t},useContext:sn,useEffect:sg,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Al(4194308,4,tv.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Al(4194308,4,t,r)},useInsertionEffect:function(t,r){return Al(4,2,t,r)},useMemo:function(t,r){var o=dr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var l=dr();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=$k.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=dr();return t={current:t},r.memoizedState=t},useState:rg,useDebugValue:ld,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=rg(!1),r=t[0];return t=Uk.bind(null,t[1]),dr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var l=Oe,f=dr();if(Ae){if(o===void 0)throw Error(M(407));o=o()}else{if(o=r(),He===null)throw Error(M(349));Vs&30||Wy(l,r,o)}f.memoizedState=o;var c={value:o,getSnapshot:r};return f.queue=c,sg(Gy.bind(null,l,c,t),[t]),l.flags|=2048,ga(9,Ky.bind(null,l,c,o,r),void 0,null),o},useId:function(){var t=dr(),r=He.identifierPrefix;if(Ae){var o=Rr,l=Dr;o=(l&~(1<<32-kn(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=ma++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Jk++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},zk={readContext:sn,useCallback:rv,useContext:sn,useEffect:ad,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:Nc,useRef:Qy,useState:function(){return Nc(pa)},useDebugValue:ld,useDeferredValue:function(t){var r=on();return iv(r,qe.memoizedState,t)},useTransition:function(){var t=Nc(pa)[0],r=on().memoizedState;return[t,r]},useMutableSource:qy,useSyncExternalStore:Yy,useId:ov,unstable_isNewReconciler:!1},Vk={readContext:sn,useCallback:rv,useContext:sn,useEffect:ad,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:Ic,useRef:Qy,useState:function(){return Ic(pa)},useDebugValue:ld,useDeferredValue:function(t){var r=on();return qe===null?r.memoizedState=t:iv(r,qe.memoizedState,t)},useTransition:function(){var t=Ic(pa)[0],r=on().memoizedState;return[t,r]},useMutableSource:qy,useSyncExternalStore:Yy,useId:ov,unstable_isNewReconciler:!1};function qi(t,r){try{var o="",l=r;do o+=v1(l),l=l.return;while(l);var f=o}catch(c){f=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:r,stack:f,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function df(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function cv(t,r,o){o=br(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Ql||(Ql=!0,kf=l),df(t,r)},o}function fv(t,r,o){o=br(-1,o),o.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=r.value;o.payload=function(){return l(f)},o.callback=function(){df(t,r)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){df(t,r),typeof l!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),o}function ig(t,r,o){var l=t.pingCache;if(l===null){l=t.pingCache=new qk;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(f.add(o),t=iE.bind(null,t,r,o),r.then(t,t))}function og(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function ag(t,r,o,l,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=br(-1,1),r.tag=2,fs(o,r,1))),o.lanes|=1),t)}var Yk=Ur.ReactCurrentOwner,wt=!1;function ft(t,r,o,l){r.child=t===null?zy(r,null,o,l):zi(r,t.child,o,l)}function lg(t,r,o,l,f){o=o.render;var c=r.ref;return Ji(r,f),l=id(t,r,o,l,c,f),o=od(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(Ae&&o&&Wf(r),r.flags|=1,ft(t,r,l,f),r.child)}function ug(t,r,o,l,f){if(t===null){var c=o.type;return typeof c=="function"&&!gd(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,dv(t,r,c,l,f)):(t=Cl(o.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(c=t.child,!(t.lanes&f)){var m=c.memoizedProps;if(o=o.compare,o=o!==null?o:la,o(m,l)&&t.ref===r.ref)return Jr(t,r,f)}return r.flags|=1,t=ms(c,l),t.ref=r.ref,t.return=r,r.child=t}function dv(t,r,o,l,f){if(t!==null){var c=t.memoizedProps;if(la(c,l)&&t.ref===r.ref)if(wt=!1,r.pendingProps=l=c,(t.lanes&f)!==0)t.flags&131072&&(wt=!0);else return r.lanes=t.lanes,Jr(t,r,f)}return hf(t,r,o,l,f)}function hv(t,r,o){var l=r.pendingProps,f=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ri,Ot),Ot|=o;else{if(!(o&1073741824))return t=c!==null?c.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ke(Ri,Ot),Ot|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:o,ke(Ri,Ot),Ot|=l}else c!==null?(l=c.baseLanes|o,r.memoizedState=null):l=o,ke(Ri,Ot),Ot|=l;return ft(t,r,f,o),r.child}function mv(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function hf(t,r,o,l,f){var c=kt(o)?js:ot.current;return c=Fi(r,c),Ji(r,f),o=id(t,r,o,l,c,f),l=od(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(Ae&&l&&Wf(r),r.flags|=1,ft(t,r,o,f),r.child)}function cg(t,r,o,l,f){if(kt(o)){var c=!0;jl(r)}else c=!1;if(Ji(r,f),r.stateNode===null)xl(t,r),Fy(r,o,l),ff(r,o,l,f),l=!0;else if(t===null){var m=r.stateNode,y=r.memoizedProps;m.props=y;var v=m.context,E=o.contextType;typeof E=="object"&&E!==null?E=sn(E):(E=kt(o)?js:ot.current,E=Fi(r,E));var R=o.getDerivedStateFromProps,D=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function";D||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==l||v!==E)&&tg(r,m,l,E),ns=!1;var O=r.memoizedState;m.state=O,Wl(r,l,m,f),v=r.memoizedState,y!==l||O!==v||St.current||ns?(typeof R=="function"&&(cf(r,o,R,l),v=r.memoizedState),(y=ns||eg(r,o,y,l,O,v,E))?(D||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=v),m.props=l,m.state=v,m.context=E,l=y):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Uy(t,r),y=r.memoizedProps,E=r.type===r.elementType?y:Tn(r.type,y),m.props=E,D=r.pendingProps,O=m.context,v=o.contextType,typeof v=="object"&&v!==null?v=sn(v):(v=kt(o)?js:ot.current,v=Fi(r,v));var $=o.getDerivedStateFromProps;(R=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==D||O!==v)&&tg(r,m,l,v),ns=!1,O=r.memoizedState,m.state=O,Wl(r,l,m,f);var F=r.memoizedState;y!==D||O!==F||St.current||ns?(typeof $=="function"&&(cf(r,o,$,l),F=r.memoizedState),(E=ns||eg(r,o,E,l,O,F,v)||!1)?(R||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,v),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,v)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=v,l=E):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(r.flags|=1024),l=!1)}return mf(t,r,o,l,c,f)}function mf(t,r,o,l,f,c){mv(t,r);var m=(r.flags&128)!==0;if(!l&&!m)return f&&Gp(r,o,!1),Jr(t,r,c);l=r.stateNode,Yk.current=r;var y=m&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&m?(r.child=zi(r,t.child,null,c),r.child=zi(r,null,y,c)):ft(t,r,y,c),r.memoizedState=l.state,f&&Gp(r,o,!0),r.child}function pv(t){var r=t.stateNode;r.pendingContext?Kp(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Kp(t,r.context,!1),td(t,r.containerInfo)}function fg(t,r,o,l,f){return ji(),Gf(f),r.flags|=256,ft(t,r,o,l),r.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function gv(t,r,o){var l=r.pendingProps,f=Pe.current,c=!1,m=(r.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(f&2)!==0),y?(c=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ke(Pe,f&1),t===null)return lf(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(m=l.children,t=l.fallback,c?(l=r.mode,c=r.child,m={mode:"hidden",children:m},!(l&1)&&c!==null?(c.childLanes=0,c.pendingProps=m):c=hu(m,l,0,null),t=Fs(t,l,o,null),c.return=r,t.return=r,c.sibling=t,r.child=c,r.child.memoizedState=gf(o),r.memoizedState=pf,t):ud(r,m));if(f=t.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return Wk(t,r,m,l,y,f,o);if(c){c=l.fallback,m=r.mode,f=t.child,y=f.sibling;var v={mode:"hidden",children:l.children};return!(m&1)&&r.child!==f?(l=r.child,l.childLanes=0,l.pendingProps=v,r.deletions=null):(l=ms(f,v),l.subtreeFlags=f.subtreeFlags&14680064),y!==null?c=ms(y,c):(c=Fs(c,m,o,null),c.flags|=2),c.return=r,l.return=r,l.sibling=c,r.child=l,l=c,c=r.child,m=t.child.memoizedState,m=m===null?gf(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=t.childLanes&~o,r.memoizedState=pf,l}return c=t.child,t=c.sibling,l=ms(c,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=o),l.return=r,l.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=l,r.memoizedState=null,l}function ud(t,r){return r=hu({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function gl(t,r,o,l){return l!==null&&Gf(l),zi(r,t.child,null,o),t=ud(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wk(t,r,o,l,f,c,m){if(o)return r.flags&256?(r.flags&=-257,l=_c(Error(M(422))),gl(t,r,m,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(c=l.fallback,f=r.mode,l=hu({mode:"visible",children:l.children},f,0,null),c=Fs(c,f,m,null),c.flags|=2,l.return=r,c.return=r,l.sibling=c,r.child=l,r.mode&1&&zi(r,t.child,null,m),r.child.memoizedState=gf(m),r.memoizedState=pf,c);if(!(r.mode&1))return gl(t,r,m,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var y=l.dgst;return l=y,c=Error(M(419)),l=_c(c,l,void 0),gl(t,r,m,l)}if(y=(m&t.childLanes)!==0,wt||y){if(l=He,l!==null){switch(m&-m){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(l.suspendedLanes|m)?0:f,f!==0&&f!==c.retryLane&&(c.retryLane=f,Mr(t,f),En(l,t,f,-1))}return pd(),l=_c(Error(M(421))),gl(t,r,m,l)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=oE.bind(null,t),f._reactRetry=r,null):(t=c.treeContext,Ct=cs(f.nextSibling),Dt=r,Ae=!0,Sn=null,t!==null&&(en[tn++]=Dr,en[tn++]=Rr,en[tn++]=zs,Dr=t.id,Rr=t.overflow,zs=r),r=ud(r,l.children),r.flags|=4096,r)}function dg(t,r,o){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),uf(t.return,r,o)}function Ac(t,r,o,l,f){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=o,c.tailMode=f)}function yv(t,r,o){var l=r.pendingProps,f=l.revealOrder,c=l.tail;if(ft(t,r,l.children,o),l=Pe.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,o,r);else if(t.tag===19)dg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(ke(Pe,l),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&Kl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Ac(r,!1,f,o,c);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Kl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Ac(r,!0,o,null,c);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Jr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),qs|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(M(153));if(r.child!==null){for(t=r.child,o=ms(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ms(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Kk(t,r,o){switch(r.tag){case 3:pv(r),ji();break;case 5:Vy(r);break;case 1:kt(r.type)&&jl(r);break;case 4:td(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,f=r.memoizedProps.value;ke(ql,l._currentValue),l._currentValue=f;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(ke(Pe,Pe.current&1),r.flags|=128,null):o&r.child.childLanes?gv(t,r,o):(ke(Pe,Pe.current&1),t=Jr(t,r,o),t!==null?t.sibling:null);ke(Pe,Pe.current&1);break;case 19:if(l=(o&r.childLanes)!==0,t.flags&128){if(l)return yv(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ke(Pe,Pe.current),l)break;return null;case 22:case 23:return r.lanes=0,hv(t,r,o)}return Jr(t,r,o)}var vv,yf,Tv,wv;vv=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};yf=function(){};Tv=function(t,r,o,l){var f=t.memoizedProps;if(f!==l){t=r.stateNode,Us(pr.current);var c=null;switch(o){case"input":f=Jc(t,f),l=Jc(t,l),c=[];break;case"select":f=Ce({},f,{value:void 0}),l=Ce({},l,{value:void 0}),c=[];break;case"textarea":f=Fc(t,f),l=Fc(t,l),c=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=$l)}zc(o,l);var m;o=null;for(E in f)if(!l.hasOwnProperty(E)&&f.hasOwnProperty(E)&&f[E]!=null)if(E==="style"){var y=f[E];for(m in y)y.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(ta.hasOwnProperty(E)?c||(c=[]):(c=c||[]).push(E,null));for(E in l){var v=l[E];if(y=f!=null?f[E]:void 0,l.hasOwnProperty(E)&&v!==y&&(v!=null||y!=null))if(E==="style")if(y){for(m in y)!y.hasOwnProperty(m)||v&&v.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in v)v.hasOwnProperty(m)&&y[m]!==v[m]&&(o||(o={}),o[m]=v[m])}else o||(c||(c=[]),c.push(E,o)),o=v;else E==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(c=c||[]).push(E,v)):E==="children"?typeof v!="string"&&typeof v!="number"||(c=c||[]).push(E,""+v):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(ta.hasOwnProperty(E)?(v!=null&&E==="onScroll"&&Ee("scroll",t),c||y===v||(c=[])):(c=c||[]).push(E,v))}o&&(c=c||[]).push("style",o);var E=c;(r.updateQueue=E)&&(r.flags|=4)}};wv=function(t,r,o,l){o!==l&&(r.flags|=4)};function Uo(t,r){if(!Ae)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=o,r}function Gk(t,r,o){var l=r.pendingProps;switch(Kf(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return kt(r.type)&&Fl(),st(r),null;case 3:return l=r.stateNode,Vi(),Ne(St),Ne(ot),rd(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ml(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Sn!==null&&(If(Sn),Sn=null))),yf(t,r),st(r),null;case 5:nd(r);var f=Us(ha.current);if(o=r.type,t!==null&&r.stateNode!=null)Tv(t,r,o,l,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(M(166));return st(r),null}if(t=Us(pr.current),ml(r)){l=r.stateNode,o=r.type;var c=r.memoizedProps;switch(l[hr]=r,l[fa]=c,t=(r.mode&1)!==0,o){case"dialog":Ee("cancel",l),Ee("close",l);break;case"iframe":case"object":case"embed":Ee("load",l);break;case"video":case"audio":for(f=0;f<Vo.length;f++)Ee(Vo[f],l);break;case"source":Ee("error",l);break;case"img":case"image":case"link":Ee("error",l),Ee("load",l);break;case"details":Ee("toggle",l);break;case"input":Sp(l,c),Ee("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},Ee("invalid",l);break;case"textarea":Ep(l,c),Ee("invalid",l)}zc(o,c),f=null;for(var m in c)if(c.hasOwnProperty(m)){var y=c[m];m==="children"?typeof y=="string"?l.textContent!==y&&(c.suppressHydrationWarning!==!0&&hl(l.textContent,y,t),f=["children",y]):typeof y=="number"&&l.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&hl(l.textContent,y,t),f=["children",""+y]):ta.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&Ee("scroll",l)}switch(o){case"input":il(l),kp(l,c,!0);break;case"textarea":il(l),Np(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=$l)}l=f,r.updateQueue=l,l!==null&&(r.flags|=4)}else{m=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wg(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=m.createElement(o,{is:l.is}):(t=m.createElement(o),o==="select"&&(m=t,l.multiple?m.multiple=!0:l.size&&(m.size=l.size))):t=m.createElementNS(t,o),t[hr]=r,t[fa]=l,vv(t,r,!1,!1),r.stateNode=t;e:{switch(m=Vc(o,l),o){case"dialog":Ee("cancel",t),Ee("close",t),f=l;break;case"iframe":case"object":case"embed":Ee("load",t),f=l;break;case"video":case"audio":for(f=0;f<Vo.length;f++)Ee(Vo[f],t);f=l;break;case"source":Ee("error",t),f=l;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),f=l;break;case"details":Ee("toggle",t),f=l;break;case"input":Sp(t,l),f=Jc(t,l),Ee("invalid",t);break;case"option":f=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=Ce({},l,{value:void 0}),Ee("invalid",t);break;case"textarea":Ep(t,l),f=Fc(t,l),Ee("invalid",t);break;default:f=l}zc(o,f),y=f;for(c in y)if(y.hasOwnProperty(c)){var v=y[c];c==="style"?Hg(t,v):c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Kg(t,v)):c==="children"?typeof v=="string"?(o!=="textarea"||v!=="")&&na(t,v):typeof v=="number"&&na(t,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ta.hasOwnProperty(c)?v!=null&&c==="onScroll"&&Ee("scroll",t):v!=null&&Rf(t,c,v,m))}switch(o){case"input":il(t),kp(t,l,!1);break;case"textarea":il(t),Np(t);break;case"option":l.value!=null&&t.setAttribute("value",""+ps(l.value));break;case"select":t.multiple=!!l.multiple,c=l.value,c!=null?bi(t,!!l.multiple,c,!1):l.defaultValue!=null&&bi(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=$l)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(t&&r.stateNode!=null)wv(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(M(166));if(o=Us(ha.current),Us(pr.current),ml(r)){if(l=r.stateNode,o=r.memoizedProps,l[hr]=r,(c=l.nodeValue!==o)&&(t=Dt,t!==null))switch(t.tag){case 3:hl(l.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(l.nodeValue,o,(t.mode&1)!==0)}c&&(r.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[hr]=r,r.stateNode=l}return st(r),null;case 13:if(Ne(Pe),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Ct!==null&&r.mode&1&&!(r.flags&128))My(),ji(),r.flags|=98560,c=!1;else if(c=ml(r),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(M(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(M(317));c[hr]=r}else ji(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;st(r),c=!1}else Sn!==null&&(If(Sn),Sn=null),c=!0;if(!c)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(t===null||Pe.current&1?Ye===0&&(Ye=3):pd())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return Vi(),yf(t,r),t===null&&ua(r.stateNode.containerInfo),st(r),null;case 10:return Qf(r.type._context),st(r),null;case 17:return kt(r.type)&&Fl(),st(r),null;case 19:if(Ne(Pe),c=r.memoizedState,c===null)return st(r),null;if(l=(r.flags&128)!==0,m=c.rendering,m===null)if(l)Uo(c,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(m=Kl(t),m!==null){for(r.flags|=128,Uo(c,!1),l=m.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=o,o=r.child;o!==null;)c=o,t=l,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,t=m.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ke(Pe,Pe.current&1|2),r.child}t=t.sibling}c.tail!==null&&Be()>Yi&&(r.flags|=128,l=!0,Uo(c,!1),r.lanes=4194304)}else{if(!l)if(t=Kl(m),t!==null){if(r.flags|=128,l=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Uo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ae)return st(r),null}else 2*Be()-c.renderingStartTime>Yi&&o!==1073741824&&(r.flags|=128,l=!0,Uo(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(o=c.last,o!==null?o.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Be(),r.sibling=null,o=Pe.current,ke(Pe,l?o&1|2:o&1),r):(st(r),null);case 22:case 23:return md(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?Ot&1073741824&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(M(156,r.tag))}function Hk(t,r){switch(Kf(r),r.tag){case 1:return kt(r.type)&&Fl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vi(),Ne(St),Ne(ot),rd(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return nd(r),null;case 13:if(Ne(Pe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(M(340));ji()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ne(Pe),null;case 4:return Vi(),null;case 10:return Qf(r.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var yl=!1,it=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Di(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){be(t,r,l)}else o.current=null}function vf(t,r,o){try{o()}catch(l){be(t,r,l)}}var hg=!1;function Qk(t,r){if(ef=Ml,t=Ny(),Yf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var m=0,y=-1,v=-1,E=0,R=0,D=t,O=null;t:for(;;){for(var $;D!==o||f!==0&&D.nodeType!==3||(y=m+f),D!==c||l!==0&&D.nodeType!==3||(v=m+l),D.nodeType===3&&(m+=D.nodeValue.length),($=D.firstChild)!==null;)O=D,D=$;for(;;){if(D===t)break t;if(O===o&&++E===f&&(y=m),O===c&&++R===l&&(v=m),($=D.nextSibling)!==null)break;D=O,O=D.parentNode}D=$}o=y===-1||v===-1?null:{start:y,end:v}}else o=null}o=o||{start:0,end:0}}else o=null;for(tf={focusedElem:t,selectionRange:o},Ml=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var F=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var j=F.memoizedProps,ye=F.memoizedState,I=r.stateNode,w=I.getSnapshotBeforeUpdate(r.elementType===r.type?j:Tn(r.type,j),ye);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(L){be(r,r.return,L)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return F=hg,hg=!1,F}function Qo(t,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&t)===t){var c=f.destroy;f.destroy=void 0,c!==void 0&&vf(r,o,c)}f=f.next}while(f!==l)}}function fu(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function Tf(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Sv(t){var r=t.alternate;r!==null&&(t.alternate=null,Sv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[hr],delete r[fa],delete r[sf],delete r[bk],delete r[Lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kv(t){return t.tag===5||t.tag===3||t.tag===4}function mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$l));else if(l!==4&&(t=t.child,t!==null))for(wf(t,r,o),t=t.sibling;t!==null;)wf(t,r,o),t=t.sibling}function Sf(t,r,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Sf(t,r,o),t=t.sibling;t!==null;)Sf(t,r,o),t=t.sibling}var Ze=null,wn=!1;function es(t,r,o){for(o=o.child;o!==null;)Ev(t,r,o),o=o.sibling}function Ev(t,r,o){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(ru,o)}catch{}switch(o.tag){case 5:it||Di(o,r);case 6:var l=Ze,f=wn;Ze=null,es(t,r,o),Ze=l,wn=f,Ze!==null&&(wn?(t=Ze,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ze.removeChild(o.stateNode));break;case 18:Ze!==null&&(wn?(t=Ze,o=o.stateNode,t.nodeType===8?wc(t.parentNode,o):t.nodeType===1&&wc(t,o),oa(t)):wc(Ze,o.stateNode));break;case 4:l=Ze,f=wn,Ze=o.stateNode.containerInfo,wn=!0,es(t,r,o),Ze=l,wn=f;break;case 0:case 11:case 14:case 15:if(!it&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var c=f,m=c.destroy;c=c.tag,m!==void 0&&(c&2||c&4)&&vf(o,r,m),f=f.next}while(f!==l)}es(t,r,o);break;case 1:if(!it&&(Di(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(y){be(o,r,y)}es(t,r,o);break;case 21:es(t,r,o);break;case 22:o.mode&1?(it=(l=it)||o.memoizedState!==null,es(t,r,o),it=l):es(t,r,o);break;default:es(t,r,o)}}function pg(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Xk),r.forEach(function(l){var f=aE.bind(null,t,l);o.has(l)||(o.add(l),l.then(f,f))})}}function vn(t,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var c=t,m=r,y=m;e:for(;y!==null;){switch(y.tag){case 5:Ze=y.stateNode,wn=!1;break e;case 3:Ze=y.stateNode.containerInfo,wn=!0;break e;case 4:Ze=y.stateNode.containerInfo,wn=!0;break e}y=y.return}if(Ze===null)throw Error(M(160));Ev(c,m,f),Ze=null,wn=!1;var v=f.alternate;v!==null&&(v.return=null),f.return=null}catch(E){be(f,r,E)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Nv(r,t),r=r.sibling}function Nv(t,r){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(r,t),fr(t),l&4){try{Qo(3,t,t.return),fu(3,t)}catch(j){be(t,t.return,j)}try{Qo(5,t,t.return)}catch(j){be(t,t.return,j)}}break;case 1:vn(r,t),fr(t),l&512&&o!==null&&Di(o,o.return);break;case 5:if(vn(r,t),fr(t),l&512&&o!==null&&Di(o,o.return),t.flags&32){var f=t.stateNode;try{na(f,"")}catch(j){be(t,t.return,j)}}if(l&4&&(f=t.stateNode,f!=null)){var c=t.memoizedProps,m=o!==null?o.memoizedProps:c,y=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&qg(f,c),Vc(y,m);var E=Vc(y,c);for(m=0;m<v.length;m+=2){var R=v[m],D=v[m+1];R==="style"?Hg(f,D):R==="dangerouslySetInnerHTML"?Kg(f,D):R==="children"?na(f,D):Rf(f,R,D,E)}switch(y){case"input":Uc(f,c);break;case"textarea":Yg(f,c);break;case"select":var O=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!c.multiple;var $=c.value;$!=null?bi(f,!!c.multiple,$,!1):O!==!!c.multiple&&(c.defaultValue!=null?bi(f,!!c.multiple,c.defaultValue,!0):bi(f,!!c.multiple,c.multiple?[]:"",!1))}f[fa]=c}catch(j){be(t,t.return,j)}}break;case 6:if(vn(r,t),fr(t),l&4){if(t.stateNode===null)throw Error(M(162));f=t.stateNode,c=t.memoizedProps;try{f.nodeValue=c}catch(j){be(t,t.return,j)}}break;case 3:if(vn(r,t),fr(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{oa(r.containerInfo)}catch(j){be(t,t.return,j)}break;case 4:vn(r,t),fr(t);break;case 13:vn(r,t),fr(t),f=t.child,f.flags&8192&&(c=f.memoizedState!==null,f.stateNode.isHidden=c,!c||f.alternate!==null&&f.alternate.memoizedState!==null||(dd=Be())),l&4&&pg(t);break;case 22:if(R=o!==null&&o.memoizedState!==null,t.mode&1?(it=(E=it)||R,vn(r,t),it=E):vn(r,t),fr(t),l&8192){if(E=t.memoizedState!==null,(t.stateNode.isHidden=E)&&!R&&t.mode&1)for(Y=t,R=t.child;R!==null;){for(D=Y=R;Y!==null;){switch(O=Y,$=O.child,O.tag){case 0:case 11:case 14:case 15:Qo(4,O,O.return);break;case 1:Di(O,O.return);var F=O.stateNode;if(typeof F.componentWillUnmount=="function"){l=O,o=O.return;try{r=l,F.props=r.memoizedProps,F.state=r.memoizedState,F.componentWillUnmount()}catch(j){be(l,o,j)}}break;case 5:Di(O,O.return);break;case 22:if(O.memoizedState!==null){yg(D);continue}}$!==null?($.return=O,Y=$):yg(D)}R=R.sibling}e:for(R=null,D=t;;){if(D.tag===5){if(R===null){R=D;try{f=D.stateNode,E?(c=f.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=D.stateNode,v=D.memoizedProps.style,m=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=Gg("display",m))}catch(j){be(t,t.return,j)}}}else if(D.tag===6){if(R===null)try{D.stateNode.nodeValue=E?"":D.memoizedProps}catch(j){be(t,t.return,j)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===t)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===t)break e;for(;D.sibling===null;){if(D.return===null||D.return===t)break e;R===D&&(R=null),D=D.return}R===D&&(R=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:vn(r,t),fr(t),l&4&&pg(t);break;case 21:break;default:vn(r,t),fr(t)}}function fr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(kv(o)){var l=o;break e}o=o.return}throw Error(M(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(na(f,""),l.flags&=-33);var c=mg(t);Sf(t,c,f);break;case 3:case 4:var m=l.stateNode.containerInfo,y=mg(t);wf(t,y,m);break;default:throw Error(M(161))}}catch(v){be(t,t.return,v)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Zk(t,r,o){Y=t,Iv(t)}function Iv(t,r,o){for(var l=(t.mode&1)!==0;Y!==null;){var f=Y,c=f.child;if(f.tag===22&&l){var m=f.memoizedState!==null||yl;if(!m){var y=f.alternate,v=y!==null&&y.memoizedState!==null||it;y=yl;var E=it;if(yl=m,(it=v)&&!E)for(Y=f;Y!==null;)m=Y,v=m.child,m.tag===22&&m.memoizedState!==null?vg(f):v!==null?(v.return=m,Y=v):vg(f);for(;c!==null;)Y=c,Iv(c),c=c.sibling;Y=f,yl=y,it=E}gg(t)}else f.subtreeFlags&8772&&c!==null?(c.return=f,Y=c):gg(t)}}function gg(t){for(;Y!==null;){var r=Y;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:it||fu(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!it)if(o===null)l.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Tn(r.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=r.updateQueue;c!==null&&Zp(r,c,l);break;case 3:var m=r.updateQueue;if(m!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Zp(r,m,o)}break;case 5:var y=r.stateNode;if(o===null&&r.flags&4){o=y;var v=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&o.focus();break;case"img":v.src&&(o.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var E=r.alternate;if(E!==null){var R=E.memoizedState;if(R!==null){var D=R.dehydrated;D!==null&&oa(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}it||r.flags&512&&Tf(r)}catch(O){be(r,r.return,O)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function yg(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function vg(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{fu(4,r)}catch(v){be(r,o,v)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var f=r.return;try{l.componentDidMount()}catch(v){be(r,f,v)}}var c=r.return;try{Tf(r)}catch(v){be(r,c,v)}break;case 5:var m=r.return;try{Tf(r)}catch(v){be(r,m,v)}}}catch(v){be(r,r.return,v)}if(r===t){Y=null;break}var y=r.sibling;if(y!==null){y.return=r.return,Y=y;break}Y=r.return}}var eE=Math.ceil,Xl=Ur.ReactCurrentDispatcher,cd=Ur.ReactCurrentOwner,rn=Ur.ReactCurrentBatchConfig,he=0,He=null,je=null,et=0,Ot=0,Ri=vs(0),Ye=0,ya=null,qs=0,du=0,fd=0,Zo=null,vt=null,dd=0,Yi=1/0,Or=null,Ql=!1,kf=null,ds=null,vl=!1,os=null,Zl=0,ea=0,Ef=null,Pl=-1,Ol=0;function dt(){return he&6?Be():Pl!==-1?Pl:Pl=Be()}function hs(t){return t.mode&1?he&2&&et!==0?et&-et:Mk.transition!==null?(Ol===0&&(Ol=ly()),Ol):(t=ve,t!==0||(t=window.event,t=t===void 0?16:py(t.type)),t):1}function En(t,r,o,l){if(50<ea)throw ea=0,Ef=null,Error(M(185));Ta(t,o,l),(!(he&2)||t!==He)&&(t===He&&(!(he&2)&&(du|=o),Ye===4&&ss(t,et)),Et(t,l),o===1&&he===0&&!(r.mode&1)&&(Yi=Be()+500,lu&&Ts()))}function Et(t,r){var o=t.callbackNode;M1(t,r);var l=Bl(t,t===He?et:0);if(l===0)o!==null&&Ap(o),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(o!=null&&Ap(o),r===1)t.tag===0?Bk(Tg.bind(null,t)):by(Tg.bind(null,t)),Dk(function(){!(he&6)&&Ts()}),o=null;else{switch(uy(l)){case 1:o=Jf;break;case 4:o=oy;break;case 16:o=Ll;break;case 536870912:o=ay;break;default:o=Ll}o=Rv(o,_v.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function _v(t,r){if(Pl=-1,Ol=0,he&6)throw Error(M(327));var o=t.callbackNode;if(Ui()&&t.callbackNode!==o)return null;var l=Bl(t,t===He?et:0);if(l===0)return null;if(l&30||l&t.expiredLanes||r)r=eu(t,l);else{r=l;var f=he;he|=2;var c=xv();(He!==t||et!==r)&&(Or=null,Yi=Be()+500,$s(t,r));do try{rE();break}catch(y){Av(t,y)}while(1);Xf(),Xl.current=c,he=f,je!==null?r=0:(He=null,et=0,r=Ye)}if(r!==0){if(r===2&&(f=Gc(t),f!==0&&(l=f,r=Nf(t,f))),r===1)throw o=ya,$s(t,0),ss(t,l),Et(t,Be()),o;if(r===6)ss(t,l);else{if(f=t.current.alternate,!(l&30)&&!tE(f)&&(r=eu(t,l),r===2&&(c=Gc(t),c!==0&&(l=c,r=Nf(t,c))),r===1))throw o=ya,$s(t,0),ss(t,l),Et(t,Be()),o;switch(t.finishedWork=f,t.finishedLanes=l,r){case 0:case 1:throw Error(M(345));case 2:Ls(t,vt,Or);break;case 3:if(ss(t,l),(l&130023424)===l&&(r=dd+500-Be(),10<r)){if(Bl(t,0)!==0)break;if(f=t.suspendedLanes,(f&l)!==l){dt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=rf(Ls.bind(null,t,vt,Or),r);break}Ls(t,vt,Or);break;case 4:if(ss(t,l),(l&4194240)===l)break;for(r=t.eventTimes,f=-1;0<l;){var m=31-kn(l);c=1<<m,m=r[m],m>f&&(f=m),l&=~c}if(l=f,l=Be()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*eE(l/1960))-l,10<l){t.timeoutHandle=rf(Ls.bind(null,t,vt,Or),l);break}Ls(t,vt,Or);break;case 5:Ls(t,vt,Or);break;default:throw Error(M(329))}}}return Et(t,Be()),t.callbackNode===o?_v.bind(null,t):null}function Nf(t,r){var o=Zo;return t.current.memoizedState.isDehydrated&&($s(t,r).flags|=256),t=eu(t,r),t!==2&&(r=vt,vt=o,r!==null&&If(r)),t}function If(t){vt===null?vt=t:vt.push.apply(vt,t)}function tE(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],c=f.getSnapshot;f=f.value;try{if(!Nn(c(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ss(t,r){for(r&=~fd,r&=~du,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-kn(r),l=1<<o;t[o]=-1,r&=~l}}function Tg(t){if(he&6)throw Error(M(327));Ui();var r=Bl(t,0);if(!(r&1))return Et(t,Be()),null;var o=eu(t,r);if(t.tag!==0&&o===2){var l=Gc(t);l!==0&&(r=l,o=Nf(t,l))}if(o===1)throw o=ya,$s(t,0),ss(t,r),Et(t,Be()),o;if(o===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ls(t,vt,Or),Et(t,Be()),null}function hd(t,r){var o=he;he|=1;try{return t(r)}finally{he=o,he===0&&(Yi=Be()+500,lu&&Ts())}}function Ys(t){os!==null&&os.tag===0&&!(he&6)&&Ui();var r=he;he|=1;var o=rn.transition,l=ve;try{if(rn.transition=null,ve=1,t)return t()}finally{ve=l,rn.transition=o,he=r,!(he&6)&&Ts()}}function md(){Ot=Ri.current,Ne(Ri)}function $s(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ck(o)),je!==null)for(o=je.return;o!==null;){var l=o;switch(Kf(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Fl();break;case 3:Vi(),Ne(St),Ne(ot),rd();break;case 5:nd(l);break;case 4:Vi();break;case 13:Ne(Pe);break;case 19:Ne(Pe);break;case 10:Qf(l.type._context);break;case 22:case 23:md()}o=o.return}if(He=t,je=t=ms(t.current,null),et=Ot=r,Ye=0,ya=null,fd=du=qs=0,vt=Zo=null,Js!==null){for(r=0;r<Js.length;r++)if(o=Js[r],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,c=o.pending;if(c!==null){var m=c.next;c.next=f,l.next=m}o.pending=l}Js=null}return t}function Av(t,r){do{var o=je;try{if(Xf(),_l.current=Hl,Gl){for(var l=Oe.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Gl=!1}if(Vs=0,Ge=qe=Oe=null,Xo=!1,ma=0,cd.current=null,o===null||o.return===null){Ye=1,ya=r,je=null;break}e:{var c=t,m=o.return,y=o,v=r;if(r=et,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var E=v,R=y,D=R.tag;if(!(R.mode&1)&&(D===0||D===11||D===15)){var O=R.alternate;O?(R.updateQueue=O.updateQueue,R.memoizedState=O.memoizedState,R.lanes=O.lanes):(R.updateQueue=null,R.memoizedState=null)}var $=og(m);if($!==null){$.flags&=-257,ag($,m,y,c,r),$.mode&1&&ig(c,E,r),r=$,v=E;var F=r.updateQueue;if(F===null){var j=new Set;j.add(v),r.updateQueue=j}else F.add(v);break e}else{if(!(r&1)){ig(c,E,r),pd();break e}v=Error(M(426))}}else if(Ae&&y.mode&1){var ye=og(m);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),ag(ye,m,y,c,r),Gf(qi(v,y));break e}}c=v=qi(v,y),Ye!==4&&(Ye=2),Zo===null?Zo=[c]:Zo.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var I=cv(c,v,r);Qp(c,I);break e;case 1:y=v;var w=c.type,_=c.stateNode;if(!(c.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ds===null||!ds.has(_)))){c.flags|=65536,r&=-r,c.lanes|=r;var L=fv(c,y,r);Qp(c,L);break e}}c=c.return}while(c!==null)}Ov(o)}catch(q){r=q,je===o&&o!==null&&(je=o=o.return);continue}break}while(1)}function xv(){var t=Xl.current;return Xl.current=Hl,t===null?Hl:t}function pd(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),He===null||!(qs&268435455)&&!(du&268435455)||ss(He,et)}function eu(t,r){var o=he;he|=2;var l=xv();(He!==t||et!==r)&&(Or=null,$s(t,r));do try{nE();break}catch(f){Av(t,f)}while(1);if(Xf(),he=o,Xl.current=l,je!==null)throw Error(M(261));return He=null,et=0,Ye}function nE(){for(;je!==null;)Pv(je)}function rE(){for(;je!==null&&!x1();)Pv(je)}function Pv(t){var r=Dv(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,r===null?Ov(t):je=r,cd.current=null}function Ov(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Hk(o,r),o!==null){o.flags&=32767,je=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,je=null;return}}else if(o=Gk(o,r,Ot),o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=t}while(r!==null);Ye===0&&(Ye=5)}function Ls(t,r,o){var l=ve,f=rn.transition;try{rn.transition=null,ve=1,sE(t,r,o,l)}finally{rn.transition=f,ve=l}return null}function sE(t,r,o,l){do Ui();while(os!==null);if(he&6)throw Error(M(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var c=o.lanes|o.childLanes;if(J1(t,c),t===He&&(je=He=null,et=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vl||(vl=!0,Rv(Ll,function(){return Ui(),null})),c=(o.flags&15990)!==0,o.subtreeFlags&15990||c){c=rn.transition,rn.transition=null;var m=ve;ve=1;var y=he;he|=4,cd.current=null,Qk(t,o),Nv(o,t),Nk(tf),Ml=!!ef,tf=ef=null,t.current=o,Zk(o),P1(),he=y,ve=m,rn.transition=c}else t.current=o;if(vl&&(vl=!1,os=t,Zl=f),c=t.pendingLanes,c===0&&(ds=null),D1(o.stateNode),Et(t,Be()),r!==null)for(l=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],l(f.value,{componentStack:f.stack,digest:f.digest});if(Ql)throw Ql=!1,t=kf,kf=null,t;return Zl&1&&t.tag!==0&&Ui(),c=t.pendingLanes,c&1?t===Ef?ea++:(ea=0,Ef=t):ea=0,Ts(),null}function Ui(){if(os!==null){var t=uy(Zl),r=rn.transition,o=ve;try{if(rn.transition=null,ve=16>t?16:t,os===null)var l=!1;else{if(t=os,os=null,Zl=0,he&6)throw Error(M(331));var f=he;for(he|=4,Y=t.current;Y!==null;){var c=Y,m=c.child;if(Y.flags&16){var y=c.deletions;if(y!==null){for(var v=0;v<y.length;v++){var E=y[v];for(Y=E;Y!==null;){var R=Y;switch(R.tag){case 0:case 11:case 15:Qo(8,R,c)}var D=R.child;if(D!==null)D.return=R,Y=D;else for(;Y!==null;){R=Y;var O=R.sibling,$=R.return;if(Sv(R),R===E){Y=null;break}if(O!==null){O.return=$,Y=O;break}Y=$}}}var F=c.alternate;if(F!==null){var j=F.child;if(j!==null){F.child=null;do{var ye=j.sibling;j.sibling=null,j=ye}while(j!==null)}}Y=c}}if(c.subtreeFlags&2064&&m!==null)m.return=c,Y=m;else e:for(;Y!==null;){if(c=Y,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qo(9,c,c.return)}var I=c.sibling;if(I!==null){I.return=c.return,Y=I;break e}Y=c.return}}var w=t.current;for(Y=w;Y!==null;){m=Y;var _=m.child;if(m.subtreeFlags&2064&&_!==null)_.return=m,Y=_;else e:for(m=w;Y!==null;){if(y=Y,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:fu(9,y)}}catch(q){be(y,y.return,q)}if(y===m){Y=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,Y=L;break e}Y=y.return}}if(he=f,Ts(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(ru,t)}catch{}l=!0}return l}finally{ve=o,rn.transition=r}}return!1}function wg(t,r,o){r=qi(o,r),r=cv(t,r,1),t=fs(t,r,1),r=dt(),t!==null&&(Ta(t,1,r),Et(t,r))}function be(t,r,o){if(t.tag===3)wg(t,t,o);else for(;r!==null;){if(r.tag===3){wg(r,t,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){t=qi(o,t),t=fv(r,t,1),r=fs(r,t,1),t=dt(),r!==null&&(Ta(r,1,t),Et(r,t));break}}r=r.return}}function iE(t,r,o){var l=t.pingCache;l!==null&&l.delete(r),r=dt(),t.pingedLanes|=t.suspendedLanes&o,He===t&&(et&o)===o&&(Ye===4||Ye===3&&(et&130023424)===et&&500>Be()-dd?$s(t,0):fd|=o),Et(t,r)}function Cv(t,r){r===0&&(t.mode&1?(r=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):r=1);var o=dt();t=Mr(t,r),t!==null&&(Ta(t,r,o),Et(t,o))}function oE(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Cv(t,o)}function aE(t,r){var o=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(M(314))}l!==null&&l.delete(r),Cv(t,o)}var Dv;Dv=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return wt=!1,Kk(t,r,o);wt=!!(t.flags&131072)}else wt=!1,Ae&&r.flags&1048576&&Ly(r,Vl,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;xl(t,r),t=r.pendingProps;var f=Fi(r,ot.current);Ji(r,o),f=id(null,r,l,t,f,o);var c=od();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,kt(l)?(c=!0,jl(r)):c=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ed(r),f.updater=uu,r.stateNode=f,f._reactInternals=r,ff(r,l,t,o),r=mf(null,r,l,!0,c,o)):(r.tag=0,Ae&&c&&Wf(r),ft(null,r,f,o),r=r.child),r;case 16:l=r.elementType;e:{switch(xl(t,r),t=r.pendingProps,f=l._init,l=f(l._payload),r.type=l,f=r.tag=uE(l),t=Tn(l,t),f){case 0:r=hf(null,r,l,t,o);break e;case 1:r=cg(null,r,l,t,o);break e;case 11:r=lg(null,r,l,t,o);break e;case 14:r=ug(null,r,l,Tn(l.type,t),o);break e}throw Error(M(306,l,""))}return r;case 0:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Tn(l,f),hf(t,r,l,f,o);case 1:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Tn(l,f),cg(t,r,l,f,o);case 3:e:{if(pv(r),t===null)throw Error(M(387));l=r.pendingProps,c=r.memoizedState,f=c.element,Uy(t,r),Wl(r,l,null,o);var m=r.memoizedState;if(l=m.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){f=qi(Error(M(423)),r),r=fg(t,r,l,o,f);break e}else if(l!==f){f=qi(Error(M(424)),r),r=fg(t,r,l,o,f);break e}else for(Ct=cs(r.stateNode.containerInfo.firstChild),Dt=r,Ae=!0,Sn=null,o=zy(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ji(),l===f){r=Jr(t,r,o);break e}ft(t,r,l,o)}r=r.child}return r;case 5:return Vy(r),t===null&&lf(r),l=r.type,f=r.pendingProps,c=t!==null?t.memoizedProps:null,m=f.children,nf(l,f)?m=null:c!==null&&nf(l,c)&&(r.flags|=32),mv(t,r),ft(t,r,m,o),r.child;case 6:return t===null&&lf(r),null;case 13:return gv(t,r,o);case 4:return td(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=zi(r,null,l,o):ft(t,r,l,o),r.child;case 11:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Tn(l,f),lg(t,r,l,f,o);case 7:return ft(t,r,r.pendingProps,o),r.child;case 8:return ft(t,r,r.pendingProps.children,o),r.child;case 12:return ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,f=r.pendingProps,c=r.memoizedProps,m=f.value,ke(ql,l._currentValue),l._currentValue=m,c!==null)if(Nn(c.value,m)){if(c.children===f.children&&!St.current){r=Jr(t,r,o);break e}}else for(c=r.child,c!==null&&(c.return=r);c!==null;){var y=c.dependencies;if(y!==null){m=c.child;for(var v=y.firstContext;v!==null;){if(v.context===l){if(c.tag===1){v=br(-1,o&-o),v.tag=2;var E=c.updateQueue;if(E!==null){E=E.shared;var R=E.pending;R===null?v.next=v:(v.next=R.next,R.next=v),E.pending=v}}c.lanes|=o,v=c.alternate,v!==null&&(v.lanes|=o),uf(c.return,o,r),y.lanes|=o;break}v=v.next}}else if(c.tag===10)m=c.type===r.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(M(341));m.lanes|=o,y=m.alternate,y!==null&&(y.lanes|=o),uf(m,o,r),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===r){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}ft(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,l=r.pendingProps.children,Ji(r,o),f=sn(f),l=l(f),r.flags|=1,ft(t,r,l,o),r.child;case 14:return l=r.type,f=Tn(l,r.pendingProps),f=Tn(l.type,f),ug(t,r,l,f,o);case 15:return dv(t,r,r.type,r.pendingProps,o);case 17:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:Tn(l,f),xl(t,r),r.tag=1,kt(l)?(t=!0,jl(r)):t=!1,Ji(r,o),Fy(r,l,f),ff(r,l,f,o),mf(null,r,l,!0,t,o);case 19:return yv(t,r,o);case 22:return hv(t,r,o)}throw Error(M(156,r.tag))};function Rv(t,r){return iy(t,r)}function lE(t,r,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,r,o,l){return new lE(t,r,o,l)}function gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uE(t){if(typeof t=="function")return gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lf)return 11;if(t===Bf)return 14}return 2}function ms(t,r){var o=t.alternate;return o===null?(o=nn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Cl(t,r,o,l,f,c){var m=2;if(l=t,typeof t=="function")gd(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case Ei:return Fs(o.children,f,c,r);case bf:m=8,f|=8;break;case bc:return t=nn(12,o,r,f|2),t.elementType=bc,t.lanes=c,t;case Lc:return t=nn(13,o,r,f),t.elementType=Lc,t.lanes=c,t;case Bc:return t=nn(19,o,r,f),t.elementType=Bc,t.lanes=c,t;case jg:return hu(o,f,c,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $g:m=10;break e;case Fg:m=9;break e;case Lf:m=11;break e;case Bf:m=14;break e;case ts:m=16,l=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return r=nn(m,o,r,f),r.elementType=t,r.type=l,r.lanes=c,r}function Fs(t,r,o,l){return t=nn(7,t,l,r),t.lanes=o,t}function hu(t,r,o,l){return t=nn(22,t,l,r),t.elementType=jg,t.lanes=o,t.stateNode={isHidden:!1},t}function xc(t,r,o){return t=nn(6,t,null,r),t.lanes=o,t}function Pc(t,r,o){return r=nn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function cE(t,r,o,l,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function yd(t,r,o,l,f,c,m,y,v){return t=new cE(t,r,o,y,v),r===1?(r=1,c===!0&&(r|=8)):r=0,c=nn(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(c),t}function fE(t,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:l==null?null:""+l,children:t,containerInfo:r,implementation:o}}function bv(t){if(!t)return gs;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(M(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(M(171))}if(t.tag===1){var o=t.type;if(kt(o))return Ry(t,o,r)}return r}function Lv(t,r,o,l,f,c,m,y,v){return t=yd(o,l,!0,t,f,c,m,y,v),t.context=bv(null),o=t.current,l=dt(),f=hs(o),c=br(l,f),c.callback=r??null,fs(o,c,f),t.current.lanes=f,Ta(t,f,l),Et(t,l),t}function mu(t,r,o,l){var f=r.current,c=dt(),m=hs(f);return o=bv(o),r.context===null?r.context=o:r.pendingContext=o,r=br(c,m),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=fs(f,r,m),t!==null&&(En(t,f,m,c),Il(t,f,m)),m}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function vd(t,r){Sg(t,r),(t=t.alternate)&&Sg(t,r)}function dE(){return null}var Bv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}pu.prototype.render=Td.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(M(409));mu(t,r,null,null)};pu.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ys(function(){mu(null,t,null,null)}),r[Br]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var r=dy();t={blockedOn:null,target:t,priority:r};for(var o=0;o<rs.length&&r!==0&&r<rs[o].priority;o++);rs.splice(o,0,t),o===0&&my(t)}};function wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function hE(t,r,o,l,f){if(f){if(typeof l=="function"){var c=l;l=function(){var E=tu(m);c.call(E)}}var m=Lv(r,l,t,0,null,!1,!1,"",kg);return t._reactRootContainer=m,t[Br]=m.current,ua(t.nodeType===8?t.parentNode:t),Ys(),m}for(;f=t.lastChild;)t.removeChild(f);if(typeof l=="function"){var y=l;l=function(){var E=tu(v);y.call(E)}}var v=yd(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=v,t[Br]=v.current,ua(t.nodeType===8?t.parentNode:t),Ys(function(){mu(r,v,o,l)}),v}function yu(t,r,o,l,f){var c=o._reactRootContainer;if(c){var m=c;if(typeof f=="function"){var y=f;f=function(){var v=tu(m);y.call(v)}}mu(r,m,t,f)}else m=hE(o,r,t,f,l);return tu(m)}cy=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=zo(r.pendingLanes);o!==0&&(Uf(r,o|1),Et(r,Be()),!(he&6)&&(Yi=Be()+500,Ts()))}break;case 13:Ys(function(){var l=Mr(t,1);if(l!==null){var f=dt();En(l,t,1,f)}}),vd(t,1)}};$f=function(t){if(t.tag===13){var r=Mr(t,134217728);if(r!==null){var o=dt();En(r,t,134217728,o)}vd(t,134217728)}};fy=function(t){if(t.tag===13){var r=hs(t),o=Mr(t,r);if(o!==null){var l=dt();En(o,t,r,l)}vd(t,r)}};dy=function(){return ve};hy=function(t,r){var o=ve;try{return ve=t,r()}finally{ve=o}};Yc=function(t,r,o){switch(r){case"input":if(Uc(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==t&&l.form===t.form){var f=au(l);if(!f)throw Error(M(90));Vg(l),Uc(l,f)}}}break;case"textarea":Yg(t,o);break;case"select":r=o.value,r!=null&&bi(t,!!o.multiple,r,!1)}};Zg=hd;ey=Ys;var mE={usingClientEntryPoint:!1,Events:[Sa,Ai,au,Xg,Qg,hd]},$o={findFiberByHostInstance:Ms,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pE={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ry(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||dE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ru=Tl.inject(pE),mr=Tl}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE;bt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(r))throw Error(M(200));return fE(t,r,null,o)};bt.createRoot=function(t,r){if(!wd(t))throw Error(M(299));var o=!1,l="",f=Bv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=yd(t,1,!1,null,null,o,!1,l,f),t[Br]=r.current,ua(t.nodeType===8?t.parentNode:t),new Td(r)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=ry(r),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return Ys(t)};bt.hydrate=function(t,r,o){if(!gu(r))throw Error(M(200));return yu(null,t,r,!0,o)};bt.hydrateRoot=function(t,r,o){if(!wd(t))throw Error(M(405));var l=o!=null&&o.hydratedSources||null,f=!1,c="",m=Bv;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),r=Lv(r,null,t,1,o??null,f,!1,c,m),t[Br]=r.current,ua(t),l)for(t=0;t<l.length;t++)o=l[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new pu(r)};bt.render=function(t,r,o){if(!gu(r))throw Error(M(200));return yu(null,t,r,!1,o)};bt.unmountComponentAtNode=function(t){if(!gu(t))throw Error(M(40));return t._reactRootContainer?(Ys(function(){yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};bt.unstable_batchedUpdates=hd;bt.unstable_renderSubtreeIntoContainer=function(t,r,o,l){if(!gu(o))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return yu(t,r,o,!1,l)};bt.version="18.2.0-next-9e3b772b8-20220608";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(t){console.error(t)}}Mv(),Lg.exports=bt;var gE=Lg.exports,Eg=gE;Dc.createRoot=Eg.createRoot,Dc.hydrateRoot=Eg.hydrateRoot;var _f={exports:{}};(function(t,r){(function(o,l){l(r)})(VS,function(o){var l=Object.defineProperty,f=(s,e,n)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,c=(s,e,n)=>(f(s,typeof e!="symbol"?e+"":e,n),n),m;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(m||(m={}));function y(s,e){if(!s)throw new Error(e)}const v=34028234663852886e22,E=-34028234663852886e22,R=4294967295,D=2147483647,O=-2147483648;function $(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>D||s<O)throw new Error("invalid int 32: "+s)}function F(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>R||s<0)throw new Error("invalid uint 32: "+s)}function j(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>v||s<E))throw new Error("invalid float 32: "+s)}const ye=Symbol("@bufbuild/protobuf/enum-type");function I(s){const e=s[ye];return y(e,"missing enum type on enum object"),e}function w(s,e,n,i){s[ye]=_(e,n.map(a=>({no:a.no,name:a.name,localName:s[a.no]})))}function _(s,e,n){const i=Object.create(null),a=Object.create(null),u=[];for(const d of e){const h=q(d);u.push(h),i[d.name]=h,a[d.no]=h}return{typeName:s,values:u,findName(d){return i[d]},findNumber(d){return a[d]}}}function L(s,e,n){const i={};for(const a of e){const u=q(a);i[u.localName]=u.no,i[u.no]=u.localName}return w(i,s,e),i}function q(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class P{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),a=i.runtime.bin,u=a.makeReadOptions(n);return a.readMessage(this,u.readerFactory(e),e.byteLength,u),this}fromJson(e,n){const i=this.getType(),a=i.runtime.json,u=a.makeReadOptions(n);return a.readMessage(i,e,u,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(a){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${a instanceof Error?a.message:String(a)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,a=i.makeWriteOptions(e),u=a.writerFactory();return i.writeMessage(this,u,a),u.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,a=i.makeWriteOptions(e);return i.writeMessage(this,a)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function W(s,e,n,i){var a;const u=(a=i==null?void 0:i.localName)!==null&&a!==void 0?a:e.substring(e.lastIndexOf(".")+1),d={[u]:function(h){s.util.initFields(this),s.util.initPartial(h,this)}}[u];return Object.setPrototypeOf(d.prototype,new P),Object.assign(d,{runtime:s,typeName:e,fields:s.util.newFieldList(n),fromBinary(h,p){return new d().fromBinary(h,p)},fromJson(h,p){return new d().fromJson(h,p)},fromJsonString(h,p){return new d().fromJsonString(h,p)},equals(h,p){return s.util.equals(d,h,p)}}),d}function X(s,e,n,i){return{syntax:s,json:e,bin:n,util:i,makeMessageType(a,u,d){return W(this,a,u,d)},makeEnum:L,makeEnumType:_,getEnumType:I}}var S;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(S||(S={}));var ee;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ee||(ee={}));function Nt(){let s=0,e=0;for(let i=0;i<28;i+=7){let a=this.buf[this.pos++];if(s|=(a&127)<<i,!(a&128))return this.assertBounds(),[s,e]}let n=this.buf[this.pos++];if(s|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[s,e];for(let i=3;i<=31;i+=7){let a=this.buf[this.pos++];if(e|=(a&127)<<i,!(a&128))return this.assertBounds(),[s,e]}throw new Error("invalid varint")}function gr(s,e,n){for(let u=0;u<28;u=u+7){const d=s>>>u,h=!(!(d>>>7)&&e==0),p=(h?d|128:d)&255;if(n.push(p),!h)return}const i=s>>>28&15|(e&7)<<4,a=!!(e>>3);if(n.push((a?i|128:i)&255),!!a){for(let u=3;u<31;u=u+7){const d=e>>>u,h=!!(d>>>7),p=(h?d|128:d)&255;if(n.push(p),!h)return}n.push(e>>>31&1)}}const In=4294967296;function Hi(s){const e=s[0]==="-";e&&(s=s.slice(1));const n=1e6;let i=0,a=0;function u(d,h){const p=Number(s.slice(d,h));a*=n,i=i*n+p,i>=In&&(a=a+(i/In|0),i=i%In)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?re(i,a):z(i,a)}function vu(s,e){let n=z(s,e);const i=n.hi&2147483648;i&&(n=re(n.lo,n.hi));const a=Gs(n.lo,n.hi);return i?"-"+a:a}function Gs(s,e){if({lo:s,hi:e}=Xi(s,e),e<=2097151)return String(In*e+s);const n=s&16777215,i=(s>>>24|e<<8)&16777215,a=e>>16&65535;let u=n+i*6777216+a*6710656,d=i+a*8147497,h=a*2;const p=1e7;return u>=p&&(d+=Math.floor(u/p),u%=p),d>=p&&(h+=Math.floor(d/p),d%=p),h.toString()+ie(d)+ie(u)}function Xi(s,e){return{lo:s>>>0,hi:e>>>0}}function z(s,e){return{lo:s|0,hi:e|0}}function re(s,e){return e=~e,s?s=~s+1:e+=1,z(s,e)}const ie=s=>{const e=String(s);return"0000000".slice(e.length)+e};function Ie(s,e){if(s>=0){for(;s>127;)e.push(s&127|128),s=s>>>7;e.push(s)}else{for(let n=0;n<9;n++)e.push(s&127|128),s=s>>7;e.push(1)}}function Me(){let s=this.buf[this.pos++],e=s&127;if(!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<7,!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<14,!(s&128))return this.assertBounds(),e;if(s=this.buf[this.pos++],e|=(s&127)<<21,!(s&128))return this.assertBounds(),e;s=this.buf[this.pos++],e|=(s&15)<<28;for(let n=5;s&128&&n<10;n++)s=this.buf[this.pos++];if(s&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function Hs(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),d=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const g=typeof p=="bigint"?p:BigInt(p);if(g>u||g<a)throw new Error(`int64 invalid: ${p}`);return g},uParse(p){const g=typeof p=="bigint"?p:BigInt(p);if(g>h||g<d)throw new Error(`uint64 invalid: ${p}`);return g},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,g){return s.setInt32(0,p,!0),s.setInt32(4,g,!0),s.getBigInt64(0,!0)},uDec(p,g){return s.setInt32(0,p,!0),s.setInt32(4,g,!0),s.getBigUint64(0,!0)}}}const n=a=>y(/^-?[0-9]+$/.test(a),`int64 invalid: ${a}`),i=a=>y(/^[0-9]+$/.test(a),`uint64 invalid: ${a}`);return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),n(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),i(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),n(a),Hi(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),i(a),Hi(a)},dec(a,u){return vu(a,u)},uDec(a,u){return Gs(a,u)}}}const ce=Hs();var ge;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ge||(ge={}));class _n{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let a=0;a<this.chunks.length;a++)e+=this.chunks[a].length;let n=new Uint8Array(e),i=0;for(let a=0;a<this.chunks.length;a++)n.set(this.chunks[a],i),i+=this.chunks[a].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(F(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return $(e),Ie(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){j(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){F(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){$(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return $(e),e=(e<<1^e>>31)>>>0,Ie(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=ce.enc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),a=ce.uEnc(e);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(n)}int64(e){let n=ce.enc(e);return gr(n.lo,n.hi,this.buf),this}sint64(e){let n=ce.enc(e),i=n.hi>>31,a=n.lo<<1^i,u=(n.hi<<1|n.lo>>>31)^i;return gr(a,u,this.buf),this}uint64(e){let n=ce.uEnc(e);return gr(n.lo,n.hi,this.buf),this}}class $r{constructor(e,n){this.varint64=Nt,this.uint32=Me,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case ge.Varint:for(;this.buf[this.pos++]&128;);break;case ge.Bit64:this.pos+=4;case ge.Bit32:this.pos+=4;break;case ge.LengthDelimited:let i=this.uint32();this.pos+=i;break;case ge.StartGroup:let a;for(;(a=this.tag()[1])!==ge.EndGroup;)this.skip(a);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ce.dec(...this.varint64())}uint64(){return ce.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,ce.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ce.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ce.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function Ea(s,e){return e instanceof P||!s.fieldWrapper?e:s.fieldWrapper.wrapField(e)}function Uv(s){if(s.fieldKind==="message"&&!s.repeated&&s.oneof==null)return $v[s.message.typeName]}const $v={"google.protobuf.DoubleValue":S.DOUBLE,"google.protobuf.FloatValue":S.FLOAT,"google.protobuf.Int64Value":S.INT64,"google.protobuf.UInt64Value":S.UINT64,"google.protobuf.Int32Value":S.INT32,"google.protobuf.UInt32Value":S.UINT32,"google.protobuf.BoolValue":S.BOOL,"google.protobuf.StringValue":S.STRING,"google.protobuf.BytesValue":S.BYTES};function Fr(s,e,n){if(e===n)return!0;if(s==S.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(s){case S.UINT64:case S.FIXED64:case S.INT64:case S.SFIXED64:case S.SINT64:return e==n}return!1}function Na(s,e){switch(s){case S.BOOL:return!1;case S.UINT64:case S.FIXED64:case S.INT64:case S.SFIXED64:case S.SINT64:return e==0?ce.zero:"0";case S.DOUBLE:case S.FLOAT:return 0;case S.BYTES:return new Uint8Array(0);case S.STRING:return"";default:return 0}}function Sd(s,e){const n=e===void 0;let i=ge.Varint,a=e===0;switch(s){case S.STRING:a=n||!e.length,i=ge.LengthDelimited;break;case S.BOOL:a=e===!1;break;case S.DOUBLE:i=ge.Bit64;break;case S.FLOAT:i=ge.Bit32;break;case S.INT64:a=n||e==0;break;case S.UINT64:a=n||e==0;break;case S.FIXED64:a=n||e==0,i=ge.Bit64;break;case S.BYTES:a=n||!e.byteLength,i=ge.LengthDelimited;break;case S.FIXED32:i=ge.Bit32;break;case S.SFIXED32:i=ge.Bit32;break;case S.SFIXED64:a=n||e==0,i=ge.Bit64;break;case S.SINT64:a=n||e==0;break}const u=S[s].toLowerCase();return[i,u,n||a]}const Xs=Symbol("@bufbuild/protobuf/unknown-fields"),kd={readUnknownFields:!0,readerFactory:s=>new $r(s)},Ed={writeUnknownFields:!0,writerFactory:()=>new _n};function Fv(s){return s?Object.assign(Object.assign({},kd),s):kd}function jv(s){return s?Object.assign(Object.assign({},Ed),s):Ed}function Ia(){return{makeReadOptions:Fv,makeWriteOptions:jv,listUnknownFields(s){var e;return(e=s[Xs])!==null&&e!==void 0?e:[]},discardUnknownFields(s){delete s[Xs]},writeUnknownFields(s,e){const i=s[Xs];if(i)for(const a of i)e.tag(a.no,a.wireType).raw(a.data)},onUnknownField(s,e,n,i){const a=s;Array.isArray(a[Xs])||(a[Xs]=[]),a[Xs].push({no:e,wireType:n,data:i})},readMessage(s,e,n,i,a){const u=s.getType(),d=a?e.len:e.pos+n;let h,p;for(;e.pos<d&&([h,p]=e.tag(),p!=ge.EndGroup);){const g=u.fields.find(h);if(!g){const C=e.skip(p);i.readUnknownFields&&this.onUnknownField(s,h,p,C);continue}let T=s,x=g.repeated,N=g.localName;switch(g.oneof&&(T=T[g.oneof.localName],T.case!=N&&delete T.value,T.case=N,N="value"),g.kind){case"scalar":case"enum":const C=g.kind=="enum"?S.INT32:g.T;let U=Aa;if(g.kind=="scalar"&&g.L>0&&(U=Vv),x){let ne=T[N];if(p==ge.LengthDelimited&&C!=S.STRING&&C!=S.BYTES){let Se=e.uint32()+e.pos;for(;e.pos<Se;)ne.push(U(e,C))}else ne.push(U(e,C))}else T[N]=U(e,C);break;case"message":const V=g.T;x?T[N].push(_a(e,new V,i,g)):T[N]instanceof P?_a(e,T[N],i,g):(T[N]=_a(e,new V,i,g),V.fieldWrapper&&!g.oneof&&!g.repeated&&(T[N]=V.fieldWrapper.unwrapField(T[N])));break;case"map":let[Q,fe]=zv(g,e,i);T[N][Q]=fe;break}}if(a&&(p!=ge.EndGroup||h!==n))throw new Error("invalid end group tag")}}}function _a(s,e,n,i){const a=e.getType().runtime.bin,u=i==null?void 0:i.delimited;return a.readMessage(e,s,u?i==null?void 0:i.no:s.uint32(),n,u),e}function zv(s,e,n){const i=e.uint32(),a=e.pos+i;let u,d;for(;e.pos<a;){let[h]=e.tag();switch(h){case 1:u=Aa(e,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Aa(e,s.V.T);break;case"enum":d=e.int32();break;case"message":d=_a(e,new s.V.T,n,void 0);break}break}}if(u===void 0){let h=Na(s.K,ee.BIGINT);u=s.K==S.BOOL?h.toString():h}if(typeof u!="string"&&typeof u!="number"&&(u=u.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Na(s.V.T,ee.BIGINT);break;case"enum":d=0;break;case"message":d=new s.V.T;break}return[u,d]}function Vv(s,e){const n=Aa(s,e);return typeof n=="bigint"?n.toString():n}function Aa(s,e){switch(e){case S.STRING:return s.string();case S.BOOL:return s.bool();case S.DOUBLE:return s.double();case S.FLOAT:return s.float();case S.INT32:return s.int32();case S.INT64:return s.int64();case S.UINT64:return s.uint64();case S.FIXED64:return s.fixed64();case S.BYTES:return s.bytes();case S.FIXED32:return s.fixed32();case S.SFIXED32:return s.sfixed32();case S.SFIXED64:return s.sfixed64();case S.SINT64:return s.sint64();case S.UINT32:return s.uint32();case S.SINT32:return s.sint32()}}function Nd(s,e,n,i,a){s.tag(n.no,ge.LengthDelimited),s.fork();let u=i;switch(n.K){case S.INT32:case S.FIXED32:case S.UINT32:case S.SFIXED32:case S.SINT32:u=Number.parseInt(i);break;case S.BOOL:y(i=="true"||i=="false"),u=i=="true";break}switch(ws(s,n.K,1,u,!0),n.V.kind){case"scalar":ws(s,n.V.T,2,a,!0);break;case"enum":ws(s,S.INT32,2,a,!0);break;case"message":s.tag(2,ge.LengthDelimited).bytes(a.toBinary(e));break}s.join()}function xa(s,e,n,i){if(i!==void 0){const a=Ea(n.T,i);n!=null&&n.delimited?s.tag(n.no,ge.StartGroup).raw(a.toBinary(e)).tag(n.no,ge.EndGroup):s.tag(n.no,ge.LengthDelimited).bytes(a.toBinary(e))}}function ws(s,e,n,i,a){let[u,d,h]=Sd(e,i);(!h||a)&&s.tag(n,u)[d](i)}function Id(s,e,n,i){if(!i.length)return;s.tag(n,ge.LengthDelimited).fork();let[,a]=Sd(e);for(let u=0;u<i.length;u++)s[a](i[u]);s.join()}function qv(){return Object.assign(Object.assign({},Ia()),{writeMessage(s,e,n){const i=s.getType();for(const a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const p=s[a.oneof.localName];if(p.case!==h)continue;u=p.value}else u=s[h];switch(a.kind){case"scalar":case"enum":let p=a.kind=="enum"?S.INT32:a.T;if(d)if(a.packed)Id(e,p,a.no,u);else for(const g of u)ws(e,p,a.no,g,!0);else u!==void 0&&ws(e,p,a.no,u,!!a.oneof||a.opt);break;case"message":if(d)for(const g of u)xa(e,n,a,g);else xa(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}let yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Pa=[];for(let s=0;s<yr.length;s++)Pa[yr[s].charCodeAt(0)]=s;Pa["-".charCodeAt(0)]=yr.indexOf("+"),Pa["_".charCodeAt(0)]=yr.indexOf("/");const Qi={dec(s){let e=s.length*3/4;s[s.length-2]=="="?e-=2:s[s.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,a=0,u,d=0;for(let h=0;h<s.length;h++){if(u=Pa[s.charCodeAt(h)],u===void 0)switch(s[h]){case"=":a=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:d=u,a=1;break;case 1:n[i++]=d<<2|(u&48)>>4,d=u,a=2;break;case 2:n[i++]=(d&15)<<4|(u&60)>>2,d=u,a=3;break;case 3:n[i++]=(d&3)<<6|u,a=0;break}}if(a==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(s){let e="",n=0,i,a=0;for(let u=0;u<s.length;u++)switch(i=s[u],n){case 0:e+=yr[i>>2],a=(i&3)<<4,n=1;break;case 1:e+=yr[a|i>>4],a=(i&15)<<2,n=2;break;case 2:e+=yr[a|i>>6],e+=yr[i&63],n=0;break}return n&&(e+=yr[a],e+="=",n==1&&(e+="=")),e}},_d={ignoreUnknownFields:!1},Ad={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Yv(s){return s?Object.assign(Object.assign({},_d),s):_d}function Wv(s){return s?Object.assign(Object.assign({},Ad),s):Ad}function xd(s){const e=s(Kv,Od);return{makeReadOptions:Yv,makeWriteOptions:Wv,readMessage(n,i,a,u){if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(i)}`);u=u??new n;const d={};for(const[h,p]of Object.entries(i)){const g=n.fields.findJsonName(h);if(!g){if(!a.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${h}" is unknown`);continue}let T=g.localName,x=u;if(g.oneof){if(p===null&&g.kind=="scalar")continue;const N=d[g.oneof.localName];if(N)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${g.oneof.name}" present: "${N}", "${h}"`);d[g.oneof.localName]=h,x=x[g.oneof.localName]={case:T},T="value"}if(g.repeated){if(p===null)continue;if(!Array.isArray(p))throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`);const N=x[T];for(const C of p){if(C===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(C)}`);let U;switch(g.kind){case"message":U=g.T.fromJson(C,a);break;case"enum":if(U=Tu(g.T,C,a.ignoreUnknownFields),U===void 0)continue;break;case"scalar":try{U=Zi(g.T,C,g.L)}catch(V){let Q=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(C)}`;throw V instanceof Error&&V.message.length>0&&(Q+=`: ${V.message}`),new Error(Q)}break}N.push(U)}}else if(g.kind=="map"){if(p===null)continue;if(Array.isArray(p)||typeof p!="object")throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`);const N=x[T];for(const[C,U]of Object.entries(p)){if(U===null)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: map value null`);let V;switch(g.V.kind){case"message":V=g.V.T.fromJson(U,a);break;case"enum":if(V=Tu(g.V.T,U,a.ignoreUnknownFields),V===void 0)continue;break;case"scalar":try{V=Zi(g.V.T,U,ee.BIGINT)}catch(Q){let fe=`cannot decode map value for field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw Q instanceof Error&&Q.message.length>0&&(fe+=`: ${Q.message}`),new Error(fe)}break}try{N[Zi(g.K,g.K==S.BOOL?C=="true"?!0:C=="false"?!1:C:C,ee.BIGINT).toString()]=V}catch(Q){let fe=`cannot decode map key for field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw Q instanceof Error&&Q.message.length>0&&(fe+=`: ${Q.message}`),new Error(fe)}}}else switch(g.kind){case"message":const N=g.T;if(p===null&&N.typeName!="google.protobuf.Value"){if(g.oneof)throw new Error(`cannot decode field ${n.typeName}.${g.name} from JSON: null is invalid for oneof field "${h}"`);continue}x[T]instanceof P?x[T].fromJson(p,a):(x[T]=N.fromJson(p,a),N.fieldWrapper&&!g.oneof&&(x[T]=N.fieldWrapper.unwrapField(x[T])));break;case"enum":const C=Tu(g.T,p,a.ignoreUnknownFields);C!==void 0&&(x[T]=C);break;case"scalar":try{x[T]=Zi(g.T,p,g.L)}catch(U){let V=`cannot decode field ${n.typeName}.${g.name} from JSON: ${this.debug(p)}`;throw U instanceof Error&&U.message.length>0&&(V+=`: ${U.message}`),new Error(V)}break}}return u},writeMessage(n,i){const a=n.getType(),u={};let d;try{for(const h of a.fields.byMember()){let p;if(h.kind=="oneof"){const g=n[h.localName];if(g.value===void 0)continue;if(d=h.findField(g.case),!d)throw"oneof case not found: "+g.case;p=e(d,g.value,i)}else d=h,p=e(d,n[d.localName],i);p!==void 0&&(u[i.useProtoFieldName?d.name:d.jsonName]=p)}}catch(h){const p=d?`cannot encode field ${a.typeName}.${d.name} to JSON`:`cannot encode message ${a.typeName} to JSON`,g=h instanceof Error?h.message:String(h);throw new Error(p+(g.length>0?`: ${g}`:""))}return u},readScalar:Zi,writeScalar:Od,debug:Pd}}function Pd(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Zi(s,e,n){switch(s){case S.DOUBLE:case S.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return s==S.FLOAT&&j(i),i;case S.INT32:case S.FIXED32:case S.SFIXED32:case S.SINT32:case S.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return s==S.UINT32?F(a):$(a),a;case S.INT64:case S.SFIXED64:case S.SINT64:if(e===null)return ce.zero;if(typeof e!="number"&&typeof e!="string")break;const u=ce.parse(e);return n?u.toString():u;case S.FIXED64:case S.UINT64:if(e===null)return ce.zero;if(typeof e!="number"&&typeof e!="string")break;const d=ce.uParse(e);return n?d.toString():d;case S.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case S.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case S.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return Qi.dec(e)}throw new Error}function Tu(s,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=s.findName(e);if(i||n)return i==null?void 0:i.no;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Pd(e)}`)}function Kv(s,e,n,i){var a;if(e===void 0)return e;if(e===0&&!n)return;if(i)return e;if(s.typeName=="google.protobuf.NullValue")return null;const u=s.findNumber(e);return(a=u==null?void 0:u.name)!==null&&a!==void 0?a:e}function Od(s,e,n){if(e!==void 0)switch(s){case S.INT32:case S.SFIXED32:case S.SINT32:case S.FIXED32:case S.UINT32:return y(typeof e=="number"),e!=0||n?e:void 0;case S.FLOAT:case S.DOUBLE:return y(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case S.STRING:return y(typeof e=="string"),e.length>0||n?e:void 0;case S.BOOL:return y(typeof e=="boolean"),e||n?e:void 0;case S.UINT64:case S.FIXED64:case S.INT64:case S.SFIXED64:case S.SINT64:return y(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case S.BYTES:return y(e instanceof Uint8Array),n||e.byteLength>0?Qi.enc(e):void 0}}function Gv(){return xd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[p,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[p.toString()]=T}break;case"message":for(const[p,g]of Object.entries(a))d[p.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[p,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[p.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(Ea(i.T,a[h]).toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else switch(i.kind){case"scalar":return e(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues);case"enum":return s(i.T,a,!!i.oneof||i.opt||u.emitDefaultValues,u.enumAsInteger);case"message":return a!==void 0?Ea(i.T,a).toJson(u):void 0}})}function Cd(){return{setEnumType:w,initPartial(s,e){if(s===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const a=i.localName,u=e,d=s;if(d[a]!==void 0)switch(i.kind){case"oneof":const h=d[a].case;if(h===void 0)continue;const p=i.findField(h);let g=d[a].value;p&&p.kind=="message"&&!(g instanceof p.T)?g=new p.T(g):p&&p.kind==="scalar"&&p.T===S.BYTES&&(g=eo(g)),u[a]={case:h,value:g};break;case"scalar":case"enum":let T=d[a];i.T===S.BYTES&&(T=i.repeated?T.map(eo):eo(T)),u[a]=T;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===S.BYTES)for(const[C,U]of Object.entries(d[a]))u[a][C]=eo(U);else Object.assign(u[a],d[a]);break;case"message":const N=i.V.T;for(const C of Object.keys(d[a])){let U=d[a][C];N.fieldWrapper||(U=new N(U)),u[a][C]=U}break}break;case"message":const x=i.T;if(i.repeated)u[a]=d[a].map(N=>N instanceof x?N:new x(N));else if(d[a]!==void 0){const N=d[a];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?u[a]=eo(N):u[a]=N:u[a]=N instanceof x?N:new x(N)}break}}},equals(s,e,n){return e===n?!0:!e||!n?!1:s.fields.byMember().every(i=>{const a=e[i.localName],u=n[i.localName];if(i.repeated){if(a.length!==u.length)return!1;switch(i.kind){case"message":return a.every((d,h)=>i.T.equals(d,u[h]));case"scalar":return a.every((d,h)=>Fr(i.T,d,u[h]));case"enum":return a.every((d,h)=>Fr(S.INT32,d,u[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(a,u);case"enum":return Fr(S.INT32,a,u);case"scalar":return Fr(i.T,a,u);case"oneof":if(a.case!==u.case)return!1;const d=i.findField(a.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(a.value,u.value);case"enum":return Fr(S.INT32,a.value,u.value);case"scalar":return Fr(d.T,a.value,u.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const h=Object.keys(a).concat(Object.keys(u));switch(i.V.kind){case"message":const p=i.V.T;return h.every(T=>p.equals(a[T],u[T]));case"enum":return h.every(T=>Fr(S.INT32,a[T],u[T]));case"scalar":const g=i.V.T;return h.every(T=>Fr(g,a[T],u[T]))}break}})},clone(s){const e=s.getType(),n=new e,i=n;for(const a of e.fields.byMember()){const u=s[a.localName];let d;if(a.repeated)d=u.map(Oa);else if(a.kind=="map"){d=i[a.localName];for(const[h,p]of Object.entries(u))d[h]=Oa(p)}else a.kind=="oneof"?d=a.findField(u.case)?{case:u.case,value:Oa(u.value)}:{case:void 0}:d=Oa(u);i[a.localName]=d}return n}}}function Oa(s){if(s===void 0)return s;if(s instanceof P)return s.clone();if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}function eo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}class Dd{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function Ca(s){switch(s.kind){case"field":return Da(s.name,s.oneof!==void 0);case"oneof":return Rd(s.name);case"enum":case"message":case"service":{const e=s.file.proto.package,n=e===void 0?0:e.length+1,i=s.typeName.substring(n).replace(/\./g,"_");return to(Ld(i))}case"enum_value":{const e=s.parent.sharedPrefix;if(e===void 0)return s.name;const n=s.name.substring(e.length);return to(n)}case"rpc":{let e=s.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),to(e))}}}function Da(s,e){const n=bd(s);return e?n:to(t0(n))}function Rd(s){return Da(s,!1)}const wu=bd;function Hv(s,e){const n=Xv(s)+"_";for(const i of e){if(!i.toLowerCase().startsWith(n))return;const a=i.substring(n.length);if(a.length==0||/^\d/.test(a))return}return n}function Xv(s){return(s.substring(0,1)+s.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function bd(s){let e=!1;const n=[];for(let i=0;i<s.length;i++){let a=s.charAt(i);switch(a){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(a),e=!1;break;default:e&&(e=!1,a=a.toUpperCase()),n.push(a);break}}return n.join("")}const Qv=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),Zv=new Set(["constructor","toString","toJSON","valueOf"]),e0=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Su=s=>`${s}$`,t0=s=>e0.has(s)?Su(s):s,to=s=>Zv.has(s)?Su(s):s,Ld=s=>Qv.has(s)?Su(s):s;class Bd{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Rd(e)}addField(e){y(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const A=X("proto3",Gv(),qv(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,n0)},initFields(s){for(const e of s.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Na(e.T,e.L);break}}}}));function n0(s){var e,n,i,a;const u=[];let d;for(const h of typeof s=="function"?s():s){const p=h;if(p.localName=Da(h.name,h.oneof!==void 0),p.jsonName=(e=h.jsonName)!==null&&e!==void 0?e:wu(h.name),p.repeated=(n=h.repeated)!==null&&n!==void 0?n:!1,h.kind=="scalar"&&(p.L=(i=h.L)!==null&&i!==void 0?i:ee.BIGINT),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!d||d.name!=g)&&(d=new Bd(g)),p.oneof=d,d.addField(p)}h.kind=="message"&&(p.delimited=!1),p.packed=(a=h.packed)!==null&&a!==void 0?a:h.kind=="enum"||h.kind=="scalar"&&h.T!=S.BYTES&&h.T!=S.STRING,u.push(p)}return u}function r0(){return Object.assign(Object.assign({},Ia()),{writeMessage(s,e,n){const i=s.getType();let a;try{for(a of i.fields.byNumber()){let u,d=a.repeated,h=a.localName;if(a.oneof){const p=s[a.oneof.localName];if(p.case!==h)continue;u=p.value}else if(u=s[h],u===void 0&&!a.oneof&&!a.opt)throw new Error(`cannot encode field ${i.typeName}.${a.name} to binary: required field not set`);switch(a.kind){case"scalar":case"enum":let p=a.kind=="enum"?S.INT32:a.T;if(d)if(a.packed)Id(e,p,a.no,u);else for(const g of u)ws(e,p,a.no,g,!0);else u!==void 0&&ws(e,p,a.no,u,!0);break;case"message":if(d)for(const g of u)xa(e,n,a,g);else xa(e,n,a,u);break;case"map":for(const[g,T]of Object.entries(u))Nd(e,n,a,g,T);break}}}catch(u){let d=a?`cannot encode field ${i.typeName}.${a==null?void 0:a.name} to binary`:`cannot encode message ${i.typeName} to binary`,h=u instanceof Error?u.message:String(u);throw new Error(d+(h.length>0?`: ${h}`:""))}return n.writeUnknownFields&&this.writeUnknownFields(s,e),e}})}function s0(){return xd((s,e)=>function(i,a,u){if(i.kind=="map"){const d={};switch(i.V.kind){case"scalar":for(const[p,g]of Object.entries(a)){const T=e(i.V.T,g,!0);y(T!==void 0),d[p.toString()]=T}break;case"message":for(const[p,g]of Object.entries(a))d[p.toString()]=g.toJson(u);break;case"enum":const h=i.V.T;for(const[p,g]of Object.entries(a)){y(g===void 0||typeof g=="number");const T=s(h,g,!0,u.enumAsInteger);y(T!==void 0),d[p.toString()]=T}break}return u.emitDefaultValues||Object.keys(d).length>0?d:void 0}else if(i.repeated){const d=[];switch(i.kind){case"scalar":for(let h=0;h<a.length;h++)d.push(e(i.T,a[h],!0));break;case"enum":for(let h=0;h<a.length;h++)d.push(s(i.T,a[h],!0,u.enumAsInteger));break;case"message":for(let h=0;h<a.length;h++)d.push(a[h].toJson(u));break}return u.emitDefaultValues||d.length>0?d:void 0}else{if(a===void 0){if(!i.oneof&&!i.opt)throw"required field not set";return}switch(i.kind){case"scalar":return e(i.T,a,!0);case"enum":return s(i.T,a,!0,u.enumAsInteger);case"message":return Ea(i.T,a).toJson(u)}}})}const k=X("proto2",s0(),r0(),Object.assign(Object.assign({},Cd()),{newFieldList(s){return new Dd(s,i0)},initFields(s){for(const e of s.getType().fields.byMember()){const n=e.localName,i=s;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"map":i[n]={};break}}}}));function i0(s){var e,n,i,a,u;const d=[];let h;for(const p of typeof s=="function"?s():s){const g=p;if(g.localName=Da(p.name,p.oneof!==void 0),g.jsonName=(e=p.jsonName)!==null&&e!==void 0?e:wu(p.name),g.repeated=(n=p.repeated)!==null&&n!==void 0?n:!1,p.kind=="scalar"&&(g.L=(i=p.L)!==null&&i!==void 0?i:ee.BIGINT),p.oneof!==void 0){const T=typeof p.oneof=="string"?p.oneof:p.oneof.name;(!h||h.name!=T)&&(h=new Bd(T)),g.oneof=h,h.addField(g)}p.kind=="message"&&(g.delimited=(a=p.delimited)!==null&&a!==void 0?a:!1),g.packed=(u=p.packed)!==null&&u!==void 0?u:!1,d.push(g)}return d}const o0={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var a0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},Qs=globalThis&&globalThis.__await||function(s){return this instanceof Qs?(this.v=s,this):new Qs(s)},l0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(C){return function(U){return Promise.resolve(U).then(C,x)}}function h(C,U){i[C]&&(a[C]=function(V){return new Promise(function(Q,fe){u.push([C,V,Q,fe])>1||p(C,V)})},U&&(a[C]=U(a[C])))}function p(C,U){try{g(i[C](U))}catch(V){N(u[0][3],V)}}function g(C){C.value instanceof Qs?Promise.resolve(C.value.v).then(T,x):N(u[0][2],C)}function T(C){p("next",C)}function x(C){p("throw",C)}function N(C,U){C(U),u.shift(),u.length&&p(u[0][0],u[0][1])}};const ku={enc(s,e){const n=Ia().makeWriteOptions(e);return n.writerFactory().bytes(s.toBinary(n)).finish()},dec(s,e,n){const i=Ia().makeReadOptions(n);return s.fromBinary(i.readerFactory(e).bytes(),i)},decStream(s,e){return l0(this,arguments,function*(){var i,a,u,d;function h(N,C){const U=new Uint8Array(N.byteLength+C.byteLength);return U.set(N),U.set(C,N.length),U}let p=new Uint8Array(0);try{for(var g=!0,T=a0(e),x;x=yield Qs(T.next()),i=x.done,!i;g=!0)for(d=x.value,g=!1,p=h(p,d);;){const C=ku.peekSize(p);if(C.eof||C.offset+C.size>p.byteLength)break;yield yield Qs(ku.dec(s,p)),p=p.subarray(C.offset+C.size)}}catch(N){a={error:N}}finally{try{!g&&!i&&(u=T.return)&&(yield Qs(u.call(T)))}finally{if(a)throw a.error}}if(p.byteLength>0)throw new Error("incomplete data")})},peekSize(s){const e={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>s.byteLength)return e;if(!(s[n]&128)){const i=new $r(s);let a;try{a=i.uint32()}catch(u){if(u instanceof RangeError)return e;throw u}return{eof:!1,size:a,offset:i.pos}}}throw new Error("invalid varint")}};function u0(s){switch(s.typeName){case"google.protobuf.Any":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===S.STRING),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===S.BYTES);if(e&&n)return{typeName:s.typeName,typeUrl:e,value:n};break}case"google.protobuf.Timestamp":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===S.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===S.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Duration":{const e=s.fields.find(i=>i.number==1&&i.fieldKind=="scalar"&&i.scalar===S.INT64),n=s.fields.find(i=>i.number==2&&i.fieldKind=="scalar"&&i.scalar===S.INT32);if(e&&n)return{typeName:s.typeName,seconds:e,nanos:n};break}case"google.protobuf.Struct":{const e=s.fields.find(n=>n.number==1&&!n.repeated);if((e==null?void 0:e.fieldKind)!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,fields:e}}case"google.protobuf.Value":{const e=s.oneofs.find(p=>p.name==="kind"),n=s.fields.find(p=>p.number==1&&p.oneof===e);if((n==null?void 0:n.fieldKind)!=="enum"||n.enum.typeName!=="google.protobuf.NullValue")return;const i=s.fields.find(p=>p.number==2&&p.fieldKind=="scalar"&&p.scalar===S.DOUBLE&&p.oneof===e),a=s.fields.find(p=>p.number==3&&p.fieldKind=="scalar"&&p.scalar===S.STRING&&p.oneof===e),u=s.fields.find(p=>p.number==4&&p.fieldKind=="scalar"&&p.scalar===S.BOOL&&p.oneof===e),d=s.fields.find(p=>p.number==5&&p.oneof===e);if((d==null?void 0:d.fieldKind)!=="message"||d.message.typeName!=="google.protobuf.Struct")return;const h=s.fields.find(p=>p.number==6&&p.oneof===e);if((h==null?void 0:h.fieldKind)!=="message"||h.message.typeName!=="google.protobuf.ListValue")return;if(e&&i&&a&&u)return{typeName:s.typeName,kind:e,nullValue:n,numberValue:i,stringValue:a,boolValue:u,structValue:d,listValue:h};break}case"google.protobuf.ListValue":{const e=s.fields.find(n=>n.number==1&&n.repeated);if((e==null?void 0:e.fieldKind)!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:s.typeName,values:e}}case"google.protobuf.FieldMask":{const e=s.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===S.STRING&&n.repeated);if(e)return{typeName:s.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const e=s.fields.find(n=>n.number==1&&n.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:s.typeName,value:e}}}}const Je="@bufbuild/protobuf",c0={packageName:"@bufbuild/protobuf",localName:Ca,reifyWkt:u0,getUnwrappedFieldType:Uv,scalarDefaultValue:Na,safeIdentifier:Ld,safeObjectProperty:to,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:Je},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:Je},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:Je},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Je},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:Je},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:Je},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:Je},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Je},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:Je},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Je},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Je},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Je},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:Je},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:Je},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:Je},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Je},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:Je},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Je},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:Je},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:Je}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Bt;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Bt||(Bt={}));var no;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(no||(no={}));var Te;(function(s){s[s.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",s[s.EDITION_PROTO2=998]="EDITION_PROTO2",s[s.EDITION_PROTO3=999]="EDITION_PROTO3",s[s.EDITION_2023=1e3]="EDITION_2023",s[s.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",s[s.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",s[s.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",s[s.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",s[s.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(Te||(Te={})),k.util.setEnumType(Te,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class Mt extends P{constructor(e){super(),this.file=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Mt().fromBinary(e,n)}static fromJson(e,n){return new Mt().fromJson(e,n)}static fromJsonString(e,n){return new Mt().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Mt,e,n)}}Mt.runtime=k,Mt.typeName="google.protobuf.FileDescriptorSet",Mt.fields=k.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Jt,repeated:!0}]);class Jt extends P{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Jt().fromBinary(e,n)}static fromJson(e,n){return new Jt().fromJson(e,n)}static fromJsonString(e,n){return new Jt().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Jt,e,n)}}Jt.runtime=k,Jt.typeName="google.protobuf.FileDescriptorProto",Jt.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:an,repeated:!0},{no:5,name:"enum_type",kind:"message",T:ln,repeated:!0},{no:6,name:"service",kind:"message",T:bn,repeated:!0},{no:7,name:"extension",kind:"message",T:Ut,repeated:!0},{no:8,name:"options",kind:"message",T:Bn,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Kn,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0}]);class an extends P{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new an().fromBinary(e,n)}static fromJson(e,n){return new an().fromJson(e,n)}static fromJsonString(e,n){return new an().fromJsonString(e,n)}static equals(e,n){return k.util.equals(an,e,n)}}an.runtime=k,an.typeName="google.protobuf.DescriptorProto",an.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:Ut,repeated:!0},{no:6,name:"extension",kind:"message",T:Ut,repeated:!0},{no:3,name:"nested_type",kind:"message",T:an,repeated:!0},{no:4,name:"enum_type",kind:"message",T:ln,repeated:!0},{no:5,name:"extension_range",kind:"message",T:An,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Cn,repeated:!0},{no:7,name:"options",kind:"message",T:Mn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:xn,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class An extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new An().fromBinary(e,n)}static fromJson(e,n){return new An().fromJson(e,n)}static fromJsonString(e,n){return new An().fromJsonString(e,n)}static equals(e,n){return k.util.equals(An,e,n)}}An.runtime=k,An.typeName="google.protobuf.DescriptorProto.ExtensionRange",An.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Pn,opt:!0}]);class xn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new xn().fromBinary(e,n)}static fromJson(e,n){return new xn().fromJson(e,n)}static fromJsonString(e,n){return new xn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(xn,e,n)}}xn.runtime=k,xn.typeName="google.protobuf.DescriptorProto.ReservedRange",xn.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Pn extends P{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Pn().fromBinary(e,n)}static fromJson(e,n){return new Pn().fromJson(e,n)}static fromJsonString(e,n){return new Pn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Pn,e,n)}}Pn.runtime=k,Pn.typeName="google.protobuf.ExtensionRangeOptions",Pn.fields=k.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0},{no:2,name:"declaration",kind:"message",T:On,repeated:!0},{no:50,name:"features",kind:"message",T:De,opt:!0},{no:3,name:"verification",kind:"enum",T:k.getEnumType(Zs),opt:!0,default:Zs.UNVERIFIED}]);var Zs;(function(s){s[s.DECLARATION=0]="DECLARATION",s[s.UNVERIFIED=1]="UNVERIFIED"})(Zs||(Zs={})),k.util.setEnumType(Zs,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class On extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new On().fromBinary(e,n)}static fromJson(e,n){return new On().fromJson(e,n)}static fromJsonString(e,n){return new On().fromJsonString(e,n)}static equals(e,n){return k.util.equals(On,e,n)}}On.runtime=k,On.typeName="google.protobuf.ExtensionRangeOptions.Declaration",On.fields=k.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class Ut extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Ut().fromBinary(e,n)}static fromJson(e,n){return new Ut().fromJson(e,n)}static fromJsonString(e,n){return new Ut().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Ut,e,n)}}Ut.runtime=k,Ut.typeName="google.protobuf.FieldDescriptorProto",Ut.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:k.getEnumType(jr),opt:!0},{no:5,name:"type",kind:"enum",T:k.getEnumType(le),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:Jn,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var le;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.GROUP=10]="GROUP",s[s.MESSAGE=11]="MESSAGE",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.ENUM=14]="ENUM",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(le||(le={})),k.util.setEnumType(le,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var jr;(function(s){s[s.OPTIONAL=1]="OPTIONAL",s[s.REPEATED=3]="REPEATED",s[s.REQUIRED=2]="REQUIRED"})(jr||(jr={})),k.util.setEnumType(jr,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Cn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Cn().fromBinary(e,n)}static fromJson(e,n){return new Cn().fromJson(e,n)}static fromJsonString(e,n){return new Cn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Cn,e,n)}}Cn.runtime=k,Cn.typeName="google.protobuf.OneofDescriptorProto",Cn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:$n,opt:!0}]);class ln extends P{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new ln().fromBinary(e,n)}static fromJson(e,n){return new ln().fromJson(e,n)}static fromJsonString(e,n){return new ln().fromJsonString(e,n)}static equals(e,n){return k.util.equals(ln,e,n)}}ln.runtime=k,ln.typeName="google.protobuf.EnumDescriptorProto",ln.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Rn,repeated:!0},{no:3,name:"options",kind:"message",T:Fn,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Dn,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Dn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Dn().fromBinary(e,n)}static fromJson(e,n){return new Dn().fromJson(e,n)}static fromJsonString(e,n){return new Dn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Dn,e,n)}}Dn.runtime=k,Dn.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Dn.fields=k.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Rn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Rn().fromBinary(e,n)}static fromJson(e,n){return new Rn().fromJson(e,n)}static fromJsonString(e,n){return new Rn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Rn,e,n)}}Rn.runtime=k,Rn.typeName="google.protobuf.EnumValueDescriptorProto",Rn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:jn,opt:!0}]);class bn extends P{constructor(e){super(),this.method=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new bn().fromBinary(e,n)}static fromJson(e,n){return new bn().fromJson(e,n)}static fromJsonString(e,n){return new bn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(bn,e,n)}}bn.runtime=k,bn.typeName="google.protobuf.ServiceDescriptorProto",bn.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:Ln,repeated:!0},{no:3,name:"options",kind:"message",T:zn,opt:!0}]);class Ln extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Ln().fromBinary(e,n)}static fromJson(e,n){return new Ln().fromJson(e,n)}static fromJsonString(e,n){return new Ln().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Ln,e,n)}}Ln.runtime=k,Ln.typeName="google.protobuf.MethodDescriptorProto",Ln.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:Vn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class Bn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Bn().fromBinary(e,n)}static fromJson(e,n){return new Bn().fromJson(e,n)}static fromJsonString(e,n){return new Bn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Bn,e,n)}}Bn.runtime=k,Bn.typeName="google.protobuf.FileOptions",Bn.fields=k.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:k.getEnumType(ei),opt:!0,default:ei.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var ei;(function(s){s[s.SPEED=1]="SPEED",s[s.CODE_SIZE=2]="CODE_SIZE",s[s.LITE_RUNTIME=3]="LITE_RUNTIME"})(ei||(ei={})),k.util.setEnumType(ei,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class Mn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Mn().fromBinary(e,n)}static fromJson(e,n){return new Mn().fromJson(e,n)}static fromJsonString(e,n){return new Mn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Mn,e,n)}}Mn.runtime=k,Mn.typeName="google.protobuf.MessageOptions",Mn.fields=k.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Jn extends P{constructor(e){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Jn().fromBinary(e,n)}static fromJson(e,n){return new Jn().fromJson(e,n)}static fromJsonString(e,n){return new Jn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Jn,e,n)}}Jn.runtime=k,Jn.typeName="google.protobuf.FieldOptions",Jn.fields=k.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:k.getEnumType(ti),opt:!0,default:ti.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:k.getEnumType(zr),opt:!0,default:zr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:k.getEnumType(ro),opt:!0},{no:19,name:"targets",kind:"enum",T:k.getEnumType(so),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:Un,repeated:!0},{no:21,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var ti;(function(s){s[s.STRING=0]="STRING",s[s.CORD=1]="CORD",s[s.STRING_PIECE=2]="STRING_PIECE"})(ti||(ti={})),k.util.setEnumType(ti,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var zr;(function(s){s[s.JS_NORMAL=0]="JS_NORMAL",s[s.JS_STRING=1]="JS_STRING",s[s.JS_NUMBER=2]="JS_NUMBER"})(zr||(zr={})),k.util.setEnumType(zr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var ro;(function(s){s[s.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",s[s.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",s[s.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(ro||(ro={})),k.util.setEnumType(ro,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var so;(function(s){s[s.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",s[s.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",s[s.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",s[s.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",s[s.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",s[s.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",s[s.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",s[s.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",s[s.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",s[s.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(so||(so={})),k.util.setEnumType(so,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class Un extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Un().fromBinary(e,n)}static fromJson(e,n){return new Un().fromJson(e,n)}static fromJsonString(e,n){return new Un().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Un,e,n)}}Un.runtime=k,Un.typeName="google.protobuf.FieldOptions.EditionDefault",Un.fields=k.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class $n extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new $n().fromBinary(e,n)}static fromJson(e,n){return new $n().fromJson(e,n)}static fromJsonString(e,n){return new $n().fromJsonString(e,n)}static equals(e,n){return k.util.equals($n,e,n)}}$n.runtime=k,$n.typeName="google.protobuf.OneofOptions",$n.fields=k.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Fn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Fn().fromBinary(e,n)}static fromJson(e,n){return new Fn().fromJson(e,n)}static fromJsonString(e,n){return new Fn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Fn,e,n)}}Fn.runtime=k,Fn.typeName="google.protobuf.EnumOptions",Fn.fields=k.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class jn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new jn().fromBinary(e,n)}static fromJson(e,n){return new jn().fromJson(e,n)}static fromJsonString(e,n){return new jn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(jn,e,n)}}jn.runtime=k,jn.typeName="google.protobuf.EnumValueOptions",jn.fields=k.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:De,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class zn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new zn().fromBinary(e,n)}static fromJson(e,n){return new zn().fromJson(e,n)}static fromJsonString(e,n){return new zn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(zn,e,n)}}zn.runtime=k,zn.typeName="google.protobuf.ServiceOptions",zn.fields=k.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:De,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);class Vn extends P{constructor(e){super(),this.uninterpretedOption=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Vn().fromBinary(e,n)}static fromJson(e,n){return new Vn().fromJson(e,n)}static fromJsonString(e,n){return new Vn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Vn,e,n)}}Vn.runtime=k,Vn.typeName="google.protobuf.MethodOptions",Vn.fields=k.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:k.getEnumType(vr),opt:!0,default:vr.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:De,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:We,repeated:!0}]);var vr;(function(s){s[s.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",s[s.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",s[s.IDEMPOTENT=2]="IDEMPOTENT"})(vr||(vr={})),k.util.setEnumType(vr,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class We extends P{constructor(e){super(),this.name=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new We().fromBinary(e,n)}static fromJson(e,n){return new We().fromJson(e,n)}static fromJsonString(e,n){return new We().fromJsonString(e,n)}static equals(e,n){return k.util.equals(We,e,n)}}We.runtime=k,We.typeName="google.protobuf.UninterpretedOption",We.fields=k.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:qn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class qn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new qn().fromBinary(e,n)}static fromJson(e,n){return new qn().fromJson(e,n)}static fromJsonString(e,n){return new qn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(qn,e,n)}}qn.runtime=k,qn.typeName="google.protobuf.UninterpretedOption.NamePart",qn.fields=k.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class De extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new De().fromBinary(e,n)}static fromJson(e,n){return new De().fromJson(e,n)}static fromJsonString(e,n){return new De().fromJsonString(e,n)}static equals(e,n){return k.util.equals(De,e,n)}}De.runtime=k,De.typeName="google.protobuf.FeatureSet",De.fields=k.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:k.getEnumType(io),opt:!0},{no:2,name:"enum_type",kind:"enum",T:k.getEnumType(oo),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:k.getEnumType(Ss),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:k.getEnumType(ao),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:k.getEnumType(lo),opt:!0},{no:6,name:"json_format",kind:"enum",T:k.getEnumType(uo),opt:!0}]);var io;(function(s){s[s.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",s[s.EXPLICIT=1]="EXPLICIT",s[s.IMPLICIT=2]="IMPLICIT",s[s.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(io||(io={})),k.util.setEnumType(io,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var oo;(function(s){s[s.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",s[s.OPEN=1]="OPEN",s[s.CLOSED=2]="CLOSED"})(oo||(oo={})),k.util.setEnumType(oo,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var Ss;(function(s){s[s.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",s[s.PACKED=1]="PACKED",s[s.EXPANDED=2]="EXPANDED"})(Ss||(Ss={})),k.util.setEnumType(Ss,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var ao;(function(s){s[s.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",s[s.NONE=1]="NONE",s[s.VERIFY=2]="VERIFY"})(ao||(ao={})),k.util.setEnumType(ao,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var lo;(function(s){s[s.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",s[s.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",s[s.DELIMITED=2]="DELIMITED"})(lo||(lo={})),k.util.setEnumType(lo,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var uo;(function(s){s[s.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",s[s.ALLOW=1]="ALLOW",s[s.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(uo||(uo={})),k.util.setEnumType(uo,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class Yn extends P{constructor(e){super(),this.defaults=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Yn().fromBinary(e,n)}static fromJson(e,n){return new Yn().fromJson(e,n)}static fromJsonString(e,n){return new Yn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Yn,e,n)}}Yn.runtime=k,Yn.typeName="google.protobuf.FeatureSetDefaults",Yn.fields=k.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Wn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:k.getEnumType(Te),opt:!0}]);class Wn extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new Wn().fromBinary(e,n)}static fromJson(e,n){return new Wn().fromJson(e,n)}static fromJsonString(e,n){return new Wn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Wn,e,n)}}Wn.runtime=k,Wn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Wn.fields=k.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:k.getEnumType(Te),opt:!0},{no:2,name:"features",kind:"message",T:De,opt:!0}]);class Kn extends P{constructor(e){super(),this.location=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Kn().fromBinary(e,n)}static fromJson(e,n){return new Kn().fromJson(e,n)}static fromJsonString(e,n){return new Kn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Kn,e,n)}}Kn.runtime=k,Kn.typeName="google.protobuf.SourceCodeInfo",Kn.fields=k.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Gn,repeated:!0}]);class Gn extends P{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Gn().fromBinary(e,n)}static fromJson(e,n){return new Gn().fromJson(e,n)}static fromJsonString(e,n){return new Gn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Gn,e,n)}}Gn.runtime=k,Gn.typeName="google.protobuf.SourceCodeInfo.Location",Gn.fields=k.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Hn extends P{constructor(e){super(),this.annotation=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Hn().fromBinary(e,n)}static fromJson(e,n){return new Hn().fromJson(e,n)}static fromJsonString(e,n){return new Hn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Hn,e,n)}}Hn.runtime=k,Hn.typeName="google.protobuf.GeneratedCodeInfo",Hn.fields=k.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Xn,repeated:!0}]);class Xn extends P{constructor(e){super(),this.path=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Xn().fromBinary(e,n)}static fromJson(e,n){return new Xn().fromJson(e,n)}static fromJsonString(e,n){return new Xn().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Xn,e,n)}}Xn.runtime=k,Xn.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Xn.fields=k.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:k.getEnumType(co),opt:!0}]);var co;(function(s){s[s.NONE=0]="NONE",s[s.SET=1]="SET",s[s.ALIAS=2]="ALIAS"})(co||(co={})),k.util.setEnumType(co,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function f0(s,e){const n=s.values.find(i=>i.name===e);return y(n,`cannot parse ${s.name} default value: ${e}`),n.number}function d0(s,e){switch(s){case S.STRING:return e;case S.BYTES:{const n=h0(e);if(n===!1)throw new Error(`cannot parse ${S[s]} default value: ${e}`);return n}case S.INT64:case S.SFIXED64:case S.SINT64:return ce.parse(e);case S.UINT64:case S.FIXED64:return ce.uParse(e);case S.DOUBLE:case S.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case S.BOOL:return e==="true";case S.INT32:case S.UINT32:case S.SINT32:case S.FIXED32:case S.SFIXED32:return parseInt(e,10)}}function h0(s){const e=[],n={tail:s,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const a=this.tail.substring(0,i);return this.tail=this.tail.substring(i),a}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,8);if(isNaN(u))return!1;e.push(u);break}case"x":{const i=n.c,a=n.take(2);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;e.push(u);break}case"u":{const i=n.c,a=n.take(4);if(a===!1)return!1;const u=parseInt(i+a,16);if(isNaN(u))return!1;const d=new Uint8Array(4);new DataView(d.buffer).setInt32(0,u,!0),e.push(d[0],d[1],d[2],d[3]);break}case"U":{const i=n.c,a=n.take(8);if(a===!1)return!1;const u=ce.uEnc(i+a),d=new Uint8Array(8),h=new DataView(d.buffer);h.setInt32(0,u.lo,!0),h.setInt32(4,u.hi,!0),e.push(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}const m0=Yn.fromBinary(Qi.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function p0(s){const e=s.minimumEdition,n=s.maximumEdition;if(e===void 0||n===void 0||s.defaults.some(a=>a.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const i=new Map;return(a,...u)=>{var d,h;let p=i.get(a);if(p===void 0){if(a<e)throw new Error(`Edition ${Te[a]} is earlier than the minimum supported edition ${Te[e]}`);if(n<a)throw new Error(`Edition ${Te[a]} is later than the maximum supported edition ${Te[n]}`);let T;for(const x of s.defaults){const N=(d=x.edition)!==null&&d!==void 0?d:0;N>a||T!==void 0&&T.e>N||(T={e:N,f:(h=x.features)!==null&&h!==void 0?h:new De})}if(T===void 0)throw new Error(`No valid default found for edition ${Te[a]}`);p=T.f.toBinary(),i.set(a,p)}const g=De.fromBinary(p);for(const T of u)T!==void 0&&g.fromBinary(T.toBinary());if(!g0(g))throw new Error(`Invalid FeatureSet for edition ${Te[a]}`);return g}}function g0(s){for(const e of De.fields.list()){const n=s[e.localName];if(n===void 0||e.kind=="enum"&&n===0)return!1}return!0}function Md(s,e){var n;const i={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:p0((n=e==null?void 0:e.featureSetDefaults)!==null&&n!==void 0?n:m0)},u=(s instanceof Mt?s.file:s instanceof Uint8Array?Mt.fromBinary(s).file:s).map(d=>y0(d,i));return Object.assign({files:u},i)}function y0(s,e){var n,i;y(s.name,"invalid FileDescriptorProto: missing name");const a=Object.assign(Object.assign({kind:"file",proto:s,deprecated:(i=(n=s.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1},S0(s.syntax,s.edition)),{name:s.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return Qn(this.proto.sourceCodeInfo,[at.FileDescriptorProto_Syntax])},getPackageComments(){return Qn(this.proto.sourceCodeInfo,[at.FileDescriptorProto_Package])},getFeatures(){var u;return e.resolveFeatures(this.edition,(u=this.proto.options)===null||u===void 0?void 0:u.features)}});e.mapEntries.clear();for(const u of s.enumType)Jd(u,a,void 0,e);for(const u of s.messageType)Ud(u,a,void 0,e);for(const u of s.service)v0(u,a,e);Eu(a,e);for(const u of e.mapEntries.values())Nu(u,e);for(const u of a.messages)Nu(u,e),Eu(u,e);return e.mapEntries.clear(),a}function Eu(s,e){switch(s.kind){case"file":for(const n of s.proto.extension){const i=Fd(n,s,void 0,e);s.extensions.push(i),e.extensions.set(i.typeName,i)}break;case"message":for(const n of s.proto.extension){const i=Fd(n,s.file,s,e);s.nestedExtensions.push(i),e.extensions.set(i.typeName,i)}for(const n of s.nestedMessages)Eu(n,e);break}}function Nu(s,e){const n=s.proto.oneofDecl.map(a=>w0(a,s,e)),i=new Set;for(const a of s.proto.field){const u=E0(a,n),d=$d(a,s.file,s,u,e);s.fields.push(d),u===void 0?s.members.push(d):(u.fields.push(d),i.has(u)||(i.add(u),s.members.push(u)))}for(const a of n.filter(u=>i.has(u)))s.oneofs.push(a);for(const a of s.nestedMessages)Nu(a,e)}function Jd(s,e,n,i){var a,u,d;y(s.name,"invalid EnumDescriptorProto: missing name");const h={kind:"enum",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ra(s,n,e),values:[],sharedPrefix:Hv(s.name,s.value.map(p=>{var g;return(g=p.name)!==null&&g!==void 0?g:""})),toString(){return`enum ${this.typeName}`},getComments(){const p=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[at.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return Qn(e.proto.sourceCodeInfo,p)},getFeatures(){var p,g,T;const x=(g=(p=this.parent)===null||p===void 0?void 0:p.getFeatures())!==null&&g!==void 0?g:this.file.getFeatures();return i.resolveFeatures(this.file.edition,x,(T=this.proto.options)===null||T===void 0?void 0:T.features)}};i.enums.set(h.typeName,h),s.value.forEach(p=>{var g,T;y(p.name,"invalid EnumValueDescriptorProto: missing name"),y(p.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),h.values.push({kind:"enum_value",proto:p,deprecated:(T=(g=p.options)===null||g===void 0?void 0:g.deprecated)!==null&&T!==void 0?T:!1,parent:h,name:p.name,number:p.number,toString(){return`enum value ${h.typeName}.${this.name}`},declarationString(){var x;let N=`${this.name} = ${this.number}`;return((x=this.proto.options)===null||x===void 0?void 0:x.deprecated)===!0&&(N+=" [deprecated = true]"),N},getComments(){const x=[...this.parent.getComments().sourcePath,at.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return Qn(e.proto.sourceCodeInfo,x)},getFeatures(){var x;return i.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(x=this.proto.options)===null||x===void 0?void 0:x.features)}})}),((d=n==null?void 0:n.nestedEnums)!==null&&d!==void 0?d:e.enums).push(h)}function Ud(s,e,n,i){var a,u,d,h;y(s.name,"invalid DescriptorProto: missing name");const p={kind:"message",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:n,name:s.name,typeName:Ra(s,n,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const g=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[at.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return Qn(e.proto.sourceCodeInfo,g)},getFeatures(){var g,T,x;const N=(T=(g=this.parent)===null||g===void 0?void 0:g.getFeatures())!==null&&T!==void 0?T:this.file.getFeatures();return i.resolveFeatures(this.file.edition,N,(x=this.proto.options)===null||x===void 0?void 0:x.features)}};((d=s.options)===null||d===void 0?void 0:d.mapEntry)===!0?i.mapEntries.set(p.typeName,p):(((h=n==null?void 0:n.nestedMessages)!==null&&h!==void 0?h:e.messages).push(p),i.messages.set(p.typeName,p));for(const g of s.enumType)Jd(g,e,p,i);for(const g of s.nestedType)Ud(g,e,p,i)}function v0(s,e,n){var i,a;y(s.name,"invalid ServiceDescriptorProto: missing name");const u={kind:"service",proto:s,deprecated:(a=(i=s.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,name:s.name,typeName:Ra(s,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){const d=[at.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return Qn(e.proto.sourceCodeInfo,d)},getFeatures(){var d;return n.resolveFeatures(this.file.edition,this.file.getFeatures(),(d=this.proto.options)===null||d===void 0?void 0:d.features)}};e.services.push(u),n.services.set(u.typeName,u);for(const d of s.method)u.methods.push(T0(d,u,n))}function T0(s,e,n){var i,a,u;y(s.name,"invalid MethodDescriptorProto: missing name"),y(s.inputType,"invalid MethodDescriptorProto: missing input_type"),y(s.outputType,"invalid MethodDescriptorProto: missing output_type");let d;s.clientStreaming===!0&&s.serverStreaming===!0?d=Bt.BiDiStreaming:s.clientStreaming===!0?d=Bt.ClientStreaming:s.serverStreaming===!0?d=Bt.ServerStreaming:d=Bt.Unary;let h;switch((i=s.options)===null||i===void 0?void 0:i.idempotencyLevel){case vr.IDEMPOTENT:h=no.Idempotent;break;case vr.NO_SIDE_EFFECTS:h=no.NoSideEffects;break;case vr.IDEMPOTENCY_UNKNOWN:case void 0:h=void 0;break}const p=n.messages.get(ni(s.inputType)),g=n.messages.get(ni(s.outputType));y(p,`invalid MethodDescriptorProto: input_type ${s.inputType} not found`),y(g,`invalid MethodDescriptorProto: output_type ${s.inputType} not found`);const T=s.name;return{kind:"rpc",proto:s,deprecated:(u=(a=s.options)===null||a===void 0?void 0:a.deprecated)!==null&&u!==void 0?u:!1,parent:e,name:T,methodKind:d,input:p,output:g,idempotency:h,toString(){return`rpc ${e.typeName}.${T}`},getComments(){const x=[...this.parent.getComments().sourcePath,at.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return Qn(e.file.proto.sourceCodeInfo,x)},getFeatures(){var x;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(x=this.proto.options)===null||x===void 0?void 0:x.features)}}}function w0(s,e,n){return y(s.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:s,deprecated:!1,parent:e,fields:[],name:s.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){const i=[...this.parent.getComments().sourcePath,at.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return Qn(e.file.proto.sourceCodeInfo,i)},getFeatures(){var i;return n.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(i=this.proto.options)===null||i===void 0?void 0:i.features)}}}function $d(s,e,n,i,a){var u,d,h;y(s.name,"invalid FieldDescriptorProto: missing name"),y(s.number,"invalid FieldDescriptorProto: missing number"),y(s.type,"invalid FieldDescriptorProto: missing type");const p={proto:s,deprecated:(d=(u=s.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,name:s.name,number:s.number,parent:n,oneof:i,optional:N0(s,e.syntax),packedByDefault:I0(e,s,a.resolveFeatures),packed:_0(e,n,s,a.resolveFeatures),jsonName:s.jsonName===wu(s.name)?void 0:s.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:x0,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const T=[...this.parent.getComments().sourcePath,at.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return Qn(e.proto.sourceCodeInfo,T)},getFeatures(){var T;return a.resolveFeatures(e.edition,this.parent.getFeatures(),(T=this.proto.options)===null||T===void 0?void 0:T.features)}},g=s.label===jr.REPEATED;switch(s.type){case le.MESSAGE:case le.GROUP:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.mapEntries.get(ni(s.typeName));if(T!==void 0)return y(g,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},p),{kind:"field",fieldKind:"map",repeated:!1}),k0(T));const x=a.messages.get(ni(s.typeName));return y(x!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"message",repeated:g,message:x})}case le.ENUM:{y(s.typeName,"invalid FieldDescriptorProto: missing type_name");const T=a.enums.get(ni(s.typeName));return y(T!==void 0,`invalid FieldDescriptorProto: type_name ${s.typeName} not found`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"enum",getDefaultValue:jd,repeated:g,enum:T})}default:{const T=A0[s.type];return y(T,`invalid FieldDescriptorProto: unknown type ${s.type}`),Object.assign(Object.assign({},p),{kind:"field",fieldKind:"scalar",getDefaultValue:jd,repeated:g,scalar:T,longType:((h=s.options)===null||h===void 0?void 0:h.jstype)==zr.JS_STRING?ee.STRING:ee.BIGINT})}}}function Fd(s,e,n,i){y(s.extendee,"invalid FieldDescriptorProto: missing extendee");const a=$d(s,e,null,void 0,i),u=i.messages.get(ni(s.extendee));return y(u,`invalid FieldDescriptorProto: extendee ${s.extendee} not found`),Object.assign(Object.assign({},a),{kind:"extension",typeName:Ra(s,n,e),parent:n,file:e,extendee:u,toString(){return`extension ${this.typeName}`},getComments(){const d=this.parent?[...this.parent.getComments().sourcePath,at.DescriptorProto_Extension,this.parent.proto.extension.indexOf(s)]:[at.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(s)];return Qn(e.proto.sourceCodeInfo,d)},getFeatures(){var d,h;return i.resolveFeatures(this.file.edition,((d=this.parent)!==null&&d!==void 0?d:this.file).getFeatures(),(h=this.proto.options)===null||h===void 0?void 0:h.features)}})}function S0(s,e){let n,i;switch(s){case void 0:case"proto2":i="proto2",n=Te.EDITION_PROTO2;break;case"proto3":i="proto3",n=Te.EDITION_PROTO3;break;case"editions":switch(i="editions",e){case void 0:case Te.EDITION_1_TEST_ONLY:case Te.EDITION_2_TEST_ONLY:case Te.EDITION_99997_TEST_ONLY:case Te.EDITION_99998_TEST_ONLY:case Te.EDITION_99999_TEST_ONLY:case Te.EDITION_UNKNOWN:n=Te.EDITION_UNKNOWN;break;default:n=e;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${s}`)}if(s==="editions"&&e===Te.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${s} cannot have edition ${String(e)}`);return{syntax:i,edition:n}}function Ra(s,e,n){y(s.name,`invalid ${s.getType().typeName}: missing name`);let i;return e?i=`${e.typeName}.${s.name}`:n.proto.package!==void 0?i=`${n.proto.package}.${s.name}`:i=`${s.name}`,i}function ni(s){return s.startsWith(".")?s.substring(1):s}function k0(s){var e,n;y((e=s.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${s.toString()} to be a map entry`),y(s.fields.length===2,`invalid DescriptorProto: map entry ${s.toString()} has ${s.fields.length} fields`);const i=s.fields.find(d=>d.proto.number===1);y(i,`invalid DescriptorProto: map entry ${s.toString()} is missing key field`);const a=i.scalar;y(a!==void 0&&a!==S.BYTES&&a!==S.FLOAT&&a!==S.DOUBLE,`invalid DescriptorProto: map entry ${s.toString()} has unexpected key type ${(n=i.proto.type)!==null&&n!==void 0?n:-1}`);const u=s.fields.find(d=>d.proto.number===2);switch(y(u,`invalid DescriptorProto: map entry ${s.toString()} is missing value field`),u.fieldKind){case"scalar":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"scalar"})};case"message":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"message"})};case"enum":return{mapKey:a,mapValue:Object.assign(Object.assign({},u),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function E0(s,e){var n;const i=s.oneofIndex;if(i===void 0)return;let a;return s.proto3Optional!==!0&&(a=e[i],y(a,`invalid FieldDescriptorProto: oneof #${i} for field #${(n=s.number)!==null&&n!==void 0?n:-1} not found`)),a}function N0(s,e){switch(e){case"proto2":return s.oneofIndex===void 0&&s.label===jr.OPTIONAL;case"proto3":return s.proto3Optional===!0;case"editions":return!1}}function I0(s,e,n){const{repeatedFieldEncoding:i}=n(s.edition);if(i!=Ss.PACKED)return!1;switch(e.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:return!0}}function _0(s,e,n,i){var a,u,d,h,p,g;switch(n.type){case le.STRING:case le.BYTES:case le.GROUP:case le.MESSAGE:return!1;default:switch(s.edition){case Te.EDITION_PROTO2:return(u=(a=n.options)===null||a===void 0?void 0:a.packed)!==null&&u!==void 0?u:!1;case Te.EDITION_PROTO3:return(h=(d=n.options)===null||d===void 0?void 0:d.packed)!==null&&h!==void 0?h:!0;default:{const{repeatedFieldEncoding:T}=i(s.edition,(p=e==null?void 0:e.getFeatures())!==null&&p!==void 0?p:s.getFeatures(),(g=n.options)===null||g===void 0?void 0:g.features);return T==Ss.PACKED}}}}const A0={[le.DOUBLE]:S.DOUBLE,[le.FLOAT]:S.FLOAT,[le.INT64]:S.INT64,[le.UINT64]:S.UINT64,[le.INT32]:S.INT32,[le.FIXED64]:S.FIXED64,[le.FIXED32]:S.FIXED32,[le.BOOL]:S.BOOL,[le.STRING]:S.STRING,[le.GROUP]:void 0,[le.MESSAGE]:void 0,[le.BYTES]:S.BYTES,[le.UINT32]:S.UINT32,[le.ENUM]:void 0,[le.SFIXED32]:S.SFIXED32,[le.SFIXED64]:S.SFIXED64,[le.SINT32]:S.SINT32,[le.SINT64]:S.SINT64};function Qn(s,e){if(!s)return{leadingDetached:[],sourcePath:e};for(const n of s.location)if(n.path.length===e.length&&!n.path.some((i,a)=>e[a]!==i))return{leadingDetached:n.leadingDetachedComments,leading:n.leadingComments,trailing:n.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var at;(function(s){s[s.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",s[s.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",s[s.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",s[s.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",s[s.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",s[s.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",s[s.DescriptorProto_Field=2]="DescriptorProto_Field",s[s.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",s[s.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",s[s.DescriptorProto_Extension=6]="DescriptorProto_Extension",s[s.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",s[s.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",s[s.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(at||(at={}));function x0(){var s,e,n;const i=[];this.repeated&&i.push("repeated"),this.optional&&i.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===jr.REQUIRED&&i.push("required");let u;switch(this.fieldKind){case"scalar":u=S[this.scalar].toLowerCase();break;case"enum":u=this.enum.typeName;break;case"message":u=this.message.typeName;break;case"map":{const p=S[this.mapKey].toLowerCase();let g;switch(this.mapValue.kind){case"scalar":g=S[this.mapValue.scalar].toLowerCase();break;case"enum":g=this.mapValue.enum.typeName;break;case"message":g=this.mapValue.message.typeName;break}u=`map<${p}, ${g}>`;break}}i.push(`${u} ${this.name} = ${this.number}`);const d=[];((s=this.proto.options)===null||s===void 0?void 0:s.packed)!==void 0&&d.push(`packed = ${this.proto.options.packed.toString()}`);let h=this.proto.defaultValue;return h!==void 0&&((this.proto.type==le.BYTES||this.proto.type==le.STRING)&&(h='"'+h.replace('"','\\"')+'"'),d.push(`default = ${h}`)),this.jsonName!==void 0&&d.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.jstype)!==void 0&&d.push(`jstype = ${zr[this.proto.options.jstype]}`),((n=this.proto.options)===null||n===void 0?void 0:n.deprecated)===!0&&d.push("deprecated = true"),d.length>0&&i.push("["+d.join(", ")+"]"),i.join(" ")}function jd(){const s=this.proto.defaultValue;if(s!==void 0)switch(this.fieldKind){case"enum":return f0(this.enum,s);case"scalar":return d0(this.scalar,s);default:return}}function P0(...s){const e={},n={},i={},a={add(u){if("fields"in u){if(!this.findMessage(u.typeName)){e[u.typeName]=u;for(const d of u.fields.list())d.kind=="message"?this.add(d.T):d.kind=="map"&&d.V.kind=="message"?this.add(d.V.T):d.kind=="enum"&&this.add(d.T)}}else if("methods"in u){if(!this.findService(u.typeName)){i[u.typeName]=u;for(const d of Object.values(u.methods))this.add(d.I),this.add(d.O)}}else n[u.typeName]=u},findMessage(u){return e[u]},findEnum(u){return n[u]},findService(u){return i[u]}};for(const u of s)a.add(u);return a}let fo=class Bs extends P{constructor(e){super(),this.seconds=ce.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${A.json.debug(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ce.parse(a/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const a=(this.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Bs.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new Bs({seconds:ce.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new Bs().fromBinary(e,n)}static fromJson(e,n){return new Bs().fromJson(e,n)}static fromJsonString(e,n){return new Bs().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Bs,e,n)}};fo.runtime=A,fo.typeName="google.protobuf.Timestamp",fo.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class un extends P{constructor(e){super(),this.seconds=ce.zero,this.nanos=0,A.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(e)}`);if(this.seconds=ce.parse(a),typeof i[2]=="string"){const u=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(u),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new un().fromBinary(e,n)}static fromJson(e,n){return new un().fromJson(e,n)}static fromJsonString(e,n){return new un().fromJsonString(e,n)}static equals(e,n){return A.util.equals(un,e,n)}}un.runtime=A,un.typeName="google.protobuf.Duration",un.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class It extends P{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),a=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!a)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=a.fromBinary(this.value).toJson(e);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const a=e["@type"];if(typeof a!="string"||a=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const u=this.typeUrlToName(a),d=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(u);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${a} is not in the type registry`);let h;if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))h=d.fromJson(e.value,n);else{const p=Object.assign({},e);delete p["@type"],h=d.fromJson(p,n)}return this.packFrom(h),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof e=="string"?i=e:i=e.typeName,n===i}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),i=n>=0?e.substring(n+1):e;if(!i.length)throw new Error(`invalid type url: ${e}`);return i}static pack(e){const n=new It;return n.packFrom(e),n}static fromBinary(e,n){return new It().fromBinary(e,n)}static fromJson(e,n){return new It().fromJson(e,n)}static fromJsonString(e,n){return new It().fromJsonString(e,n)}static equals(e,n){return A.util.equals(It,e,n)}}It.runtime=A,It.typeName="google.protobuf.Any",It.fields=A.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Zn extends P{constructor(e){super(),A.util.initPartial(e,this)}static fromBinary(e,n){return new Zn().fromBinary(e,n)}static fromJson(e,n){return new Zn().fromJson(e,n)}static fromJsonString(e,n){return new Zn().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Zn,e,n)}}Zn.runtime=A,Zn.typeName="google.protobuf.Empty",Zn.fields=A.util.newFieldList(()=>[]);class er extends P{constructor(e){super(),this.paths=[],A.util.initPartial(e,this)}toJson(e){function n(i){let a=!1;const u=[];for(let d=0;d<i.length;d++){let h=i.charAt(d);switch(h){case"_":a=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u.push(h),a=!1;break;default:a&&(a=!1,h=h.toUpperCase()),u.push(h);break}}return u.join("")}return this.paths.map(i=>{if(i.match(/_[0-9]?_/g)||i.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+i+'" is irreversible');return n(i)}).join(",")}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+A.json.debug(e));if(e==="")return this;function i(a){if(a.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const u=a.replace(/[A-Z]/g,d=>"_"+d.toLowerCase());return u[0]==="_"?u.substring(1):u}return this.paths=e.split(",").map(i),this}static fromBinary(e,n){return new er().fromBinary(e,n)}static fromJson(e,n){return new er().fromJson(e,n)}static fromJsonString(e,n){return new er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(er,e,n)}}er.runtime=A,er.typeName="google.protobuf.FieldMask",er.fields=A.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var ks;(function(s){s[s.NULL_VALUE=0]="NULL_VALUE"})(ks||(ks={})),A.util.setEnumType(ks,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class $t extends P{constructor(e){super(),this.fields={},A.util.initPartial(e,this)}toJson(e){const n={};for(const[i,a]of Object.entries(this.fields))n[i]=a.toJson(e);return n}fromJson(e,n){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+A.json.debug(e));for(const[i,a]of Object.entries(e))this.fields[i]=pt.fromJson(a);return this}static fromBinary(e,n){return new $t().fromBinary(e,n)}static fromJson(e,n){return new $t().fromJson(e,n)}static fromJsonString(e,n){return new $t().fromJsonString(e,n)}static equals(e,n){return A.util.equals($t,e,n)}}$t.runtime=A,$t.typeName="google.protobuf.Struct",$t.fields=A.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:pt}}]);class pt extends P{constructor(e){super(),this.kind={case:void 0},A.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,n){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:ks.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:Ft.fromJson(e)}:this.kind={case:"structValue",value:$t.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+A.json.debug(e))}return this}static fromBinary(e,n){return new pt().fromBinary(e,n)}static fromJson(e,n){return new pt().fromJson(e,n)}static fromJsonString(e,n){return new pt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(pt,e,n)}}pt.runtime=A,pt.typeName="google.protobuf.Value",pt.fields=A.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:A.getEnumType(ks),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:$t,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:Ft,oneof:"kind"}]);class Ft extends P{constructor(e){super(),this.values=[],A.util.initPartial(e,this)}toJson(e){return this.values.map(n=>n.toJson())}fromJson(e,n){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+A.json.debug(e));for(let i of e)this.values.push(pt.fromJson(i));return this}static fromBinary(e,n){return new Ft().fromBinary(e,n)}static fromJson(e,n){return new Ft().fromJson(e,n)}static fromJsonString(e,n){return new Ft().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ft,e,n)}}Ft.runtime=A,Ft.typeName="google.protobuf.ListValue",Ft.fields=A.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:pt,repeated:!0}]);class jt extends P{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.DOUBLE,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.DOUBLE,e)}catch(i){let a='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new jt().fromBinary(e,n)}static fromJson(e,n){return new jt().fromJson(e,n)}static fromJsonString(e,n){return new jt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(jt,e,n)}}jt.runtime=A,jt.typeName="google.protobuf.DoubleValue",jt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),jt.fieldWrapper={wrapField(s){return new jt({value:s})},unwrapField(s){return s.value}};class zt extends P{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.FLOAT,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.FLOAT,e)}catch(i){let a='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new zt().fromBinary(e,n)}static fromJson(e,n){return new zt().fromJson(e,n)}static fromJsonString(e,n){return new zt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(zt,e,n)}}zt.runtime=A,zt.typeName="google.protobuf.FloatValue",zt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),zt.fieldWrapper={wrapField(s){return new zt({value:s})},unwrapField(s){return s.value}};class Vt extends P{constructor(e){super(),this.value=ce.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.INT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.INT64,e)}catch(i){let a='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Vt().fromBinary(e,n)}static fromJson(e,n){return new Vt().fromJson(e,n)}static fromJsonString(e,n){return new Vt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Vt,e,n)}}Vt.runtime=A,Vt.typeName="google.protobuf.Int64Value",Vt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),Vt.fieldWrapper={wrapField(s){return new Vt({value:s})},unwrapField(s){return s.value}};class qt extends P{constructor(e){super(),this.value=ce.zero,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.UINT64,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.UINT64,e)}catch(i){let a='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qt().fromBinary(e,n)}static fromJson(e,n){return new qt().fromJson(e,n)}static fromJsonString(e,n){return new qt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qt,e,n)}}qt.runtime=A,qt.typeName="google.protobuf.UInt64Value",qt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),qt.fieldWrapper={wrapField(s){return new qt({value:s})},unwrapField(s){return s.value}};class Yt extends P{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.INT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.INT32,e)}catch(i){let a='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Yt().fromBinary(e,n)}static fromJson(e,n){return new Yt().fromJson(e,n)}static fromJsonString(e,n){return new Yt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Yt,e,n)}}Yt.runtime=A,Yt.typeName="google.protobuf.Int32Value",Yt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),Yt.fieldWrapper={wrapField(s){return new Yt({value:s})},unwrapField(s){return s.value}};class Wt extends P{constructor(e){super(),this.value=0,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.UINT32,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.UINT32,e)}catch(i){let a='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Wt().fromBinary(e,n)}static fromJson(e,n){return new Wt().fromJson(e,n)}static fromJsonString(e,n){return new Wt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Wt,e,n)}}Wt.runtime=A,Wt.typeName="google.protobuf.UInt32Value",Wt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Wt.fieldWrapper={wrapField(s){return new Wt({value:s})},unwrapField(s){return s.value}};class Kt extends P{constructor(e){super(),this.value=!1,A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.BOOL,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.BOOL,e)}catch(i){let a='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Kt().fromBinary(e,n)}static fromJson(e,n){return new Kt().fromJson(e,n)}static fromJsonString(e,n){return new Kt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Kt,e,n)}}Kt.runtime=A,Kt.typeName="google.protobuf.BoolValue",Kt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Kt.fieldWrapper={wrapField(s){return new Kt({value:s})},unwrapField(s){return s.value}};let Es=class qo extends P{constructor(e){super(),this.value="",A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.STRING,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.STRING,e)}catch(i){let a='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new qo().fromBinary(e,n)}static fromJson(e,n){return new qo().fromJson(e,n)}static fromJsonString(e,n){return new qo().fromJsonString(e,n)}static equals(e,n){return A.util.equals(qo,e,n)}};Es.runtime=A,Es.typeName="google.protobuf.StringValue",Es.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Es.fieldWrapper={wrapField(s){return new Es({value:s})},unwrapField(s){return s.value}};class Gt extends P{constructor(e){super(),this.value=new Uint8Array(0),A.util.initPartial(e,this)}toJson(e){return A.json.writeScalar(S.BYTES,this.value,!0)}fromJson(e,n){try{this.value=A.json.readScalar(S.BYTES,e)}catch(i){let a='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(e,n){return new Gt().fromBinary(e,n)}static fromJson(e,n){return new Gt().fromJson(e,n)}static fromJsonString(e,n){return new Gt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Gt,e,n)}}Gt.runtime=A,Gt.typeName="google.protobuf.BytesValue",Gt.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),Gt.fieldWrapper={wrapField(s){return new Gt({value:s})},unwrapField(s){return s.value}};const O0=[It,un,Zn,er,$t,pt,Ft,fo,un,jt,zt,Vt,Yt,Wt,qt,Kt,Es,Gt],C0=[I(ks)];function D0(s,e=!0){const n=s instanceof Uint8Array||s instanceof Mt?Md(s):s,i={},a={},u={};if(e){for(const d of O0)a[d.typeName]=d;for(const d of C0)i[d.typeName]=d}return{findEnum(d){const h=i[d];if(h)return h;const p=n.enums.get(d);if(!p)return;const T=(p.file.syntax=="proto3"?A:k).makeEnumType(d,p.values.map(x=>({no:x.number,name:x.name,localName:Ca(x)})),{});return i[d]=T,T},findMessage(d){const h=a[d];if(h)return h;const p=n.messages.get(d);if(!p)return;const g=p.file.syntax=="proto3"?A:k,T=[],x=g.makeMessageType(d,()=>T,{localName:Ca(p)});a[d]=x;for(const N of p.fields){const C=R0(N,this);T.push(C)}return x},findService(d){const h=u[d];if(h)return h;const p=n.services.get(d);if(!p)return;const g={};for(const T of p.methods){const x=this.findMessage(T.input.typeName),N=this.findMessage(T.output.typeName);y(x,`message "${T.input.typeName}" for ${T.toString()} not found`),y(N,`output message "${T.output.typeName}" for ${T.toString()} not found`),g[Ca(T)]={name:T.name,I:x,O:N,kind:T.methodKind,idempotency:T.idempotency}}return u[d]={typeName:p.typeName,methods:g}}}}function R0(s,e){switch(s.fieldKind){case"map":return b0(s,e);case"message":return B0(s,e);case"enum":{const n=M0(s,e);return n.default=s.getDefaultValue(),n}case"scalar":{const n=L0(s);return n.default=s.getDefaultValue(),n}}}function b0(s,e){const n={kind:"map",no:s.number,name:s.name,jsonName:s.jsonName,K:s.mapKey};if(s.mapValue.message){const i=e.findMessage(s.mapValue.message.typeName);return y(i,`message "${s.mapValue.message.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"message",T:i}})}if(s.mapValue.enum){const i=e.findEnum(s.mapValue.enum.typeName);return y(i,`enum "${s.mapValue.enum.typeName}" for ${s.toString()} not found`),Object.assign(Object.assign({},n),{V:{kind:"enum",T:i}})}return Object.assign(Object.assign({},n),{V:{kind:"scalar",T:s.mapValue.scalar}})}function L0(s){const e=s.longType==ee.STRING?{L:ee.STRING}:{},n=Object.assign({kind:"scalar",no:s.number,name:s.name,jsonName:s.jsonName,T:s.scalar},e);return s.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:s.packed,oneof:void 0,T:s.scalar}):s.oneof?Object.assign(Object.assign({},n),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function B0(s,e){const n=e.findMessage(s.message.typeName);y(n,`message "${s.message.typeName}" for ${s.toString()} not found`);const i={kind:"message",no:s.number,name:s.name,jsonName:s.jsonName,T:n,delimited:s.proto.type==le.GROUP};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function M0(s,e){const n=e.findEnum(s.enum.typeName);y(n,`enum "${s.enum.typeName}" for ${s.toString()} not found`);const i={kind:"enum",no:s.number,name:s.name,jsonName:s.jsonName,T:n};return s.repeated?Object.assign(Object.assign({},i),{repeated:!0,packed:s.packed,oneof:void 0}):s.oneof?Object.assign(Object.assign({},i),{oneof:s.oneof.name}):s.optional?Object.assign(Object.assign({},i),{opt:!0}):i}function zd(s){if(!(s instanceof P))return s;const e=s.getType(),n={};for(const i of e.fields.byMember()){const a=s[i.localName];let u;if(i.repeated)u=a.map(d=>ba(d));else if(i.kind=="map"){u={};for(const[d,h]of Object.entries(a))u[d]=ba(h)}else i.kind=="oneof"?u=i.findField(a.case)?{case:a.case,value:ba(a.value)}:{case:void 0}:u=ba(a);n[i.localName]=u}return n}function ba(s){if(s===void 0)return s;if(s instanceof P)return zd(s);if(s instanceof Uint8Array){const e=new Uint8Array(s.byteLength);return e.set(s),e}return s}class tr extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new tr().fromBinary(e,n)}static fromJson(e,n){return new tr().fromJson(e,n)}static fromJsonString(e,n){return new tr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(tr,e,n)}}tr.runtime=k,tr.typeName="google.protobuf.compiler.Version",tr.fields=k.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class Tr extends P{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new Tr().fromBinary(e,n)}static fromJson(e,n){return new Tr().fromJson(e,n)}static fromJsonString(e,n){return new Tr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(Tr,e,n)}}Tr.runtime=k,Tr.typeName="google.protobuf.compiler.CodeGeneratorRequest",Tr.fields=k.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Jt,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Jt,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:tr,opt:!0}]);class wr extends P{constructor(e){super(),this.file=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new wr().fromBinary(e,n)}static fromJson(e,n){return new wr().fromJson(e,n)}static fromJsonString(e,n){return new wr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(wr,e,n)}}wr.runtime=k,wr.typeName="google.protobuf.compiler.CodeGeneratorResponse",wr.fields=k.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:nr,repeated:!0}]);var La;(function(s){s[s.NONE=0]="NONE",s[s.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",s[s.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(La||(La={})),k.util.setEnumType(La,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class nr extends P{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new nr().fromBinary(e,n)}static fromJson(e,n){return new nr().fromJson(e,n)}static fromJsonString(e,n){return new nr().fromJsonString(e,n)}static equals(e,n){return k.util.equals(nr,e,n)}}nr.runtime=k,nr.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",nr.fields=k.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Hn,opt:!0}]);class Ht extends P{constructor(e){super(),this.fileName="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Ht().fromBinary(e,n)}static fromJson(e,n){return new Ht().fromJson(e,n)}static fromJsonString(e,n){return new Ht().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Ht,e,n)}}Ht.runtime=A,Ht.typeName="google.protobuf.SourceContext",Ht.fields=A.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var Xt;(function(s){s[s.PROTO2=0]="PROTO2",s[s.PROTO3=1]="PROTO3",s[s.EDITIONS=2]="EDITIONS"})(Xt||(Xt={})),A.util.setEnumType(Xt,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class Sr extends P{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Xt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new Sr().fromBinary(e,n)}static fromJson(e,n){return new Sr().fromJson(e,n)}static fromJsonString(e,n){return new Sr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Sr,e,n)}}Sr.runtime=A,Sr.typeName="google.protobuf.Type",Sr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:rr,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:lt,repeated:!0},{no:5,name:"source_context",kind:"message",T:Ht},{no:6,name:"syntax",kind:"enum",T:A.getEnumType(Xt)},{no:7,name:"edition",kind:"scalar",T:9}]);class rr extends P{constructor(e){super(),this.kind=ri.TYPE_UNKNOWN,this.cardinality=si.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",A.util.initPartial(e,this)}static fromBinary(e,n){return new rr().fromBinary(e,n)}static fromJson(e,n){return new rr().fromJson(e,n)}static fromJsonString(e,n){return new rr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(rr,e,n)}}rr.runtime=A,rr.typeName="google.protobuf.Field",rr.fields=A.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:A.getEnumType(ri)},{no:2,name:"cardinality",kind:"enum",T:A.getEnumType(si)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:lt,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var ri;(function(s){s[s.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",s[s.TYPE_DOUBLE=1]="TYPE_DOUBLE",s[s.TYPE_FLOAT=2]="TYPE_FLOAT",s[s.TYPE_INT64=3]="TYPE_INT64",s[s.TYPE_UINT64=4]="TYPE_UINT64",s[s.TYPE_INT32=5]="TYPE_INT32",s[s.TYPE_FIXED64=6]="TYPE_FIXED64",s[s.TYPE_FIXED32=7]="TYPE_FIXED32",s[s.TYPE_BOOL=8]="TYPE_BOOL",s[s.TYPE_STRING=9]="TYPE_STRING",s[s.TYPE_GROUP=10]="TYPE_GROUP",s[s.TYPE_MESSAGE=11]="TYPE_MESSAGE",s[s.TYPE_BYTES=12]="TYPE_BYTES",s[s.TYPE_UINT32=13]="TYPE_UINT32",s[s.TYPE_ENUM=14]="TYPE_ENUM",s[s.TYPE_SFIXED32=15]="TYPE_SFIXED32",s[s.TYPE_SFIXED64=16]="TYPE_SFIXED64",s[s.TYPE_SINT32=17]="TYPE_SINT32",s[s.TYPE_SINT64=18]="TYPE_SINT64"})(ri||(ri={})),A.util.setEnumType(ri,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var si;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.OPTIONAL=1]="OPTIONAL",s[s.REQUIRED=2]="REQUIRED",s[s.REPEATED=3]="REPEATED"})(si||(si={})),A.util.setEnumType(si,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class kr extends P{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Xt.PROTO2,this.edition="",A.util.initPartial(e,this)}static fromBinary(e,n){return new kr().fromBinary(e,n)}static fromJson(e,n){return new kr().fromJson(e,n)}static fromJsonString(e,n){return new kr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(kr,e,n)}}kr.runtime=A,kr.typeName="google.protobuf.Enum",kr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:sr,repeated:!0},{no:3,name:"options",kind:"message",T:lt,repeated:!0},{no:4,name:"source_context",kind:"message",T:Ht},{no:5,name:"syntax",kind:"enum",T:A.getEnumType(Xt)},{no:6,name:"edition",kind:"scalar",T:9}]);class sr extends P{constructor(e){super(),this.name="",this.number=0,this.options=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new sr().fromBinary(e,n)}static fromJson(e,n){return new sr().fromJson(e,n)}static fromJsonString(e,n){return new sr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(sr,e,n)}}sr.runtime=A,sr.typeName="google.protobuf.EnumValue",sr.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:lt,repeated:!0}]);class lt extends P{constructor(e){super(),this.name="",A.util.initPartial(e,this)}static fromBinary(e,n){return new lt().fromBinary(e,n)}static fromJson(e,n){return new lt().fromJson(e,n)}static fromJsonString(e,n){return new lt().fromJsonString(e,n)}static equals(e,n){return A.util.equals(lt,e,n)}}lt.runtime=A,lt.typeName="google.protobuf.Option",lt.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:It}]);class Er extends P{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Xt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new Er().fromBinary(e,n)}static fromJson(e,n){return new Er().fromJson(e,n)}static fromJsonString(e,n){return new Er().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Er,e,n)}}Er.runtime=A,Er.typeName="google.protobuf.Api",Er.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:ir,repeated:!0},{no:3,name:"options",kind:"message",T:lt,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Ht},{no:6,name:"mixins",kind:"message",T:or,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Xt)}]);class ir extends P{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Xt.PROTO2,A.util.initPartial(e,this)}static fromBinary(e,n){return new ir().fromBinary(e,n)}static fromJson(e,n){return new ir().fromJson(e,n)}static fromJsonString(e,n){return new ir().fromJsonString(e,n)}static equals(e,n){return A.util.equals(ir,e,n)}}ir.runtime=A,ir.typeName="google.protobuf.Method",ir.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:lt,repeated:!0},{no:7,name:"syntax",kind:"enum",T:A.getEnumType(Xt)}]);class or extends P{constructor(e){super(),this.name="",this.root="",A.util.initPartial(e,this)}static fromBinary(e,n){return new or().fromBinary(e,n)}static fromJson(e,n){return new or().fromJson(e,n)}static fromJsonString(e,n){return new or().fromJsonString(e,n)}static equals(e,n){return A.util.equals(or,e,n)}}or.runtime=A,or.typeName="google.protobuf.Mixin",or.fields=A.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);const Iu=Object.freeze(Object.defineProperty({__proto__:null,Any:It,Api:Er,BinaryReader:$r,BinaryWriter:_n,BoolValue:Kt,BytesValue:Gt,CodeGeneratorRequest:Tr,CodeGeneratorResponse:wr,get CodeGeneratorResponse_Feature(){return La},CodeGeneratorResponse_File:nr,DescriptorProto:an,DescriptorProto_ExtensionRange:An,DescriptorProto_ReservedRange:xn,DoubleValue:jt,Duration:un,get Edition(){return Te},Empty:Zn,Enum:kr,EnumDescriptorProto:ln,EnumDescriptorProto_EnumReservedRange:Dn,EnumOptions:Fn,EnumValue:sr,EnumValueDescriptorProto:Rn,EnumValueOptions:jn,ExtensionRangeOptions:Pn,ExtensionRangeOptions_Declaration:On,get ExtensionRangeOptions_VerificationState(){return Zs},FeatureSet:De,FeatureSetDefaults:Yn,FeatureSetDefaults_FeatureSetEditionDefault:Wn,get FeatureSet_EnumType(){return oo},get FeatureSet_FieldPresence(){return io},get FeatureSet_JsonFormat(){return uo},get FeatureSet_MessageEncoding(){return lo},get FeatureSet_RepeatedFieldEncoding(){return Ss},get FeatureSet_Utf8Validation(){return ao},Field:rr,FieldDescriptorProto:Ut,get FieldDescriptorProto_Label(){return jr},get FieldDescriptorProto_Type(){return le},FieldMask:er,FieldOptions:Jn,get FieldOptions_CType(){return ti},FieldOptions_EditionDefault:Un,get FieldOptions_JSType(){return zr},get FieldOptions_OptionRetention(){return ro},get FieldOptions_OptionTargetType(){return so},get Field_Cardinality(){return si},get Field_Kind(){return ri},FileDescriptorProto:Jt,FileDescriptorSet:Mt,FileOptions:Bn,get FileOptions_OptimizeMode(){return ei},FloatValue:zt,GeneratedCodeInfo:Hn,GeneratedCodeInfo_Annotation:Xn,get GeneratedCodeInfo_Annotation_Semantic(){return co},Int32Value:Yt,Int64Value:Vt,ListValue:Ft,get LongType(){return ee},Message:P,MessageOptions:Mn,Method:ir,MethodDescriptorProto:Ln,get MethodIdempotency(){return no},get MethodKind(){return Bt},MethodOptions:Vn,get MethodOptions_IdempotencyLevel(){return vr},Mixin:or,get NullValue(){return ks},OneofDescriptorProto:Cn,OneofOptions:$n,Option:lt,get ScalarType(){return S},ServiceDescriptorProto:bn,ServiceOptions:zn,SourceCodeInfo:Kn,SourceCodeInfo_Location:Gn,SourceContext:Ht,StringValue:Es,Struct:$t,get Syntax(){return Xt},Timestamp:fo,Type:Sr,UInt32Value:Wt,UInt64Value:qt,UninterpretedOption:We,UninterpretedOption_NamePart:qn,Value:pt,Version:tr,get WireType(){return ge},codegenInfo:c0,createDescriptorSet:Md,createRegistry:P0,createRegistryFromDescriptors:D0,proto2:k,proto3:A,protoBase64:Qi,protoDelimited:ku,protoDouble:o0,protoInt64:ce,toPlainMessage:zd},Symbol.toStringTag,{value:"Module"}));function Vd(s){const e=m[s];return typeof e!="string"?s.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class ze extends Error{constructor(e,n=m.Unknown,i,a,u){super(J0(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=a??[],this.cause=u}static from(e,n=m.Unknown){return e instanceof ze?e:e instanceof Error?e.name=="AbortError"?new ze(e.message,m.Canceled):new ze(e.message,n,void 0,void 0,e):new ze(String(e),n,void 0,void 0,e)}findDetails(e){const n="typeName"in e?{findMessage:a=>a===e.typeName?e:void 0}:e,i=[];for(const a of this.details){if(a instanceof P){n.findMessage(a.getType().typeName)&&i.push(a);continue}const u=n.findMessage(a.type);if(u)try{i.push(u.fromBinary(a.value))}catch{}}return i}}function J0(s,e){return s.length?`[${Vd(e)}] ${s}`:`[${Vd(e)}]`}function U0(s,e,n){try{const i=Qi.dec(s);return e?e.fromBinary(i,n):i}catch(i){throw ze.from(i,m.DataLoss)}}function $0(s,e){const n={};for(const[i,a]of Object.entries(s.methods)){const u=e(Object.assign(Object.assign({},a),{localName:i,service:s}));u!=null&&(n[i]=u)}return n}function qd(s){let e,n=new Uint8Array(0);function i(a){const u=new Uint8Array(n.length+a.length);u.set(n),u.set(a,n.length),n=u}return new ReadableStream({start(){e=s.getReader()},async pull(a){let u;for(;;){if(u===void 0&&n.byteLength>=5){let p=0;for(let g=1;g<5;g++)p=(p<<8)+n[g];u={flags:n[0],length:p}}if(u!==void 0&&n.byteLength>=u.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(u===void 0){if(n.byteLength==0){a.close();return}a.error(new ze("premature end of stream",m.DataLoss));return}const d=n.subarray(5,5+u.length);n=n.subarray(5+u.length),a.enqueue({flags:u.flags,data:d})}})}function Yd(s,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,s),i.setUint32(1,e.length),n}var F0=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},ho=globalThis&&globalThis.__await||function(s){return this instanceof ho?(this.v=s,this):new ho(s)},j0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(N){i[N]&&(a[N]=function(C){return new Promise(function(U,V){u.push([N,C,U,V])>1||h(N,C)})})}function h(N,C){try{p(i[N](C))}catch(U){x(u[0][3],U)}}function p(N){N.value instanceof ho?Promise.resolve(N.value.v).then(g,T):x(u[0][2],N)}function g(N){h("next",N)}function T(N){h("throw",N)}function x(N,C){N(C),u.shift(),u.length&&h(u[0][0],u[0][1])}},z0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:ho(s[a](d)),done:!1}:u?u(d):d}:u}};function V0(s){return j0(this,arguments,function*(){yield ho(yield*z0(F0(s)))})}var Wd=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=s[u]&&function(d){return new Promise(function(h,p){d=s[u](d),a(h,p,d.done,d.value)})}}function a(u,d,h,p){Promise.resolve(p).then(function(g){u({value:g,done:h})},d)}},ii=globalThis&&globalThis.__await||function(s){return this instanceof ii?(this.v=s,this):new ii(s)},q0=globalThis&&globalThis.__asyncDelegator||function(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,u){e[a]=s[a]?function(d){return(n=!n)?{value:ii(s[a](d)),done:!1}:u?u(d):d}:u}},Y0=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(N){i[N]&&(a[N]=function(C){return new Promise(function(U,V){u.push([N,C,U,V])>1||h(N,C)})})}function h(N,C){try{p(i[N](C))}catch(U){x(u[0][3],U)}}function p(N){N.value instanceof ii?Promise.resolve(N.value.v).then(g,T):x(u[0][2],N)}function g(N){h("next",N)}function T(N){h("throw",N)}function x(N,C){N(C),u.shift(),u.length&&h(u[0][0],u[0][1])}};function W0(s,e){return $0(s,n=>{switch(n.kind){case Bt.Unary:return K0(e,s,n);case Bt.ServerStreaming:return G0(e,s,n);case Bt.ClientStreaming:return H0(e,s,n);case Bt.BiDiStreaming:return X0(e,s,n);default:return null}})}function K0(s,e,n){return async function(i,a){var u,d;const h=await s.unary(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);return(u=a==null?void 0:a.onHeader)===null||u===void 0||u.call(a,h.header),(d=a==null?void 0:a.onTrailer)===null||d===void 0||d.call(a,h.trailer),h.message}}function G0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,V0([i]),a==null?void 0:a.contextValues),a)}}function H0(s,e,n){return async function(i,a){var u,d,h,p,g,T;const x=await s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);(g=a==null?void 0:a.onHeader)===null||g===void 0||g.call(a,x.header);let N;try{for(var C=!0,U=Wd(x.message),V;V=await U.next(),u=V.done,!u;C=!0)p=V.value,C=!1,N=p}catch(Q){d={error:Q}}finally{try{!C&&!u&&(h=U.return)&&await h.call(U)}finally{if(d)throw d.error}}if(!N)throw new ze("protocol error: missing response message",m.Internal);return(T=a==null?void 0:a.onTrailer)===null||T===void 0||T.call(a,x.trailer),N}}function X0(s,e,n){return function(i,a){return Kd(s.stream(e,n,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues),a)}}function Kd(s,e){const n=function(){var i,a;return Y0(this,arguments,function*(){const u=yield ii(s);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,u.header),yield ii(yield*q0(Wd(u.message))),(a=e==null?void 0:e.onTrailer)===null||a===void 0||a.call(e,u.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function Q0(...s){const e=new AbortController,n=s.filter(a=>a!==void 0).concat(e.signal);for(const a of n){if(a.aborted){i.apply(a);break}a.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(Gd(this));for(const a of n)a.removeEventListener("abort",i)}return e}function Z0(s){const e=new AbortController,n=()=>{e.abort(new ze("the operation timed out",m.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?n():i=setTimeout(n,s)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function Gd(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Hd(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,e){return this[s.id]=e,this},delete(s){return delete this[s.id],this}}}const _u=128;function Xd(s){const e=new Headers,n=new TextDecoder().decode(s).split(`\r
`);for(const i of n){if(i==="")continue;const a=i.indexOf(":");if(a>0){const u=i.substring(0,a).trim(),d=i.substring(a+1).trim();e.append(u,d)}}return e}const eT="Content-Type",tT="Grpc-Timeout",Qd="Grpc-Status",Zd="Grpc-Message",nT="Grpc-Status-Details-Bin",rT="User-Agent",sT="X-User-Agent",iT="X-Grpc-Web",oT="application/grpc-web+proto",aT="application/grpc-web+json";class Nr extends P{constructor(e){super(),this.code=0,this.message="",this.details=[],A.util.initPartial(e,this)}static fromBinary(e,n){return new Nr().fromBinary(e,n)}static fromJson(e,n){return new Nr().fromJson(e,n)}static fromJsonString(e,n){return new Nr().fromJsonString(e,n)}static equals(e,n){return A.util.equals(Nr,e,n)}}Nr.runtime=A,Nr.typeName="google.rpc.Status",Nr.fields=A.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:It,repeated:!0}]);const lT="0";function eh(s){var e;const n=s.get(nT);if(n!=null){const a=U0(n,Nr);if(a.code==0)return;const u=new ze(a.message,a.code,s);return u.details=a.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),u}const i=s.get(Qd);if(i!=null){if(i===lT)return;const a=parseInt(i,10);return a in m?new ze(decodeURIComponent((e=s.get(Zd))!==null&&e!==void 0?e:""),a,s):new ze(`invalid grpc-status: ${i}`,m.Internal,s)}}function th(s,e,n){const i=typeof e=="string"?e:e.typeName,a=typeof n=="string"?n:n.name;return s.toString().replace(/\/?$/,`/${i}/${a}`)}function nh(s,e){return e instanceof P?e:new s(e)}function uT(s,e){function n(i){return i.done===!0?i:{done:i.done,value:nh(s,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),a={next:()=>i.next().then(n)};return i.throw!==void 0&&(a.throw=u=>i.throw(u).then(n)),i.return!==void 0&&(a.return=u=>i.return(u).then(n)),a}}}function cT(s){var e;const n=Object.assign({},s);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function rh(s,e,n,i){const a=e?sh(s.I,i):ih(s.I,n);return{parse:(e?sh(s.O,i):ih(s.O,n)).parse,serialize:a.serialize}}function sh(s,e){return{parse(n){try{return s.fromBinary(n,e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new ze(`parse binary: ${a}`,m.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(i){const a=i instanceof Error?i.message:String(i);throw new ze(`serialize binary: ${a}`,m.Internal)}}}}function ih(s,e){var n,i;const a=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,u=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=cT(e);return{parse(h){try{const p=u.decode(h);return s.fromJsonString(p,d)}catch(p){throw ze.from(p,m.InvalidArgument)}},serialize(h){try{const p=h.toJsonString(d);return a.encode(p)}catch(p){throw ze.from(p,m.Internal)}}}}function fT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:nh(s.req.method.I,s.req.message),signal:n});return e(u).then(d=>(a(),d),i)}function dT(s){const e=ah(s.next,s.interceptors),[n,i,a]=oh(s),u=Object.assign(Object.assign({},s.req),{message:uT(s.req.method.I,s.req.message),signal:n});let d=!1;return n.addEventListener("abort",function(){var h,p;const g=s.req.message[Symbol.asyncIterator]();d||(h=g.throw)===null||h===void 0||h.call(g,this.reason).catch(()=>{}),(p=g.return)===null||p===void 0||p.call(g).catch(()=>{})}),e(u).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const p=h.message[Symbol.asyncIterator]();return{next(){return p.next().then(g=>(g.done==!0&&(d=!0,a()),g),i)}}}}}),i)}function oh(s){const{signal:e,cleanup:n}=Z0(s.timeoutMs),i=Q0(s.signal,e);return[i.signal,function(u){const d=ze.from(e.aborted?Gd(e):u);return i.abort(d),n(),Promise.reject(d)},function(){n(),i.abort()}]}function ah(s,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((i,a)=>a(i),s))!==null&&n!==void 0?n:s}function hT(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function lh(s,e){const n=eh(s);if(n)throw e.forEach((i,a)=>{n.metadata.append(a,i)}),n}function uh(s,e,n,i){const a=new Headers(n??{});return a.set(eT,s?oT:aT),a.set(iT,"1"),a.set(sT,"connect-es/1.2.0"),i&&a.set(rT,"connect-es/1.2.0"),e!==void 0&&a.set(tT,`${e}m`),a}function mT(s){switch(s){case 400:return m.Internal;case 401:return m.Unauthenticated;case 403:return m.PermissionDenied;case 404:return m.Unimplemented;case 429:return m.Unavailable;case 502:return m.Unavailable;case 503:return m.Unavailable;case 504:return m.Unavailable;default:return m.Unknown}}function ch(s,e){var n;if(s>=200&&s<300){const i=eh(e);if(i)throw i;return{foundStatus:e.has(Qd)}}throw new ze(decodeURIComponent((n=e.get(Zd))!==null&&n!==void 0?n:`HTTP ${s}`),mT(s),e)}var Ns=globalThis&&globalThis.__await||function(s){return this instanceof Ns?(this.v=s,this):new Ns(s)},pT=globalThis&&globalThis.__asyncGenerator||function(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(N){i[N]&&(a[N]=function(C){return new Promise(function(U,V){u.push([N,C,U,V])>1||h(N,C)})})}function h(N,C){try{p(i[N](C))}catch(U){x(u[0][3],U)}}function p(N){N.value instanceof Ns?Promise.resolve(N.value.v).then(g,T):x(u[0][2],N)}function g(N){h("next",N)}function T(N){h("throw",N)}function x(N,C){N(C),u.shift(),u.length&&h(u[0][0],u[0][1])}};function gT(s){var e;hT();const n=(e=s.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,a,u,d,h,p,g){var T;const{serialize:x,parse:N}=rh(a,n,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await fT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!1,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g??Hd(),message:p},next:async C=>{var U;const Q=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(C.url,Object.assign(Object.assign({},C.init),{headers:C.header,signal:C.signal,body:Yd(0,x(C.message))}));if(ch(Q.status,Q.headers),!Q.body)throw"missing response body";const fe=qd(Q.body).getReader();let ne,Se;for(;;){const xe=await fe.read();if(xe.done)break;const{flags:Fe,data:Ds}=xe.value;if(Fe===_u){if(ne!==void 0)throw"extra trailer";ne=Xd(Ds);continue}if(Se!==void 0)throw"extra message";Se=N(Ds)}if(ne===void 0)throw"missing trailer";if(lh(ne,Q.headers),Se===void 0)throw"missing message";return{stream:!1,header:Q.headers,message:Se,trailer:ne}}})},async stream(i,a,u,d,h,p,g){var T;const{serialize:x,parse:N}=rh(a,n,s.jsonOptions,s.binaryOptions);function C(V,Q,fe,ne){return pT(this,arguments,function*(){const xe=qd(V).getReader();if(Q){if(!(yield Ns(xe.read())).done)throw"extra data for trailers-only";return yield Ns(void 0)}let Fe=!1;for(;;){const Ds=yield Ns(xe.read());if(Ds.done)break;const{flags:wi,data:Do}=Ds.value;if((wi&_u)===_u){if(Fe)throw"extra trailer";Fe=!0;const mp=Xd(Do);lh(mp,ne),mp.forEach((jS,zS)=>fe.set(zS,jS));continue}if(Fe)throw"extra message";yield yield Ns(N(Do))}if(!Fe)throw"missing trailer"})}async function U(V){if(a.kind!=Bt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Q=await V[Symbol.asyncIterator]().next();if(Q.done==!0)throw"missing request message";return Yd(0,x(Q.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,dT({interceptors:s.interceptors,signal:u,timeoutMs:d,req:{stream:!0,service:i,method:a,url:th(s.baseUrl,i,a),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:uh(n,d,h,!1),contextValues:g??Hd(),message:p},next:async V=>{var Q;const ne=await((Q=s.fetch)!==null&&Q!==void 0?Q:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await U(V.message)})),{foundStatus:Se}=ch(ne.status,ne.headers);if(!ne.body)throw"missing response body";const xe=new Headers;return Object.assign(Object.assign({},V),{header:ne.headers,trailer:xe,message:C(ne.body,Se,xe,ne.headers)})}})}}}var b={exports:{}},te=b.exports;Object.defineProperty(te,"__esModule",{value:!0});const{proto3:Z,StringValue:Au,Timestamp:oi}=Iu,Ba=Z.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),fh=Z.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),yT=Z.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:Ja},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Du}}]),vT=Z.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Mh},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:dh,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:G},{no:6,name:"is_removed",kind:"scalar",T:8}]),dh=Z.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:hh},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:mh,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Lh}]),hh=Z.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),mh=Z.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:ph,oneof:"body"},{no:2,name:"add",kind:"message",T:gh,oneof:"body"},{no:3,name:"move",kind:"message",T:yh,oneof:"body"},{no:4,name:"remove",kind:"message",T:vh,oneof:"body"},{no:5,name:"edit",kind:"message",T:Th,oneof:"body"},{no:6,name:"select",kind:"message",T:wh,oneof:"body"},{no:7,name:"style",kind:"message",T:Sh,oneof:"body"},{no:8,name:"increase",kind:"message",T:kh,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Eh,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Nh,oneof:"body"}]),ph=Z.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ma},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Set"}),gh=Z.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"prev_created_at",kind:"message",T:G},{no:3,name:"value",kind:"message",T:Ma},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Add"}),yh=Z.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"prev_created_at",kind:"message",T:G},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Move"}),vh=Z.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Remove"}),Th=Z.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:G},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),wh=Z.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Select"}),Sh=Z.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:Is},{no:3,name:"to",kind:"message",T:Is},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:G},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}}],{localName:"Operation_Style"}),kh=Z.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"value",kind:"message",T:Ma},{no:3,name:"executed_at",kind:"message",T:G}],{localName:"Operation_Increase"}),Eh=Z.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}},{no:5,name:"contents",kind:"message",T:Rh,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:G}],{localName:"Operation_TreeEdit"}),Nh=Z.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:G},{no:2,name:"from",kind:"message",T:mo},{no:3,name:"to",kind:"message",T:mo},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:G},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:G}}],{localName:"Operation_TreeStyle"}),Ma=Z.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"moved_at",kind:"message",T:G},{no:3,name:"removed_at",kind:"message",T:G},{no:4,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:5,name:"value",kind:"scalar",T:12}]),Ja=Z.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:Ih,oneof:"body"},{no:2,name:"json_array",kind:"message",T:_h,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Ah,oneof:"body"},{no:5,name:"text",kind:"message",T:xh,oneof:"body"},{no:6,name:"counter",kind:"message",T:Ph,oneof:"body"},{no:7,name:"tree",kind:"message",T:Oh,oneof:"body"}]),Ih=Z.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:Ch,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_JSONObject"}),_h=Z.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:xu,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_JSONArray"}),Ah=Z.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"moved_at",kind:"message",T:G},{no:5,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Primitive"}),xh=Z.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Dh,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Text"}),Ph=Z.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Ba)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:G},{no:4,name:"moved_at",kind:"message",T:G},{no:5,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Counter"}),Oh=Z.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:Cu,repeated:!0},{no:2,name:"created_at",kind:"message",T:G},{no:3,name:"moved_at",kind:"message",T:G},{no:4,name:"removed_at",kind:"message",T:G}],{localName:"JSONElement_Tree"}),Ch=Z.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ja}]),xu=Z.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:xu},{no:2,name:"element",kind:"message",T:Ja}]),Pu=Z.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:G}]),Dh=Z.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Ou},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:G},{no:4,name:"ins_prev_id",kind:"message",T:Ou},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Pu}}]),Ou=Z.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5}]),Cu=Z.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:ai},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:G},{no:5,name:"ins_prev_id",kind:"message",T:ai},{no:6,name:"ins_next_id",kind:"message",T:ai},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Pu}}]),Rh=Z.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:Cu,repeated:!0}]),ai=Z.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5}]),mo=Z.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:ai},{no:2,name:"left_sibling_id",kind:"message",T:ai}]),TT=Z.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:oi}]),wT=Z.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:oi},{no:9,name:"updated_at",kind:"message",T:oi}]),ST=Z.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:Au},{no:2,name:"auth_webhook_url",kind:"message",T:Au},{no:3,name:"auth_webhook_methods",kind:"message",T:bh},{no:4,name:"client_deactivate_threshold",kind:"message",T:Au}]),bh=Z.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),kT=Z.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:oi},{no:5,name:"accessed_at",kind:"message",T:oi},{no:6,name:"updated_at",kind:"message",T:oi}]),Lh=Z.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(Bh)},{no:2,name:"presence",kind:"message",T:Du}]),Bh=Z.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Du=Z.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),Mh=Z.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),Is=Z.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:G},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),G=Z.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Jh=Z.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),ET=Z.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:Z.getEnumType(fh)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Jh}]);te.ValueType=Ba,te.DocEventType=fh,te.Snapshot=yT,te.ChangePack=vT,te.Change=dh,te.ChangeID=hh,te.Operation=mh,te.Operation_Set=ph,te.Operation_Add=gh,te.Operation_Move=yh,te.Operation_Remove=vh,te.Operation_Edit=Th,te.Operation_Select=wh,te.Operation_Style=Sh,te.Operation_Increase=kh,te.Operation_TreeEdit=Eh,te.Operation_TreeStyle=Nh,te.JSONElementSimple=Ma,te.JSONElement=Ja,te.JSONElement_JSONObject=Ih,te.JSONElement_JSONArray=_h,te.JSONElement_Primitive=Ah,te.JSONElement_Text=xh,te.JSONElement_Counter=Ph,te.JSONElement_Tree=Oh,te.RHTNode=Ch,te.RGANode=xu,te.NodeAttr=Pu,te.TextNode=Dh,te.TextNodeID=Ou,te.TreeNode=Cu,te.TreeNodes=Rh,te.TreeNodeID=ai,te.TreePos=mo,te.User=TT,te.Project=wT,te.UpdatableProjectFields=ST,te.UpdatableProjectFields_AuthWebhookMethods=bh,te.DocumentSummary=kT,te.PresenceChange=Lh,te.PresenceChange_ChangeType=Bh,te.Presence=Du,te.Checkpoint=Mh,te.TextNodePos=Is,te.TimeTicket=G,te.DocEventBody=Jh,te.DocEvent=ET;const Uh=(b.exports==null?{}:b.exports).default||b.exports,oe=(b.exports==null?{}:b.exports).ValueType,Ua=(b.exports==null?{}:b.exports).DocEventType,$h=(b.exports==null?{}:b.exports).Snapshot,Fh=(b.exports==null?{}:b.exports).ChangePack,jh=(b.exports==null?{}:b.exports).Change,$a=(b.exports==null?{}:b.exports).ChangeID,Ru=(b.exports==null?{}:b.exports).Operation,zh=(b.exports==null?{}:b.exports).Operation_Set,Vh=(b.exports==null?{}:b.exports).Operation_Add,qh=(b.exports==null?{}:b.exports).Operation_Move,Yh=(b.exports==null?{}:b.exports).Operation_Remove,Wh=(b.exports==null?{}:b.exports).Operation_Edit,NT=(b.exports==null?{}:b.exports).Operation_Select,Kh=(b.exports==null?{}:b.exports).Operation_Style,Gh=(b.exports==null?{}:b.exports).Operation_Increase,Hh=(b.exports==null?{}:b.exports).Operation_TreeEdit,Xh=(b.exports==null?{}:b.exports).Operation_TreeStyle,_s=(b.exports==null?{}:b.exports).JSONElementSimple,ar=(b.exports==null?{}:b.exports).JSONElement,Qh=(b.exports==null?{}:b.exports).JSONElement_JSONObject,Zh=(b.exports==null?{}:b.exports).JSONElement_JSONArray,em=(b.exports==null?{}:b.exports).JSONElement_Primitive,tm=(b.exports==null?{}:b.exports).JSONElement_Text,nm=(b.exports==null?{}:b.exports).JSONElement_Counter,rm=(b.exports==null?{}:b.exports).JSONElement_Tree,sm=(b.exports==null?{}:b.exports).RHTNode,im=(b.exports==null?{}:b.exports).RGANode,bu=(b.exports==null?{}:b.exports).NodeAttr,om=(b.exports==null?{}:b.exports).TextNode,am=(b.exports==null?{}:b.exports).TextNodeID,lm=(b.exports==null?{}:b.exports).TreeNode,um=(b.exports==null?{}:b.exports).TreeNodes,cm=(b.exports==null?{}:b.exports).TreeNodeID,fm=(b.exports==null?{}:b.exports).TreePos,IT=(b.exports==null?{}:b.exports).User,_T=(b.exports==null?{}:b.exports).Project,AT=(b.exports==null?{}:b.exports).UpdatableProjectFields,xT=(b.exports==null?{}:b.exports).UpdatableProjectFields_AuthWebhookMethods,PT=(b.exports==null?{}:b.exports).DocumentSummary,Lu=(b.exports==null?{}:b.exports).PresenceChange,po=(b.exports==null?{}:b.exports).PresenceChange_ChangeType,dm=(b.exports==null?{}:b.exports).Presence,hm=(b.exports==null?{}:b.exports).Checkpoint,mm=(b.exports==null?{}:b.exports).TextNodePos,pm=(b.exports==null?{}:b.exports).TimeTicket,OT=(b.exports==null?{}:b.exports).DocEventBody,CT=(b.exports==null?{}:b.exports).DocEvent,DT=Object.freeze(Object.defineProperty({__proto__:null,Change:jh,ChangeID:$a,ChangePack:Fh,Checkpoint:hm,DocEvent:CT,DocEventBody:OT,DocEventType:Ua,DocumentSummary:PT,JSONElement:ar,JSONElementSimple:_s,JSONElement_Counter:nm,JSONElement_JSONArray:Zh,JSONElement_JSONObject:Qh,JSONElement_Primitive:em,JSONElement_Text:tm,JSONElement_Tree:rm,NodeAttr:bu,Operation:Ru,Operation_Add:Vh,Operation_Edit:Wh,Operation_Increase:Gh,Operation_Move:qh,Operation_Remove:Yh,Operation_Select:NT,Operation_Set:zh,Operation_Style:Kh,Operation_TreeEdit:Hh,Operation_TreeStyle:Xh,Presence:dm,PresenceChange:Lu,PresenceChange_ChangeType:po,Project:_T,RGANode:im,RHTNode:sm,Snapshot:$h,TextNode:om,TextNodeID:am,TextNodePos:mm,TimeTicket:pm,TreeNode:lm,TreeNodeID:cm,TreeNodes:um,TreePos:fm,UpdatableProjectFields:AT,UpdatableProjectFields_AuthWebhookMethods:xT,User:IT,ValueType:oe,default:Uh},Symbol.toStringTag,{value:"Module"}));var ae={exports:{}},Ke=ae.exports;Object.defineProperty(Ke,"__esModule",{value:!0});const{proto3:Xe}=Iu,{ChangePack:Vr,DocEvent:RT}=Uh||DT,bT=Xe.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),LT=Xe.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),BT=Xe.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),MT=Xe.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),JT=Xe.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Vr}]),UT=Xe.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Vr}]),$T=Xe.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),FT=Xe.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:Vr}]),jT=Xe.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),zT=Xe.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:gm,oneof:"body"},{no:2,name:"event",kind:"message",T:RT,oneof:"body"}]),gm=Xe.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),VT=Xe.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr}]),qT=Xe.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:Vr}]),YT=Xe.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Vr},{no:4,name:"push_only",kind:"scalar",T:8}]),WT=Xe.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:Vr}]),KT=Xe.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),GT=Xe.makeMessageType("yorkie.v1.BroadcastResponse",[]);Ke.ActivateClientRequest=bT,Ke.ActivateClientResponse=LT,Ke.DeactivateClientRequest=BT,Ke.DeactivateClientResponse=MT,Ke.AttachDocumentRequest=JT,Ke.AttachDocumentResponse=UT,Ke.DetachDocumentRequest=$T,Ke.DetachDocumentResponse=FT,Ke.WatchDocumentRequest=jT,Ke.WatchDocumentResponse=zT,Ke.WatchDocumentResponse_Initialization=gm,Ke.RemoveDocumentRequest=VT,Ke.RemoveDocumentResponse=qT,Ke.PushPullChangesRequest=YT,Ke.PushPullChangesResponse=WT,Ke.BroadcastRequest=KT,Ke.BroadcastResponse=GT;const ym=(ae.exports==null?{}:ae.exports).default||ae.exports,HT=(ae.exports==null?{}:ae.exports).ActivateClientRequest,XT=(ae.exports==null?{}:ae.exports).ActivateClientResponse,QT=(ae.exports==null?{}:ae.exports).DeactivateClientRequest,ZT=(ae.exports==null?{}:ae.exports).DeactivateClientResponse,ew=(ae.exports==null?{}:ae.exports).AttachDocumentRequest,tw=(ae.exports==null?{}:ae.exports).AttachDocumentResponse,nw=(ae.exports==null?{}:ae.exports).DetachDocumentRequest,rw=(ae.exports==null?{}:ae.exports).DetachDocumentResponse,sw=(ae.exports==null?{}:ae.exports).WatchDocumentRequest,iw=(ae.exports==null?{}:ae.exports).WatchDocumentResponse,ow=(ae.exports==null?{}:ae.exports).WatchDocumentResponse_Initialization,aw=(ae.exports==null?{}:ae.exports).RemoveDocumentRequest,lw=(ae.exports==null?{}:ae.exports).RemoveDocumentResponse,uw=(ae.exports==null?{}:ae.exports).PushPullChangesRequest,cw=(ae.exports==null?{}:ae.exports).PushPullChangesResponse,fw=(ae.exports==null?{}:ae.exports).BroadcastRequest,dw=(ae.exports==null?{}:ae.exports).BroadcastResponse,hw=Object.freeze(Object.defineProperty({__proto__:null,ActivateClientRequest:HT,ActivateClientResponse:XT,AttachDocumentRequest:ew,AttachDocumentResponse:tw,BroadcastRequest:fw,BroadcastResponse:dw,DeactivateClientRequest:QT,DeactivateClientResponse:ZT,DetachDocumentRequest:nw,DetachDocumentResponse:rw,PushPullChangesRequest:uw,PushPullChangesResponse:cw,RemoveDocumentRequest:aw,RemoveDocumentResponse:lw,WatchDocumentRequest:sw,WatchDocumentResponse:iw,WatchDocumentResponse_Initialization:ow,default:ym},Symbol.toStringTag,{value:"Module"}));var li={exports:{}},vm=li.exports;Object.defineProperty(vm,"__esModule",{value:!0});const{ActivateClientRequest:mw,ActivateClientResponse:pw,AttachDocumentRequest:gw,AttachDocumentResponse:yw,BroadcastRequest:vw,BroadcastResponse:Tw,DeactivateClientRequest:ww,DeactivateClientResponse:Sw,DetachDocumentRequest:kw,DetachDocumentResponse:Ew,PushPullChangesRequest:Nw,PushPullChangesResponse:Iw,RemoveDocumentRequest:_w,RemoveDocumentResponse:Aw,WatchDocumentRequest:xw,WatchDocumentResponse:Pw}=ym||hw,{MethodKind:qr}=Iu,Ow={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:mw,O:pw,kind:qr.Unary},deactivateClient:{name:"DeactivateClient",I:ww,O:Sw,kind:qr.Unary},attachDocument:{name:"AttachDocument",I:gw,O:yw,kind:qr.Unary},detachDocument:{name:"DetachDocument",I:kw,O:Ew,kind:qr.Unary},removeDocument:{name:"RemoveDocument",I:_w,O:Aw,kind:qr.Unary},pushPullChanges:{name:"PushPullChanges",I:Nw,O:Iw,kind:qr.Unary},watchDocument:{name:"WatchDocument",I:xw,O:Pw,kind:qr.ServerStreaming},broadcast:{name:"Broadcast",I:vw,O:Tw,kind:qr.Unary}}};vm.YorkieService=Ow,(li.exports==null?{}:li.exports).default||li.exports;const Cw=(li.exports==null?{}:li.exports).YorkieService;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Qt=null;try{Qt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function se(s,e,n){this.low=s|0,this.high=e|0,this.unsigned=!!n}se.prototype.__isLong__,Object.defineProperty(se.prototype,"__isLong__",{value:!0});function nt(s){return(s&&s.__isLong__)===!0}function Tm(s){var e=Math.clz32(s&-s);return s?31-e:e}se.isLong=nt;var wm={},Sm={};function As(s,e){var n,i,a;return e?(s>>>=0,(a=0<=s&&s<256)&&(i=Sm[s],i)?i:(n=me(s,0,!0),a&&(Sm[s]=n),n)):(s|=0,(a=-128<=s&&s<128)&&(i=wm[s],i)?i:(n=me(s,s<0?-1:0,!1),a&&(wm[s]=n),n))}se.fromInt=As;function Zt(s,e){if(isNaN(s))return e?Ir:fn;if(e){if(s<0)return Ir;if(s>=Em)return xm}else{if(s<=-Nm)return gt;if(s+1>=Nm)return Am}return s<0?Zt(-s,e).neg():me(s%ui|0,s/ui|0,e)}se.fromNumber=Zt;function me(s,e,n){return new se(s,e,n)}se.fromBits=me;var Fa=Math.pow;function Bu(s,e,n){if(s.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return e?Ir:fn;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Bu(s.substring(1),e,n).neg();for(var a=Zt(Fa(n,8)),u=fn,d=0;d<s.length;d+=8){var h=Math.min(8,s.length-d),p=parseInt(s.substring(d,d+h),n);if(h<8){var g=Zt(Fa(n,h));u=u.mul(g).add(Zt(p))}else u=u.mul(a),u=u.add(Zt(p))}return u.unsigned=e,u}se.fromString=Bu;function cn(s,e){return typeof s=="number"?Zt(s,e):typeof s=="string"?Bu(s,e):me(s.low,s.high,typeof e=="boolean"?e:s.unsigned)}se.fromValue=cn;var km=65536,Dw=1<<24,ui=km*km,Em=ui*ui,Nm=Em/2,Im=As(Dw),fn=As(0);se.ZERO=fn;var Ir=As(0,!0);se.UZERO=Ir;var ci=As(1);se.ONE=ci;var _m=As(1,!0);se.UONE=_m;var Mu=As(-1);se.NEG_ONE=Mu;var Am=me(-1,2147483647,!1);se.MAX_VALUE=Am;var xm=me(-1,-1,!0);se.MAX_UNSIGNED_VALUE=xm;var gt=me(0,-2147483648,!1);se.MIN_VALUE=gt;var J=se.prototype;J.toInt=function(){return this.unsigned?this.low>>>0:this.low},J.toNumber=function(){return this.unsigned?(this.high>>>0)*ui+(this.low>>>0):this.high*ui+(this.low>>>0)},J.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(gt)){var n=Zt(e),i=this.div(n),a=i.mul(n).sub(this);return i.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=Zt(Fa(e,6),this.unsigned),d=this,h="";;){var p=d.div(u),g=d.sub(p.mul(u)).toInt()>>>0,T=g.toString(e);if(d=p,d.isZero())return T+h;for(;T.length<6;)T="0"+T;h=""+T+h}},J.getHighBits=function(){return this.high},J.getHighBitsUnsigned=function(){return this.high>>>0},J.getLowBits=function(){return this.low},J.getLowBitsUnsigned=function(){return this.low>>>0},J.getNumBitsAbs=function(){if(this.isNegative())return this.eq(gt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},J.isZero=function(){return this.high===0&&this.low===0},J.eqz=J.isZero,J.isNegative=function(){return!this.unsigned&&this.high<0},J.isPositive=function(){return this.unsigned||this.high>=0},J.isOdd=function(){return(this.low&1)===1},J.isEven=function(){return(this.low&1)===0},J.equals=function(e){return nt(e)||(e=cn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},J.eq=J.equals,J.notEquals=function(e){return!this.eq(e)},J.neq=J.notEquals,J.ne=J.notEquals,J.lessThan=function(e){return this.comp(e)<0},J.lt=J.lessThan,J.lessThanOrEqual=function(e){return this.comp(e)<=0},J.lte=J.lessThanOrEqual,J.le=J.lessThanOrEqual,J.greaterThan=function(e){return this.comp(e)>0},J.gt=J.greaterThan,J.greaterThanOrEqual=function(e){return this.comp(e)>=0},J.gte=J.greaterThanOrEqual,J.ge=J.greaterThanOrEqual,J.compare=function(e){if(nt(e)||(e=cn(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},J.comp=J.compare,J.negate=function(){return!this.unsigned&&this.eq(gt)?gt:this.not().add(ci)},J.neg=J.negate,J.add=function(e){nt(e)||(e=cn(e));var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,u=this.low&65535,d=e.high>>>16,h=e.high&65535,p=e.low>>>16,g=e.low&65535,T=0,x=0,N=0,C=0;return C+=u+g,N+=C>>>16,C&=65535,N+=a+p,x+=N>>>16,N&=65535,x+=i+h,T+=x>>>16,x&=65535,T+=n+d,T&=65535,me(N<<16|C,T<<16|x,this.unsigned)},J.subtract=function(e){return nt(e)||(e=cn(e)),this.add(e.neg())},J.sub=J.subtract,J.multiply=function(e){if(this.isZero())return this;if(nt(e)||(e=cn(e)),Qt){var n=Qt.mul(this.low,this.high,e.low,e.high);return me(n,Qt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Ir:fn;if(this.eq(gt))return e.isOdd()?gt:fn;if(e.eq(gt))return this.isOdd()?gt:fn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Im)&&e.lt(Im))return Zt(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,a=this.high&65535,u=this.low>>>16,d=this.low&65535,h=e.high>>>16,p=e.high&65535,g=e.low>>>16,T=e.low&65535,x=0,N=0,C=0,U=0;return U+=d*T,C+=U>>>16,U&=65535,C+=u*T,N+=C>>>16,C&=65535,C+=d*g,N+=C>>>16,C&=65535,N+=a*T,x+=N>>>16,N&=65535,N+=u*g,x+=N>>>16,N&=65535,N+=d*p,x+=N>>>16,N&=65535,x+=i*T+a*g+u*p+d*h,x&=65535,me(C<<16|U,x<<16|N,this.unsigned)},J.mul=J.multiply,J.divide=function(e){if(nt(e)||(e=cn(e)),e.isZero())throw Error("division by zero");if(Qt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Qt.div_u:Qt.div_s)(this.low,this.high,e.low,e.high);return me(n,Qt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ir:fn;var i,a,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ir;if(e.gt(this.shru(1)))return _m;u=Ir}else{if(this.eq(gt)){if(e.eq(ci)||e.eq(Mu))return gt;if(e.eq(gt))return ci;var d=this.shr(1);return i=d.div(e).shl(1),i.eq(fn)?e.isNegative()?ci:Mu:(a=this.sub(e.mul(i)),u=i.add(a.div(e)),u)}else if(e.eq(gt))return this.unsigned?Ir:fn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=fn}for(a=this;a.gte(e);){i=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(i)/Math.LN2),p=h<=48?1:Fa(2,h-48),g=Zt(i),T=g.mul(e);T.isNegative()||T.gt(a);)i-=p,g=Zt(i,this.unsigned),T=g.mul(e);g.isZero()&&(g=ci),u=u.add(g),a=a.sub(T)}return u},J.div=J.divide,J.modulo=function(e){if(nt(e)||(e=cn(e)),Qt){var n=(this.unsigned?Qt.rem_u:Qt.rem_s)(this.low,this.high,e.low,e.high);return me(n,Qt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},J.mod=J.modulo,J.rem=J.modulo,J.not=function(){return me(~this.low,~this.high,this.unsigned)},J.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},J.clz=J.countLeadingZeros,J.countTrailingZeros=function(){return this.low?Tm(this.low):Tm(this.high)+32},J.ctz=J.countTrailingZeros,J.and=function(e){return nt(e)||(e=cn(e)),me(this.low&e.low,this.high&e.high,this.unsigned)},J.or=function(e){return nt(e)||(e=cn(e)),me(this.low|e.low,this.high|e.high,this.unsigned)},J.xor=function(e){return nt(e)||(e=cn(e)),me(this.low^e.low,this.high^e.high,this.unsigned)},J.shiftLeft=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):me(0,this.low<<e-32,this.unsigned)},J.shl=J.shiftLeft,J.shiftRight=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):me(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},J.shr=J.shiftRight,J.shiftRightUnsigned=function(e){return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?me(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?me(this.high,0,this.unsigned):me(this.high>>>e-32,0,this.unsigned)},J.shru=J.shiftRightUnsigned,J.shr_u=J.shiftRightUnsigned,J.rotateLeft=function(e){var n;return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?me(this.high,this.low,this.unsigned):e<32?(n=32-e,me(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,me(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))},J.rotl=J.rotateLeft,J.rotateRight=function(e){var n;return nt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?me(this.high,this.low,this.unsigned):e<32?(n=32-e,me(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,me(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))},J.rotr=J.rotateRight,J.toSigned=function(){return this.unsigned?me(this.low,this.high,!1):this},J.toUnsigned=function(){return this.unsigned?this:me(this.low,this.high,!0)},J.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},J.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},J.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},se.fromBytes=function(e,n,i){return i?se.fromBytesLE(e,n):se.fromBytesBE(e,n)},se.fromBytesLE=function(e,n){return new se(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},se.fromBytesBE=function(e,n){return new se(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var de=(s=>(s.Ok="ok",s.ClientNotActive="client-not-active",s.Unimplemented="unimplemented",s.Unsupported="unsupported",s.DocumentNotAttached="document-not-attached",s.DocumentNotDetached="document-not-detached",s.DocumentRemoved="document-removed",s.InvalidObjectKey="invalid-object-key",s.InvalidArgument="invalid-argument",s))(de||{});class pe extends Error{constructor(e,n){super(n),c(this,"name","YorkieError"),c(this,"stack"),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function dn(s){if(s instanceof Map){const e=Array.from(s);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(s))}const Pm=s=>s?Object.entries(s).length===0:!0,fi=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.stringify(i);return e},di=s=>{const e={};for(const[n,i]of Object.entries(s))e[n]=JSON.parse(i);return e};var Yr=(s=>(s.Put="put",s.Clear="clear",s))(Yr||{});class Ju{constructor(e,n){c(this,"context"),c(this,"presence"),this.context=e,this.presence=n}set(e,n){for(const i of Object.keys(e))this.presence[i]=e[i];this.context.setPresenceChange({type:"put",presence:dn(this.presence)}),this.context.setReversePresence(e,n)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ja="000000000000000000000000",Rw="FFFFFFFFFFFFFFFFFFFFFFFF";class ut{constructor(e,n,i){c(this,"lamport"),c(this,"delimiter"),c(this,"actorID"),this.lamport=e,this.delimiter=n,this.actorID=i}static of(e,n,i){return new ut(e,n,i)}static fromStruct(e){return ut.of(se.fromString(e.lamport,!0),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new ut(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport.greaterThan(e.lamport))return 1;if(e.lamport.greaterThan(this.lamport))return-1;const n=this.actorID.localeCompare(e.actorID);return n!==0?n:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uu=0,bw=4294967295,Lw=se.MAX_VALUE,lr=new ut(se.fromNumber(0),Uu,ja);new ut(se.fromNumber(1),Uu+1,ja);const za=new ut(Lw,bw,Rw);var _t=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(_t||{});let xs=2;function Bw(s){xs=s}const B={trivial:(...s)=>{xs>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{xs>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{xs>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{xs>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{xs>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(s,...e)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e)),new Error(`YORKIE F: ${s}`)},isEnabled:s=>xs<=s};function _r(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Va{constructor(e){c(this,"createdAt"),c(this,"movedAt"),c(this,"removedAt"),this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.getPositionedAt())&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}}class Wr extends Va{constructor(e){super(e)}}class Om extends Va{}class $u{constructor(e,n){c(this,"strKey"),c(this,"value"),this.strKey=e,this.value=n}static of(e,n){return new $u(e,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class go{constructor(){c(this,"nodeMapByKey"),c(this,"nodeMapByCreatedAt"),this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new go}set(e,n,i){let a;const u=this.nodeMapByKey.get(e);u!=null&&!u.isRemoved()&&u.remove(i)&&(a=u.getValue());const d=$u.of(e,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),d),(u==null||i.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,d),n.setMovedAt(i)),a}delete(e,n){this.nodeMapByCreatedAt.has(e.toIDString())||B.fatal(`fail to find ${e.toIDString()}`);const i=this.nodeMapByCreatedAt.get(e.toIDString());return i.remove(n),i.getValue()}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return n.getStrKey()}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!n){B.fatal(`fail to find ${e.getCreatedAt().toIDString()}`);return}const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(e,n){const i=this.nodeMapByKey.get(e);if(i!=null&&i.remove(n))return i.getValue()}has(e){const n=this.nodeMapByKey.get(e);return n==null?!1:!n.isRemoved()}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const n=this.nodeMapByKey.get(e);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class yt extends Wr{constructor(e,n){super(e),c(this,"memberNodes"),this.memberNodes=n}static create(e,n){if(!n)return new yt(e,go.create());const i=go.create();for(const[a,u]of Object.entries(n))i.set(a,u.deepcopy(),u.getCreatedAt());return new yt(e,i)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,n,i){return this.memberNodes.set(e,n,i)}delete(e,n){return this.memberNodes.delete(e,n)}deleteByKey(e,n){return this.memberNodes.deleteByKey(e,n)}get(e){const n=this.memberNodes.get(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.memberNodes.getByID(e);return n==null?void 0:n.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[n,i]of this)e.push(`"${_r(n)}":${i.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[n,i]of this){const{createdAt:a,value:u,type:d}=i.toJSForTest();e[n]={key:n,createdAt:a,value:u,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[n]of this)e.push(n);return e}toSortedJSON(){var e;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const u=(e=this.memberNodes.get(a))==null?void 0:e.getValue();i.push(`"${_r(a)}":${u.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=yt.create(this.getCreatedAt());for(const n of this.memberNodes)e.memberNodes.set(n.getStrKey(),n.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const n of this.memberNodes){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const n of this.memberNodes)e.has(n.getStrKey())||(e.add(n.getStrKey()),n.isRemoved()||(yield[n.getStrKey(),n.getValue()]))}}var we=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(we||{});class hn{constructor(e,n){c(this,"parentCreatedAt"),c(this,"executedAt"),this.parentCreatedAt=e,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class Cm{constructor(e){c(this,"value"),c(this,"left"),c(this,"right"),c(this,"parent"),c(this,"weight"),this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class yo{constructor(e){c(this,"root"),this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&e<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<e)e-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{e-=n.getLeftWeight();break}return e>n.getLength()&&B.fatal(`out of index range: pos: ${e} > node.length: ${n.getLength()}`),[n,e]}indexOf(e){if(!e||e!==this.root&&!e.hasLinks())return-1;let n=0,i=e,a;for(;i;)(!a||a===i.getRight())&&(n+=i.getLength()+(i.hasLeft()?i.getLeftWeight():0)),a=i,i=i.getParent();return n-e.getLength()}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,n){return e?(this.splayNode(e),this.root=n,n.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(n),n.setLeft(e),e.setParent(n),e.setRight(),this.updateWeight(e),this.updateWeight(n),n):(this.root=n,n)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const n=new yo(e.getLeft());n.root&&n.root.setParent();const i=new yo(e.getRight());if(i.root&&i.root.setParent(),n.root){const a=n.getRightmost();n.splayNode(a),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,n){if(!n){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(n),n.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const n=[];this.traversePostorder(e.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const n of e)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,n){e&&(this.traverseInorder(e.getLeft(),n),n.push(e),this.traverseInorder(e.getRight(),n))}traversePostorder(e,n){e&&(this.traversePostorder(e.getLeft(),n),this.traversePostorder(e.getRight(),n),n.push(e))}rotateLeft(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setRight(e.getLeft()),n.hasRight()&&n.getRight().setParent(n),e.setLeft(n),e.getLeft().setParent(e),this.updateWeight(n),this.updateWeight(e)}rotateRight(e){const n=e.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(e):n.getParent().setRight(e):this.root=e,e.setParent(n.getParent()),n.setLeft(e.getRight()),n.hasLeft()&&n.getLeft().setParent(n),e.setRight(n),e.getRight().setParent(e),this.updateWeight(n),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var Ve=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(Ve||{});class _e extends Va{constructor(e,n){super(n),c(this,"valueType"),c(this,"value"),this.valueType=_e.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,n){return new _e(e,n)}static valueFromBytes(e,n){switch(e){case 0:return null;case 1:return!!n[0];case 2:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 4:{const i=new DataView(n.buffer);return n.forEach(function(a,u){i.setUint8(u,a)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(n);case 3:return se.fromBytesLE(Array.from(n));case 6:return n;case 7:return new Date(se.fromBytesLE(Array.from(n),!0).toNumber());default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${_r(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=_e.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof se)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return _e.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),n}case 5:return new TextEncoder().encode(this.value);case 3:{const n=this.value.toBytesLE();return Uint8Array.from(n)}case 6:return this.value;case 7:{const e=this.value,n=se.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(n)}default:throw new pe(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class qa extends Cm{constructor(e){super(e),c(this,"prev"),c(this,"next"),this.value=e}static createAfter(e,n){const i=new qa(n),a=e.next;return e.next=i,i.prev=e,i.next=a,a&&(a.prev=i),i}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class vo{constructor(){c(this,"dummyHead"),c(this,"last"),c(this,"nodeMapByIndex"),c(this,"nodeMapByCreatedAt");const e=_e.of(0,lr);e.setRemovedAt(lr),this.dummyHead=new qa(e),this.last=this.dummyHead,this.nodeMapByIndex=new yo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new vo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,n){let i=this.nodeMapByCreatedAt.get(e.toIDString());for(i||B.fatal(`cant find the given node: ${e.toIDString()}`);i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,n,i=n.getCreatedAt()){const a=this.findNextBeforeExecutedAt(e,i),u=qa.createAfter(a,n);a===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(a,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u)}moveAfter(e,n,i){const a=this.nodeMapByCreatedAt.get(e.toIDString());a||B.fatal(`cant find the given node: ${e.toIDString()}`);const u=this.nodeMapByCreatedAt.get(n.toIDString());u||B.fatal(`cant find the given node: ${n.toIDString()}`),a!==u&&(!u.getValue().getMovedAt()||i.after(u.getValue().getMovedAt()))&&(this.release(u),this.insertAfter(a.getCreatedAt(),u.getValue(),i),u.getValue().setMovedAt(i))}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const n=this.nodeMapByCreatedAt.get(e.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(e){const n=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());n||B.fatal(`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`),this.release(n)}getByIndex(e){if(e>=this.length)return;const[n,i]=this.nodeMapByIndex.find(e);let a=n;if(e===0&&n===this.dummyHead||i>0)do a&&(a=a.getNext());while(a&&a.isRemoved());return a}getPrevCreatedAt(e){let n=this.nodeMapByCreatedAt.get(e.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(e,n){const i=this.nodeMapByCreatedAt.get(e.toIDString()),a=i.isRemoved();return i.remove(n)&&!a&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(e,n){const i=this.getByIndex(e);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?e.push(`{${i}}`):e.push(`[${i}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class At extends Wr{constructor(e,n){super(e),c(this,"elements"),this.elements=n}static create(e,n){if(!n)return new At(e,vo.create());const i=vo.create();for(const a of n)i.insertAfter(i.getLastCreatedAt(),a.deepcopy());return new At(e,i)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,n){this.elements.insertAfter(e,n)}moveAfter(e,n,i){this.elements.moveAfter(e,n,i)}get(e){const n=this.elements.getByIndex(e);return n==null?void 0:n.getValue()}getByID(e){const n=this.elements.getByID(e);return n==null?void 0:n.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,n){return this.elements.delete(e,n)}deleteByIndex(e,n){return this.elements.deleteByIndex(e,n)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const n of this.elements){const i=n.getValue();if(e(i,this))return;i instanceof Wr&&i.getDescendants(e)}}toJSON(){const e=[];for(const n of this)e.push(n.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let n=0;n<this.length;n++){const{createdAt:i,value:a,type:u}=this.get(n).toJSForTest();e[n]={key:String(n),createdAt:i,value:a,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=At.create(this.getCreatedAt());for(const n of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),n.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Kr extends hn{constructor(e,n,i){super(e,i),c(this,"createdAt"),this.createdAt=n}static create(e,n,i){return new Kr(e,n,i)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof Wr||B.fatal(`only object and array can execute remove: ${a}`),n===we.UndoRedo){let g=a.getByID(this.createdAt);for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.subPathOf(this.createdAt),d=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof At?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:d}}toReverseOperation(e){if(e instanceof yt){const n=e.subPathOf(this.createdAt);if(n!==void 0){const i=e.get(n);if(i!==void 0)return Ps.create(n,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Ps extends hn{constructor(e,n,i,a){super(i,a),c(this,"key"),c(this,"value"),this.key=e,this.value=n}static create(e,n,i,a){return new Ps(e,n,i,a)}execute(e,n){var i;const a=e.findByCreatedAt(this.getParentCreatedAt());if(a||B.fatal(`fail to find ${this.getParentCreatedAt()}`),a instanceof yt||B.fatal("fail to execute, only object can execute set"),n===we.UndoRedo){let g=a;for(;g;){if(g.getRemovedAt())return;g=(i=e.findElementPairByCreatedAt(g.getCreatedAt()))==null?void 0:i.parent}}const u=a.get(this.key),d=this.toReverseOperation(u),h=this.value.deepcopy(),p=a.set(this.key,h,this.getExecutedAt());return n===we.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let n=Kr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(n=Ps.create(this.key,e.deepcopy(),this.getParentCreatedAt())),n}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class To extends hn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"value"),this.prevCreatedAt=n,this.value=i}static create(e,n,i,a){return new To(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof At||B.fatal("fail to execute, only array can execute add");const i=n,a=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,a),e.registerElement(a,i),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Gr extends hn{constructor(e,n,i,a){super(e,a),c(this,"prevCreatedAt"),c(this,"createdAt"),this.prevCreatedAt=n,this.createdAt=i}static create(e,n,i,a){return new Gr(e,n,i,a)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof At||B.fatal("fail to execute, only array can execute move");const i=n,a=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const u=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:u,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class hi{constructor(e,n,i,a){c(this,"key"),c(this,"value"),c(this,"updatedAt"),c(this,"_isRemoved"),this.key=e,this.value=n,this.updatedAt=i,this._isRemoved=a}static of(e,n,i,a){return new hi(e,n,i,a)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}}class Ar{constructor(){c(this,"nodeMapByKey"),c(this,"numberOfRemovedElement"),this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ar}set(e,n,i){const a=this.nodeMapByKey.get(e);if(a===void 0||i.after(a.getUpdatedAt())){a!==void 0&&!a.isRemoved()&&(this.numberOfRemovedElement-=1);const u=hi.of(e,n,i,!1);return this.nodeMapByKey.set(e,u),!0}return!1}remove(e,n){const i=this.nodeMapByKey.get(e);if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const d=hi.of(e,"",n,!0);return this.nodeMapByKey.set(e,d),""}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1);const u=hi.of(e,i.getValue(),n,!0);return this.nodeMapByKey.set(e,u),a?"":i.getValue()}return""}has(e){if(this.nodeMapByKey.has(e)){const n=this.nodeMapByKey.get(e);return n!==void 0&&!n.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new Ar;for(const[,n]of this.nodeMapByKey)e.set(n.getKey(),n.getValue(),n.getUpdatedAt());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||e.push(`"${_r(n)}":"${_r(i.getValue())}"`);return`{${e.join(",")}}`}toXML(){return this.size()?` ${[...this.nodeMapByKey].filter(([,n])=>n instanceof hi&&!n.isRemoved()).sort((n,i)=>n[0].localeCompare(i[0])).map(([n,i])=>`${n}="${JSON.parse(i.getValue())}"`).join(" ")}`:""}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(e[n]=i.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class wo{constructor(e){c(this,"attributes"),c(this,"content"),this.attributes=Ar.create(),this.content=e}static create(e){return new wo(e)}get length(){return this.content.length}substring(e,n){const i=new wo(this.content.substring(e,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(e,n,i){this.attributes.set(e,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const e=_r(this.content),n=this.attributes.toObject(),i=[];for(const[a,u]of Object.entries(n)){const d=JSON.parse(u),h=typeof d=="string"?`"${_r(a)}":"${_r(d)}"`:`"${_r(a)}":${String(d)}`;i.push(h)}return i.sort(),i.length===0?`{"val":"${e}"}`:`{"attrs":{${i.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}}class mn extends Om{constructor(e,n){super(n),c(this,"rgaTreeSplit"),this.rgaTreeSplit=e}static create(e,n){return new mn(e,n)}edit(e,n,i,a,u){const d=n?wo.create(n):void 0;if(d&&a)for(const[x,N]of Object.entries(a))d.setAttr(x,N,i);const[h,p,g]=this.rgaTreeSplit.edit(e,i,d,u),T=g.map(x=>({...x,value:x.value?{attributes:di(x.value.getAttributes()),content:x.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[p,T,[h,h]]}setStyle(e,n,i,a){const[,u]=this.rgaTreeSplit.findNodeWithSplit(e[1],i),[,d]=this.rgaTreeSplit.findNodeWithSplit(e[0],i),h=[],p=this.rgaTreeSplit.findBetween(d,u),g=new Map,T=[];for(const x of p){const N=x.getCreatedAt().getActorID(),C=a!=null&&a.size?a.has(N)?a.get(N):lr:za;if(x.canStyle(i,C)){const U=g.get(N),V=x.getCreatedAt();(!U||V.after(U))&&g.set(N,V),T.push(x)}}for(const x of T){if(x.isRemoved())continue;const[N,C]=this.rgaTreeSplit.findIndexesFromRange(x.createPosRange());h.push({type:"style",actor:i.getActorID(),from:N,to:C,value:{attributes:di(n)}});for(const[U,V]of Object.entries(n))x.getValue().setAttr(U,V,i)}return[g,h]}indexRangeToPosRange(e,n){const i=this.rgaTreeSplit.indexToPos(e);return e===n?[i,i]:[i,this.rgaTreeSplit.indexToPos(n)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const e=[];for(const n of this.rgaTreeSplit)n.isRemoved()||e.push(n.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const n of this.rgaTreeSplit)if(!n.isRemoved()){const i=n.getValue();e.push({attributes:di(i.getAttributes()),content:i.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}getRemovedNodesLen(){return this.rgaTreeSplit.getRemovedNodesLen()}purgeRemovedNodesBefore(e){return this.rgaTreeSplit.purgeRemovedNodesBefore(e)}deepcopy(){const e=new mn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}}class So extends hn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"content"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.content=u,this.attributes=d}static create(e,n,i,a,u,d,h){return new So(e,n,i,a,u,d,h)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof mn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a]=i.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||e.registerElementHasRemovedNodes(i),{opInfos:a.map(({from:u,to:d,value:h})=>({type:"edit",from:u,to:d,value:h,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.content;return`${e}.EDIT(${n},${i},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class ko extends hn{constructor(e,n,i,a,u,d){super(e,d),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u}static create(e,n,i,a,u,d){return new ko(e,n,i,a,u,d)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof mn||B.fatal("fail to execute, only Text can execute edit");const i=n,[,a]=i.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);return{opInfos:a.map(({from:u,to:d,value:h})=>({type:"style",from:u,to:d,value:h,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.attributes;return`${e}.STYL(${n},${i},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const Mw=2,Jw="root",xr="text";function Eo(s,e){let n=0;const i=s.children;for(let a=0;a<e;a++){const u=i[a];!u||u.isRemoved||(n+=u.paddedSize)}return n}class Uw{constructor(e,n=[]){if(c(this,"type"),c(this,"parent"),c(this,"_children"),c(this,"size"),this.type=e,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let e=this.parent;const n=this.isRemoved?-1:1;for(;e;)e.size+=this.paddedSize*n,e=e.parent}get isText(){return this.type===xr}get paddedSize(){return this.size+(this.isText?0:Mw)}isAncestorOf(e){return $w(this,e)}get nextSibling(){const e=this.parent.findOffset(this),n=this.parent.children[e+1];if(n)return n}splitText(e,n){if(e===0||e===this.size)return;const i=this.value.slice(0,e),a=this.value.slice(e);if(!a.length)return;this.value=i;const u=this.cloneText(e+n);return u.value=a,this.parent.insertAfterInternal(u,this),u}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}append(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...e);for(const n of e)n.parent=this,n.updateAncestorsSize()}prepend(...e){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...e);for(const n of e)n.parent=this,n.isRemoved||n.updateAncestorsSize()}insertBefore(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i),e.updateAncestorsSize()}insertAfter(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1),e.updateAncestorsSize()}insertAt(e,n){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(e,n),e.updateAncestorsSize()}removeChild(e){if(this.isText)throw new Error("Text node cannot have children");const n=this._children.indexOf(e);if(n===-1)throw new Error("child not found");this._children.splice(n,1),e.parent=void 0}splitElement(e,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const a=this.children.slice(0,e),u=this.children.slice(e);this._children=a,i._children=u,this.size=this._children.reduce((d,h)=>d+h.paddedSize,0),i.size=i._children.reduce((d,h)=>d+h.paddedSize,0);for(const d of i._children)d.parent=i;return i}insertAfterInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new Error("child not found");this.insertAtInternal(e,i+1)}insertAtInternal(e,n){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(n,0,e),e.parent=this}findOffset(e){if(this.isText)throw new Error("Text node cannot have children");if(e.isRemoved){const n=this._children.indexOf(e);return this.allChildren.splice(0,n).filter(a=>!a.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new Error("Text node cannot have children");let n=e;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function $w(s,e){if(s===e)return!1;for(;e.parent;){if(e.parent===s)return!0;e=e.parent}return!1}var Ue=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Ue||{});function Dm(s,e,n,i){if(e>n)throw new Error(`from is greater than to: ${e} > ${n}`);if(e>s.size)throw new Error(`from is out of range: ${e} > ${s.size}`);if(n>s.size)throw new Error(`to is out of range: ${n} > ${s.size}`);if(e===n)return;let a=0;for(const u of s.children){if(e-u.paddedSize<a&&a<n){const d=u.isText?e-a:e-a-1,h=u.isText?n-a:n-a-1,p=!u.isText&&d<0,g=!u.isText&&h>u.size;(u.isText||p)&&i([u,u.isText?"Text":"Start"],g),Dm(u,Math.max(0,d),Math.min(h,u.size),i),g&&i([u,"End"],g)}a+=u.paddedSize}}function Fu(s,e,n=0){for(const i of s.children)Fu(i,e,n+1);e(s,n)}function ju(s,e,n=0){for(const i of s._children)ju(i,e,n+1);e(s,n)}function zu(s,e,n=!0){if(e>s.size)throw new Error(`index is out of range: ${e} > ${s.size}`);if(s.isText)return{node:s,offset:e};let i=0,a=0;for(const u of s.children){if(n&&u.isText&&u.size>=e-a)return zu(u,e-a,n);if(e===a)return{node:s,offset:i};if(!n&&u.paddedSize===e-a)return{node:s,offset:i+1};if(u.paddedSize>e-a)return zu(u,e-a-1,n);a+=u.paddedSize,i+=1}return{node:s,offset:i}}function Rm(s){return s.isText||s.children.length===0?s:Rm(s.children[0])}function Fw(s,e){if(s.size<e)throw new Error("unacceptable path");for(let n=0;n<s.children.length;n++){const i=s.children[n];if(i.size<e)e-=i.size;else{s=i;break}}return{node:s,offset:e}}class jw{constructor(e){c(this,"root"),this.root=e}tokensBetween(e,n,i){Dm(this.root,e,n,i)}traverse(e){Fu(this.root,e,0)}traverseAll(e){ju(this.root,e,0)}findTreePos(e,n=!0){return zu(this.root,e,n)}treePosToPath(e){const n=[];let i=e.node;if(i.isText){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");const u=Eo(i.parent,a);n.push(u+e.offset),i=i.parent}else if(i.hasTextChild()){const a=Eo(i,e.offset);n.push(a)}else n.push(e.offset);for(;i.parent;){const a=i.parent.findOffset(i);if(a===-1)throw new Error("invalid treePos");n.push(a),i=i.parent}return n.reverse()}pathToIndex(e){const n=this.pathToTreePos(e);return this.indexOf(n)}pathToTreePos(e){if(!e.length)throw new Error("unacceptable path");let n=this.root;for(let i=0;i<e.length-1;i++){const a=e[i];if(n=n.children[a],!n)throw new Error("unacceptable path")}if(n.hasTextChild())return Fw(n,e[e.length-1]);if(n.children.length<e[e.length-1])throw new Error("unacceptable path");return{node:n,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(e){const{node:n,offset:i}=e;if(n.isText){if(n.size===i){const a=n.nextSibling;return a||n.parent}return n}return n.children.length===i?n:Rm(n.children[i])}indexOf(e){let{node:n}=e;const{offset:i}=e;let a=0,u=1;if(n.isText){a+=i;const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=Eo(d,h),n=n.parent}else a+=Eo(n,i);for(;n!=null&&n.parent;){const d=n.parent,h=d.findOffset(n);if(h===-1)throw new Error("invalid pos");a+=Eo(d,h),u++,n=n.parent}return a+u-1}indexToPath(e){const n=this.findTreePos(e);return this.treePosToPath(n)}}const zw=(s,e)=>s===e?0:s<e?-1:1;class Vw{constructor(e,n,i){c(this,"key"),c(this,"value"),c(this,"parent"),c(this,"left"),c(this,"right"),c(this,"isRed"),this.key=e,this.value=n,this.isRed=i}}class qw{constructor(e){c(this,"stack"),this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class bm{constructor(e){c(this,"root"),c(this,"comparator"),c(this,"counter"),this.comparator=typeof e<"u"?e:zw,this.counter=0}put(e,n){return this.root=this.putInternal(e,n,this.root),this.root.isRed=!1,n}get(e){const n=this.getInternal(e,this.root);return n?n.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new qw(this.root)}values(){const e=[];for(const n of this.getIterator().stack)e.push(n.value);return e}floorEntry(e){let n=this.root;for(;n;){const i=this.comparator(e,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let a=n.parent,u=n;for(;a&&u===a.left;)u=a,a=a.parent;return a}else return n}}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,n){for(;n;){const i=this.comparator(e,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(e,n,i){if(!i)return this.counter+=1,new Vw(e,n,!0);const a=this.comparator(e,i.key);return a<0?i.left=this.putInternal(e,n,i.left):a>0?i.right=this.putInternal(e,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(e,n){if(this.comparator(n,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,n);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(n,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(n,e.key)===0){this.counter-=1;const i=this.min(e.right);e.value=i.value,e.key=i.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,n)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const n=e.right;return e.right=n.left,n.left=e,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(e){const n=e.left;return e.left=n.right,n.right=e,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class pn{constructor(e,n){c(this,"parentID"),c(this,"leftSiblingID"),this.parentID=e,this.leftSiblingID=n}static of(e,n){return new pn(e,n)}static fromTreePos(e){const{offset:n}=e;let{node:i}=e,a;return i.isText?(i.parent.children[0]===i&&n===0?a=i.parent:a=i,i=i.parent):n===0?a=i:a=i.children[n-1],pn.of(i.id,Qe.of(a.getCreatedAt(),a.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(e){return pn.of(Qe.of(ut.fromStruct(e.parentID.createdAt),e.parentID.offset),Qe.of(ut.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodes(e){const n=this.getParentID(),i=this.getLeftSiblingID(),a=e.findFloorNode(n);let u=e.findFloorNode(i);if(!a||!u)throw new Error(`cannot find node at ${this}`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[a,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Qe{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new Qe(e,n)}static fromStruct(e){return Qe.of(ut.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class xt extends Uw{constructor(e,n,i,a,u){super(n),c(this,"id"),c(this,"removedAt"),c(this,"attrs"),c(this,"insPrevID"),c(this,"insNextID"),c(this,"_value",""),this.id=e,this.removedAt=u,a&&(this.attrs=a),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}static create(e,n,i,a){return new xt(e,n,i,a)}deepcopy(){var e;const n=new xt(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(e=this.attrs)==null?void 0:e.deepcopy(),n._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const n=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),n&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(e){return new xt(Qe.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new xt(Qe.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,n,i){const a=this.isText?this.splitText(n,this.id.getOffset()):this.splitElement(n,i);if(a){if(a.insPrevID=this.id,this.insNextID){const u=e.findFloorNode(this.insNextID);u.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,e.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}}function Vu(s){var e;if(s.isText){const n=s;return{type:n.type,value:n.value}}return{type:s.type,children:s.children.map(Vu),attributes:s.attrs?di((e=s.attrs)==null?void 0:e.toObject()):void 0}}function qu(s){var e;return s.isText?s.value:`<${s.type}${((e=s.attrs)==null?void 0:e.toXML())||""}>${s.children.map(n=>qu(n)).join("")}</${s.type}>`}function Lm(s){if(s.isText){const e=s;return{type:e.type,value:e.value,size:e.size,isRemoved:e.isRemoved}}return{type:s.type,children:s.children.map(Lm),size:s.size,isRemoved:s.isRemoved}}class gn extends Om{constructor(e,n){super(n),c(this,"indexTree"),c(this,"nodeMapByID"),c(this,"removedNodeMap"),this.indexTree=new jw(e),this.nodeMapByID=new bm(Qe.createComparator()),this.removedNodeMap=new Map,this.indexTree.traverse(i=>{this.nodeMapByID.put(i.id,i)})}static create(e,n){return new gn(e,n)}findFloorNode(e){const n=this.nodeMapByID.floorEntry(e);if(!(!n||!n.key.getCreatedAt().equals(e.getCreatedAt())))return n.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,n){const[i,a]=e.toTreeNodes(this);let u=a;const d=i===u,h=u.parent&&!d?u.parent:i;if(u.isText&&u.split(this,e.getLeftSiblingID().getOffset()-u.id.getOffset()),n){const p=h.allChildren,g=d?0:p.indexOf(u)+1;for(let T=g;T<p.length;T++){const x=p[T];if(!x.id.getCreatedAt().after(n))break;u=x}}return[h,u]}style(e,n,i,a){const[u,d]=this.findNodesAndSplitText(e[0],i),[h,p]=this.findNodesAndSplitText(e[1],i),g=[],T=n?di(n):{},x=new Map;return this.traverseInPosRange(u,d,h,p,([N])=>{const C=N.getCreatedAt().getActorID();let U=a?a.has(C)?a.get(C):lr:za;if(N.canStyle(i,U)&&!N.isText&&n){U=x.get(C);const V=N.getCreatedAt();(!U||V.after(U))&&x.set(C,V),N.attrs||(N.attrs=new Ar);const Q=new Set;for(const[fe,ne]of Object.entries(n))N.attrs.set(fe,ne,i)&&Q.add(fe);if(Q.size>0){const fe=Array.from(Q).reduce((ne,Se)=>(ne[Se]=T[Se],ne),{});g.push({type:"style",from:this.toIndex(u,d),to:this.toIndex(h,p),fromPath:this.toPath(u,d),toPath:this.toPath(h,p),actor:i.getActorID(),value:fe})}}}),[x,g]}removeStyle(e,n,i){const[a,u]=this.findNodesAndSplitText(e[0],i),[d,h]=this.findNodesAndSplitText(e[1],i),p=[],g=n||void 0;return this.traverseInPosRange(a,u,d,h,([T])=>{if(!T.isRemoved&&!T.isText&&n){T.attrs||(T.attrs=new Ar);for(const x of n)T.attrs.remove(x,i);p.push({type:"removeStyle",from:this.toIndex(a,u),to:this.toIndex(d,h),fromPath:this.toPath(a,u),toPath:this.toPath(d,h),actor:i.getActorID(),value:g})}}),p}edit(e,n,i,a,u,d){const[h,p]=this.findNodesAndSplitText(e[0],a),[g,T]=this.findNodesAndSplitText(e[1],a),x=this.toIndex(h,p),N=this.toPath(h,p),C=[],U=[],V=[],Q=new Map;this.traverseInPosRange(h,p,g,T,([ne,Se],xe)=>{if(Se===Ue.Start&&!xe)for(const wi of ne.children)V.push(wi);const Fe=ne.getCreatedAt().getActorID(),Ds=d?d.has(Fe)?d.get(Fe):lr:za;if(ne.canDelete(a,Ds)||C.includes(ne.parent)){const wi=Q.get(Fe),Do=ne.getCreatedAt();(!wi||Do.after(wi))&&Q.set(Fe,Do),(Se===Ue.Text||Se===Ue.Start)&&C.push(ne),U.push([ne,Se])}});const fe=this.makeDeletionChanges(U,a);for(const ne of C)ne.remove(a),ne.isRemoved&&this.removedNodeMap.set(ne.id.toIDString(),ne);for(const ne of V)ne.removedAt||h.append(ne);if(i>0){let ne=0,Se=h,xe=p;for(;ne<i;)Se.split(this,Se.findOffset(xe)+1,u),xe=Se,Se=Se.parent,ne++;fe.push({type:"content",from:x,to:x,fromPath:N,toPath:N,actor:a.getActorID()})}if(n!=null&&n.length){const ne=[];let Se=p;for(const xe of n)Se===h?h.insertAt(xe,0):h.insertAfter(xe,Se),Se=xe,ju(xe,Fe=>{h.isRemoved&&(Fe.remove(a),this.removedNodeMap.set(Fe.id.toIDString(),Fe)),this.nodeMapByID.put(Fe.id,Fe)}),xe.isRemoved||ne.push(xe);if(ne.length){const xe=ne.map(Fe=>Vu(Fe));fe.length&&fe[fe.length-1].from===x?fe[fe.length-1].value=xe:fe.push({type:"content",from:x,to:x,fromPath:N,toPath:N,actor:a.getActorID(),value:xe})}}return[fe,Q]}editT(e,n,i,a,u){const d=this.findPos(e[0]),h=this.findPos(e[1]);this.edit([d,h],n,i,a,u)}move(e,n,i){throw new Error(`not implemented: ${e}, ${n}, ${i}`)}purgeRemovedNodesBefore(e){var n;const i=new Set;let a=0;for(const[,u]of this.removedNodeMap)u.removedAt&&e.compare(u.removedAt)>=0&&(i.add(u),a++);for(const u of i)(n=u.parent)==null||n.removeChild(u),this.nodeMapByID.remove(u.id),this.purge(u),this.removedNodeMap.delete(u.id.toIDString());return a}purge(e){const n=e.insPrevID,i=e.insNextID;if(n){const a=this.findFloorNode(n);a.insNextID=i}if(i){const a=this.findFloorNode(i);a.insPrevID=n}e.insPrevID=void 0,e.insNextID=void 0}findPos(e,n=!0){const i=this.indexTree.findTreePos(e,n);return pn.fromTreePos(i)}getRemovedNodesLen(){return this.removedNodeMap.size}pathToPosRange(e){const n=this.pathToIndex(e);return[this.findPos(n),this.findPos(n+1)]}pathToPos(e){const n=this.indexTree.pathToIndex(e);return this.findPos(n)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getIndexTree(){return this.indexTree}toXML(){return qu(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),n=(i,a=void 0,u=void 0,d=0)=>{var h,p,g,T;let x,N,C;const U=i.isText?{node:i,offset:0}:a&&u?this.toTreePos(a,u):null;U&&(x=this.indexTree.indexOf(U),N=this.indexTree.treePosToPath(U),C=pn.fromTreePos(U).toStruct());const V={type:i.type,parent:a==null?void 0:a.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(h=i.removedAt)==null?void 0:h.toTestString(),insPrev:(p=i.insPrevID)==null?void 0:p.toTestString(),insNext:(g=i.insNextID)==null?void 0:g.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:d,attributes:i.attrs?di((T=i.attrs)==null?void 0:T.toObject()):void 0,index:x,path:N,pos:C};for(let Q=0;Q<i.children.length;Q++){const fe=Q===0?i:i.children[Q-1];V.children.push(n(i.children[Q],i,fe,d+1))}return V};return n(e)}getRootTreeNode(){return Vu(this.indexTree.getRoot())}toTestTreeNode(){return Lm(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new gn(e.deepcopy(),this.getCreatedAt())}toPath(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.treePosToPath(i):[]}toIndex(e,n){const i=this.toTreePos(e,n);return i?this.indexTree.indexOf(i):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const n=this.findPos(e[0]);return e[0]===e[1]?[n,n]:[n,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[n,i]=e,a=this.findPos(n);return n===i?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toPath(n,i),this.toPath(a,u)]}posRangeToIndexRange(e){const[n,i]=this.findNodesAndSplitText(e[0]),[a,u]=this.findNodesAndSplitText(e[1]);return[this.toIndex(n,i),this.toIndex(a,u)]}traverseInPosRange(e,n,i,a,u){const d=this.toIndex(e,n),h=this.toIndex(i,a);return this.indexTree.tokensBetween(d,h,u)}toTreePos(e,n){if(!e||!n)return;if(e.isRemoved){let a;for(;e.isRemoved;)a=e,e=a.parent;const u=e.findOffset(a);return{node:e,offset:u}}if(e===n)return{node:e,offset:0};let i=e.findOffset(n);if(!n.isRemoved){if(n.isText)return{node:n,offset:n.paddedSize};i++}return{node:e,offset:i}}makeDeletionChanges(e,n){const i=[],a=[];let u=null,d=null;for(let h=0;h<e.length;h++){const p=e[h],g=e[h+1];u||(u=p),d=p;const T=this.findRightToken(p);(!T||!g||T[0]!==g[0]||T[1]!==g[1])&&(a.push([u,d]),u=null,d=null)}for(const h of a){const[p,g]=h,[T,x]=this.findLeftToken(p),[N,C]=g,U=x===Ue.Start?T:T.parent,V=C===Ue.Start?N:N.parent,Q=this.toIndex(U,T),fe=this.toIndex(V,N);Q<fe&&(i.length>0&&Q===i[i.length-1].to?(i[i.length-1].to=fe,i[i.length-1].toPath=this.toPath(V,N)):i.push({type:"content",from:Q,to:fe,fromPath:this.toPath(U,T),toPath:this.toPath(V,N),actor:n.getActorID()}))}return i.reverse()}findRightToken([e,n]){if(n===Ue.Start){const h=e.allChildren;return h.length>0?[h[0],h[0].isText?Ue.Text:Ue.Start]:[e,Ue.End]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===a.length-1)return[i,Ue.End];const d=a[u+1];return[d,d.isText?Ue.Text:Ue.Start]}findLeftToken([e,n]){if(n===Ue.End){const h=e.allChildren;if(h.length>0){const p=h[h.length-1];return[p,p.isText?Ue.Text:Ue.End]}return[e,Ue.Start]}const i=e.parent,a=i.allChildren,u=a.indexOf(e);if(i&&u===0)return[i,Ue.Start];const d=a[u-1];return[d,d.isText?Ue.Text:Ue.End]}}class No extends hn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"contents"),c(this,"splitLevel"),c(this,"maxCreatedAtMapByActor"),this.fromPos=n,this.toPos=i,this.contents=a,this.splitLevel=u,this.maxCreatedAtMapByActor=d}static create(e,n,i,a,u,d,h){return new No(e,n,i,a,u,d,h)}execute(e){var n;const i=e.findByCreatedAt(this.getParentCreatedAt());i||B.fatal(`fail to find ${this.getParentCreatedAt()}`),i instanceof gn||B.fatal("fail to execute, only Tree can execute edit");const a=this.getExecutedAt(),u=i,[d]=u.edit([this.fromPos,this.toPos],(n=this.contents)==null?void 0:n.map(h=>h.deepcopy()),this.splitLevel,a,(()=>{let h=a.getDelimiter();return this.contents!==void 0&&(h+=this.contents.length),()=>ut.of(a.getLamport(),++h,a.getActorID())})(),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||e.registerElementHasRemovedNodes(u),{opInfos:d.map(({from:h,to:p,value:g,splitLevel:T,fromPath:x,toPath:N})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:h,to:p,value:g,splitLevel:T,fromPath:x,toPath:N}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${e}.EDIT(${n},${i},${a.map(u=>qu(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Hr{constructor(e,n,i){c(this,"clientSeq"),c(this,"serverSeq"),c(this,"lamport"),c(this,"actor"),this.clientSeq=e,this.lamport=n,this.actor=i}static of(e,n,i){return new Hr(e,n,i)}next(){return new Hr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(e){return e.greaterThan(this.lamport)?new Hr(this.clientSeq,e,this.actor):new Hr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(e){return ut.of(this.lamport,e,this.actor)}setActor(e){return new Hr(this.clientSeq,this.lamport,e)}getClientSeq(){return this.clientSeq}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Yw=new Hr(0,se.fromInt(0,!0),ja);class Os{constructor({id:e,operations:n,presenceChange:i,message:a}){c(this,"id"),c(this,"operations"),c(this,"presenceChange"),c(this,"message"),this.id=e,this.operations=n||[],this.presenceChange=i,this.message=a}static create({id:e,operations:n,presenceChange:i,message:a}){return new Os({id:e,operations:n,presenceChange:i,message:a})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const n of this.operations)n.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,n,i){const a=[],u=[];for(const d of this.operations){const h=d.execute(e,i);if(!h)continue;const{opInfos:p,reverseOp:g}=h;a.push(...p),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===Yr.Put?n.set(this.id.getActorID(),dn(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:a,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:$e.bytesToHex($e.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(e=>$e.bytesToHex($e.toOperation(e).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:n,operations:i,presenceChange:a,message:u}=e;return Os.create({id:$e.bytesToChangeID($e.hexToBytes(n)),operations:i==null?void 0:i.map(d=>$e.bytesToOperation($e.hexToBytes(d))),presenceChange:a,message:u})}}class Ya{constructor(e,n,i,a,u,d){c(this,"documentKey"),c(this,"checkpoint"),c(this,"isRemoved"),c(this,"changes"),c(this,"snapshot"),c(this,"minSyncedTicket"),this.documentKey=e,this.checkpoint=n,this.isRemoved=i,this.changes=a,this.snapshot=u,this.minSyncedTicket=d}static create(e,n,i,a,u,d){return new Ya(e,n,i,a,u,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class mi{constructor(e,n){c(this,"serverSeq"),c(this,"clientSeq"),this.serverSeq=e,this.clientSeq=n}static of(e,n){return new mi(e,n)}increaseClientSeq(e){return e===0?this:new mi(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const n=this.serverSeq.greaterThan(e.serverSeq)?this.serverSeq:e.serverSeq,i=Math.max(this.clientSeq,e.clientSeq);return mi.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq.equals(e.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Ww=new mi(se.fromInt(0,!0),0);class ur{constructor(e,n){c(this,"createdAt"),c(this,"offset"),this.createdAt=e,this.offset=n}static of(e,n){return new ur(e,n)}static fromStruct(e){return ur.of(ut.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new ur(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Kw=ur.of(lr,0);class yn{constructor(e,n){c(this,"id"),c(this,"relativeOffset"),this.id=e,this.relativeOffset=n}static of(e,n){return new yn(e,n)}static fromStruct(e){const n=ur.fromStruct(e.id);return yn.of(n,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return ur.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Xr extends Cm{constructor(e,n,i){super(n),c(this,"id"),c(this,"removedAt"),c(this,"prev"),c(this,"next"),c(this,"insPrev"),c(this,"insNext"),this.id=e,this.removedAt=i}static create(e,n){return new Xr(e,n)}static createComparator(){return(e,n)=>{const i=e.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:e.getOffset()>n.getOffset()?1:e.getOffset()<n.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Xr(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,n){return!this.getCreatedAt().after(n)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[yn.of(this.id,0),yn.of(this.id,this.getLength())]}deepcopy(){return new Xr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const n=this.value;return this.value=n.substring(0,e),n.substring(e,n.length)}}class pi{constructor(){c(this,"head"),c(this,"treeByIndex"),c(this,"treeByID"),c(this,"removedNodeMap"),this.head=Xr.create(Kw),this.treeByIndex=new yo,this.treeByID=new bm(Xr.createComparator()),this.removedNodeMap=new Map,this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new pi}edit(e,n,i,a){const[u,d]=this.findNodeWithSplit(e[1],n),[h,p]=this.findNodeWithSplit(e[0],n),g=this.findBetween(p,d),[T,x,N]=this.deleteNodes(g,n,a),C=d?d.getID():u.getID();let U=yn.of(C,0);if(i){const V=this.posToIndex(h.createPosRange()[1],!0),Q=this.insertAfter(h,Xr.create(ur.of(n,0),i));T.length&&T[T.length-1].from===V?T[T.length-1].value=i:T.push({actor:n.getActorID(),from:V,to:V,value:i}),U=yn.of(Q.getID(),Q.getContentLength())}for(const[V,Q]of N)this.removedNodeMap.set(V,Q);return[U,x,T]}indexToPos(e){const[n,i]=this.treeByIndex.find(e),a=n;return yn.of(a.getID(),i)}findIndexesFromRange(e){const[n,i]=e;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(e,n){const i=e.getAbsoluteID(),a=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);a||B.fatal(`the node of the given id should be found: ${i.toTestString()}`);const u=this.treeByIndex.indexOf(a),d=a.isRemoved()?0:i.getOffset()-a.getID().getOffset();return u+d}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const e=[];for(const n of this)n.isRemoved()||e.push(n.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new pi;let n=this.head.getNext(),i=e.head,a;for(;n;){if(a=e.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const u=e.findNode(n.getInsPrevID());a.setInsPrev(u)}i=a,n=n.getNext()}return e}toTestString(){const e=[];let n=this.head;for(;n;)n.isRemoved()?e.push(`{${n.toTestString()}}`):e.push(`[${n.toTestString()}]`),n=n.getNext();return e.join("")}insertAfter(e,n){const i=e.getNext();return n.setPrev(e),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(e,n),n}findNodeWithSplit(e,n){const i=e.getAbsoluteID();let a=this.findFloorNodePreferToLeft(i);const u=i.getOffset()-a.getID().getOffset();for(this.splitNode(a,u);a.hasNext()&&a.getNext().getCreatedAt().after(n);)a=a.getNext();return[a,a.getNext()]}findFloorNodePreferToLeft(e){let n=this.findFloorNode(e);if(n||B.fatal(`the node of the given id should be found: ${e.toTestString()}`),e.getOffset()>0&&n.getID().getOffset()==e.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(e){const n=this.treeByID.floorEntry(e);if(n&&!(!n.key.equals(e)&&!n.key.hasSameCreatedAt(e)))return n.value}findBetween(e,n){const i=[];let a=e;for(;a&&a!==n;)i.push(a),a=a.getNext();return i}splitNode(e,n){if(n>e.getContentLength()&&B.fatal("offset should be less than or equal to length"),n===0)return e;if(n===e.getContentLength())return e.getNext();const i=e.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(e,i);const a=e.getInsNext();return a&&a.setInsPrev(i),i.setInsPrev(e),i}deleteNodes(e,n,i){if(!e.length)return[[],new Map,new Map];const[a,u]=this.filterNodes(e,n,i),d=new Map,h=new Map,p=this.makeChanges(u,n);for(const g of a){const T=g.getCreatedAt().getActorID();(!d.has(T)||g.getID().getCreatedAt().after(d.get(T)))&&d.set(T,g.getID().getCreatedAt()),h.set(g.getID().toIDString(),g),g.remove(n)}return this.deleteIndexNodes(u),[p,d,h]}filterNodes(e,n,i){const a=!!i,u=[],d=[],[h,p]=this.findEdgesOfCandidates(e);d.push(h);for(const g of e){const T=g.getCreatedAt().getActorID(),x=a?i.has(T)?i.get(T):lr:za;g.canDelete(n,x)?u.push(g):d.push(g)}return d.push(p),[u,d]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,n){const i=[];let a,u;for(let d=0;d<e.length-1;d++){const h=e[d],p=e[d+1];h.getNext()!=p&&([a]=this.findIndexesFromRange(h.getNext().createPosRange()),p?[,u]=this.findIndexesFromRange(p.getPrev().createPosRange()):u=this.treeByIndex.length,a<u&&i.push({actor:n.getActorID(),from:a,to:u}))}return i.reverse()}deleteIndexNodes(e){for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];i.getNext()!=a&&this.treeByIndex.deleteRange(i,a)}}getRemovedNodesLen(){return this.removedNodeMap.size}purgeRemovedNodesBefore(e){let n=0;for(const[,i]of this.removedNodeMap)i.getRemovedAt()&&e.compare(i.getRemovedAt())>=0&&(this.treeByIndex.delete(i),this.purge(i),this.treeByID.remove(i.getID()),this.removedNodeMap.delete(i.getID().toIDString()),n++);return n}purge(e){const n=e.getPrev(),i=e.getNext(),a=e.getInsPrev(),u=e.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),e.setPrev(void 0),e.setNext(void 0),a&&a.setInsNext(u),u&&u.setInsPrev(a),e.setInsPrev(void 0),e.setInsNext(void 0)}}const Bm=s=>s<0?Math.ceil(s):Math.floor(s);var cr=(s=>(s[s.IntegerCnt=0]="IntegerCnt",s[s.LongCnt=1]="LongCnt",s))(cr||{});class Pt extends Va{constructor(e,n,i){switch(super(i),c(this,"valueType"),c(this,"value"),this.valueType=e,e){case 0:typeof n=="number"?n>Math.pow(2,31)-1||n<-Math.pow(2,31)?this.value=se.fromNumber(n).toInt():this.value=Bm(n):this.value=n.toInt();break;case 1:typeof n=="number"?this.value=se.fromNumber(n):this.value=n;break;default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}static create(e,n,i){return new Pt(e,n,i)}static valueFromBytes(e,n){switch(e){case 0:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 1:return se.fromBytesLE(Array.from(n));default:throw new pe(de.Unimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Pt.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof se?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Pt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const n=this.value.toBytesLE();return Uint8Array.from(n)}default:throw new pe(de.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function n(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return n(this),n(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ve.Long?this.value=this.value+e.getValue().toInt():this.value=se.fromNumber(this.value+Bm(e.getValue())).toInt(),this}}class gi extends hn{constructor(e,n,i){super(e,i),c(this,"value"),this.value=n}static create(e,n,i){return new gi(e,n,i)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof Pt||B.fatal("fail to execute, only Counter can execute increase");const i=n,a=this.value.deepcopy();return i.increase(a),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),i=e.getType()===Ve.Long?e.getValue().multiply(-1):e.getValue()*-1;return gi.create(this.getParentCreatedAt(),_e.of(i,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Pr extends hn{constructor(e,n,i,a,u,d,h){super(e,h),c(this,"fromPos"),c(this,"toPos"),c(this,"maxCreatedAtMapByActor"),c(this,"attributes"),c(this,"attributesToRemove"),this.fromPos=n,this.toPos=i,this.maxCreatedAtMapByActor=a,this.attributes=u,this.attributesToRemove=d}static create(e,n,i,a,u,d){return new Pr(e,n,i,a,u,new Array,d)}static createTreeRemoveStyleOperation(e,n,i,a,u){return new Pr(e,n,i,new Map,new Map,a,u)}execute(e){const n=e.findByCreatedAt(this.getParentCreatedAt());n||B.fatal(`fail to find ${this.getParentCreatedAt()}`),n instanceof gn||B.fatal("fail to execute, only Tree can execute edit");const i=n;let a;if(this.attributes.size){const u={};[...this.attributes].forEach(([h,p])=>u[h]=p);const[,d]=i.style([this.fromPos,this.toPos],u,this.getExecutedAt(),this.maxCreatedAtMapByActor);a=d}else{const u=this.attributesToRemove;a=i.removeStyle([this.fromPos,this.toPos],u,this.getExecutedAt())}return{opInfos:a.map(({from:u,to:d,value:h,fromPath:p})=>({type:"tree-style",from:u,to:d,value:h,fromPath:p,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${n},${i},${Object.entries(this.attributes||{}).map(([a,u])=>`${a}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function Gw(s){const e=new dm,n=e.data;for(const[i,a]of Object.entries(s))n[i]=JSON.stringify(a);return e}function Hw(s){if(s.type===Yr.Put)return new Lu({type:po.PUT,presence:Gw(s.presence)});if(s.type===Yr.Clear)return new Lu({type:po.CLEAR});throw new pe(de.Unimplemented,"unimplemented type")}function Xw(s){return new hm({serverSeq:s.getServerSeqAsString(),clientSeq:s.getClientSeq()})}function Mm(s){return new $a({clientSeq:s.getClientSeq(),lamport:s.getLamportAsString(),actorId:Qu(s.getActorID())})}function K(s){if(s)return new pm({lamport:s.getLamportAsString(),delimiter:s.getDelimiter(),actorId:Qu(s.getActorID())})}function Jm(s){switch(s){case Ve.Null:return oe.NULL;case Ve.Boolean:return oe.BOOLEAN;case Ve.Integer:return oe.INTEGER;case Ve.Long:return oe.LONG;case Ve.Double:return oe.DOUBLE;case Ve.String:return oe.STRING;case Ve.Bytes:return oe.BYTES;case Ve.Date:return oe.DATE;default:throw new pe(de.Unsupported,`unsupported type: ${s}`)}}function Um(s){switch(s){case cr.IntegerCnt:return oe.INTEGER_CNT;case cr.LongCnt:return oe.LONG_CNT;default:throw new pe(de.Unsupported,`unsupported type: ${s}`)}}function Yu(s){if(s instanceof yt)return new _s({type:oe.JSON_OBJECT,createdAt:K(s.getCreatedAt()),value:ep(s)});if(s instanceof At)return new _s({type:oe.JSON_ARRAY,createdAt:K(s.getCreatedAt()),value:NS(s)});if(s instanceof mn)return new _s({type:oe.TEXT,createdAt:K(s.getCreatedAt())});if(s instanceof _e)return new _s({type:Jm(s.getType()),createdAt:K(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Pt)return new _s({type:Um(s.getType()),createdAt:K(s.getCreatedAt()),value:s.toBytes()});if(s instanceof gn)return new _s({type:oe.TREE,createdAt:K(s.getCreatedAt()),value:_S(s)});throw new pe(de.Unimplemented,"unimplemented element")}function Qw(s){return new am({createdAt:K(s.getCreatedAt()),offset:s.getOffset()})}function Wa(s){return new mm({createdAt:K(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Ka(s){return new fm({parentId:Io(s.getParentID()),leftSiblingId:Io(s.getLeftSiblingID())})}function Io(s){return new cm({createdAt:K(s.getCreatedAt()),offset:s.getOffset()})}function $m(s){const e=new Ru;if(s instanceof Ps){const n=s,i=new zh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="set",e.body.value=i}else if(s instanceof To){const n=s,i=new Vh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.prevCreatedAt=K(n.getPrevCreatedAt()),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="add",e.body.value=i}else if(s instanceof Gr){const n=s,i=new qh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.prevCreatedAt=K(n.getPrevCreatedAt()),i.createdAt=K(n.getCreatedAt()),i.executedAt=K(n.getExecutedAt()),e.body.case="move",e.body.value=i}else if(s instanceof Kr){const n=s,i=new Yh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.createdAt=K(n.getCreatedAt()),i.executedAt=K(n.getExecutedAt()),e.body.case="remove",e.body.value=i}else if(s instanceof So){const n=s,i=new Wh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Wa(n.getFromPos()),i.to=Wa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);i.content=n.getContent();const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=K(n.getExecutedAt()),e.body.case="edit",e.body.value=i}else if(s instanceof ko){const n=s,i=new Kh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Wa(n.getFromPos()),i.to=Wa(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);const u=i.attributes;for(const[d,h]of n.getAttributes())u[d]=h;i.executedAt=K(n.getExecutedAt()),e.body.case="style",e.body.value=i}else if(s instanceof gi){const n=s,i=new Gh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.value=Yu(n.getValue()),i.executedAt=K(n.getExecutedAt()),e.body.case="increase",e.body.value=i}else if(s instanceof No){const n=s,i=new Hh,a=i.createdAtMapByActor;for(const[u,d]of n.getMaxCreatedAtMapByActor())a[u]=K(d);i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Ka(n.getFromPos()),i.to=Ka(n.getToPos()),i.contents=iS(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=K(n.getExecutedAt()),e.body.case="treeEdit",e.body.value=i}else if(s instanceof Pr){const n=s,i=new Xh;i.parentCreatedAt=K(n.getParentCreatedAt()),i.from=Ka(n.getFromPos()),i.to=Ka(n.getToPos());const a=i.createdAtMapByActor;for(const[d,h]of n.getMaxCreatedAtMapByActor())a[d]=K(h);const u=n.getAttributesToRemove();if(u.length>0)i.attributesToRemove=u;else{const d=i.attributes;for(const[h,p]of n.getAttributes())d[h]=p}i.executedAt=K(n.getExecutedAt()),e.body.case="treeStyle",e.body.value=i}else throw new pe(de.Unimplemented,"unimplemented operation");return e}function Zw(s){const e=[];for(const n of s)e.push($m(n));return e}function eS(s){const e=new jh({id:Mm(s.getID()),message:s.getMessage()});return s.hasOperations()&&(e.operations=Zw(s.getOperations())),s.hasPresenceChange()&&(e.presenceChange=Hw(s.getPresenceChange())),e}function tS(s){const e=[];for(const n of s)e.push(eS(n));return e}function nS(s){const e=[];for(const n of s)e.push(new sm({key:n.getStrKey(),element:Wu(n.getValue())}));return e}function rS(s){const e=[];for(const n of s)e.push(new im({element:Wu(n.getValue())}));return e}function sS(s){const e=[];for(const n of s){const i=new om;i.id=Qw(n.getID()),i.value=n.getValue().getContent(),i.removedAt=K(n.getRemovedAt());const a=i.attributes,u=n.getValue().getAttrs();for(const d of u){const h=new bu;h.value=d.getValue(),h.updatedAt=K(d.getUpdatedAt()),a[d.getKey()]=h}e.push(i)}return e}function iS(s){const e=[];if(!s||!s.length)return e;for(const n of s)e.push(new um({content:Fm(n)}));return e}function Fm(s){if(!s)return[];const e=[];return Fu(s,(n,i)=>{const a=new lm({id:Io(n.id),type:n.type,removedAt:K(n.removedAt),depth:i});if(n.isText&&(a.value=n.value),n.insPrevID&&(a.insPrevId=Io(n.insPrevID)),n.insNextID&&(a.insNextId=Io(n.insNextID)),n.attrs)for(const u of n.attrs)a.attributes[u.getKey()]=new bu({value:u.getValue(),updatedAt:K(u.getUpdatedAt())});e.push(a)}),e}function oS(s){const e=new ar;return e.body.case="jsonObject",e.body.value=new Qh({nodes:nS(s.getRHT()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function jm(s){const e=new ar;return e.body.case="jsonArray",e.body.value=new Zh({nodes:rS(s.getElements()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function aS(s){const e=new ar;return e.body.case="primitive",e.body.value=new em({type:Jm(s.getType()),value:s.toBytes(),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function lS(s){const e=new ar;return e.body.case="text",e.body.value=new tm({nodes:sS(s.getRGATreeSplit()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function uS(s){const e=new ar;return e.body.case="counter",e.body.value=new nm({type:Um(s.getType()),value:s.toBytes(),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function zm(s){const e=new ar;return e.body.case="tree",e.body.value=new rm({nodes:Fm(s.getRoot()),createdAt:K(s.getCreatedAt()),movedAt:K(s.getMovedAt()),removedAt:K(s.getRemovedAt())}),e}function Wu(s){if(s instanceof yt)return oS(s);if(s instanceof At)return jm(s);if(s instanceof _e)return aS(s);if(s instanceof mn)return lS(s);if(s instanceof Pt)return uS(s);if(s instanceof gn)return zm(s);throw new pe(de.Unimplemented,"unimplemented element")}function cS(s){return new Fh({documentKey:s.getDocumentKey(),checkpoint:Xw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:tS(s.getChanges()),snapshot:s.getSnapshot(),minSyncedTicket:K(s.getMinSyncedTicket())})}function Vm(s){return Hr.of(s.clientSeq,se.fromString(s.lamport,!0),Xu(s.actorId))}function H(s){if(s)return ut.of(se.fromString(s.lamport,!0),s.delimiter,Xu(s.actorId))}function Ku(s){const e={};return Object.entries(s.data).forEach(([n,i])=>{e[n]=JSON.parse(i)}),e}function fS(s){const e=s.type;if(e===po.PUT){const n=Ku(s.presence);return{type:Yr.Put,presence:n}}if(e===po.CLEAR)return{type:Yr.Clear};throw new pe(de.Unsupported,`unsupported type: ${e}`)}function dS(s){const e=new Map;return Object.entries(s).forEach(([n,i])=>{e.set(n,Ku(i))}),e}function qm(s){switch(s){case oe.NULL:return Ve.Null;case oe.BOOLEAN:return Ve.Boolean;case oe.INTEGER:return Ve.Integer;case oe.LONG:return Ve.Long;case oe.DOUBLE:return Ve.Double;case oe.STRING:return Ve.String;case oe.BYTES:return Ve.Bytes;case oe.DATE:return Ve.Date}throw new pe(de.Unimplemented,`unimplemented value type: ${s}`)}function Ga(s){switch(s){case oe.INTEGER_CNT:return cr.IntegerCnt;case oe.LONG_CNT:return cr.LongCnt}throw new pe(de.Unimplemented,`unimplemented value type: ${s}`)}function Gu(s){switch(s.type){case oe.JSON_OBJECT:return s.value?Zm(s.value):yt.create(H(s.createdAt));case oe.JSON_ARRAY:return s.value?ES(s.value):At.create(H(s.createdAt));case oe.TEXT:return mn.create(pi.create(),H(s.createdAt));case oe.TREE:return IS(s.value);case oe.NULL:case oe.BOOLEAN:case oe.INTEGER:case oe.LONG:case oe.DOUBLE:case oe.STRING:case oe.BYTES:case oe.DATE:return _e.of(_e.valueFromBytes(qm(s.type),s.value),H(s.createdAt));case oe.INTEGER_CNT:case oe.LONG_CNT:return Pt.create(Ga(s.type),Pt.valueFromBytes(Ga(s.type),s.value),H(s.createdAt))}}function Ha(s){return yn.of(ur.of(H(s.createdAt),s.offset),s.relativeOffset)}function Ym(s){return ur.of(H(s.createdAt),s.offset)}function hS(s){const e=wo.create(s.value);Object.entries(s.attributes).forEach(([i,a])=>{e.setAttr(i,a.value,H(a.updatedAt))});const n=Xr.create(Ym(s.id),e);return n.remove(H(s.removedAt)),n}function yi(s){return pn.of(_o(s.parentId),_o(s.leftSiblingId))}function _o(s){return Qe.of(H(s.createdAt),s.offset)}function mS(s){if(!s.length)return;const e=[];return s.forEach(n=>{const i=Wm(n.content);e.push(i)}),e}function Wm(s){if(s.length===0)return;const e=[];for(const i of s)e.push(pS(i));const n=e[e.length-1];for(let i=e.length-2;i>=0;i--){let a;for(let u=i+1;u<e.length;u++)if(s[i].depth-1===s[u].depth){a=e[u];break}a.prepend(e[i])}return gn.create(n,lr).getRoot()}function pS(s){const e=_o(s.id),n=xt.create(e,s.type);if(n.isText)n.value=s.value;else{const i=Ar.create();Object.entries(s.attributes).forEach(([a,u])=>{i.set(a,u.value,H(u.updatedAt))}),n.attrs=i}return s.insPrevId&&(n.insPrevID=_o(s.insPrevId)),s.insNextId&&(n.insNextID=_o(s.insNextId)),n.removedAt=H(s.removedAt),n}function Km(s){if(s.body.case==="set"){const e=s.body.value;return Ps.create(e.key,Gu(e.value),H(e.parentCreatedAt),H(e.executedAt))}else if(s.body.case==="add"){const e=s.body.value;return To.create(H(e.parentCreatedAt),H(e.prevCreatedAt),Gu(e.value),H(e.executedAt))}else if(s.body.case==="move"){const e=s.body.value;return Gr.create(H(e.parentCreatedAt),H(e.prevCreatedAt),H(e.createdAt),H(e.executedAt))}else if(s.body.case==="remove"){const e=s.body.value;return Kr.create(H(e.parentCreatedAt),H(e.createdAt),H(e.executedAt))}else if(s.body.case==="edit"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,H(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),So.create(H(e.parentCreatedAt),Ha(e.from),Ha(e.to),n,e.content,i,H(e.executedAt))}else if(s.body.case==="style"){const e=s.body.value,n=new Map;Object.entries(e.createdAtMapByActor).forEach(([a,u])=>{n.set(a,H(u))});const i=new Map;return Object.entries(e.attributes).forEach(([a,u])=>{i.set(a,u)}),ko.create(H(e.parentCreatedAt),Ha(e.from),Ha(e.to),n,i,H(e.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const e=s.body.value;return gi.create(H(e.parentCreatedAt),Gu(e.value),H(e.executedAt))}else if(s.body.case==="treeEdit"){const e=s.body.value,n=new Map;return Object.entries(e.createdAtMapByActor).forEach(([i,a])=>{n.set(i,H(a))}),No.create(H(e.parentCreatedAt),yi(e.from),yi(e.to),mS(e.contents),e.splitLevel,n,H(e.executedAt))}else if(s.body.case==="treeStyle"){const e=s.body.value,n=new Map,i=e.attributesToRemove,a=new Map;return Object.entries(e.createdAtMapByActor).forEach(([u,d])=>{a.set(u,H(d))}),i.length>0?Pr.createTreeRemoveStyleOperation(H(e.parentCreatedAt),yi(e.from),yi(e.to),i,H(e.executedAt)):(Object.entries(e.attributes).forEach(([u,d])=>{n.set(u,d)}),Pr.create(H(e.parentCreatedAt),yi(e.from),yi(e.to),a,n,H(e.executedAt)))}else throw new pe(de.Unimplemented,"unimplemented operation")}}function gS(s){const e=[];for(const n of s){const i=Km(n);i&&e.push(i)}return e}function Gm(s){const e=[];for(const n of s)e.push(Os.create({id:Vm(n.id),operations:gS(n.operations),presenceChange:n.presenceChange?fS(n.presenceChange):void 0,message:n.message}));return e}function yS(s){return mi.of(se.fromString(s.serverSeq,!0),s.clientSeq)}function vS(s){return Ya.create(s.documentKey,yS(s.checkpoint),s.isRemoved,Gm(s.changes),s.snapshot,H(s.minSyncedTicket))}function Hm(s){const e=new go;for(const i of s.nodes){const a=Hu(i.element);e.set(i.key,a,a.getPositionedAt())}const n=new yt(H(s.createdAt),e);return n.setMovedAt(H(s.movedAt)),n.setRemovedAt(H(s.removedAt)),n}function Xm(s){const e=new vo;for(const i of s.nodes)e.insert(Hu(i.element));const n=new At(H(s.createdAt),e);return n.setMovedAt(H(s.movedAt)),n.setRemovedAt(H(s.removedAt)),n}function TS(s){const e=_e.of(_e.valueFromBytes(qm(s.type),s.value),H(s.createdAt));return e.setMovedAt(H(s.movedAt)),e.setRemovedAt(H(s.removedAt)),e}function wS(s){const e=new pi;let n=e.getHead();for(const a of s.nodes){const u=e.insertAfter(n,hS(a));a.insPrevId&&u.setInsPrev(e.findNode(Ym(a.insPrevId))),n=u}const i=new mn(e,H(s.createdAt));return i.setMovedAt(H(s.movedAt)),i.setRemovedAt(H(s.removedAt)),i}function SS(s){const e=Pt.create(Ga(s.type),Pt.valueFromBytes(Ga(s.type),s.value),H(s.createdAt));return e.setMovedAt(H(s.movedAt)),e.setRemovedAt(H(s.removedAt)),e}function Qm(s){const e=Wm(s.nodes);return gn.create(e,H(s.createdAt))}function Hu(s){if(s.body.case==="jsonObject")return Hm(s.body.value);if(s.body.case==="jsonArray")return Xm(s.body.value);if(s.body.case==="primitive")return TS(s.body.value);if(s.body.case==="text")return wS(s.body.value);if(s.body.case==="counter")return SS(s.body.value);if(s.body.case==="tree")return Qm(s.body.value);throw new pe(de.Unimplemented,"unimplemented element")}function kS(s){if(!s)return{root:yt.create(lr),presences:new Map};const e=$h.fromBinary(s);return{root:Hu(e.root),presences:dS(e.presences)}}function Zm(s){if(!s)throw new Error("bytes is empty");const e=ar.fromBinary(s);return Hm(e.body.value)}function ep(s){return Wu(s).toBinary()}function ES(s){if(!s)throw new Error("bytes is empty");const e=ar.fromBinary(s);return Xm(e.body.value)}function NS(s){return jm(s).toBinary()}function IS(s){if(!s)throw new Error("bytes is empty");const e=ar.fromBinary(s);return Qm(e.body.value)}function _S(s){return zm(s).toBinary()}function tp(s){return s?Array.from(s).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Xu(s){return tp(s)}function np(s){return new Uint8Array(s.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Qu(s){return np(s)}function AS(s){const e=$a.fromBinary(s);return Vm(e)}function xS(s){const e=Ru.fromBinary(s);return Km(e)}const $e={fromPresence:Ku,toChangePack:cS,fromChangePack:vS,fromChanges:Gm,objectToBytes:ep,bytesToObject:Zm,bytesToSnapshot:kS,bytesToHex:tp,hexToBytes:np,toHexString:Xu,toUint8Array:Qu,toOperation:$m,toChangeID:Mm,PbChangeID:$a,bytesToChangeID:AS,bytesToOperation:xS};function rp(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16)})}class PS{constructor(e,n,i,a){c(this,"reconnectStreamDelay"),c(this,"doc"),c(this,"docID"),c(this,"syncMode"),c(this,"remoteChangeEventReceived"),c(this,"watchStream"),c(this,"watchLoopTimerID"),c(this,"watchAbortController"),this.reconnectStreamDelay=e,this.doc=n,this.docID=i,this.syncMode=a,this.remoteChangeEventReceived=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===tl.RealtimeSyncOff?!1:this.syncMode!==tl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(e){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Zu=()=>{};class OS{constructor(e){c(this,"finalized",!1),c(this,"observers",[]),c(this,"finalError");try{e(this)}catch(n){this.error(n)}}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;e||B.fatal("missing observer"),this.finalized&&B.fatal("observable is finalized due to previous error"),typeof e=="object"?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zu),a.error===void 0&&(a.error=Zu),a.complete===void 0&&(a.complete=Zu);const u=rp(),d=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:a}),this.finalized)try{this.finalError?a.error(this.finalError):a.complete()}catch(h){B.warn(h)}return d}unsubscribeOne(e){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e].observer)}catch(i){B.error(i)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function CS(s){const e=new OS(s);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class vi{constructor(e,n,i,a){c(this,"id"),c(this,"delimiter"),c(this,"message"),c(this,"root"),c(this,"operations"),c(this,"presenceChange"),c(this,"previousPresence"),c(this,"reversePresenceKeys"),this.id=e,this.delimiter=Uu,this.root=n,this.operations=[],this.previousPresence=dn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=a}static create(e,n,i,a){return new vi(e,n,i,a)}push(e){this.operations.push(e)}registerElement(e,n){this.root.registerElement(e,n)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerElementHasRemovedNodes(e){this.root.registerElementHasRemovedNodes(e)}getChange(){return Os.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,n){for(const i of Object.keys(e))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const n of this.reversePresenceKeys)e[n]=this.previousPresence[n];return e}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Ao{constructor(e){c(this,"rootObject"),c(this,"elementPairMapByCreatedAt"),c(this,"removedElementSetByCreatedAt"),c(this,"elementHasRemovedNodesSetByCreatedAt"),this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.removedElementSetByCreatedAt=new Set,this.elementHasRemovedNodesSetByCreatedAt=new Set,this.registerElement(e,void 0)}static create(){return new Ao(yt.create(lr))}findByCreatedAt(e){const n=this.elementPairMapByCreatedAt.get(e.toIDString());if(n)return n.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let n=this.elementPairMapByCreatedAt.get(e.toIDString());if(!n)return[];const i=[];for(;n.parent;){const a=n.element.getCreatedAt(),u=n.parent.subPathOf(a);u===void 0&&B.fatal(`cant find the given element: ${a.toIDString()}`),i.unshift(u),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,n){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:n,element:e}),e instanceof Wr&&e.getDescendants((i,a)=>(this.registerElement(i,a),!1))}deregisterElement(e){let n=0;const i=a=>{const u=a.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(u),this.removedElementSetByCreatedAt.delete(u),n++};return i(e),e instanceof Wr&&e.getDescendants(a=>(i(a),!1)),n}registerRemovedElement(e){this.removedElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerElementHasRemovedNodes(e){this.elementHasRemovedNodesSetByCreatedAt.add(e.getCreatedAt().toIDString())}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getRemovedElementSetSize(){return this.removedElementSetByCreatedAt.size}getObject(){return this.rootObject}getGarbageLen(){let e=0;const n=new Set;for(const i of this.removedElementSetByCreatedAt){n.add(i);const a=this.elementPairMapByCreatedAt.get(i);a.element instanceof Wr&&a.element.getDescendants(u=>(n.add(u.getCreatedAt().toIDString()),!1))}e+=n.size;for(const i of this.elementHasRemovedNodesSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(i).element;e+=u.getRemovedNodesLen()}return e}deepcopy(){return new Ao(this.rootObject.deepcopy())}garbageCollect(e){let n=0;for(const i of this.removedElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(i);a.element.getRemovedAt()&&e.compare(a.element.getRemovedAt())>=0&&(a.parent.purge(a.element),n+=this.deregisterElement(a.element))}for(const i of this.elementHasRemovedNodesSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(i).element,d=u.purgeRemovedNodesBefore(e);u.getRemovedNodesLen()===0&&this.elementHasRemovedNodesSetByCreatedAt.delete(u.getCreatedAt().toIDString()),n+=d}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function sp(s,e){const n=new xo(s);return new Proxy(e,n.getHandlers())}class xo{constructor(e){c(this,"context"),c(this,"handlers"),this.context=e,this.handlers={set:(n,i,a)=>(B.isEnabled(_t.Trivial)&&B.trivial(`obj[${i}]=${JSON.stringify(a)}`),xo.setInternal(e,n,i,a),!0),get:(n,i)=>(B.isEnabled(_t.Trivial)&&B.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Cs(e,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(B.isEnabled(_t.Trivial)&&B.trivial(`obj[${i}]`),xo.deleteInternal(e,n,i),!0)}}static setInternal(e,n,i,a){if(i.includes("."))throw new pe(de.InvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),d=Xa(e,a,u),h=n.set(i,d,u);e.registerElement(d,n),h&&e.registerRemovedElement(h),e.push(Ps.create(i,d.deepcopy(),n.getCreatedAt(),u))}static buildObjectMembers(e,n){const i={};for(const[a,u]of Object.entries(n)){if(a.includes("."))throw new pe(de.InvalidObjectKey,"key must not contain the '.'.");const d=e.issueTimeTicket(),h=Xa(e,u,d);i[a]=h}return i}static deleteInternal(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByKey(i,a);u&&(e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function DS(s,e){const n=new Re(s,e);return new Proxy(e,n.getHandlers())}function RS(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function bS(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Re{constructor(e,n){c(this,"context"),c(this,"handlers"),c(this,"array"),this.context=e,this.array=n,this.handlers={get:(i,a,u)=>a==="getID"?()=>i.getCreatedAt():a==="getElementByID"?d=>{const h=i.getByID(d);if(!(!h||h.isRemoved()))return Qr(e,h)}:a==="getElementByIndex"?d=>{const h=i.get(d);return Qr(e,h)}:a==="getLast"?()=>Qr(e,i.getLast()):a==="deleteByID"?d=>{const h=Re.deleteInternalByID(e,i,d);return Qr(e,h)}:a==="insertAfter"?(d,h)=>{const p=Re.insertAfterInternal(e,i,d,h);return Qr(e,p)}:a==="insertBefore"?(d,h)=>{const p=Re.insertBeforeInternal(e,i,d,h);return Qr(e,p)}:a==="moveBefore"?(d,h)=>{Re.moveBeforeInternal(e,i,d,h)}:a==="moveAfter"?(d,h)=>{Re.moveAfterInternal(e,i,d,h)}:a==="moveFront"?d=>{Re.moveFrontInternal(e,i,d)}:a==="moveLast"?d=>{Re.moveLastInternal(e,i,d)}:RS(a)?Cs(e,i.get(Number(a))):a==="push"?d=>Re.pushInternal(e,i,d):a==="splice"?(d,h,...p)=>Re.splice(e,i,d,h,...p):a==="length"?i.length:typeof a=="symbol"&&a===Symbol.iterator?Re.iteratorInternal.bind(this,e,i):a==="includes"?(d,h)=>Re.includes(e,i,d,h):a==="indexOf"?(d,h)=>Re.indexOf(e,i,d,h):a==="lastIndexOf"?(d,h)=>Re.lastIndexOf(e,i,d,h):a==="toJSForTest"?()=>i.toJSForTest():a==="toTestString"?()=>Re.toTestString(i):typeof a=="string"&&bS(a)?(...d)=>{const h=Array.from(i).map(p=>Cs(e,p));return Array.prototype[a].apply(h,d)}:Reflect.get(i,a,u),deleteProperty:(i,a)=>(B.isEnabled(_t.Trivial)&&B.trivial(`array[${a}]`),Re.deleteInternalByIndex(e,i,Number.parseInt(a)),!0)}}static*iteratorInternal(e,n){for(const i of n)yield Qr(e,i)}static buildArrayElements(e,n){const i=[];for(const a of n){const u=e.issueTimeTicket(),d=Xa(e,a,u);i.push(d)}return i}static pushInternal(e,n,i){return Re.insertAfterInternal(e,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(e,n,i,a){const u=e.issueTimeTicket(),d=n.getPrevCreatedAt(i);n.moveAfter(d,a,u),e.push(Gr.create(n.getCreatedAt(),d,a,u))}static moveAfterInternal(e,n,i,a){const u=e.issueTimeTicket();n.moveAfter(i,a,u),e.push(Gr.create(n.getCreatedAt(),i,a,u))}static moveFrontInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getHead();n.moveAfter(u.getCreatedAt(),i,a),e.push(Gr.create(n.getCreatedAt(),u.getCreatedAt(),i,a))}static moveLastInternal(e,n,i){const a=e.issueTimeTicket(),u=n.getLastCreatedAt();n.moveAfter(u,i,a),e.push(Gr.create(n.getCreatedAt(),u,i,a))}static insertAfterInternal(e,n,i,a){const u=e.issueTimeTicket(),d=Xa(e,a,u);return n.insertAfter(i,d),e.registerElement(d,n),e.push(To.create(n.getCreatedAt(),i,d.deepcopy(),u)),d}static insertBeforeInternal(e,n,i,a){return Re.insertAfterInternal(e,n,n.getPrevCreatedAt(i),a)}static deleteInternalByIndex(e,n,i){const a=e.issueTimeTicket(),u=n.deleteByIndex(i,a);if(u)return e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static deleteInternalByID(e,n,i){const a=e.issueTimeTicket(),u=n.delete(i,a);return e.push(Kr.create(n.getCreatedAt(),u.getCreatedAt(),a)),e.registerRemovedElement(u),u}static splice(e,n,i,a,...u){const d=n.length,h=i>=0?Math.min(i,d):Math.max(d+i,0),p=a===void 0?d:a<0?h:Math.min(h+a,d),g=[];for(let T=h;T<p;T++){const x=Re.deleteInternalByIndex(e,n,h);if(x){const N=x.deepcopy();N.setRemovedAt(),g.push(Cs(e,N))}}if(u){let T=h===0?n.getHead().getID():n.get(h-1).getID();for(const x of u)T=Re.insertAfterInternal(e,n,T,x).getID()}return g}static includes(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return!1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).includes(i,h);for(let p=h;p<d;p++)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return!0;return!1}static indexOf(e,n,i,a){var u;const d=n.length,h=a===void 0?0:a<0?Math.max(a+d,0):a;if(h>=d)return-1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).indexOf(i,h);for(let p=h;p<d;p++)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return p;return-1}static lastIndexOf(e,n,i,a){var u;const d=n.length,h=a===void 0||a>=d?d-1:a<0?a+d:a;if(h<0)return-1;if(_e.isSupport(i))return Array.from(n).map(g=>Cs(e,g)).lastIndexOf(i,h);for(let p=h;p>0;p--)if(((u=n.get(p))==null?void 0:u.getID())===i.getID())return p;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Po{constructor(e,n){c(this,"context"),c(this,"text"),this.context=e,this.text=n}initialize(e,n){this.context=e,this.text=n}getID(){return this.text.getID()}edit(e,n,i,a){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}if(e>n){B.fatal("from should be less than or equal to to");return}const u=this.text.indexRangeToPosRange(e,n);B.isEnabled(_t.Debug)&&B.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${n}->${u[1].toTestString()} c:${i}`);const d=a?fi(a):void 0,h=this.context.issueTimeTicket(),[p,,g]=this.text.edit(u,i,h,d);return this.context.push(new So(this.text.getCreatedAt(),u[0],u[1],p,i,d?new Map(Object.entries(d)):new Map,h)),u[0].equals(u[1])||this.context.registerElementHasRemovedNodes(this.text),this.text.findIndexesFromRange(g)}delete(e,n){return this.edit(e,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,n,i){if(!this.context||!this.text)return B.fatal("it is not initialized yet"),!1;if(e>n)return B.fatal("from should be less than or equal to to"),!1;const a=this.text.indexRangeToPosRange(e,n);B.isEnabled(_t.Debug)&&B.debug(`STYL: f:${e}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} a:${JSON.stringify(i)}`);const u=fi(i),d=this.context.issueTimeTicket(),[h]=this.text.setStyle(a,u,d);return this.context.push(new ko(this.text.getCreatedAt(),a[0],a[1],h,new Map(Object.entries(u)),d)),!0}indexRangeToPosRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.indexRangeToPosRange(e[0],e[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}const n=this.text.findIndexesFromRange([yn.fromStruct(e[0]),yn.fromStruct(e[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(B.fatal("it is not initialized yet"),""):this.text.toString()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,n){if(!this.context||!this.text){B.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(e,n)}}class Oo{constructor(e,n){c(this,"valueType"),c(this,"value"),c(this,"context"),c(this,"counter"),this.valueType=e,this.value=n}initialize(e,n){this.valueType=n.getValueType(),this.context=e,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter){B.fatal("it is not initialized yet");return}const n=this.context.issueTimeTicket(),i=_e.of(e,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(gi.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function ec(s,e,n){const{type:i}=s,a=n.issueTimeTicket();if(i===xr){ip(s);const{value:u}=s,d=xt.create(Qe.of(a,0),i,u);e.append(d)}else{const{children:u=[]}=s;let{attributes:d}=s,h;if(typeof d=="object"&&!Pm(d)){d=fi(d),h=new Ar;for(const[g,T]of Object.entries(d))h.set(g,T,a)}const p=xt.create(Qe.of(a,0),i,void 0,h);e.append(p);for(const g of u)ec(g,p,n)}}function LS(s,e){const{type:n}=e,i=s.issueTimeTicket();let a;if(e.type===xr){const{value:u}=e;a=xt.create(Qe.of(i,0),n,u)}else if(e){const{children:u=[]}=e;let{attributes:d}=e,h;if(typeof d=="object"&&!Pm(d)){d=fi(d),h=new Ar;for(const[p,g]of Object.entries(d))h.set(p,g,i)}a=xt.create(Qe.of(s.issueTimeTicket(),0),n,void 0,h);for(const p of u)ec(p,a,s)}return a}function ip(s){if(!s.value.length)throw new Error("text node cannot have empty value");return!0}function op(s){if(!s.length)return!0;if(s[0].type===xr)for(const n of s){const{type:i}=n;if(i!==xr)throw new Error("element node and text node cannot be passed together");ip(n)}else for(const n of s){const{type:i}=n;if(i===xr)throw new Error("element node and text node cannot be passed together")}return!0}class Co{constructor(e){c(this,"initialRoot"),c(this,"context"),c(this,"tree"),this.initialRoot=e}initialize(e,n){this.context=e,this.tree=n}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return xt.create(Qe.of(e.issueTimeTicket(),0),Jw);const n=xt.create(Qe.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)ec(i,n,e);return n}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(e,n){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!e.length)throw new Error("path should not be empty");const[i,a]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),d=n?fi(n):void 0,[h]=this.tree.style([i,a],d,u,void 0);this.context.push(Pr.create(this.tree.getCreatedAt(),i,a,h,d?new Map(Object.entries(d)):new Map,u))}style(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket(),h=i?fi(i):void 0,[p]=this.tree.style([a,u],h,d,void 0);this.context.push(Pr.create(this.tree.getCreatedAt(),a,u,p,h?new Map(Object.entries(h)):new Map,d))}removeStyle(e,n,i){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const a=this.tree.findPos(e),u=this.tree.findPos(n),d=this.context.issueTimeTicket();this.tree.removeStyle([a,u],i,d),this.context.push(Pr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),a,u,i,d))}editInternal(e,n,i,a=0){var u;if(i.length!==0&&i[0]&&(op(i),i[0].type!==xr))for(const g of i){const{children:T=[]}=g;op(T)}const d=this.context.getLastTimeTicket();let h=new Array;if(((u=i[0])==null?void 0:u.type)===xr){let g="";for(const T of i){const{value:x}=T;g+=x}h.push(xt.create(Qe.of(this.context.issueTimeTicket(),0),xr,g))}else h=i.map(g=>g&&LS(this.context,g)).filter(g=>g);const[,p]=this.tree.edit([e,n],h.length?h.map(g=>g==null?void 0:g.deepcopy()):void 0,a,d,()=>this.context.issueTimeTicket());return this.context.push(No.create(this.tree.getCreatedAt(),e,n,h.length?h:void 0,a,p,d)),e.equals(n)||this.context.registerElementHasRemovedNodes(this.tree),!0}editByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulkByPath(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e.length!==n.length)throw new Error("path length should be equal");if(!e.length||!n.length)throw new Error("path should not be empty");const u=this.tree.pathToPos(e),d=this.tree.pathToPos(n);return this.editInternal(u,d,i,a)}edit(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i?[i]:[],a)}editBulk(e,n,i,a=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(e>n)throw new Error("from should be less than or equal to to");const u=this.tree.findPos(e),d=this.tree.findPos(n);return this.editInternal(u,d,i,a)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[pn.fromStruct(e[0]),pn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(e){if(!this.context||!this.tree){B.fatal("it is not initialized yet");return}const n=[pn.fromStruct(e[0]),pn.fromStruct(e[1])];return this.tree.posRangeToPathRange(n)}}function ap(s,e){return sp(s,e)}function Qr(s,e){if(e){if(e instanceof _e)return e;if(e instanceof yt)return sp(s,e);if(e instanceof At)return DS(s,e);if(e instanceof mn)return new Po(s,e);if(e instanceof Pt){const n=new Oo(cr.IntegerCnt,0);return n.initialize(s,e),n}else if(e instanceof gn){const n=new Co;return n.initialize(s,e),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function Cs(s,e){const n=Qr(s,e);return n instanceof _e?n.getValue():n}function Xa(s,e,n){let i;if(_e.isSupport(e))i=_e.of(e,n);else if(Array.isArray(e))i=At.create(n,Re.buildArrayElements(s,e));else if(typeof e=="object")e instanceof Po?(i=mn.create(pi.create(),n),e.initialize(s,i)):e instanceof Oo?(i=Pt.create(e.getValueType(),e.getValue(),n),e.initialize(s,i)):e instanceof Co?(i=gn.create(e.buildRoot(s),n),e.initialize(s,i)):i=yt.create(n,xo.buildObjectMembers(s,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return i}const lp=50;class BS{constructor(){c(this,"undoStack",[]),c(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=lp&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=lp&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const up="yorkie-devtools-panel",cp="yorkie-devtools-sdk";let Ti="disconnected";const fp=new Map,tc=new Map;function Qa(s,e){(e!=null&&e.force||Ti!=="disconnected")&&window.postMessage({source:cp,...s},"*")}function MS(s){if(!s.isEnableDevtools()||typeof window>"u"||fp.has(s.getKey()))return;tc.set(s.getKey(),[]);const e=s.subscribe("all",n=>{n.some(i=>i.type!==ct.StatusChanged&&i.type!==ct.Snapshot&&i.type!==ct.LocalChange&&i.type!==ct.RemoteChange&&i.type!==ct.Initialized&&i.type!==ct.Watched&&i.type!==ct.Unwatched&&i.type!==ct.PresenceChanged)||(tc.get(s.getKey()).push(n),Ti==="synced"&&Qa({msg:"doc::sync::partial",docKey:s.getKey(),event:n}))});fp.set(s.getKey(),[e]),Qa({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var i;if(((i=n.data)==null?void 0:i.source)!==up)return;switch(n.data.msg){case"devtools::connect":if(Ti!=="disconnected")break;Ti="connected",Qa({msg:"doc::available",docKey:s.getKey()}),B.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Ti="disconnected",B.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Ti="synced",Qa({msg:"doc::sync::full",docKey:s.getKey(),events:tc.get(s.getKey())}),B.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var Zr=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(Zr||{}),ct=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s))(ct||{}),Za=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Za||{}),el=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(el||{});class nc{constructor(e,n){c(this,"key"),c(this,"status"),c(this,"opts"),c(this,"changeID"),c(this,"checkpoint"),c(this,"localChanges"),c(this,"root"),c(this,"clone"),c(this,"eventStream"),c(this,"eventStreamObserver"),c(this,"onlineClients"),c(this,"presences"),c(this,"history"),c(this,"internalHistory"),c(this,"isUpdating"),this.opts=n||{},this.key=e,this.status="detached",this.root=Ao.create(),this.changeID=Yw,this.checkpoint=Ww,this.localChanges=[],this.eventStream=CS(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new BS,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},MS(this)}update(e,n){if(this.getStatus()==="removed")throw new pe(de.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),a=vi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const u=ap(a,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,e(u,new Ju(a,this.clone.presences.get(i)))}catch(u){throw this.clone=void 0,B.error(u),u}finally{this.isUpdating=!1}if(a.hasChange()){B.isEnabled(_t.Trivial)&&B.trivial(`trying to update a local change: ${this.toJSON()}`);const u=a.getChange(),{opInfos:d,reverseOps:h}=u.execute(this.root,this.presences,we.Local),p=a.getReversePresence();p&&h.push({type:"presence",value:p}),this.localChanges.push(u),h.length>0&&this.internalHistory.pushUndo(h),d.length>0&&this.internalHistory.clearRedo(),this.changeID=u.getID();const g=[];d.length>0&&g.push({type:"local-change",source:we.Local,value:{message:u.getMessage()||"",operations:d,actor:i},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&g.push({type:"presence-changed",source:we.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(g),B.isEnabled(_t.Trivial)&&B.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,n,i,a){if(typeof e=="string"){if(typeof n!="function")throw new Error("Second argument must be a callback function");if(e==="presence"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||h(g)},i,a)}if(e==="my-presence"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.type!=="initialized"&&g.value.clientID!==this.changeID.getActorID()||h(g)},i,a)}if(e==="others"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.value.clientID!==this.changeID.getActorID()&&h(g)},i,a)}if(e==="connection"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type==="connection-changed"&&h(g)},i,a)}if(e==="sync"){const h=n;return this.eventStream.subscribe(p=>{for(const g of p)g.type==="sync-status-changed"&&h(g)},i,a)}if(e==="all"){const h=n;return this.eventStream.subscribe(h,i,a)}const u=e,d=n;return this.eventStream.subscribe(h=>{for(const p of h){if(p.type!=="snapshot"&&p.type!=="local-change"&&p.type!=="remote-change")continue;if(p.type==="snapshot"){u==="$"&&d(p);continue}const g=[];for(const T of p.value.operations)this.isSameElementOrChildOf(T.path,u)&&g.push(T);g.length&&d({...p,value:{...p.value,operations:g}})}},i,a)}if(typeof e=="function"){const u=e,d=n,h=i;return this.eventStream.subscribe(p=>{for(const g of p)g.type!=="snapshot"&&g.type!=="local-change"&&g.type!=="remote-change"||u(g)},d,h)}throw new Error(`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}isSameElementOrChildOf(e,n){if(n===e)return!0;const i=e.split(".");return n.split(".").every((u,d)=>u===i[d])}applyChangePack(e){for(e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getSnapshot()):e.hasChanges()&&this.applyChanges(e.getChanges(),we.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),this.garbageCollect(e.getMinSyncedTicket()),e.getIsRemoved()&&this.applyStatus("removed"),B.isEnabled(_t.Trivial)&&B.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:dn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(e.length);return Ya.create(this.key,n,!1,e)}setActor(e){for(const n of this.localChanges)n.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=vi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return ap(e,this.clone.root.getObject())}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,n){const{root:i,presences:a}=$e.bytesToSnapshot(n);this.root=new Ao(i),this.presences=a,this.changeID=this.changeID.syncLamport(e),this.clone=void 0,this.publish([{type:"snapshot",source:we.Remote,value:{snapshot:this.isEnableDevtools()?$e.bytesToHex(n):void 0,serverSeq:e.toString()}}])}applyChanges(e,n){B.isEnabled(_t.Debug)&&B.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getRemovedElementSetSize()}`),B.isEnabled(_t.Trivial)&&B.trivial(e.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of e)this.applyChange(i,n);B.isEnabled(_t.Debug)&&B.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getRemovedElementSetSize()}`)}applyChange(e,n){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,n);const i=[],a=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(a)){const d=e.getPresenceChange();switch(d.type){case Yr.Put:i.push(this.presences.has(a)?{type:"presence-changed",source:n,value:{clientID:a,presence:d.presence}}:{type:"watched",source:we.Remote,value:{clientID:a,presence:d.presence}});break;case Yr.Clear:i.push({type:"unwatched",source:we.Remote,value:{clientID:a,presence:this.getPresence(a)}}),this.removeOnlineClient(a);break}}const{opInfos:u}=e.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncLamport(e.getID().getLamport()),u.length>0){const d=this.isEnableDevtools()?e.toStruct():void 0;i.push(n===we.Remote?{type:"remote-change",source:n,value:{actor:a,message:e.getMessage()||"",operations:u},rawChange:d}:{type:"local-change",source:n,value:{actor:a,message:e.getMessage()||"",operations:u},rawChange:d})}i.length>0&&this.publish(i)}applyWatchStream(e){if(e.body.case==="initialization"){const n=e.body.value.clientIds,i=new Set;for(const a of n)a!==this.changeID.getActorID()&&i.add(a);this.setOnlineClients(i),this.publish([{type:"initialized",source:we.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:n,publisher:i}=e.body.value,a=[];if(n===Ua.DOCUMENT_WATCHED)this.addOnlineClient(i),this.hasPresence(i)&&a.push({type:"watched",source:we.Remote,value:{clientID:i,presence:this.getPresence(i)}});else if(n===Ua.DOCUMENT_UNWATCHED){const u=this.getPresence(i);this.removeOnlineClient(i),u&&a.push({type:"unwatched",source:we.Remote,value:{clientID:i,presence:u}})}a.length>0&&this.publish(a)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(ja),this.publish([{source:e==="removed"?we.Remote:we.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEvent(e){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);return}if(e.type==="snapshot"){const{snapshot:n,serverSeq:i}=e.value;if(!n)return;this.applySnapshot(se.fromString(i),$e.hexToBytes(n));return}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)return;const n=Os.fromStruct(e.rawChange);this.applyChange(n,e.source)}if(e.type==="initialized"){const n=new Set;for(const{clientID:i,presence:a}of e.value)n.add(i),this.presences.set(i,a);this.setOnlineClients(n);return}if(e.type==="watched"){const{clientID:n,presence:i}=e.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(e.type==="unwatched"){const{clientID:n}=e.value;this.removeOnlineClient(n),this.presences.delete(n)}if(e.type==="presence-changed"){const{clientID:n,presence:i}=e.value;this.presences.set(n,i)}}applyTransactionEvent(e){for(const n of e)this.applyDocEvent(n)}getValueByPath(e){if(!e.startsWith("$"))throw new pe(de.InvalidArgument,'path must start with "$"');const n=e.split(".");n.shift();let i=this.getRoot();for(const a of n)if(i=i[a],i===void 0)return;return i}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?dn(e):{}}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const n=this.presences.get(e);return n?dn(n):void 0}getPresenceForTest(e){const n=this.presences.get(e);return n?dn(n):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:dn(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&e.push({clientID:n,presence:dn(this.presences.get(n))});return e}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==e).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const e=this.internalHistory.popUndo();if(e===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const n=vi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof hn)){new Ju(n,dn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushRedo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),p=[];a.length>0&&p.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(p)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const e=this.internalHistory.popRedo();if(e===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const n=vi.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of e){if(!(g instanceof hn)){new Ju(n,dn(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const T=n.issueTimeTicket();g.setExecutedAt(T),n.push(g)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,we.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,we.UndoRedo),d=n.getReversePresence();if(d&&u.push({type:"presence",value:d}),u.length>0&&this.internalHistory.pushUndo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const h=this.changeID.getActorID(),p=[];a.length>0&&p.push({type:"local-change",source:we.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:h},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:we.UndoRedo,value:{clientID:h,presence:this.getPresence(h)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function JS(s,e){return n=>async i=>(s&&i.header.set("x-api-key",s),e&&i.header.set("authorization",e),await n(i))}const dp={name:"yorkie-js-sdk",version:"0.4.19",description:"Yorkie JS SDK",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts",files:["dist"],scripts:{build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:examples":"npm run build --workspace examples","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",lint:"eslint . --fix --max-warnings=0 --ext .ts",prepare:"npm run build"},engines:{node:">=18.0.0",npm:">=7.1.0"},repository:{type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},author:{name:"hackerwins",email:"susukang98@gmail.com"},license:"Apache-2.0",bugs:{url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},homepage:"https://github.com/yorkie-team/yorkie-js-sdk#readme",devDependencies:{"@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.2.0","@types/google-protobuf":"^3.15.5","@types/jsdom":"^21.1.3","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5",eslint:"^8.19.0","eslint-plugin-jsdoc":"^39.3.3","eslint-plugin-prettier":"^4.2.1","eslint-plugin-tsdoc":"^0.2.16",husky:"^8.0.3",jsdom:"^22.1.0",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^4.7.4","typescript-transform-paths":"^3.3.1",vite:"^4.4.9","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.2.1",vitest:"^0.34.5","vitest-environment-custom-jsdom":"file:test/vitest/env"},dependencies:{"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.2.0","@connectrpc/connect-web":"^1.2.0",long:"^5.2.0"},husky:{hooks:{"pre-commit":"npm run lint"}},workspaces:["examples/*"]};function US(){return s=>async e=>(e.header.set("x-yorkie-user-agent",dp.name+"/"+dp.version),await s(e))}var tl=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(tl||{}),hp=(s=>(s.Deactivated="deactivated",s.Activated="activated",s))(hp||{});const nl={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class rc{constructor(e,n){c(this,"id"),c(this,"key"),c(this,"status"),c(this,"attachmentMap"),c(this,"apiKey"),c(this,"syncLoopDuration"),c(this,"reconnectStreamDelay"),c(this,"retrySyncLoopDelay"),c(this,"rpcClient"),n=n||nl,this.key=n.key?n.key:rp(),this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.syncLoopDuration=n.syncLoopDuration||nl.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay||nl.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay||nl.retrySyncLoopDelay,this.rpcClient=W0(Cw,gT({baseUrl:e,interceptors:[JS(n.apiKey,n.token),US()]}))}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(e=>{this.id=e.clientId,this.status="activated",this.runSyncLoop(),B.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(e=>{throw B.error(`[AC] c:"${this.getKey()}" err :`,e),e})}deactivate(){if(this.status==="deactivated")return Promise.resolve();for(const[e]of this.attachmentMap)this.detachInternal(e);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status="deactivated",B.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(e=>{throw B.error(`[DC] c:"${this.getKey()}" err :`,e),e})}attach(e,n={}){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);if(e.getStatus()!==Zr.Detached)throw new pe(de.DocumentNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((a,u)=>u.set(n.initialPresence||{}));const i=n.syncMode??"realtime";return this.rpcClient.attachDocument({clientId:this.id,changePack:$e.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(async a=>{const u=$e.fromChangePack(a.changePack);return e.applyChangePack(u),e.getStatus()===Zr.Removed||(e.applyStatus(Zr.Attached),this.attachmentMap.set(e.getKey(),new PS(this.reconnectStreamDelay,e,a.documentId,i)),i!=="manual"&&await this.runWatchLoop(e.getKey()),B.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`)),e}).catch(a=>{throw B.error(`[AD] c:"${this.getKey()}" err :`,a),a})}detach(e,n={}){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);return e.update((a,u)=>u.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:$e.toChangePack(e.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=$e.fromChangePack(a.changePack);return e.applyChangePack(u),e.getStatus()!==Zr.Removed&&e.applyStatus(Zr.Detached),this.detachInternal(e.getKey()),B.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}).catch(a=>{throw B.error(`[DD] c:"${this.getKey()}" err :`,a),a})}async changeSyncMode(e,n){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);const a=i.syncMode;return a===n?e:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),e):(n==="realtime"&&(i.remoteChangeEventReceived=!0),a==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const n=[];if(e){const i=this.attachmentMap.get(e.getKey());if(!i)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);n.push(this.syncInternal(i,"realtime"))}else this.attachmentMap.forEach(i=>{n.push(this.syncInternal(i,i.syncMode))});return Promise.all(n)}remove(e){if(!this.isActive())throw new pe(de.ClientNotActive,`${this.key} is not active`);const n=this.attachmentMap.get(e.getKey());if(!n)throw new pe(de.DocumentNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const i=$e.toChangePack(e.createChangePack());return i.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(a=>{const u=$e.fromChangePack(a.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),B.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}).catch(a=>{throw B.error(`[RD] c:"${this.getKey()}" err :`,a),a})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}runSyncLoop(){const e=()=>{if(!this.isActive()){B.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode)));Promise.all(n).then(()=>setTimeout(e,this.syncLoopDuration)).catch(i=>{B.error(`[SL] c:"${this.getKey()}" sync failed:`,i),setTimeout(e,this.retrySyncLoopDelay)})};B.debug(`[SL] c:"${this.getKey()}" run sync loop`),e()}async runWatchLoop(e){const n=this.attachmentMap.get(e);if(!n)throw new pe(de.DocumentNotAttached,`${e} is not attached`);return n.runWatchLoop(i=>{if(!this.isActive())return Promise.reject(new pe(de.ClientNotActive,`${this.key} is not active`));const a=new AbortController,u=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:a.signal});return n.doc.publish([{type:ct.ConnectionChanged,value:Za.Connected}]),B.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),new Promise((d,h)=>{(async()=>{try{for await(const g of u)this.handleWatchDocumentsResponse(n,g),g.body.case==="initialization"&&d([u,a])}catch(g){n.doc.resetOnlineClients(),n.doc.publish([{type:ct.Initialized,source:we.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:ct.ConnectionChanged,value:Za.Disconnected}]),B.debug(`[WD] c:"${this.getKey()}" unwatches`),g instanceof ze&&g.code!=m.Canceled&&i(),h(g)}})()})})}handleWatchDocumentsResponse(e,n){if(n.body.case==="event"&&n.body.value.type===Ua.DOCUMENT_CHANGED){e.remoteChangeEventReceived=!0;return}e.doc.applyWatchStream(n)}detachInternal(e){const n=this.attachmentMap.get(e);n&&(n.cancelWatchStream(),B.debug(`[WD] c:"${this.getKey()}" unwatches`),this.attachmentMap.delete(e))}syncInternal(e,n){const{doc:i,docID:a}=e,u=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:$e.toChangePack(u),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(d=>{const h=$e.fromChangePack(d.changePack);if(h.hasChanges()&&e.syncMode==="realtime-pushonly")return i;i.applyChangePack(h),e.doc.publish([{type:ct.SyncStatusChanged,value:el.Synced}]),i.getStatus()===Zr.Removed&&this.detachInternal(i.getKey());const p=i.getKey(),g=h.getChangeSize();return B.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${u.getChangeSize()} pull:${g} cp:${h.getCheckpoint().toTestString()}`),i}).catch(d=>{throw i.publish([{type:ct.SyncStatusChanged,value:el.SyncFailed}]),B.error(`[PP] c:"${this.getKey()}" err :`,d),d})}}const $S=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),FS={Client:rc,Document:nc,Primitive:_e,Text:Po,Counter:Oo,Tree:Co,IntType:cr.IntegerCnt,LongType:cr.LongCnt};typeof globalThis<"u"&&(globalThis.yorkie={Client:rc,Document:nc,Primitive:_e,Text:Po,Counter:Oo,Tree:Co,IntType:cr.IntegerCnt,LongType:cr.LongCnt}),o.Change=Os,o.Client=rc,o.ClientStatus=hp,o.Counter=Oo,o.Devtools=$S,o.DocEventType=ct,o.Document=nc,o.DocumentStatus=Zr,o.DocumentSyncStatus=el,o.EventSourceDevPanel=up,o.EventSourceSDK=cp,o.OpSource=we,o.Primitive=_e,o.StreamConnectionStatus=Za,o.SyncMode=tl,o.Text=Po,o.TimeTicket=ut,o.Tree=Co,o.converter=$e,o.default=FS,o.setLogLevel=Bw,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(_f,_f.exports);var yE=_f.exports;const Jv=qS(yE);class vE{constructor(r,o){this.x=r,this.y=o,this.lifetime=0}}const TE=({xPos:t,yPos:r})=>{const[o,l]=Tt.useState([]),f=Tt.useRef(null),[c,m]=Tt.useState([]),y=(v,E)=>{const R=new vE(v,E);c.push(R),m(c),o.push(R),l(o)};return Tt.useEffect(()=>{const E=f.current.getContext("2d"),R=()=>{E.clearRect(0,0,E.canvas.width,E.canvas.height);const D=.7*(1*4e3)/60;for(let O=0;O<c.length;++O){const $=c[O];let F;if(c[O-1]!==void 0?F=c[O-1]:F=$,$.lifetime+=1,$.lifetime>D)c.shift();else{E.lineWidth=5,E.lineJoin="round";const j=0,ye=0,I=0;E.strokeStyle=`rgb(${j},${ye},${I})`,E.beginPath(),E.moveTo(F.x,F.y),E.lineTo($.x,$.y),E.stroke(),E.closePath()}}requestAnimationFrame(R)};R()},[c]),Tt.useEffect(()=>{y(t,r)},[t,r]),Le.jsx("canvas",{className:"pen-cursor-canvas",ref:f,width:document.body.clientWidth,height:document.body.clientHeight})},wE="_goUp0_1lnal_1",SE="_goUpAnimation0_1lnal_1",kE="_fadeOut_1lnal_1",EE="_goUp1_1lnal_16",NE="_goUpAnimation1_1lnal_1",IE="_goUp2_1lnal_31",_E="_goUpAnimation2_1lnal_1",AE="_leftRight0_1lnal_46",xE="_leftRightAnimation0_1lnal_1",PE="_leftRight1_1lnal_60",OE="_leftRightAnimation1_1lnal_1",CE="_leftRight2_1lnal_74",DE="_leftRightAnimation2_1lnal_1",Oc={goUp0:wE,goUpAnimation0:SE,fadeOut:kE,goUp1:EE,goUpAnimation1:NE,goUp2:IE,goUpAnimation2:_E,leftRight0:AE,leftRightAnimation0:xE,leftRight1:PE,leftRightAnimation1:OE,leftRight2:CE,leftRightAnimation2:DE};function RE({x:t,y:r,timestamp:o,selectedCursorShape:l}){return Le.jsx("div",{className:"single-animation-container",children:Le.jsx("div",{className:`absolute select-none pointer-events-none ${Oc.disappear} text-${o%5+2}xl ${Oc["goUp"+o%3]}`,style:{left:t,top:r},children:Le.jsx("div",{className:Oc["leftRight"+o%3],children:Le.jsx("div",{className:"transform -translate-x-1/2 -translate-y-1/2",children:Le.jsx("img",{src:`./icons/icon_${l}.svg`})})})})})}function Ng(t,r){const o=Tt.useRef(t);Tt.useEffect(()=>{o.current=t},[t]),Tt.useEffect(()=>{function l(){o.current()}if(r!==null){let f=setInterval(l,r);return()=>clearInterval(f)}},[r])}const bE=({pointerDown:t,xPos:r,yPos:o,selectedCursorShape:l})=>{const[f,c]=Tt.useState([]),m=100;return Ng(()=>{c(y=>y.filter(v=>v.timestamp>Date.now()-4e3))},1e3),Ng(()=>{t&&c(y=>y.concat([{point:{x:r,y:o},timestamp:Date.now()}]))},m),Le.jsx("div",{style:{transform:`translateX(${r}px) translateY(${o}px)`},children:f.map(y=>Le.jsx(RE,{x:y.point.x,y:y.point.y,timestamp:y.timestamp,selectedCursorShape:l},y.timestamp.toString()))})},LE=({selectedCursorShape:t,x:r,y:o,pointerDown:l})=>Le.jsxs(Le.Fragment,{children:[Le.jsx("img",{src:`./icons/icon_${t}.svg`,className:`${t}-cursor`,style:{transform:`translate3d(${r}px, ${o}px, 0)`}}),(t==="heart"||t==="thumbs")&&Le.jsx(bE,{pointerDown:l,xPos:r,yPos:o,selectedCursorShape:t}),t==="pen"&&l&&Le.jsx(TE,{xPos:r,yPos:o})]}),BE=({handleCursorShapeSelect:t,clientsLength:r})=>{const[o,l]=Tt.useState("cursor"),f=["heart","thumbs","pen","cursor"];return Le.jsxs("div",{className:"cursor-selector-container",children:[Le.jsx("div",{className:"cursor-selections-container",children:f.map(c=>Le.jsx("img",{onClick:()=>{t(c),l(c)},className:`${o===c?"cursor-shape-selected":"cursor-shape-not-selected"}`,src:`./icons/icon_${c}.svg`},c))}),Le.jsx("div",{className:"num-users-container",children:Le.jsx("p",{children:r!==1?`${r} users are here`:"1 user here"})})]})};const Cc=new Jv.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"}),Rs=new Jv.Document("simultaneous-cursors",{enableDevtools:!0}),ME=()=>{const[t,r]=Tt.useState([]),o=l=>{Rs.update((f,c)=>{c.set({cursorShape:l})})};return Tt.useEffect(()=>{(async()=>{await Cc.activate(),Rs.subscribe("presence",y=>{r(Rs.getPresences())}),await Cc.attach(Rs,{initialPresence:{cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1}}),window.addEventListener("beforeunload",()=>{Cc.deactivate()})})();const f=()=>{Rs.update((y,v)=>{v.set({pointerDown:!1})})},c=()=>{Rs.update((y,v)=>{v.set({pointerDown:!0})})},m=y=>{Rs.update((v,E)=>{E.set({cursor:{xPos:y.clientX,yPos:y.clientY}})})};return window.addEventListener("mousedown",c),window.addEventListener("mouseup",f),window.addEventListener("mousemove",m),()=>{window.removeEventListener("mousedown",c),window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",m)}},[]),Le.jsxs("div",{className:"general-container",children:[t.map(({clientID:l,presence:{cursorShape:f,cursor:c,pointerDown:m}})=>c?Le.jsx(LE,{selectedCursorShape:f,x:c.xPos,y:c.yPos,pointerDown:m},l):null),Le.jsx(BE,{handleCursorShapeSelect:o,clientsLength:t.length})]})};Dc.createRoot(document.getElementById("root")).render(Le.jsx(ME,{}));
