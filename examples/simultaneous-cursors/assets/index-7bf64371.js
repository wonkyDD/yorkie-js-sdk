(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Id={exports:{}},Ga={},Pd={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),Fp=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),jp=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Kp=Symbol.for("react.lazy"),pf=Symbol.iterator;function Yp(e){return e===null||typeof e!="object"?null:(e=pf&&e[pf]||e["@@iterator"],typeof e=="function"?e:null)}var Ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Od=Object.assign,Cd={};function xs(e,n,i){this.props=e,this.context=n,this.refs=Cd,this.updater=i||Ad}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dd(){}Dd.prototype=xs.prototype;function $l(e,n,i){this.props=e,this.context=n,this.refs=Cd,this.updater=i||Ad}var jl=$l.prototype=new Dd;jl.constructor=$l;Od(jl,xs.prototype);jl.isPureReactComponent=!0;var gf=Array.isArray,_d=Object.prototype.hasOwnProperty,Vl={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,n,i){var o,c={},d=null,g=null;if(n!=null)for(o in n.ref!==void 0&&(g=n.ref),n.key!==void 0&&(d=""+n.key),n)_d.call(n,o)&&!xd.hasOwnProperty(o)&&(c[o]=n[o]);var y=arguments.length-2;if(y===1)c.children=i;else if(1<y){for(var T=Array(y),p=0;p<y;p++)T[p]=arguments[p+2];c.children=T}if(e&&e.defaultProps)for(o in y=e.defaultProps,y)c[o]===void 0&&(c[o]=y[o]);return{$$typeof:Oo,type:e,key:d,ref:g,props:c,_owner:Vl.current}}function qp(e,n){return{$$typeof:Oo,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Gp(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var yf=/\/+/g;function wu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Gp(""+e.key):n.toString(36)}function ha(e,n,i,o,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Oo:case Bp:g=!0}}if(g)return g=e,c=c(g),e=o===""?"."+wu(g,0):o,gf(c)?(i="",e!=null&&(i=e.replace(yf,"$&/")+"/"),ha(c,n,i,"",function(p){return p})):c!=null&&(zl(c)&&(c=qp(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(yf,"$&/")+"/")+e)),n.push(c)),1;if(g=0,o=o===""?".":o+":",gf(e))for(var y=0;y<e.length;y++){d=e[y];var T=o+wu(d,y);g+=ha(d,n,i,T,c)}else if(T=Yp(e),typeof T=="function")for(e=T.call(e),y=0;!(d=e.next()).done;)d=d.value,T=o+wu(d,y++),g+=ha(d,n,i,T,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return g}function Ho(e,n,i){if(e==null)return e;var o=[],c=0;return ha(e,o,"","",function(d){return n.call(i,d,c++)}),o}function Hp(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},ma={transition:null},Xp={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:ma,ReactCurrentOwner:Vl};xe.Children={map:Ho,forEach:function(e,n,i){Ho(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return Ho(e,function(){n++}),n},toArray:function(e){return Ho(e,function(n){return n})||[]},only:function(e){if(!zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=xs;xe.Fragment=Fp;xe.Profiler=Jp;xe.PureComponent=$l;xe.StrictMode=Up;xe.Suspense=zp;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;xe.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Od({},e.props),c=e.key,d=e.ref,g=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,g=Vl.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(T in n)_d.call(n,T)&&!xd.hasOwnProperty(T)&&(o[T]=n[T]===void 0&&y!==void 0?y[T]:n[T])}var T=arguments.length-2;if(T===1)o.children=i;else if(1<T){y=Array(T);for(var p=0;p<T;p++)y[p]=arguments[p+2];o.children=y}return{$$typeof:Oo,type:e.type,key:c,ref:d,props:o,_owner:g}};xe.createContext=function(e){return e={$$typeof:jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$p,_context:e},e.Consumer=e};xe.createElement=Rd;xe.createFactory=function(e){var n=Rd.bind(null,e);return n.type=e,n};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:Vp,render:e}};xe.isValidElement=zl;xe.lazy=function(e){return{$$typeof:Kp,_payload:{_status:-1,_result:e},_init:Hp}};xe.memo=function(e,n){return{$$typeof:Wp,type:e,compare:n===void 0?null:n}};xe.startTransition=function(e){var n=ma.transition;ma.transition={};try{e()}finally{ma.transition=n}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(e,n){return ln.current.useCallback(e,n)};xe.useContext=function(e){return ln.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};xe.useEffect=function(e,n){return ln.current.useEffect(e,n)};xe.useId=function(){return ln.current.useId()};xe.useImperativeHandle=function(e,n,i){return ln.current.useImperativeHandle(e,n,i)};xe.useInsertionEffect=function(e,n){return ln.current.useInsertionEffect(e,n)};xe.useLayoutEffect=function(e,n){return ln.current.useLayoutEffect(e,n)};xe.useMemo=function(e,n){return ln.current.useMemo(e,n)};xe.useReducer=function(e,n,i){return ln.current.useReducer(e,n,i)};xe.useRef=function(e){return ln.current.useRef(e)};xe.useState=function(e){return ln.current.useState(e)};xe.useSyncExternalStore=function(e,n,i){return ln.current.useSyncExternalStore(e,n,i)};xe.useTransition=function(){return ln.current.useTransition()};xe.version="18.2.0";Pd.exports=xe;var wn=Pd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=wn,Zp=Symbol.for("react.element"),eg=Symbol.for("react.fragment"),tg=Object.prototype.hasOwnProperty,ng=Qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rg={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,n,i){var o,c={},d=null,g=null;i!==void 0&&(d=""+i),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(g=n.ref);for(o in n)tg.call(n,o)&&!rg.hasOwnProperty(o)&&(c[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)c[o]===void 0&&(c[o]=n[o]);return{$$typeof:Zp,type:e,key:d,ref:g,props:c,_owner:ng.current}}Ga.Fragment=eg;Ga.jsx=bd;Ga.jsxs=bd;Id.exports=Ga;var ut=Id.exports,qu={},Ld={exports:{}},Fn={},Md={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(K,ce){var Y=K.length;K.push(ce);e:for(;0<Y;){var me=Y-1>>>1,ue=K[me];if(0<c(ue,ce))K[me]=ce,K[Y]=ue,Y=me;else break e}}function i(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ce=K[0],Y=K.pop();if(Y!==ce){K[0]=Y;e:for(var me=0,ue=K.length,ve=ue>>>1;me<ve;){var Ie=2*(me+1)-1,Ne=K[Ie],Be=Ie+1,ze=K[Be];if(0>c(Ne,Y))Be<ue&&0>c(ze,Ne)?(K[me]=ze,K[Be]=Y,me=Be):(K[me]=Ne,K[Ie]=Y,me=Ie);else if(Be<ue&&0>c(ze,Y))K[me]=ze,K[Be]=Y,me=Be;else break e}}return ce}function c(K,ce){var Y=K.sortIndex-ce.sortIndex;return Y!==0?Y:K.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var g=Date,y=g.now();e.unstable_now=function(){return g.now()-y}}var T=[],p=[],k=1,S=null,C=3,O=!1,L=!1,B=!1,D=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var ce=i(p);ce!==null;){if(ce.callback===null)o(p);else if(ce.startTime<=K)o(p),ce.sortIndex=ce.expirationTime,n(T,ce);else break;ce=i(p)}}function R(K){if(B=!1,I(K),!L)if(i(T)!==null)L=!0,ne(_);else{var ce=i(p);ce!==null&&te(R,ce.startTime-K)}}function _(K,ce){L=!1,B&&(B=!1,v(F),F=-1),O=!0;var Y=C;try{for(I(ce),S=i(T);S!==null&&(!(S.expirationTime>ce)||K&&!q());){var me=S.callback;if(typeof me=="function"){S.callback=null,C=S.priorityLevel;var ue=me(S.expirationTime<=ce);ce=e.unstable_now(),typeof ue=="function"?S.callback=ue:S===i(T)&&o(T),I(ce)}else o(T);S=i(T)}if(S!==null)var ve=!0;else{var Ie=i(p);Ie!==null&&te(R,Ie.startTime-ce),ve=!1}return ve}finally{S=null,C=Y,O=!1}}var E=!1,$=null,F=-1,b=5,z=-1;function q(){return!(e.unstable_now()-z<b)}function Z(){if($!==null){var K=e.unstable_now();z=K;var ce=!0;try{ce=$(!0,K)}finally{ce?V():(E=!1,$=null)}}else E=!1}var V;if(typeof N=="function")V=function(){N(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=Z,V=function(){re.postMessage(null)}}else V=function(){D(Z,0)};function ne(K){$=K,E||(E=!0,V())}function te(K,ce){F=D(function(){K(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){L||O||(L=!0,ne(_))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return i(T)},e.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var Y=C;C=ce;try{return K()}finally{C=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=C;C=K;try{return ce()}finally{C=Y}},e.unstable_scheduleCallback=function(K,ce,Y){var me=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,K){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,K={id:k++,callback:ce,priorityLevel:K,startTime:Y,expirationTime:ue,sortIndex:-1},Y>me?(K.sortIndex=Y,n(p,K),i(T)===null&&K===i(p)&&(B?(v(F),F=-1):B=!0,te(R,Y-me))):(K.sortIndex=ue,n(T,K),L||O||(L=!0,ne(_))),K},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(K){var ce=C;return function(){var Y=C;C=ce;try{return K.apply(this,arguments)}finally{C=Y}}}})(Bd);Md.exports=Bd;var ig=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=wn,Bn=ig;function se(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,co={};function Wi(e,n){Is(e,n),Is(e+"Capture",n)}function Is(e,n){for(co[e]=n,e=0;e<n.length;e++)Ud.add(n[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=Object.prototype.hasOwnProperty,sg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vf={},Tf={};function og(e){return Gu.call(Tf,e)?!0:Gu.call(vf,e)?!1:sg.test(e)?Tf[e]=!0:(vf[e]=!0,!1)}function ag(e,n,i,o){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ug(e,n,i,o){if(n===null||typeof n>"u"||ag(e,n,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function cn(e,n,i,o,c,d,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=g}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ft[n]=new cn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Wl,Kl);Ft[n]=new cn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Wl,Kl);Ft[n]=new cn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Wl,Kl);Ft[n]=new cn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yl(e,n,i,o){var c=Ft.hasOwnProperty(n)?Ft[n]:null;(c!==null?c.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ug(n,i,c,o)&&(i=null),o||c===null?og(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,n,i):e.setAttribute(n,i))))}var Kr=Fd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),as=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),ql=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),Jd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),wf=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Su;function Xs(e){if(Su===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Su=n&&n[1]||""}return`
`+Su+e}var Eu=!1;function ku(e,n){if(!e||Eu)return"";Eu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var o=p}Reflect.construct(e,[],n)}else{try{n.call()}catch(p){o=p}e.call(n.prototype)}else{try{throw Error()}catch(p){o=p}e()}}catch(p){if(p&&o&&typeof p.stack=="string"){for(var c=p.stack.split(`
`),d=o.stack.split(`
`),g=c.length-1,y=d.length-1;1<=g&&0<=y&&c[g]!==d[y];)y--;for(;1<=g&&0<=y;g--,y--)if(c[g]!==d[y]){if(g!==1||y!==1)do if(g--,y--,0>y||c[g]!==d[y]){var T=`
`+c[g].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=g&&0<=y);break}}}finally{Eu=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Xs(e):""}function lg(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=ku(e.type,!1),e;case 11:return e=ku(e.type.render,!1),e;case 1:return e=ku(e.type,!0),e;default:return""}}function Zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case as:return"Portal";case Hu:return"Profiler";case ql:return"StrictMode";case Xu:return"Suspense";case Qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $d:return(e.displayName||"Context")+".Consumer";case Jd:return(e._context.displayName||"Context")+".Provider";case Gl:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hl:return n=e.displayName||null,n!==null?n:Zu(e.type)||"Memo";case ri:n=e._payload,e=e._init;try{return Zu(e(n))}catch{}}return null}function cg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zu(n);case 8:return n===ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fg(e){var n=Vd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qo(e){e._valueTracker||(e._valueTracker=fg(e))}function zd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Vd(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,n){var i=n.checked;return rt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Sf(e,n){var i=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;i=yi(n.value!=null?n.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Wd(e,n){n=n.checked,n!=null&&Yl(e,"checked",n,!1)}function tl(e,n){Wd(e,n);var i=yi(n.value),o=n.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?nl(e,n.type,i):n.hasOwnProperty("defaultValue")&&nl(e,n.type,yi(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ef(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function nl(e,n,i){(n!=="number"||Ia(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Qs=Array.isArray;function Ts(e,n,i,o){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+yi(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function rl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(se(91));return rt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kf(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(se(92));if(Qs(i)){if(1<i.length)throw Error(se(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:yi(i)}}function Kd(e,n){var i=yi(n.value),o=yi(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Nf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,o,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function fo(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dg=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(e){dg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),to[n]=to[e]})});function Gd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||to.hasOwnProperty(e)&&to[e]?(""+n).trim():n+"px"}function Hd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=Gd(i,n[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var hg=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sl(e,n){if(n){if(hg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(se(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(se(61))}if(n.style!=null&&typeof n.style!="object")throw Error(se(62))}}function ol(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,ws=null,Ss=null;function If(e){if(e=_o(e)){if(typeof ul!="function")throw Error(se(280));var n=e.stateNode;n&&(n=eu(n),ul(e.stateNode,e.type,n))}}function Xd(e){ws?Ss?Ss.push(e):Ss=[e]:ws=e}function Qd(){if(ws){var e=ws,n=Ss;if(Ss=ws=null,If(e),n)for(e=0;e<n.length;e++)If(n[e])}}function Zd(e,n){return e(n)}function eh(){}var Nu=!1;function th(e,n,i){if(Nu)return e(n,i);Nu=!0;try{return Zd(e,n,i)}finally{Nu=!1,(ws!==null||Ss!==null)&&(eh(),Qd())}}function ho(e,n){var i=e.stateNode;if(i===null)return null;var o=eu(i);if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(se(231,n,typeof i));return i}var ll=!1;if(jr)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){ll=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{ll=!1}function mg(e,n,i,o,c,d,g,y,T){var p=Array.prototype.slice.call(arguments,3);try{n.apply(i,p)}catch(k){this.onError(k)}}var no=!1,Pa=null,Aa=!1,cl=null,pg={onError:function(e){no=!0,Pa=e}};function gg(e,n,i,o,c,d,g,y,T){no=!1,Pa=null,mg.apply(pg,arguments)}function yg(e,n,i,o,c,d,g,y,T){if(gg.apply(this,arguments),no){if(no){var p=Pa;no=!1,Pa=null}else throw Error(se(198));Aa||(Aa=!0,cl=p)}}function Ki(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function nh(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Pf(e){if(Ki(e)!==e)throw Error(se(188))}function vg(e){var n=e.alternate;if(!n){if(n=Ki(e),n===null)throw Error(se(188));return n!==e?null:e}for(var i=e,o=n;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return Pf(c),e;if(d===o)return Pf(c),n;d=d.sibling}throw Error(se(188))}if(i.return!==o.return)i=c,o=d;else{for(var g=!1,y=c.child;y;){if(y===i){g=!0,i=c,o=d;break}if(y===o){g=!0,o=c,i=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===i){g=!0,i=d,o=c;break}if(y===o){g=!0,o=d,i=c;break}y=y.sibling}if(!g)throw Error(se(189))}}if(i.alternate!==o)throw Error(se(190))}if(i.tag!==3)throw Error(se(188));return i.stateNode.current===i?e:n}function rh(e){return e=vg(e),e!==null?ih(e):null}function ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ih(e);if(n!==null)return n;e=e.sibling}return null}var sh=Bn.unstable_scheduleCallback,Af=Bn.unstable_cancelCallback,Tg=Bn.unstable_shouldYield,wg=Bn.unstable_requestPaint,ht=Bn.unstable_now,Sg=Bn.unstable_getCurrentPriorityLevel,Ql=Bn.unstable_ImmediatePriority,oh=Bn.unstable_UserBlockingPriority,Oa=Bn.unstable_NormalPriority,Eg=Bn.unstable_LowPriority,ah=Bn.unstable_IdlePriority,Ha=null,Pr=null;function kg(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Ha,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Pg,Ng=Math.log,Ig=Math.LN2;function Pg(e){return e>>>=0,e===0?32:31-(Ng(e)/Ig|0)|0}var ea=64,ta=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var y=g&~c;y!==0?o=Zs(y):(d&=g,d!==0&&(o=Zs(d)))}else g=i&~c,g!==0?o=Zs(g):d!==0&&(o=Zs(d));if(o===0)return 0;if(n!==0&&n!==o&&!(n&c)&&(c=o&-o,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(o&4&&(o|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)i=31-mr(n),c=1<<i,o|=e[i],n&=~c;return o}function Ag(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-mr(d),y=1<<g,T=c[g];T===-1?(!(y&i)||y&o)&&(c[g]=Ag(y,n)):T<=n&&(e.expiredLanes|=y),d&=~y}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=ea;return ea<<=1,!(ea&4194240)&&(ea=64),e}function Iu(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Co(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-mr(n),e[n]=i}function Cg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-mr(i),d=1<<c;n[c]=0,o[c]=-1,e[c]=-1,i&=~d}}function Zl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-mr(i),c=1<<o;c&n|e[o]&n&&(e[o]|=n),i&=~c}}var Fe=0;function lh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ch,ec,fh,dh,hh,dl=!1,na=[],li=null,ci=null,fi=null,mo=new Map,po=new Map,si=[],Dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(e,n){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function Ws(e,n,i,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=_o(n),n!==null&&ec(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function _g(e,n,i,o,c){switch(n){case"focusin":return li=Ws(li,e,n,i,o,c),!0;case"dragenter":return ci=Ws(ci,e,n,i,o,c),!0;case"mouseover":return fi=Ws(fi,e,n,i,o,c),!0;case"pointerover":var d=c.pointerId;return mo.set(d,Ws(mo.get(d)||null,e,n,i,o,c)),!0;case"gotpointercapture":return d=c.pointerId,po.set(d,Ws(po.get(d)||null,e,n,i,o,c)),!0}return!1}function mh(e){var n=Li(e.target);if(n!==null){var i=Ki(n);if(i!==null){if(n=i.tag,n===13){if(n=nh(i),n!==null){e.blockedOn=n,hh(e.priority,function(){fh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=hl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);al=o,i.target.dispatchEvent(o),al=null}else return n=_o(i),n!==null&&ec(n),e.blockedOn=i,!1;n.shift()}return!0}function Cf(e,n,i){pa(e)&&i.delete(n)}function xg(){dl=!1,li!==null&&pa(li)&&(li=null),ci!==null&&pa(ci)&&(ci=null),fi!==null&&pa(fi)&&(fi=null),mo.forEach(Cf),po.forEach(Cf)}function Ks(e,n){e.blockedOn===n&&(e.blockedOn=null,dl||(dl=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,xg)))}function go(e){function n(c){return Ks(c,e)}if(0<na.length){Ks(na[0],e);for(var i=1;i<na.length;i++){var o=na[i];o.blockedOn===e&&(o.blockedOn=null)}}for(li!==null&&Ks(li,e),ci!==null&&Ks(ci,e),fi!==null&&Ks(fi,e),mo.forEach(n),po.forEach(n),i=0;i<si.length;i++)o=si[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<si.length&&(i=si[0],i.blockedOn===null);)mh(i),i.blockedOn===null&&si.shift()}var Es=Kr.ReactCurrentBatchConfig,Da=!0;function Rg(e,n,i,o){var c=Fe,d=Es.transition;Es.transition=null;try{Fe=1,tc(e,n,i,o)}finally{Fe=c,Es.transition=d}}function bg(e,n,i,o){var c=Fe,d=Es.transition;Es.transition=null;try{Fe=4,tc(e,n,i,o)}finally{Fe=c,Es.transition=d}}function tc(e,n,i,o){if(Da){var c=hl(e,n,i,o);if(c===null)Lu(e,n,o,_a,i),Of(e,o);else if(_g(c,e,n,i,o))o.stopPropagation();else if(Of(e,o),n&4&&-1<Dg.indexOf(e)){for(;c!==null;){var d=_o(c);if(d!==null&&ch(d),d=hl(e,n,i,o),d===null&&Lu(e,n,o,_a,i),d===c)break;c=d}c!==null&&o.stopPropagation()}else Lu(e,n,o,null,i)}}var _a=null;function hl(e,n,i,o){if(_a=null,e=Xl(o),e=Li(e),e!==null)if(n=Ki(e),n===null)e=null;else if(i=n.tag,i===13){if(e=nh(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _a=e,null}function ph(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sg()){case Ql:return 1;case oh:return 4;case Oa:case Eg:return 16;case ah:return 536870912;default:return 16}default:return 16}}var ai=null,nc=null,ga=null;function gh(){if(ga)return ga;var e,n=nc,i=n.length,o,c="value"in ai?ai.value:ai.textContent,d=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&n[i-o]===c[d-o];o++);return ga=c.slice(e,1<o?1-o:void 0)}function ya(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function Df(){return!1}function Un(e){function n(i,o,c,d,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ra:Df,this.isPropagationStopped=Df,this}return rt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),n}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=Un(Rs),Do=rt({},Rs,{view:0,detail:0}),Lg=Un(Do),Pu,Au,Ys,Xa=rt({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(Pu=e.screenX-Ys.screenX,Au=e.screenY-Ys.screenY):Au=Pu=0,Ys=e),Pu)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),_f=Un(Xa),Mg=rt({},Xa,{dataTransfer:0}),Bg=Un(Mg),Fg=rt({},Do,{relatedTarget:0}),Ou=Un(Fg),Ug=rt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=Un(Ug),$g=rt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jg=Un($g),Vg=rt({},Rs,{data:0}),xf=Un(Vg),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kg[e])?!!n[e]:!1}function ic(){return Yg}var qg=rt({},Do,{key:function(e){if(e.key){var n=zg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=Un(qg),Hg=rt({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Un(Hg),Xg=rt({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Qg=Un(Xg),Zg=rt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=Un(Zg),ty=rt({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ny=Un(ty),ry=[9,13,27,32],sc=jr&&"CompositionEvent"in window,ro=null;jr&&"documentMode"in document&&(ro=document.documentMode);var iy=jr&&"TextEvent"in window&&!ro,yh=jr&&(!sc||ro&&8<ro&&11>=ro),bf=String.fromCharCode(32),Lf=!1;function vh(e,n){switch(e){case"keyup":return ry.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function sy(e,n){switch(e){case"compositionend":return Th(n);case"keypress":return n.which!==32?null:(Lf=!0,bf);case"textInput":return e=n.data,e===bf&&Lf?null:e;default:return null}}function oy(e,n){if(ls)return e==="compositionend"||!sc&&vh(e,n)?(e=gh(),ga=nc=ai=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yh&&n.locale!=="ko"?null:n.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ay[e.type]:n==="textarea"}function wh(e,n,i,o){Xd(o),n=xa(n,"onChange"),0<n.length&&(i=new rc("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var io=null,yo=null;function uy(e){_h(e,0)}function Qa(e){var n=ds(e);if(zd(n))return e}function ly(e,n){if(e==="change")return n}var Sh=!1;if(jr){var Cu;if(jr){var Du="oninput"in document;if(!Du){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),Du=typeof Bf.oninput=="function"}Cu=Du}else Cu=!1;Sh=Cu&&(!document.documentMode||9<document.documentMode)}function Ff(){io&&(io.detachEvent("onpropertychange",Eh),yo=io=null)}function Eh(e){if(e.propertyName==="value"&&Qa(yo)){var n=[];wh(n,yo,e,Xl(e)),th(uy,n)}}function cy(e,n,i){e==="focusin"?(Ff(),io=n,yo=i,io.attachEvent("onpropertychange",Eh)):e==="focusout"&&Ff()}function fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qa(yo)}function dy(e,n){if(e==="click")return Qa(n)}function hy(e,n){if(e==="input"||e==="change")return Qa(n)}function my(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gr=typeof Object.is=="function"?Object.is:my;function vo(e,n){if(gr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!Gu.call(n,c)||!gr(e[c],n[c]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jf(e,n){var i=Uf(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Uf(i)}}function kh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nh(){for(var e=window,n=Ia();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ia(e.document)}return n}function oc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function py(e){var n=Nh(),i=e.focusedElem,o=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&kh(i.ownerDocument.documentElement,i)){if(o!==null&&oc(i)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!e.extend&&d>o&&(c=o,o=d,d=c),c=Jf(i,d);var g=Jf(i,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>o?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gy=jr&&"documentMode"in document&&11>=document.documentMode,cs=null,ml=null,so=null,pl=!1;function $f(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pl||cs==null||cs!==Ia(o)||(o=cs,"selectionStart"in o&&oc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&vo(so,o)||(so=o,o=xa(ml,"onSelect"),0<o.length&&(n=new rc("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=cs)))}function ia(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var fs={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},_u={},Ih={};jr&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Za(e){if(_u[e])return _u[e];if(!fs[e])return e;var n=fs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Ih)return _u[e]=n[i];return e}var Ph=Za("animationend"),Ah=Za("animationiteration"),Oh=Za("animationstart"),Ch=Za("transitionend"),Dh=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,n){Dh.set(e,n),Wi(n,[e])}for(var xu=0;xu<jf.length;xu++){var Ru=jf[xu],yy=Ru.toLowerCase(),vy=Ru[0].toUpperCase()+Ru.slice(1);Ti(yy,"on"+vy)}Ti(Ph,"onAnimationEnd");Ti(Ah,"onAnimationIteration");Ti(Oh,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(Ch,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Vf(e,n,i){var o=e.type||"unknown-event";e.currentTarget=i,yg(o,n,void 0,e),e.currentTarget=null}function _h(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var g=o.length-1;0<=g;g--){var y=o[g],T=y.instance,p=y.currentTarget;if(y=y.listener,T!==d&&c.isPropagationStopped())break e;Vf(c,y,p),d=T}else for(g=0;g<o.length;g++){if(y=o[g],T=y.instance,p=y.currentTarget,y=y.listener,T!==d&&c.isPropagationStopped())break e;Vf(c,y,p),d=T}}}if(Aa)throw e=cl,Aa=!1,cl=null,e}function qe(e,n){var i=n[wl];i===void 0&&(i=n[wl]=new Set);var o=e+"__bubble";i.has(o)||(xh(n,e,2,!1),i.add(o))}function bu(e,n,i){var o=0;n&&(o|=4),xh(i,e,o,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function To(e){if(!e[sa]){e[sa]=!0,Ud.forEach(function(i){i!=="selectionchange"&&(Ty.has(i)||bu(i,!1,e),bu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,bu("selectionchange",!1,n))}}function xh(e,n,i,o){switch(ph(n)){case 1:var c=Rg;break;case 4:c=bg;break;default:c=tc}i=c.bind(null,n,i,e),c=void 0,!ll||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Lu(e,n,i,o,c){var d=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&(T=g.stateNode.containerInfo,T===c||T.nodeType===8&&T.parentNode===c))return;g=g.return}for(;y!==null;){if(g=Li(y),g===null)return;if(T=g.tag,T===5||T===6){o=d=g;continue e}y=y.parentNode}}o=o.return}th(function(){var p=d,k=Xl(i),S=[];e:{var C=Dh.get(e);if(C!==void 0){var O=rc,L=e;switch(e){case"keypress":if(ya(i)===0)break e;case"keydown":case"keyup":O=Gg;break;case"focusin":L="focus",O=Ou;break;case"focusout":L="blur",O=Ou;break;case"beforeblur":case"afterblur":O=Ou;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Qg;break;case Ph:case Ah:case Oh:O=Jg;break;case Ch:O=ey;break;case"scroll":O=Lg;break;case"wheel":O=ny;break;case"copy":case"cut":case"paste":O=jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Rf}var B=(n&4)!==0,D=!B&&e==="scroll",v=B?C!==null?C+"Capture":null:C;B=[];for(var N=p,I;N!==null;){I=N;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,v!==null&&(R=ho(N,v),R!=null&&B.push(wo(N,R,I)))),D)break;N=N.return}0<B.length&&(C=new O(C,L,null,i,k),S.push({event:C,listeners:B}))}}if(!(n&7)){e:{if(C=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",C&&i!==al&&(L=i.relatedTarget||i.fromElement)&&(Li(L)||L[Vr]))break e;if((O||C)&&(C=k.window===k?k:(C=k.ownerDocument)?C.defaultView||C.parentWindow:window,O?(L=i.relatedTarget||i.toElement,O=p,L=L?Li(L):null,L!==null&&(D=Ki(L),L!==D||L.tag!==5&&L.tag!==6)&&(L=null)):(O=null,L=p),O!==L)){if(B=_f,R="onMouseLeave",v="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(B=Rf,R="onPointerLeave",v="onPointerEnter",N="pointer"),D=O==null?C:ds(O),I=L==null?C:ds(L),C=new B(R,N+"leave",O,i,k),C.target=D,C.relatedTarget=I,R=null,Li(k)===p&&(B=new B(v,N+"enter",L,i,k),B.target=I,B.relatedTarget=D,R=B),D=R,O&&L)t:{for(B=O,v=L,N=0,I=B;I;I=os(I))N++;for(I=0,R=v;R;R=os(R))I++;for(;0<N-I;)B=os(B),N--;for(;0<I-N;)v=os(v),I--;for(;N--;){if(B===v||v!==null&&B===v.alternate)break t;B=os(B),v=os(v)}B=null}else B=null;O!==null&&zf(S,C,O,B,!1),L!==null&&D!==null&&zf(S,D,L,B,!0)}}e:{if(C=p?ds(p):window,O=C.nodeName&&C.nodeName.toLowerCase(),O==="select"||O==="input"&&C.type==="file")var _=ly;else if(Mf(C))if(Sh)_=hy;else{_=fy;var E=cy}else(O=C.nodeName)&&O.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(_=dy);if(_&&(_=_(e,p))){wh(S,_,i,k);break e}E&&E(e,C,p),e==="focusout"&&(E=C._wrapperState)&&E.controlled&&C.type==="number"&&nl(C,"number",C.value)}switch(E=p?ds(p):window,e){case"focusin":(Mf(E)||E.contentEditable==="true")&&(cs=E,ml=p,so=null);break;case"focusout":so=ml=cs=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,$f(S,i,k);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":$f(S,i,k)}var $;if(sc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ls?vh(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(yh&&i.locale!=="ko"&&(ls||F!=="onCompositionStart"?F==="onCompositionEnd"&&ls&&($=gh()):(ai=k,nc="value"in ai?ai.value:ai.textContent,ls=!0)),E=xa(p,F),0<E.length&&(F=new xf(F,e,null,i,k),S.push({event:F,listeners:E}),$?F.data=$:($=Th(i),$!==null&&(F.data=$)))),($=iy?sy(e,i):oy(e,i))&&(p=xa(p,"onBeforeInput"),0<p.length&&(k=new xf("onBeforeInput","beforeinput",null,i,k),S.push({event:k,listeners:p}),k.data=$))}_h(S,n)})}function wo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function xa(e,n){for(var i=n+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=ho(e,i),d!=null&&o.unshift(wo(e,d,c)),d=ho(e,n),d!=null&&o.push(wo(e,d,c))),e=e.return}return o}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,n,i,o,c){for(var d=n._reactName,g=[];i!==null&&i!==o;){var y=i,T=y.alternate,p=y.stateNode;if(T!==null&&T===o)break;y.tag===5&&p!==null&&(y=p,c?(T=ho(i,d),T!=null&&g.unshift(wo(i,T,y))):c||(T=ho(i,d),T!=null&&g.push(wo(i,T,y)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var wy=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Sy,"")}function oa(e,n,i){if(n=Wf(n),Wf(e)!==n&&i)throw Error(se(425))}function Ra(){}var gl=null,yl=null;function vl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(e){return Kf.resolve(null).then(e).catch(Ny)}:Tl;function Ny(e){setTimeout(function(){throw e})}function Mu(e,n){var i=n,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),go(n);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);go(n)}function di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Yf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+bs,So="__reactProps$"+bs,Vr="__reactContainer$"+bs,wl="__reactEvents$"+bs,Iy="__reactListeners$"+bs,Py="__reactHandles$"+bs;function Li(e){var n=e[Ir];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vr]||i[Ir]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Yf(e);e!==null;){if(i=e[Ir])return i;e=Yf(e)}return n}e=i,i=e.parentNode}return null}function _o(e){return e=e[Ir]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function eu(e){return e[So]||null}var Sl=[],hs=-1;function wi(e){return{current:e}}function Ge(e){0>hs||(e.current=Sl[hs],Sl[hs]=null,hs--)}function Ve(e,n){hs++,Sl[hs]=e.current,e.current=n}var vi={},Qt=wi(vi),En=wi(!1),Ji=vi;function Ps(e,n){var i=e.type.contextTypes;if(!i)return vi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=n[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function kn(e){return e=e.childContextTypes,e!=null}function ba(){Ge(En),Ge(Qt)}function qf(e,n,i){if(Qt.current!==vi)throw Error(se(168));Ve(Qt,n),Ve(En,i)}function Rh(e,n,i){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in n))throw Error(se(108,cg(e)||"Unknown",c));return rt({},i,o)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,Ji=Qt.current,Ve(Qt,e),Ve(En,En.current),!0}function Gf(e,n,i){var o=e.stateNode;if(!o)throw Error(se(169));i?(e=Rh(e,n,Ji),o.__reactInternalMemoizedMergedChildContext=e,Ge(En),Ge(Qt),Ve(Qt,e)):Ge(En),Ve(En,i)}var Fr=null,tu=!1,Bu=!1;function bh(e){Fr===null?Fr=[e]:Fr.push(e)}function Ay(e){tu=!0,bh(e)}function Si(){if(!Bu&&Fr!==null){Bu=!0;var e=0,n=Fe;try{var i=Fr;for(Fe=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Fr=null,tu=!1}catch(c){throw Fr!==null&&(Fr=Fr.slice(e+1)),sh(Ql,Si),c}finally{Fe=n,Bu=!1}}return null}var ms=[],ps=0,Ma=null,Ba=0,Zn=[],er=0,$i=null,Ur=1,Jr="";function Ri(e,n){ms[ps++]=Ba,ms[ps++]=Ma,Ma=e,Ba=n}function Lh(e,n,i){Zn[er++]=Ur,Zn[er++]=Jr,Zn[er++]=$i,$i=e;var o=Ur;e=Jr;var c=32-mr(o)-1;o&=~(1<<c),i+=1;var d=32-mr(n)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Ur=1<<32-mr(n)+c|i<<c|o,Jr=d+e}else Ur=1<<d|i<<c|o,Jr=e}function ac(e){e.return!==null&&(Ri(e,1),Lh(e,1,0))}function uc(e){for(;e===Ma;)Ma=ms[--ps],ms[ps]=null,Ba=ms[--ps],ms[ps]=null;for(;e===$i;)$i=Zn[--er],Zn[er]=null,Jr=Zn[--er],Zn[er]=null,Ur=Zn[--er],Zn[er]=null}var Mn=null,Ln=null,Qe=!1,hr=null;function Mh(e,n){var i=tr(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Hf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Mn=e,Ln=di(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Mn=e,Ln=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=$i!==null?{id:Ur,overflow:Jr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=tr(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Mn=e,Ln=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(Qe){var n=Ln;if(n){var i=n;if(!Hf(e,n)){if(El(e))throw Error(se(418));n=di(i.nextSibling);var o=Mn;n&&Hf(e,n)?Mh(o,i):(e.flags=e.flags&-4097|2,Qe=!1,Mn=e)}}else{if(El(e))throw Error(se(418));e.flags=e.flags&-4097|2,Qe=!1,Mn=e}}}function Xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function aa(e){if(e!==Mn)return!1;if(!Qe)return Xf(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!vl(e.type,e.memoizedProps)),n&&(n=Ln)){if(El(e))throw Bh(),Error(se(418));for(;n;)Mh(e,n),n=di(n.nextSibling)}if(Xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ln=di(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ln=null}}else Ln=Mn?di(e.stateNode.nextSibling):null;return!0}function Bh(){for(var e=Ln;e;)e=di(e.nextSibling)}function As(){Ln=Mn=null,Qe=!1}function lc(e){hr===null?hr=[e]:hr.push(e)}var Oy=Kr.ReactCurrentBatchConfig;function fr(e,n){if(e&&e.defaultProps){n=rt({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}var Fa=wi(null),Ua=null,gs=null,cc=null;function fc(){cc=gs=Ua=null}function dc(e){var n=Fa.current;Ge(Fa),e._currentValue=n}function Nl(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function ks(e,n){Ua=e,cc=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Sn=!0),e.firstContext=null)}function rr(e){var n=e._currentValue;if(cc!==e)if(e={context:e,memoizedValue:n,next:null},gs===null){if(Ua===null)throw Error(se(308));gs=e,Ua.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return n}var Mi=null;function hc(e){Mi===null?Mi=[e]:Mi.push(e)}function Fh(e,n,i,o){var c=n.interleaved;return c===null?(i.next=i,hc(n)):(i.next=c.next,c.next=i),n.interleaved=i,zr(e,o)}function zr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ii=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $r(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function hi(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Me&2){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,zr(e,i)}return c=o.interleaved,c===null?(n.next=n,hc(o)):(n.next=c.next,c.next=n),o.interleaved=n,zr(e,i)}function va(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Zl(e,i)}}function Qf(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=n:d=d.next=n}else c=d=n;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ja(e,n,i,o){var c=e.updateQueue;ii=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var T=y,p=T.next;T.next=null,g===null?d=p:g.next=p,g=T;var k=e.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=p:y.next=p,k.lastBaseUpdate=T))}if(d!==null){var S=c.baseState;g=0,k=p=T=null,y=d;do{var C=y.lane,O=y.eventTime;if((o&C)===C){k!==null&&(k=k.next={eventTime:O,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var L=e,B=y;switch(C=n,O=i,B.tag){case 1:if(L=B.payload,typeof L=="function"){S=L.call(O,S,C);break e}S=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=B.payload,C=typeof L=="function"?L.call(O,S,C):L,C==null)break e;S=rt({},S,C);break e;case 2:ii=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,C=c.effects,C===null?c.effects=[y]:C.push(y))}else O={eventTime:O,lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(p=k=O,T=S):k=k.next=O,g|=C;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;C=y,y=C.next,C.next=null,c.lastBaseUpdate=C,c.shared.pending=null}}while(1);if(k===null&&(T=S),c.baseState=T,c.firstBaseUpdate=p,c.lastBaseUpdate=k,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);Vi|=g,e.lanes=g,e.memoizedState=S}}function Zf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(se(191,c));c.call(o)}}}var Jh=new Fd.Component().refs;function Il(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:rt({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nu={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var o=un(),c=pi(e),d=$r(o,c);d.payload=n,i!=null&&(d.callback=i),n=hi(e,d,c),n!==null&&(pr(n,e,c,o),va(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=un(),c=pi(e),d=$r(o,c);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=hi(e,d,c),n!==null&&(pr(n,e,c,o),va(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=un(),o=pi(e),c=$r(i,o);c.tag=2,n!=null&&(c.callback=n),n=hi(e,c,o),n!==null&&(pr(n,e,o,i),va(n,e,o))}};function ed(e,n,i,o,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):n.prototype&&n.prototype.isPureReactComponent?!vo(i,o)||!vo(c,d):!0}function $h(e,n,i){var o=!1,c=vi,d=n.contextType;return typeof d=="object"&&d!==null?d=rr(d):(c=kn(n)?Ji:Qt.current,o=n.contextTypes,d=(o=o!=null)?Ps(e,c):vi),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=nu,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function td(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&nu.enqueueReplaceState(n,n.state,null)}function Pl(e,n,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs=Jh,mc(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=rr(d):(d=kn(n)?Ji:Qt.current,c.context=Ps(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Il(e,n,d,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&nu.enqueueReplaceState(c,c.state,null),Ja(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(se(309));var o=i.stateNode}if(!o)throw Error(se(147,e));var c=o,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(g){var y=c.refs;y===Jh&&(y=c.refs={}),g===null?delete y[d]:y[d]=g},n._stringRef=d,n)}if(typeof e!="string")throw Error(se(284));if(!i._owner)throw Error(se(290,e))}return e}function ua(e,n){throw e=Object.prototype.toString.call(n),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nd(e){var n=e._init;return n(e._payload)}function jh(e){function n(v,N){if(e){var I=v.deletions;I===null?(v.deletions=[N],v.flags|=16):I.push(N)}}function i(v,N){if(!e)return null;for(;N!==null;)n(v,N),N=N.sibling;return null}function o(v,N){for(v=new Map;N!==null;)N.key!==null?v.set(N.key,N):v.set(N.index,N),N=N.sibling;return v}function c(v,N){return v=gi(v,N),v.index=0,v.sibling=null,v}function d(v,N,I){return v.index=I,e?(I=v.alternate,I!==null?(I=I.index,I<N?(v.flags|=2,N):I):(v.flags|=2,N)):(v.flags|=1048576,N)}function g(v){return e&&v.alternate===null&&(v.flags|=2),v}function y(v,N,I,R){return N===null||N.tag!==6?(N=zu(I,v.mode,R),N.return=v,N):(N=c(N,I),N.return=v,N)}function T(v,N,I,R){var _=I.type;return _===us?k(v,N,I.props.children,R,I.key):N!==null&&(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ri&&nd(_)===N.type)?(R=c(N,I.props),R.ref=qs(v,N,I),R.return=v,R):(R=Na(I.type,I.key,I.props,null,v.mode,R),R.ref=qs(v,N,I),R.return=v,R)}function p(v,N,I,R){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Wu(I,v.mode,R),N.return=v,N):(N=c(N,I.children||[]),N.return=v,N)}function k(v,N,I,R,_){return N===null||N.tag!==7?(N=Ui(I,v.mode,R,_),N.return=v,N):(N=c(N,I),N.return=v,N)}function S(v,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return N=zu(""+N,v.mode,I),N.return=v,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xo:return I=Na(N.type,N.key,N.props,null,v.mode,I),I.ref=qs(v,null,N),I.return=v,I;case as:return N=Wu(N,v.mode,I),N.return=v,N;case ri:var R=N._init;return S(v,R(N._payload),I)}if(Qs(N)||Vs(N))return N=Ui(N,v.mode,I,null),N.return=v,N;ua(v,N)}return null}function C(v,N,I,R){var _=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return _!==null?null:y(v,N,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xo:return I.key===_?T(v,N,I,R):null;case as:return I.key===_?p(v,N,I,R):null;case ri:return _=I._init,C(v,N,_(I._payload),R)}if(Qs(I)||Vs(I))return _!==null?null:k(v,N,I,R,null);ua(v,I)}return null}function O(v,N,I,R,_){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(I)||null,y(N,v,""+R,_);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xo:return v=v.get(R.key===null?I:R.key)||null,T(N,v,R,_);case as:return v=v.get(R.key===null?I:R.key)||null,p(N,v,R,_);case ri:var E=R._init;return O(v,N,I,E(R._payload),_)}if(Qs(R)||Vs(R))return v=v.get(I)||null,k(N,v,R,_,null);ua(N,R)}return null}function L(v,N,I,R){for(var _=null,E=null,$=N,F=N=0,b=null;$!==null&&F<I.length;F++){$.index>F?(b=$,$=null):b=$.sibling;var z=C(v,$,I[F],R);if(z===null){$===null&&($=b);break}e&&$&&z.alternate===null&&n(v,$),N=d(z,N,F),E===null?_=z:E.sibling=z,E=z,$=b}if(F===I.length)return i(v,$),Qe&&Ri(v,F),_;if($===null){for(;F<I.length;F++)$=S(v,I[F],R),$!==null&&(N=d($,N,F),E===null?_=$:E.sibling=$,E=$);return Qe&&Ri(v,F),_}for($=o(v,$);F<I.length;F++)b=O($,v,F,I[F],R),b!==null&&(e&&b.alternate!==null&&$.delete(b.key===null?F:b.key),N=d(b,N,F),E===null?_=b:E.sibling=b,E=b);return e&&$.forEach(function(q){return n(v,q)}),Qe&&Ri(v,F),_}function B(v,N,I,R){var _=Vs(I);if(typeof _!="function")throw Error(se(150));if(I=_.call(I),I==null)throw Error(se(151));for(var E=_=null,$=N,F=N=0,b=null,z=I.next();$!==null&&!z.done;F++,z=I.next()){$.index>F?(b=$,$=null):b=$.sibling;var q=C(v,$,z.value,R);if(q===null){$===null&&($=b);break}e&&$&&q.alternate===null&&n(v,$),N=d(q,N,F),E===null?_=q:E.sibling=q,E=q,$=b}if(z.done)return i(v,$),Qe&&Ri(v,F),_;if($===null){for(;!z.done;F++,z=I.next())z=S(v,z.value,R),z!==null&&(N=d(z,N,F),E===null?_=z:E.sibling=z,E=z);return Qe&&Ri(v,F),_}for($=o(v,$);!z.done;F++,z=I.next())z=O($,v,F,z.value,R),z!==null&&(e&&z.alternate!==null&&$.delete(z.key===null?F:z.key),N=d(z,N,F),E===null?_=z:E.sibling=z,E=z);return e&&$.forEach(function(Z){return n(v,Z)}),Qe&&Ri(v,F),_}function D(v,N,I,R){if(typeof I=="object"&&I!==null&&I.type===us&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Xo:e:{for(var _=I.key,E=N;E!==null;){if(E.key===_){if(_=I.type,_===us){if(E.tag===7){i(v,E.sibling),N=c(E,I.props.children),N.return=v,v=N;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ri&&nd(_)===E.type){i(v,E.sibling),N=c(E,I.props),N.ref=qs(v,E,I),N.return=v,v=N;break e}i(v,E);break}else n(v,E);E=E.sibling}I.type===us?(N=Ui(I.props.children,v.mode,R,I.key),N.return=v,v=N):(R=Na(I.type,I.key,I.props,null,v.mode,R),R.ref=qs(v,N,I),R.return=v,v=R)}return g(v);case as:e:{for(E=I.key;N!==null;){if(N.key===E)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){i(v,N.sibling),N=c(N,I.children||[]),N.return=v,v=N;break e}else{i(v,N);break}else n(v,N);N=N.sibling}N=Wu(I,v.mode,R),N.return=v,v=N}return g(v);case ri:return E=I._init,D(v,N,E(I._payload),R)}if(Qs(I))return L(v,N,I,R);if(Vs(I))return B(v,N,I,R);ua(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,N!==null&&N.tag===6?(i(v,N.sibling),N=c(N,I),N.return=v,v=N):(i(v,N),N=zu(I,v.mode,R),N.return=v,v=N),g(v)):i(v,N)}return D}var Os=jh(!0),Vh=jh(!1),xo={},Ar=wi(xo),Eo=wi(xo),ko=wi(xo);function Bi(e){if(e===xo)throw Error(se(174));return e}function pc(e,n){switch(Ve(ko,n),Ve(Eo,e),Ve(Ar,xo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:il(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=il(n,e)}Ge(Ar),Ve(Ar,n)}function Cs(){Ge(Ar),Ge(Eo),Ge(ko)}function zh(e){Bi(ko.current);var n=Bi(Ar.current),i=il(n,e.type);n!==i&&(Ve(Eo,e),Ve(Ar,i))}function gc(e){Eo.current===e&&(Ge(Ar),Ge(Eo))}var tt=wi(0);function $a(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fu=[];function yc(){for(var e=0;e<Fu.length;e++)Fu[e]._workInProgressVersionPrimary=null;Fu.length=0}var Ta=Kr.ReactCurrentDispatcher,Uu=Kr.ReactCurrentBatchConfig,ji=0,nt=null,kt=null,Ct=null,ja=!1,oo=!1,No=0,Cy=0;function Gt(){throw Error(se(321))}function vc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!gr(e[i],n[i]))return!1;return!0}function Tc(e,n,i,o,c,d){if(ji=d,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ta.current=e===null||e.memoizedState===null?Ry:by,e=i(o,c),oo){d=0;do{if(oo=!1,No=0,25<=d)throw Error(se(301));d+=1,Ct=kt=null,n.updateQueue=null,Ta.current=Ly,e=i(o,c)}while(oo)}if(Ta.current=Va,n=kt!==null&&kt.next!==null,ji=0,Ct=kt=nt=null,ja=!1,n)throw Error(se(300));return e}function wc(){var e=No!==0;return No=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function ir(){if(kt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var n=Ct===null?nt.memoizedState:Ct.next;if(n!==null)Ct=n,kt=e;else{if(e===null)throw Error(se(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ct===null?nt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Io(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=ir(),i=n.queue;if(i===null)throw Error(se(311));i.lastRenderedReducer=e;var o=kt,c=o.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}o.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,o=o.baseState;var y=g=null,T=null,p=d;do{var k=p.lane;if((ji&k)===k)T!==null&&(T=T.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),o=p.hasEagerState?p.eagerState:e(o,p.action);else{var S={lane:k,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};T===null?(y=T=S,g=o):T=T.next=S,nt.lanes|=k,Vi|=k}p=p.next}while(p!==null&&p!==d);T===null?g=o:T.next=y,gr(o,n.memoizedState)||(Sn=!0),n.memoizedState=o,n.baseState=g,n.baseQueue=T,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do d=c.lane,nt.lanes|=d,Vi|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function $u(e){var n=ir(),i=n.queue;if(i===null)throw Error(se(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,d=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);gr(d,n.memoizedState)||(Sn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,o]}function Wh(){}function Kh(e,n){var i=nt,o=ir(),c=n(),d=!gr(o.memoizedState,c);if(d&&(o.memoizedState=c,Sn=!0),o=o.queue,Sc(Gh.bind(null,i,o,e),[e]),o.getSnapshot!==n||d||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,Po(9,qh.bind(null,i,o,c,n),void 0,null),Dt===null)throw Error(se(349));ji&30||Yh(i,n,c)}return c}function Yh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=nt.updateQueue,n===null?(n={lastEffect:null,stores:null},nt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function qh(e,n,i,o){n.value=i,n.getSnapshot=o,Hh(n)&&Xh(e)}function Gh(e,n,i){return i(function(){Hh(n)&&Xh(e)})}function Hh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!gr(e,i)}catch{return!0}}function Xh(e){var n=zr(e,1);n!==null&&pr(n,e,1,-1)}function rd(e){var n=Nr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},n.queue=e,e=e.dispatch=xy.bind(null,nt,e),[n.memoizedState,e]}function Po(e,n,i,o){return e={tag:e,create:n,destroy:i,deps:o,next:null},n=nt.updateQueue,n===null?(n={lastEffect:null,stores:null},nt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e)),e}function Qh(){return ir().memoizedState}function wa(e,n,i,o){var c=Nr();nt.flags|=e,c.memoizedState=Po(1|n,i,void 0,o===void 0?null:o)}function ru(e,n,i,o){var c=ir();o=o===void 0?null:o;var d=void 0;if(kt!==null){var g=kt.memoizedState;if(d=g.destroy,o!==null&&vc(o,g.deps)){c.memoizedState=Po(n,i,d,o);return}}nt.flags|=e,c.memoizedState=Po(1|n,i,d,o)}function id(e,n){return wa(8390656,8,e,n)}function Sc(e,n){return ru(2048,8,e,n)}function Zh(e,n){return ru(4,2,e,n)}function em(e,n){return ru(4,4,e,n)}function tm(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nm(e,n,i){return i=i!=null?i.concat([e]):null,ru(4,4,tm.bind(null,n,e),i)}function Ec(){}function rm(e,n){var i=ir();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&vc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function im(e,n){var i=ir();n=n===void 0?null:n;var o=i.memoizedState;return o!==null&&n!==null&&vc(n,o[1])?o[0]:(e=e(),i.memoizedState=[e,n],e)}function sm(e,n,i){return ji&21?(gr(i,n)||(i=uh(),nt.lanes|=i,Vi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=i)}function Dy(e,n){var i=Fe;Fe=i!==0&&4>i?i:4,e(!0);var o=Uu.transition;Uu.transition={};try{e(!1),n()}finally{Fe=i,Uu.transition=o}}function om(){return ir().memoizedState}function _y(e,n,i){var o=pi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},am(e))um(n,i);else if(i=Fh(e,n,i,o),i!==null){var c=un();pr(i,e,o,c),lm(i,n,o)}}function xy(e,n,i){var o=pi(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(am(e))um(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,y=d(g,i);if(c.hasEagerState=!0,c.eagerState=y,gr(y,g)){var T=n.interleaved;T===null?(c.next=c,hc(n)):(c.next=T.next,T.next=c),n.interleaved=c;return}}catch{}finally{}i=Fh(e,n,c,o),i!==null&&(c=un(),pr(i,e,o,c),lm(i,n,o))}}function am(e){var n=e.alternate;return e===nt||n!==null&&n===nt}function um(e,n){oo=ja=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function lm(e,n,i){if(i&4194240){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Zl(e,i)}}var Va={readContext:rr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Ry={readContext:rr,useCallback:function(e,n){return Nr().memoizedState=[e,n===void 0?null:n],e},useContext:rr,useEffect:id,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,wa(4194308,4,tm.bind(null,n,e),i)},useLayoutEffect:function(e,n){return wa(4194308,4,e,n)},useInsertionEffect:function(e,n){return wa(4,2,e,n)},useMemo:function(e,n){var i=Nr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var o=Nr();return n=i!==void 0?i(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=_y.bind(null,nt,e),[o.memoizedState,e]},useRef:function(e){var n=Nr();return e={current:e},n.memoizedState=e},useState:rd,useDebugValue:Ec,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=rd(!1),n=e[0];return e=Dy.bind(null,e[1]),Nr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var o=nt,c=Nr();if(Qe){if(i===void 0)throw Error(se(407));i=i()}else{if(i=n(),Dt===null)throw Error(se(349));ji&30||Yh(o,n,i)}c.memoizedState=i;var d={value:i,getSnapshot:n};return c.queue=d,id(Gh.bind(null,o,d,e),[e]),o.flags|=2048,Po(9,qh.bind(null,o,d,i,n),void 0,null),i},useId:function(){var e=Nr(),n=Dt.identifierPrefix;if(Qe){var i=Jr,o=Ur;i=(o&~(1<<32-mr(o)-1)).toString(32)+i,n=":"+n+"R"+i,i=No++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Cy++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},by={readContext:rr,useCallback:rm,useContext:rr,useEffect:Sc,useImperativeHandle:nm,useInsertionEffect:Zh,useLayoutEffect:em,useMemo:im,useReducer:Ju,useRef:Qh,useState:function(){return Ju(Io)},useDebugValue:Ec,useDeferredValue:function(e){var n=ir();return sm(n,kt.memoizedState,e)},useTransition:function(){var e=Ju(Io)[0],n=ir().memoizedState;return[e,n]},useMutableSource:Wh,useSyncExternalStore:Kh,useId:om,unstable_isNewReconciler:!1},Ly={readContext:rr,useCallback:rm,useContext:rr,useEffect:Sc,useImperativeHandle:nm,useInsertionEffect:Zh,useLayoutEffect:em,useMemo:im,useReducer:$u,useRef:Qh,useState:function(){return $u(Io)},useDebugValue:Ec,useDeferredValue:function(e){var n=ir();return kt===null?n.memoizedState=e:sm(n,kt.memoizedState,e)},useTransition:function(){var e=$u(Io)[0],n=ir().memoizedState;return[e,n]},useMutableSource:Wh,useSyncExternalStore:Kh,useId:om,unstable_isNewReconciler:!1};function Ds(e,n){try{var i="",o=n;do i+=lg(o),o=o.return;while(o);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function ju(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Al(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var My=typeof WeakMap=="function"?WeakMap:Map;function cm(e,n,i){i=$r(-1,i),i.tag=3,i.payload={element:null};var o=n.value;return i.callback=function(){Wa||(Wa=!0,Bl=o),Al(e,n)},i}function fm(e,n,i){i=$r(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=n.value;i.payload=function(){return o(c)},i.callback=function(){Al(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Al(e,n),typeof o!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function sd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new My;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(i)||(c.add(i),e=Hy.bind(null,e,n,i),n.then(e,e))}function od(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ad(e,n,i,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=$r(-1,1),n.tag=2,hi(i,n,1))),i.lanes|=1),e)}var By=Kr.ReactCurrentOwner,Sn=!1;function an(e,n,i,o){n.child=e===null?Vh(n,null,i,o):Os(n,e.child,i,o)}function ud(e,n,i,o,c){i=i.render;var d=n.ref;return ks(n,c),o=Tc(e,n,i,o,d,c),i=wc(),e!==null&&!Sn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Wr(e,n,c)):(Qe&&i&&ac(n),n.flags|=1,an(e,n,o,c),n.child)}function ld(e,n,i,o,c){if(e===null){var d=i.type;return typeof d=="function"&&!Dc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,dm(e,n,d,o,c)):(e=Na(i.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:vo,i(g,o)&&e.ref===n.ref)return Wr(e,n,c)}return n.flags|=1,e=gi(d,o),e.ref=n.ref,e.return=n,n.child=e}function dm(e,n,i,o,c){if(e!==null){var d=e.memoizedProps;if(vo(d,o)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=o=d,(e.lanes&c)!==0)e.flags&131072&&(Sn=!0);else return n.lanes=e.lanes,Wr(e,n,c)}return Ol(e,n,i,o,c)}function hm(e,n,i){var o=n.pendingProps,c=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(vs,bn),bn|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(vs,bn),bn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,Ve(vs,bn),bn|=o}else d!==null?(o=d.baseLanes|i,n.memoizedState=null):o=i,Ve(vs,bn),bn|=o;return an(e,n,c,i),n.child}function mm(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Ol(e,n,i,o,c){var d=kn(i)?Ji:Qt.current;return d=Ps(n,d),ks(n,c),i=Tc(e,n,i,o,d,c),o=wc(),e!==null&&!Sn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Wr(e,n,c)):(Qe&&o&&ac(n),n.flags|=1,an(e,n,i,c),n.child)}function cd(e,n,i,o,c){if(kn(i)){var d=!0;La(n)}else d=!1;if(ks(n,c),n.stateNode===null)Sa(e,n),$h(n,i,o),Pl(n,i,o,c),o=!0;else if(e===null){var g=n.stateNode,y=n.memoizedProps;g.props=y;var T=g.context,p=i.contextType;typeof p=="object"&&p!==null?p=rr(p):(p=kn(i)?Ji:Qt.current,p=Ps(n,p));var k=i.getDerivedStateFromProps,S=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==o||T!==p)&&td(n,g,o,p),ii=!1;var C=n.memoizedState;g.state=C,Ja(n,o,g,c),T=n.memoizedState,y!==o||C!==T||En.current||ii?(typeof k=="function"&&(Il(n,i,k,o),T=n.memoizedState),(y=ii||ed(n,i,y,o,C,T,p))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=T),g.props=o,g.state=T,g.context=p,o=y):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,Uh(e,n),y=n.memoizedProps,p=n.type===n.elementType?y:fr(n.type,y),g.props=p,S=n.pendingProps,C=g.context,T=i.contextType,typeof T=="object"&&T!==null?T=rr(T):(T=kn(i)?Ji:Qt.current,T=Ps(n,T));var O=i.getDerivedStateFromProps;(k=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==S||C!==T)&&td(n,g,o,T),ii=!1,C=n.memoizedState,g.state=C,Ja(n,o,g,c);var L=n.memoizedState;y!==S||C!==L||En.current||ii?(typeof O=="function"&&(Il(n,i,O,o),L=n.memoizedState),(p=ii||ed(n,i,p,o,C,L,T)||!1)?(k||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,L,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,L,T)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=L),g.props=o,g.state=L,g.context=T,o=p):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),o=!1)}return Cl(e,n,i,o,d,c)}function Cl(e,n,i,o,c,d){mm(e,n);var g=(n.flags&128)!==0;if(!o&&!g)return c&&Gf(n,i,!1),Wr(e,n,d);o=n.stateNode,By.current=n;var y=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&g?(n.child=Os(n,e.child,null,d),n.child=Os(n,null,y,d)):an(e,n,y,d),n.memoizedState=o.state,c&&Gf(n,i,!0),n.child}function pm(e){var n=e.stateNode;n.pendingContext?qf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&qf(e,n.context,!1),pc(e,n.containerInfo)}function fd(e,n,i,o,c){return As(),lc(c),n.flags|=256,an(e,n,i,o),n.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function _l(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,n,i){var o=n.pendingProps,c=tt.current,d=!1,g=(n.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(tt,c&1),e===null)return kl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(g=o.children,e=o.fallback,d?(o=n.mode,d=n.child,g={mode:"hidden",children:g},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=g):d=ou(g,o,0,null),e=Ui(e,o,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=_l(i),n.memoizedState=Dl,e):kc(n,g));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return Fy(e,n,g,o,y,c,i);if(d){d=o.fallback,g=n.mode,c=e.child,y=c.sibling;var T={mode:"hidden",children:o.children};return!(g&1)&&n.child!==c?(o=n.child,o.childLanes=0,o.pendingProps=T,n.deletions=null):(o=gi(c,T),o.subtreeFlags=c.subtreeFlags&14680064),y!==null?d=gi(y,d):(d=Ui(d,g,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,g=e.child.memoizedState,g=g===null?_l(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,n.memoizedState=Dl,o}return d=e.child,e=d.sibling,o=gi(d,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=i),o.return=n,o.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=o,n.memoizedState=null,o}function kc(e,n){return n=ou({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function la(e,n,i,o){return o!==null&&lc(o),Os(n,e.child,null,i),e=kc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fy(e,n,i,o,c,d,g){if(i)return n.flags&256?(n.flags&=-257,o=ju(Error(se(422))),la(e,n,g,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=o.fallback,c=n.mode,o=ou({mode:"visible",children:o.children},c,0,null),d=Ui(d,c,g,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,n.mode&1&&Os(n,e.child,null,g),n.child.memoizedState=_l(g),n.memoizedState=Dl,d);if(!(n.mode&1))return la(e,n,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var y=o.dgst;return o=y,d=Error(se(419)),o=ju(d,o,void 0),la(e,n,g,o)}if(y=(g&e.childLanes)!==0,Sn||y){if(o=Dt,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|g)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,zr(e,c),pr(o,e,c,-1))}return Cc(),o=ju(Error(se(421))),la(e,n,g,o)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Xy.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,Ln=di(c.nextSibling),Mn=n,Qe=!0,hr=null,e!==null&&(Zn[er++]=Ur,Zn[er++]=Jr,Zn[er++]=$i,Ur=e.id,Jr=e.overflow,$i=n),n=kc(n,o.children),n.flags|=4096,n)}function dd(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nl(e.return,n,i)}function Vu(e,n,i,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=c)}function ym(e,n,i){var o=n.pendingProps,c=o.revealOrder,d=o.tail;if(an(e,n,o.children,i),o=tt.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,i,n);else if(e.tag===19)dd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ve(tt,o),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&$a(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Vu(n,!1,c,i,d);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&$a(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Vu(n,!0,i,null,d);break;case"together":Vu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Sa(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Vi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(se(153));if(n.child!==null){for(e=n.child,i=gi(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=gi(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Uy(e,n,i){switch(n.tag){case 3:pm(n),As();break;case 5:zh(n);break;case 1:kn(n.type)&&La(n);break;case 4:pc(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,c=n.memoizedProps.value;Ve(Fa,o._currentValue),o._currentValue=c;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Ve(tt,tt.current&1),n.flags|=128,null):i&n.child.childLanes?gm(e,n,i):(Ve(tt,tt.current&1),e=Wr(e,n,i),e!==null?e.sibling:null);Ve(tt,tt.current&1);break;case 19:if(o=(i&n.childLanes)!==0,e.flags&128){if(o)return ym(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(tt,tt.current),o)break;return null;case 22:case 23:return n.lanes=0,hm(e,n,i)}return Wr(e,n,i)}var vm,xl,Tm,wm;vm=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};xl=function(){};Tm=function(e,n,i,o){var c=e.memoizedProps;if(c!==o){e=n.stateNode,Bi(Ar.current);var d=null;switch(i){case"input":c=el(e,c),o=el(e,o),d=[];break;case"select":c=rt({},c,{value:void 0}),o=rt({},o,{value:void 0}),d=[];break;case"textarea":c=rl(e,c),o=rl(e,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ra)}sl(i,o);var g;i=null;for(p in c)if(!o.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!=null)if(p==="style"){var y=c[p];for(g in y)y.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(co.hasOwnProperty(p)?d||(d=[]):(d=d||[]).push(p,null));for(p in o){var T=o[p];if(y=c!=null?c[p]:void 0,o.hasOwnProperty(p)&&T!==y&&(T!=null||y!=null))if(p==="style")if(y){for(g in y)!y.hasOwnProperty(g)||T&&T.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in T)T.hasOwnProperty(g)&&y[g]!==T[g]&&(i||(i={}),i[g]=T[g])}else i||(d||(d=[]),d.push(p,i)),i=T;else p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,y=y?y.__html:void 0,T!=null&&y!==T&&(d=d||[]).push(p,T)):p==="children"?typeof T!="string"&&typeof T!="number"||(d=d||[]).push(p,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(co.hasOwnProperty(p)?(T!=null&&p==="onScroll"&&qe("scroll",e),d||y===T||(d=[])):(d=d||[]).push(p,T))}i&&(d=d||[]).push("style",i);var p=d;(n.updateQueue=p)&&(n.flags|=4)}};wm=function(e,n,i,o){i!==o&&(n.flags|=4)};function Gs(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Jy(e,n,i){var o=n.pendingProps;switch(uc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(n),null;case 1:return kn(n.type)&&ba(),Ht(n),null;case 3:return o=n.stateNode,Cs(),Ge(En),Ge(Qt),yc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(aa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,hr!==null&&(Jl(hr),hr=null))),xl(e,n),Ht(n),null;case 5:gc(n);var c=Bi(ko.current);if(i=n.type,e!==null&&n.stateNode!=null)Tm(e,n,i,o,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(se(166));return Ht(n),null}if(e=Bi(Ar.current),aa(n)){o=n.stateNode,i=n.type;var d=n.memoizedProps;switch(o[Ir]=n,o[So]=d,e=(n.mode&1)!==0,i){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(c=0;c<eo.length;c++)qe(eo[c],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":Sf(o,d),qe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},qe("invalid",o);break;case"textarea":kf(o,d),qe("invalid",o)}sl(i,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var y=d[g];g==="children"?typeof y=="string"?o.textContent!==y&&(d.suppressHydrationWarning!==!0&&oa(o.textContent,y,e),c=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&oa(o.textContent,y,e),c=["children",""+y]):co.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&qe("scroll",o)}switch(i){case"input":Qo(o),Ef(o,d,!0);break;case"textarea":Qo(o),Nf(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ra)}o=c,n.updateQueue=o,o!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Ir]=n,e[So]=o,vm(e,n,!1,!1),n.stateNode=e;e:{switch(g=ol(i,o),i){case"dialog":qe("cancel",e),qe("close",e),c=o;break;case"iframe":case"object":case"embed":qe("load",e),c=o;break;case"video":case"audio":for(c=0;c<eo.length;c++)qe(eo[c],e);c=o;break;case"source":qe("error",e),c=o;break;case"img":case"image":case"link":qe("error",e),qe("load",e),c=o;break;case"details":qe("toggle",e),c=o;break;case"input":Sf(e,o),c=el(e,o),qe("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=rt({},o,{value:void 0}),qe("invalid",e);break;case"textarea":kf(e,o),c=rl(e,o),qe("invalid",e);break;default:c=o}sl(i,c),y=c;for(d in y)if(y.hasOwnProperty(d)){var T=y[d];d==="style"?Hd(e,T):d==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&qd(e,T)):d==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&fo(e,T):typeof T=="number"&&fo(e,""+T):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(co.hasOwnProperty(d)?T!=null&&d==="onScroll"&&qe("scroll",e):T!=null&&Yl(e,d,T,g))}switch(i){case"input":Qo(e),Ef(e,o,!1);break;case"textarea":Qo(e),Nf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+yi(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?Ts(e,!!o.multiple,d,!1):o.defaultValue!=null&&Ts(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ra)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ht(n),null;case 6:if(e&&n.stateNode!=null)wm(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(se(166));if(i=Bi(ko.current),Bi(Ar.current),aa(n)){if(o=n.stateNode,i=n.memoizedProps,o[Ir]=n,(d=o.nodeValue!==i)&&(e=Mn,e!==null))switch(e.tag){case 3:oa(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(o.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Ir]=n,n.stateNode=o}return Ht(n),null;case 13:if(Ge(tt),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Ln!==null&&n.mode&1&&!(n.flags&128))Bh(),As(),n.flags|=98560,d=!1;else if(d=aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(se(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(se(317));d[Ir]=n}else As(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ht(n),d=!1}else hr!==null&&(Jl(hr),hr=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||tt.current&1?Nt===0&&(Nt=3):Cc())),n.updateQueue!==null&&(n.flags|=4),Ht(n),null);case 4:return Cs(),xl(e,n),e===null&&To(n.stateNode.containerInfo),Ht(n),null;case 10:return dc(n.type._context),Ht(n),null;case 17:return kn(n.type)&&ba(),Ht(n),null;case 19:if(Ge(tt),d=n.memoizedState,d===null)return Ht(n),null;if(o=(n.flags&128)!==0,g=d.rendering,g===null)if(o)Gs(d,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=$a(e),g!==null){for(n.flags|=128,Gs(d,!1),o=g.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=i,i=n.child;i!==null;)d=i,e=o,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(tt,tt.current&1|2),n.child}e=e.sibling}d.tail!==null&&ht()>_s&&(n.flags|=128,o=!0,Gs(d,!1),n.lanes=4194304)}else{if(!o)if(e=$a(g),e!==null){if(n.flags|=128,o=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Gs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Qe)return Ht(n),null}else 2*ht()-d.renderingStartTime>_s&&i!==1073741824&&(n.flags|=128,o=!0,Gs(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(i=d.last,i!==null?i.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ht(),n.sibling=null,i=tt.current,Ve(tt,o?i&1|2:i&1),n):(Ht(n),null);case 22:case 23:return Oc(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?bn&1073741824&&(Ht(n),n.subtreeFlags&6&&(n.flags|=8192)):Ht(n),null;case 24:return null;case 25:return null}throw Error(se(156,n.tag))}function $y(e,n){switch(uc(n),n.tag){case 1:return kn(n.type)&&ba(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cs(),Ge(En),Ge(Qt),yc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return gc(n),null;case 13:if(Ge(tt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(se(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(tt),null;case 4:return Cs(),null;case 10:return dc(n.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var ca=!1,Xt=!1,jy=typeof WeakSet=="function"?WeakSet:Set,de=null;function ys(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){at(e,n,o)}else i.current=null}function Rl(e,n,i){try{i()}catch(o){at(e,n,o)}}var hd=!1;function Vy(e,n){if(gl=Da,e=Nh(),oc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,y=-1,T=-1,p=0,k=0,S=e,C=null;t:for(;;){for(var O;S!==i||c!==0&&S.nodeType!==3||(y=g+c),S!==d||o!==0&&S.nodeType!==3||(T=g+o),S.nodeType===3&&(g+=S.nodeValue.length),(O=S.firstChild)!==null;)C=S,S=O;for(;;){if(S===e)break t;if(C===i&&++p===c&&(y=g),C===d&&++k===o&&(T=g),(O=S.nextSibling)!==null)break;S=C,C=S.parentNode}S=O}i=y===-1||T===-1?null:{start:y,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(yl={focusedElem:e,selectionRange:i},Da=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var L=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var B=L.memoizedProps,D=L.memoizedState,v=n.stateNode,N=v.getSnapshotBeforeUpdate(n.elementType===n.type?B:fr(n.type,B),D);v.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(R){at(n,n.return,R)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return L=hd,hd=!1,L}function ao(e,n,i){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Rl(n,i,d)}c=c.next}while(c!==o)}}function iu(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==n)}}function bl(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Sm(e){var n=e.alternate;n!==null&&(e.alternate=null,Sm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ir],delete n[So],delete n[wl],delete n[Iy],delete n[Py])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Em(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ra));else if(o!==4&&(e=e.child,e!==null))for(Ll(e,n,i),e=e.sibling;e!==null;)Ll(e,n,i),e=e.sibling}function Ml(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ml(e,n,i),e=e.sibling;e!==null;)Ml(e,n,i),e=e.sibling}var Mt=null,dr=!1;function ni(e,n,i){for(i=i.child;i!==null;)km(e,n,i),i=i.sibling}function km(e,n,i){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Ha,i)}catch{}switch(i.tag){case 5:Xt||ys(i,n);case 6:var o=Mt,c=dr;Mt=null,ni(e,n,i),Mt=o,dr=c,Mt!==null&&(dr?(e=Mt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Mt.removeChild(i.stateNode));break;case 18:Mt!==null&&(dr?(e=Mt,i=i.stateNode,e.nodeType===8?Mu(e.parentNode,i):e.nodeType===1&&Mu(e,i),go(e)):Mu(Mt,i.stateNode));break;case 4:o=Mt,c=dr,Mt=i.stateNode.containerInfo,dr=!0,ni(e,n,i),Mt=o,dr=c;break;case 0:case 11:case 14:case 15:if(!Xt&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&(d&2||d&4)&&Rl(i,n,g),c=c.next}while(c!==o)}ni(e,n,i);break;case 1:if(!Xt&&(ys(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(y){at(i,n,y)}ni(e,n,i);break;case 21:ni(e,n,i);break;case 22:i.mode&1?(Xt=(o=Xt)||i.memoizedState!==null,ni(e,n,i),Xt=o):ni(e,n,i);break;default:ni(e,n,i)}}function pd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new jy),n.forEach(function(o){var c=Qy.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function cr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var d=e,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 5:Mt=y.stateNode,dr=!1;break e;case 3:Mt=y.stateNode.containerInfo,dr=!0;break e;case 4:Mt=y.stateNode.containerInfo,dr=!0;break e}y=y.return}if(Mt===null)throw Error(se(160));km(d,g,c),Mt=null,dr=!1;var T=c.alternate;T!==null&&(T.return=null),c.return=null}catch(p){at(c,n,p)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Nm(n,e),n=n.sibling}function Nm(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(n,e),kr(e),o&4){try{ao(3,e,e.return),iu(3,e)}catch(B){at(e,e.return,B)}try{ao(5,e,e.return)}catch(B){at(e,e.return,B)}}break;case 1:cr(n,e),kr(e),o&512&&i!==null&&ys(i,i.return);break;case 5:if(cr(n,e),kr(e),o&512&&i!==null&&ys(i,i.return),e.flags&32){var c=e.stateNode;try{fo(c,"")}catch(B){at(e,e.return,B)}}if(o&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,y=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&Wd(c,d),ol(y,g);var p=ol(y,d);for(g=0;g<T.length;g+=2){var k=T[g],S=T[g+1];k==="style"?Hd(c,S):k==="dangerouslySetInnerHTML"?qd(c,S):k==="children"?fo(c,S):Yl(c,k,S,p)}switch(y){case"input":tl(c,d);break;case"textarea":Kd(c,d);break;case"select":var C=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var O=d.value;O!=null?Ts(c,!!d.multiple,O,!1):C!==!!d.multiple&&(d.defaultValue!=null?Ts(c,!!d.multiple,d.defaultValue,!0):Ts(c,!!d.multiple,d.multiple?[]:"",!1))}c[So]=d}catch(B){at(e,e.return,B)}}break;case 6:if(cr(n,e),kr(e),o&4){if(e.stateNode===null)throw Error(se(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(B){at(e,e.return,B)}}break;case 3:if(cr(n,e),kr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{go(n.containerInfo)}catch(B){at(e,e.return,B)}break;case 4:cr(n,e),kr(e);break;case 13:cr(n,e),kr(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Pc=ht())),o&4&&pd(e);break;case 22:if(k=i!==null&&i.memoizedState!==null,e.mode&1?(Xt=(p=Xt)||k,cr(n,e),Xt=p):cr(n,e),kr(e),o&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!k&&e.mode&1)for(de=e,k=e.child;k!==null;){for(S=de=k;de!==null;){switch(C=de,O=C.child,C.tag){case 0:case 11:case 14:case 15:ao(4,C,C.return);break;case 1:ys(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){o=C,i=C.return;try{n=o,L.props=n.memoizedProps,L.state=n.memoizedState,L.componentWillUnmount()}catch(B){at(o,i,B)}}break;case 5:ys(C,C.return);break;case 22:if(C.memoizedState!==null){yd(S);continue}}O!==null?(O.return=C,de=O):yd(S)}k=k.sibling}e:for(k=null,S=e;;){if(S.tag===5){if(k===null){k=S;try{c=S.stateNode,p?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=S.stateNode,T=S.memoizedProps.style,g=T!=null&&T.hasOwnProperty("display")?T.display:null,y.style.display=Gd("display",g))}catch(B){at(e,e.return,B)}}}else if(S.tag===6){if(k===null)try{S.stateNode.nodeValue=p?"":S.memoizedProps}catch(B){at(e,e.return,B)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;k===S&&(k=null),S=S.return}k===S&&(k=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:cr(n,e),kr(e),o&4&&pd(e);break;case 21:break;default:cr(n,e),kr(e)}}function kr(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Em(i)){var o=i;break e}i=i.return}throw Error(se(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(fo(c,""),o.flags&=-33);var d=md(e);Ml(e,d,c);break;case 3:case 4:var g=o.stateNode.containerInfo,y=md(e);Ll(e,y,g);break;default:throw Error(se(161))}}catch(T){at(e,e.return,T)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zy(e,n,i){de=e,Im(e)}function Im(e,n,i){for(var o=(e.mode&1)!==0;de!==null;){var c=de,d=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||ca;if(!g){var y=c.alternate,T=y!==null&&y.memoizedState!==null||Xt;y=ca;var p=Xt;if(ca=g,(Xt=T)&&!p)for(de=c;de!==null;)g=de,T=g.child,g.tag===22&&g.memoizedState!==null?vd(c):T!==null?(T.return=g,de=T):vd(c);for(;d!==null;)de=d,Im(d),d=d.sibling;de=c,ca=y,Xt=p}gd(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,de=d):gd(e)}}function gd(e){for(;de!==null;){var n=de;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Xt||iu(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Xt)if(i===null)o.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:fr(n.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Zf(n,d,o);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Zf(n,g,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var T=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var p=n.alternate;if(p!==null){var k=p.memoizedState;if(k!==null){var S=k.dehydrated;S!==null&&go(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Xt||n.flags&512&&bl(n)}catch(C){at(n,n.return,C)}}if(n===e){de=null;break}if(i=n.sibling,i!==null){i.return=n.return,de=i;break}de=n.return}}function yd(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var i=n.sibling;if(i!==null){i.return=n.return,de=i;break}de=n.return}}function vd(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{iu(4,n)}catch(T){at(n,i,T)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var c=n.return;try{o.componentDidMount()}catch(T){at(n,c,T)}}var d=n.return;try{bl(n)}catch(T){at(n,d,T)}break;case 5:var g=n.return;try{bl(n)}catch(T){at(n,g,T)}}}catch(T){at(n,n.return,T)}if(n===e){de=null;break}var y=n.sibling;if(y!==null){y.return=n.return,de=y;break}de=n.return}}var Wy=Math.ceil,za=Kr.ReactCurrentDispatcher,Nc=Kr.ReactCurrentOwner,nr=Kr.ReactCurrentBatchConfig,Me=0,Dt=null,Tt=null,Bt=0,bn=0,vs=wi(0),Nt=0,Ao=null,Vi=0,su=0,Ic=0,uo=null,Tn=null,Pc=0,_s=1/0,Br=null,Wa=!1,Bl=null,mi=null,fa=!1,ui=null,Ka=0,lo=0,Fl=null,Ea=-1,ka=0;function un(){return Me&6?ht():Ea!==-1?Ea:Ea=ht()}function pi(e){return e.mode&1?Me&2&&Bt!==0?Bt&-Bt:Oy.transition!==null?(ka===0&&(ka=uh()),ka):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:ph(e.type)),e):1}function pr(e,n,i,o){if(50<lo)throw lo=0,Fl=null,Error(se(185));Co(e,i,o),(!(Me&2)||e!==Dt)&&(e===Dt&&(!(Me&2)&&(su|=i),Nt===4&&oi(e,Bt)),Nn(e,o),i===1&&Me===0&&!(n.mode&1)&&(_s=ht()+500,tu&&Si()))}function Nn(e,n){var i=e.callbackNode;Og(e,n);var o=Ca(e,e===Dt?Bt:0);if(o===0)i!==null&&Af(i),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(i!=null&&Af(i),n===1)e.tag===0?Ay(Td.bind(null,e)):bh(Td.bind(null,e)),ky(function(){!(Me&6)&&Si()}),i=null;else{switch(lh(o)){case 1:i=Ql;break;case 4:i=oh;break;case 16:i=Oa;break;case 536870912:i=ah;break;default:i=Oa}i=Rm(i,Pm.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Pm(e,n){if(Ea=-1,ka=0,Me&6)throw Error(se(327));var i=e.callbackNode;if(Ns()&&e.callbackNode!==i)return null;var o=Ca(e,e===Dt?Bt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=Ya(e,o);else{n=o;var c=Me;Me|=2;var d=Om();(Dt!==e||Bt!==n)&&(Br=null,_s=ht()+500,Fi(e,n));do try{qy();break}catch(y){Am(e,y)}while(1);fc(),za.current=d,Me=c,Tt!==null?n=0:(Dt=null,Bt=0,n=Nt)}if(n!==0){if(n===2&&(c=fl(e),c!==0&&(o=c,n=Ul(e,c))),n===1)throw i=Ao,Fi(e,0),oi(e,o),Nn(e,ht()),i;if(n===6)oi(e,o);else{if(c=e.current.alternate,!(o&30)&&!Ky(c)&&(n=Ya(e,o),n===2&&(d=fl(e),d!==0&&(o=d,n=Ul(e,d))),n===1))throw i=Ao,Fi(e,0),oi(e,o),Nn(e,ht()),i;switch(e.finishedWork=c,e.finishedLanes=o,n){case 0:case 1:throw Error(se(345));case 2:bi(e,Tn,Br);break;case 3:if(oi(e,o),(o&130023424)===o&&(n=Pc+500-ht(),10<n)){if(Ca(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){un(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Tl(bi.bind(null,e,Tn,Br),n);break}bi(e,Tn,Br);break;case 4:if(oi(e,o),(o&4194240)===o)break;for(n=e.eventTimes,c=-1;0<o;){var g=31-mr(o);d=1<<g,g=n[g],g>c&&(c=g),o&=~d}if(o=c,o=ht()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Wy(o/1960))-o,10<o){e.timeoutHandle=Tl(bi.bind(null,e,Tn,Br),o);break}bi(e,Tn,Br);break;case 5:bi(e,Tn,Br);break;default:throw Error(se(329))}}}return Nn(e,ht()),e.callbackNode===i?Pm.bind(null,e):null}function Ul(e,n){var i=uo;return e.current.memoizedState.isDehydrated&&(Fi(e,n).flags|=256),e=Ya(e,n),e!==2&&(n=Tn,Tn=i,n!==null&&Jl(n)),e}function Jl(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function Ky(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],d=c.getSnapshot;c=c.value;try{if(!gr(d(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(e,n){for(n&=~Ic,n&=~su,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;e[i]=-1,n&=~o}}function Td(e){if(Me&6)throw Error(se(327));Ns();var n=Ca(e,0);if(!(n&1))return Nn(e,ht()),null;var i=Ya(e,n);if(e.tag!==0&&i===2){var o=fl(e);o!==0&&(n=o,i=Ul(e,o))}if(i===1)throw i=Ao,Fi(e,0),oi(e,n),Nn(e,ht()),i;if(i===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,bi(e,Tn,Br),Nn(e,ht()),null}function Ac(e,n){var i=Me;Me|=1;try{return e(n)}finally{Me=i,Me===0&&(_s=ht()+500,tu&&Si())}}function zi(e){ui!==null&&ui.tag===0&&!(Me&6)&&Ns();var n=Me;Me|=1;var i=nr.transition,o=Fe;try{if(nr.transition=null,Fe=1,e)return e()}finally{Fe=o,nr.transition=i,Me=n,!(Me&6)&&Si()}}function Oc(){bn=vs.current,Ge(vs)}function Fi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ey(i)),Tt!==null)for(i=Tt.return;i!==null;){var o=i;switch(uc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ba();break;case 3:Cs(),Ge(En),Ge(Qt),yc();break;case 5:gc(o);break;case 4:Cs();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:dc(o.type._context);break;case 22:case 23:Oc()}i=i.return}if(Dt=e,Tt=e=gi(e.current,null),Bt=bn=n,Nt=0,Ao=null,Ic=su=Vi=0,Tn=uo=null,Mi!==null){for(n=0;n<Mi.length;n++)if(i=Mi[n],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,d=i.pending;if(d!==null){var g=d.next;d.next=c,o.next=g}i.pending=o}Mi=null}return e}function Am(e,n){do{var i=Tt;try{if(fc(),Ta.current=Va,ja){for(var o=nt.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ja=!1}if(ji=0,Ct=kt=nt=null,oo=!1,No=0,Nc.current=null,i===null||i.return===null){Nt=1,Ao=n,Tt=null;break}e:{var d=e,g=i.return,y=i,T=n;if(n=Bt,y.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var p=T,k=y,S=k.tag;if(!(k.mode&1)&&(S===0||S===11||S===15)){var C=k.alternate;C?(k.updateQueue=C.updateQueue,k.memoizedState=C.memoizedState,k.lanes=C.lanes):(k.updateQueue=null,k.memoizedState=null)}var O=od(g);if(O!==null){O.flags&=-257,ad(O,g,y,d,n),O.mode&1&&sd(d,p,n),n=O,T=p;var L=n.updateQueue;if(L===null){var B=new Set;B.add(T),n.updateQueue=B}else L.add(T);break e}else{if(!(n&1)){sd(d,p,n),Cc();break e}T=Error(se(426))}}else if(Qe&&y.mode&1){var D=od(g);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ad(D,g,y,d,n),lc(Ds(T,y));break e}}d=T=Ds(T,y),Nt!==4&&(Nt=2),uo===null?uo=[d]:uo.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var v=cm(d,T,n);Qf(d,v);break e;case 1:y=T;var N=d.type,I=d.stateNode;if(!(d.flags&128)&&(typeof N.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(mi===null||!mi.has(I)))){d.flags|=65536,n&=-n,d.lanes|=n;var R=fm(d,y,n);Qf(d,R);break e}}d=d.return}while(d!==null)}Dm(i)}catch(_){n=_,Tt===i&&i!==null&&(Tt=i=i.return);continue}break}while(1)}function Om(){var e=za.current;return za.current=Va,e===null?Va:e}function Cc(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Dt===null||!(Vi&268435455)&&!(su&268435455)||oi(Dt,Bt)}function Ya(e,n){var i=Me;Me|=2;var o=Om();(Dt!==e||Bt!==n)&&(Br=null,Fi(e,n));do try{Yy();break}catch(c){Am(e,c)}while(1);if(fc(),Me=i,za.current=o,Tt!==null)throw Error(se(261));return Dt=null,Bt=0,Nt}function Yy(){for(;Tt!==null;)Cm(Tt)}function qy(){for(;Tt!==null&&!Tg();)Cm(Tt)}function Cm(e){var n=xm(e.alternate,e,bn);e.memoizedProps=e.pendingProps,n===null?Dm(e):Tt=n,Nc.current=null}function Dm(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=$y(i,n),i!==null){i.flags&=32767,Tt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,Tt=null;return}}else if(i=Jy(i,n,bn),i!==null){Tt=i;return}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=e}while(n!==null);Nt===0&&(Nt=5)}function bi(e,n,i){var o=Fe,c=nr.transition;try{nr.transition=null,Fe=1,Gy(e,n,i,o)}finally{nr.transition=c,Fe=o}return null}function Gy(e,n,i,o){do Ns();while(ui!==null);if(Me&6)throw Error(se(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Cg(e,d),e===Dt&&(Tt=Dt=null,Bt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||fa||(fa=!0,Rm(Oa,function(){return Ns(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=nr.transition,nr.transition=null;var g=Fe;Fe=1;var y=Me;Me|=4,Nc.current=null,Vy(e,i),Nm(i,e),py(yl),Da=!!gl,yl=gl=null,e.current=i,zy(i),wg(),Me=y,Fe=g,nr.transition=d}else e.current=i;if(fa&&(fa=!1,ui=e,Ka=c),d=e.pendingLanes,d===0&&(mi=null),kg(i.stateNode),Nn(e,ht()),n!==null)for(o=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(Wa)throw Wa=!1,e=Bl,Bl=null,e;return Ka&1&&e.tag!==0&&Ns(),d=e.pendingLanes,d&1?e===Fl?lo++:(lo=0,Fl=e):lo=0,Si(),null}function Ns(){if(ui!==null){var e=lh(Ka),n=nr.transition,i=Fe;try{if(nr.transition=null,Fe=16>e?16:e,ui===null)var o=!1;else{if(e=ui,ui=null,Ka=0,Me&6)throw Error(se(331));var c=Me;for(Me|=4,de=e.current;de!==null;){var d=de,g=d.child;if(de.flags&16){var y=d.deletions;if(y!==null){for(var T=0;T<y.length;T++){var p=y[T];for(de=p;de!==null;){var k=de;switch(k.tag){case 0:case 11:case 15:ao(8,k,d)}var S=k.child;if(S!==null)S.return=k,de=S;else for(;de!==null;){k=de;var C=k.sibling,O=k.return;if(Sm(k),k===p){de=null;break}if(C!==null){C.return=O,de=C;break}de=O}}}var L=d.alternate;if(L!==null){var B=L.child;if(B!==null){L.child=null;do{var D=B.sibling;B.sibling=null,B=D}while(B!==null)}}de=d}}if(d.subtreeFlags&2064&&g!==null)g.return=d,de=g;else e:for(;de!==null;){if(d=de,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ao(9,d,d.return)}var v=d.sibling;if(v!==null){v.return=d.return,de=v;break e}de=d.return}}var N=e.current;for(de=N;de!==null;){g=de;var I=g.child;if(g.subtreeFlags&2064&&I!==null)I.return=g,de=I;else e:for(g=N;de!==null;){if(y=de,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:iu(9,y)}}catch(_){at(y,y.return,_)}if(y===g){de=null;break e}var R=y.sibling;if(R!==null){R.return=y.return,de=R;break e}de=y.return}}if(Me=c,Si(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Ha,e)}catch{}o=!0}return o}finally{Fe=i,nr.transition=n}}return!1}function wd(e,n,i){n=Ds(i,n),n=cm(e,n,1),e=hi(e,n,1),n=un(),e!==null&&(Co(e,1,n),Nn(e,n))}function at(e,n,i){if(e.tag===3)wd(e,e,i);else for(;n!==null;){if(n.tag===3){wd(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mi===null||!mi.has(o))){e=Ds(i,e),e=fm(n,e,1),n=hi(n,e,1),e=un(),n!==null&&(Co(n,1,e),Nn(n,e));break}}n=n.return}}function Hy(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),n=un(),e.pingedLanes|=e.suspendedLanes&i,Dt===e&&(Bt&i)===i&&(Nt===4||Nt===3&&(Bt&130023424)===Bt&&500>ht()-Pc?Fi(e,0):Ic|=i),Nn(e,n)}function _m(e,n){n===0&&(e.mode&1?(n=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):n=1);var i=un();e=zr(e,n),e!==null&&(Co(e,n,i),Nn(e,i))}function Xy(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),_m(e,i)}function Qy(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(se(314))}o!==null&&o.delete(n),_m(e,i)}var xm;xm=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||En.current)Sn=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return Sn=!1,Uy(e,n,i);Sn=!!(e.flags&131072)}else Sn=!1,Qe&&n.flags&1048576&&Lh(n,Ba,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Sa(e,n),e=n.pendingProps;var c=Ps(n,Qt.current);ks(n,i),c=Tc(null,n,o,e,c,i);var d=wc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,kn(o)?(d=!0,La(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,mc(n),c.updater=nu,n.stateNode=c,c._reactInternals=n,Pl(n,o,e,i),n=Cl(null,n,o,!0,d,i)):(n.tag=0,Qe&&d&&ac(n),an(null,n,c,i),n=n.child),n;case 16:o=n.elementType;e:{switch(Sa(e,n),e=n.pendingProps,c=o._init,o=c(o._payload),n.type=o,c=n.tag=ev(o),e=fr(o,e),c){case 0:n=Ol(null,n,o,e,i);break e;case 1:n=cd(null,n,o,e,i);break e;case 11:n=ud(null,n,o,e,i);break e;case 14:n=ld(null,n,o,fr(o.type,e),i);break e}throw Error(se(306,o,""))}return n;case 0:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:fr(o,c),Ol(e,n,o,c,i);case 1:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:fr(o,c),cd(e,n,o,c,i);case 3:e:{if(pm(n),e===null)throw Error(se(387));o=n.pendingProps,d=n.memoizedState,c=d.element,Uh(e,n),Ja(n,o,null,i);var g=n.memoizedState;if(o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Ds(Error(se(423)),n),n=fd(e,n,o,i,c);break e}else if(o!==c){c=Ds(Error(se(424)),n),n=fd(e,n,o,i,c);break e}else for(Ln=di(n.stateNode.containerInfo.firstChild),Mn=n,Qe=!0,hr=null,i=Vh(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(As(),o===c){n=Wr(e,n,i);break e}an(e,n,o,i)}n=n.child}return n;case 5:return zh(n),e===null&&kl(n),o=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,vl(o,c)?g=null:d!==null&&vl(o,d)&&(n.flags|=32),mm(e,n),an(e,n,g,i),n.child;case 6:return e===null&&kl(n),null;case 13:return gm(e,n,i);case 4:return pc(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Os(n,null,o,i):an(e,n,o,i),n.child;case 11:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:fr(o,c),ud(e,n,o,c,i);case 7:return an(e,n,n.pendingProps,i),n.child;case 8:return an(e,n,n.pendingProps.children,i),n.child;case 12:return an(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(o=n.type._context,c=n.pendingProps,d=n.memoizedProps,g=c.value,Ve(Fa,o._currentValue),o._currentValue=g,d!==null)if(gr(d.value,g)){if(d.children===c.children&&!En.current){n=Wr(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var y=d.dependencies;if(y!==null){g=d.child;for(var T=y.firstContext;T!==null;){if(T.context===o){if(d.tag===1){T=$r(-1,i&-i),T.tag=2;var p=d.updateQueue;if(p!==null){p=p.shared;var k=p.pending;k===null?T.next=T:(T.next=k.next,k.next=T),p.pending=T}}d.lanes|=i,T=d.alternate,T!==null&&(T.lanes|=i),Nl(d.return,i,n),y.lanes|=i;break}T=T.next}}else if(d.tag===10)g=d.type===n.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(se(341));g.lanes|=i,y=g.alternate,y!==null&&(y.lanes|=i),Nl(g,i,n),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===n){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}an(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,o=n.pendingProps.children,ks(n,i),c=rr(c),o=o(c),n.flags|=1,an(e,n,o,i),n.child;case 14:return o=n.type,c=fr(o,n.pendingProps),c=fr(o.type,c),ld(e,n,o,c,i);case 15:return dm(e,n,n.type,n.pendingProps,i);case 17:return o=n.type,c=n.pendingProps,c=n.elementType===o?c:fr(o,c),Sa(e,n),n.tag=1,kn(o)?(e=!0,La(n)):e=!1,ks(n,i),$h(n,o,c),Pl(n,o,c,i),Cl(null,n,o,!0,e,i);case 19:return ym(e,n,i);case 22:return hm(e,n,i)}throw Error(se(156,n.tag))};function Rm(e,n){return sh(e,n)}function Zy(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,n,i,o){return new Zy(e,n,i,o)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ev(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gl)return 11;if(e===Hl)return 14}return 2}function gi(e,n){var i=e.alternate;return i===null?(i=tr(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Na(e,n,i,o,c,d){var g=2;if(o=e,typeof e=="function")Dc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case us:return Ui(i.children,c,d,n);case ql:g=8,c|=8;break;case Hu:return e=tr(12,i,n,c|2),e.elementType=Hu,e.lanes=d,e;case Xu:return e=tr(13,i,n,c),e.elementType=Xu,e.lanes=d,e;case Qu:return e=tr(19,i,n,c),e.elementType=Qu,e.lanes=d,e;case jd:return ou(i,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jd:g=10;break e;case $d:g=9;break e;case Gl:g=11;break e;case Hl:g=14;break e;case ri:g=16,o=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return n=tr(g,i,n,c),n.elementType=e,n.type=o,n.lanes=d,n}function Ui(e,n,i,o){return e=tr(7,e,o,n),e.lanes=i,e}function ou(e,n,i,o){return e=tr(22,e,o,n),e.elementType=jd,e.lanes=i,e.stateNode={isHidden:!1},e}function zu(e,n,i){return e=tr(6,e,null,n),e.lanes=i,e}function Wu(e,n,i){return n=tr(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function tv(e,n,i,o,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function _c(e,n,i,o,c,d,g,y,T){return e=new tv(e,n,i,y,T),n===1?(n=1,d===!0&&(n|=8)):n=0,d=tr(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(d),e}function nv(e,n,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:as,key:o==null?null:""+o,children:e,containerInfo:n,implementation:i}}function bm(e){if(!e)return vi;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(se(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(kn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(se(171))}if(e.tag===1){var i=e.type;if(kn(i))return Rh(e,i,n)}return n}function Lm(e,n,i,o,c,d,g,y,T){return e=_c(i,o,!0,e,c,d,g,y,T),e.context=bm(null),i=e.current,o=un(),c=pi(i),d=$r(o,c),d.callback=n??null,hi(i,d,c),e.current.lanes=c,Co(e,c,o),Nn(e,o),e}function au(e,n,i,o){var c=n.current,d=un(),g=pi(c);return i=bm(i),n.context===null?n.context=i:n.pendingContext=i,n=$r(d,g),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=hi(c,n,g),e!==null&&(pr(e,c,g,d),va(e,c,g)),g}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function xc(e,n){Sd(e,n),(e=e.alternate)&&Sd(e,n)}function rv(){return null}var Mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rc(e){this._internalRoot=e}uu.prototype.render=Rc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(se(409));au(e,n,null,null)};uu.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zi(function(){au(null,e,null,null)}),n[Vr]=null}};function uu(e){this._internalRoot=e}uu.prototype.unstable_scheduleHydration=function(e){if(e){var n=dh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<si.length&&n!==0&&n<si[i].priority;i++);si.splice(i,0,e),i===0&&mh(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function iv(e,n,i,o,c){if(c){if(typeof o=="function"){var d=o;o=function(){var p=qa(g);d.call(p)}}var g=Lm(n,o,e,0,null,!1,!1,"",Ed);return e._reactRootContainer=g,e[Vr]=g.current,To(e.nodeType===8?e.parentNode:e),zi(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var y=o;o=function(){var p=qa(T);y.call(p)}}var T=_c(e,0,!1,null,null,!1,!1,"",Ed);return e._reactRootContainer=T,e[Vr]=T.current,To(e.nodeType===8?e.parentNode:e),zi(function(){au(n,T,i,o)}),T}function cu(e,n,i,o,c){var d=i._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var y=c;c=function(){var T=qa(g);y.call(T)}}au(n,g,e,c)}else g=iv(i,n,e,c,o);return qa(g)}ch=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Zs(n.pendingLanes);i!==0&&(Zl(n,i|1),Nn(n,ht()),!(Me&6)&&(_s=ht()+500,Si()))}break;case 13:zi(function(){var o=zr(e,1);if(o!==null){var c=un();pr(o,e,1,c)}}),xc(e,1)}};ec=function(e){if(e.tag===13){var n=zr(e,134217728);if(n!==null){var i=un();pr(n,e,134217728,i)}xc(e,134217728)}};fh=function(e){if(e.tag===13){var n=pi(e),i=zr(e,n);if(i!==null){var o=un();pr(i,e,n,o)}xc(e,n)}};dh=function(){return Fe};hh=function(e,n){var i=Fe;try{return Fe=e,n()}finally{Fe=i}};ul=function(e,n,i){switch(n){case"input":if(tl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var c=eu(o);if(!c)throw Error(se(90));zd(o),tl(o,c)}}}break;case"textarea":Kd(e,i);break;case"select":n=i.value,n!=null&&Ts(e,!!i.multiple,n,!1)}};Zd=Ac;eh=zi;var sv={usingClientEntryPoint:!1,Events:[_o,ds,eu,Xd,Qd,Ac]},Hs={findFiberByHostInstance:Li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ov={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rh(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{Ha=da.inject(ov),Pr=da}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Fn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(n))throw Error(se(200));return nv(e,n,null,i)};Fn.createRoot=function(e,n){if(!bc(e))throw Error(se(299));var i=!1,o="",c=Mm;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=_c(e,1,!1,null,null,i,!1,o,c),e[Vr]=n.current,To(e.nodeType===8?e.parentNode:e),new Rc(n)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=rh(n),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return zi(e)};Fn.hydrate=function(e,n,i){if(!lu(n))throw Error(se(200));return cu(null,e,n,!0,i)};Fn.hydrateRoot=function(e,n,i){if(!bc(e))throw Error(se(405));var o=i!=null&&i.hydratedSources||null,c=!1,d="",g=Mm;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=Lm(n,null,e,1,i??null,c,!1,d,g),e[Vr]=n.current,To(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new uu(n)};Fn.render=function(e,n,i){if(!lu(n))throw Error(se(200));return cu(null,e,n,!1,i)};Fn.unmountComponentAtNode=function(e){if(!lu(e))throw Error(se(40));return e._reactRootContainer?(zi(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};Fn.unstable_batchedUpdates=Ac;Fn.unstable_renderSubtreeIntoContainer=function(e,n,i,o){if(!lu(i))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return cu(e,n,i,!1,o)};Fn.version="18.2.0-next-9e3b772b8-20220608";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(e){console.error(e)}}Bm(),Ld.exports=Fn;var av=Ld.exports,kd=av;qu.createRoot=kd.createRoot,qu.hydrateRoot=kd.hydrateRoot;var Fm={exports:{}};/*!
 * 
 * yorkie-js-sdk for building collaborative editing applications.
 *  - Version: v0.4.18
 *  - Date: 2024-04-23T11:39Z
 *  - Homepage: https://yorkie.dev
 *
 * Copyright 2020 The Yorkie Authors. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e,n){(function(o,c){e.exports=c()})(Lp,()=>(()=>{var i={646:(g,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const{proto3:p,StringValue:k,Timestamp:S}=T(532),C=p.makeEnum("yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL",localName:"NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN",localName:"BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER",localName:"INTEGER"},{no:3,name:"VALUE_TYPE_LONG",localName:"LONG"},{no:4,name:"VALUE_TYPE_DOUBLE",localName:"DOUBLE"},{no:5,name:"VALUE_TYPE_STRING",localName:"STRING"},{no:6,name:"VALUE_TYPE_BYTES",localName:"BYTES"},{no:7,name:"VALUE_TYPE_DATE",localName:"DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT",localName:"JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY",localName:"JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT",localName:"TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT",localName:"INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT",localName:"LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE",localName:"TREE"}]),O=p.makeEnum("yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED",localName:"DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED",localName:"DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED",localName:"DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST",localName:"DOCUMENT_BROADCAST"}]),L=p.makeMessageType("yorkie.v1.Snapshot",()=>[{no:1,name:"root",kind:"message",T:Q},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Rt}}]),B=p.makeMessageType("yorkie.v1.ChangePack",()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:en},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:D,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:fe},{no:6,name:"is_removed",kind:"scalar",T:8}]),D=p.makeMessageType("yorkie.v1.Change",()=>[{no:1,name:"id",kind:"message",T:v},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:N,repeated:!0},{no:4,name:"presence_change",kind:"message",T:xt}]),v=p.makeMessageType("yorkie.v1.ChangeID",()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3,L:1},{no:3,name:"lamport",kind:"scalar",T:3,L:1},{no:4,name:"actor_id",kind:"scalar",T:12}]),N=p.makeMessageType("yorkie.v1.Operation",()=>[{no:1,name:"set",kind:"message",T:I,oneof:"body"},{no:2,name:"add",kind:"message",T:R,oneof:"body"},{no:3,name:"move",kind:"message",T:_,oneof:"body"},{no:4,name:"remove",kind:"message",T:E,oneof:"body"},{no:5,name:"edit",kind:"message",T:$,oneof:"body"},{no:6,name:"select",kind:"message",T:F,oneof:"body"},{no:7,name:"style",kind:"message",T:b,oneof:"body"},{no:8,name:"increase",kind:"message",T:z,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:q,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Z,oneof:"body"}]),I=p.makeMessageType("yorkie.v1.Operation.Set",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:V},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Set"}),R=p.makeMessageType("yorkie.v1.Operation.Add",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"value",kind:"message",T:V},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Add"}),_=p.makeMessageType("yorkie.v1.Operation.Move",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"prev_created_at",kind:"message",T:fe},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Move"}),E=p.makeMessageType("yorkie.v1.Operation.Remove",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Remove"}),$=p.makeMessageType("yorkie.v1.Operation.Edit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:mt},{no:3,name:"to",kind:"message",T:mt},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:fe},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"Operation_Edit"}),F=p.makeMessageType("yorkie.v1.Operation.Select",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:mt},{no:3,name:"to",kind:"message",T:mt},{no:4,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Select"}),b=p.makeMessageType("yorkie.v1.Operation.Style",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:mt},{no:3,name:"to",kind:"message",T:mt},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}}],{localName:"Operation_Style"}),z=p.makeMessageType("yorkie.v1.Operation.Increase",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"value",kind:"message",T:V},{no:3,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_Increase"}),q=p.makeMessageType("yorkie.v1.Operation.TreeEdit",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:_t},{no:3,name:"to",kind:"message",T:_t},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:fe}},{no:5,name:"contents",kind:"message",T:ze,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:fe}],{localName:"Operation_TreeEdit"}),Z=p.makeMessageType("yorkie.v1.Operation.TreeStyle",()=>[{no:1,name:"parent_created_at",kind:"message",T:fe},{no:2,name:"from",kind:"message",T:_t},{no:3,name:"to",kind:"message",T:_t},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:fe},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0}],{localName:"Operation_TreeStyle"}),V=p.makeMessageType("yorkie.v1.JSONElementSimple",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"moved_at",kind:"message",T:fe},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"type",kind:"enum",T:p.getEnumType(C)},{no:5,name:"value",kind:"scalar",T:12}]),Q=p.makeMessageType("yorkie.v1.JSONElement",()=>[{no:1,name:"json_object",kind:"message",T:re,oneof:"body"},{no:2,name:"json_array",kind:"message",T:ne,oneof:"body"},{no:3,name:"primitive",kind:"message",T:te,oneof:"body"},{no:5,name:"text",kind:"message",T:K,oneof:"body"},{no:6,name:"counter",kind:"message",T:ce,oneof:"body"},{no:7,name:"tree",kind:"message",T:Y,oneof:"body"}]),re=p.makeMessageType("yorkie.v1.JSONElement.JSONObject",()=>[{no:1,name:"nodes",kind:"message",T:me,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONObject"}),ne=p.makeMessageType("yorkie.v1.JSONElement.JSONArray",()=>[{no:1,name:"nodes",kind:"message",T:ue,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_JSONArray"}),te=p.makeMessageType("yorkie.v1.JSONElement.Primitive",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Primitive"}),K=p.makeMessageType("yorkie.v1.JSONElement.Text",()=>[{no:1,name:"nodes",kind:"message",T:Ie,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Text"}),ce=p.makeMessageType("yorkie.v1.JSONElement.Counter",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(C)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:fe},{no:4,name:"moved_at",kind:"message",T:fe},{no:5,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Counter"}),Y=p.makeMessageType("yorkie.v1.JSONElement.Tree",()=>[{no:1,name:"nodes",kind:"message",T:Be,repeated:!0},{no:2,name:"created_at",kind:"message",T:fe},{no:3,name:"moved_at",kind:"message",T:fe},{no:4,name:"removed_at",kind:"message",T:fe}],{localName:"JSONElement_Tree"}),me=p.makeMessageType("yorkie.v1.RHTNode",()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Q}]),ue=p.makeMessageType("yorkie.v1.RGANode",()=>[{no:1,name:"next",kind:"message",T:ue},{no:2,name:"element",kind:"message",T:Q}]),ve=p.makeMessageType("yorkie.v1.NodeAttr",()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:fe}]),Ie=p.makeMessageType("yorkie.v1.TextNode",()=>[{no:1,name:"id",kind:"message",T:Ne},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:fe},{no:4,name:"ins_prev_id",kind:"message",T:Ne},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),Ne=p.makeMessageType("yorkie.v1.TextNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),Be=p.makeMessageType("yorkie.v1.TreeNode",()=>[{no:1,name:"id",kind:"message",T:We},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:fe},{no:5,name:"ins_prev_id",kind:"message",T:We},{no:6,name:"ins_next_id",kind:"message",T:We},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ve}}]),ze=p.makeMessageType("yorkie.v1.TreeNodes",()=>[{no:1,name:"content",kind:"message",T:Be,repeated:!0}]),We=p.makeMessageType("yorkie.v1.TreeNodeID",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5}]),_t=p.makeMessageType("yorkie.v1.TreePos",()=>[{no:1,name:"parent_id",kind:"message",T:We},{no:2,name:"left_sibling_id",kind:"message",T:We}]),Ut=p.makeMessageType("yorkie.v1.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:S}]),wt=p.makeMessageType("yorkie.v1.Project",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:S},{no:9,name:"updated_at",kind:"message",T:S}]),Ee=p.makeMessageType("yorkie.v1.UpdatableProjectFields",()=>[{no:1,name:"name",kind:"message",T:k},{no:2,name:"auth_webhook_url",kind:"message",T:k},{no:3,name:"auth_webhook_methods",kind:"message",T:fn},{no:4,name:"client_deactivate_threshold",kind:"message",T:k}]),fn=p.makeMessageType("yorkie.v1.UpdatableProjectFields.AuthWebhookMethods",()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}],{localName:"UpdatableProjectFields_AuthWebhookMethods"}),Zt=p.makeMessageType("yorkie.v1.DocumentSummary",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:S},{no:5,name:"accessed_at",kind:"message",T:S},{no:6,name:"updated_at",kind:"message",T:S}]),xt=p.makeMessageType("yorkie.v1.PresenceChange",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Jt)},{no:2,name:"presence",kind:"message",T:Rt}]),Jt=p.makeEnum("yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED",localName:"UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT",localName:"PUT"},{no:2,name:"CHANGE_TYPE_DELETE",localName:"DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR",localName:"CLEAR"}]),Rt=p.makeMessageType("yorkie.v1.Presence",()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]),en=p.makeMessageType("yorkie.v1.Checkpoint",()=>[{no:1,name:"server_seq",kind:"scalar",T:3,L:1},{no:2,name:"client_seq",kind:"scalar",T:13}]),mt=p.makeMessageType("yorkie.v1.TextNodePos",()=>[{no:1,name:"created_at",kind:"message",T:fe},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]),fe=p.makeMessageType("yorkie.v1.TimeTicket",()=>[{no:1,name:"lamport",kind:"scalar",T:3,L:1},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}]),Jn=p.makeMessageType("yorkie.v1.DocEventBody",()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]),dn=p.makeMessageType("yorkie.v1.DocEvent",()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(O)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Jn}]);y.ValueType=C,y.DocEventType=O,y.Snapshot=L,y.ChangePack=B,y.Change=D,y.ChangeID=v,y.Operation=N,y.Operation_Set=I,y.Operation_Add=R,y.Operation_Move=_,y.Operation_Remove=E,y.Operation_Edit=$,y.Operation_Select=F,y.Operation_Style=b,y.Operation_Increase=z,y.Operation_TreeEdit=q,y.Operation_TreeStyle=Z,y.JSONElementSimple=V,y.JSONElement=Q,y.JSONElement_JSONObject=re,y.JSONElement_JSONArray=ne,y.JSONElement_Primitive=te,y.JSONElement_Text=K,y.JSONElement_Counter=ce,y.JSONElement_Tree=Y,y.RHTNode=me,y.RGANode=ue,y.NodeAttr=ve,y.TextNode=Ie,y.TextNodeID=Ne,y.TreeNode=Be,y.TreeNodes=ze,y.TreeNodeID=We,y.TreePos=_t,y.User=Ut,y.Project=wt,y.UpdatableProjectFields=Ee,y.UpdatableProjectFields_AuthWebhookMethods=fn,y.DocumentSummary=Zt,y.PresenceChange=xt,y.PresenceChange_ChangeType=Jt,y.Presence=Rt,y.Checkpoint=en,y.TextNodePos=mt,y.TimeTicket=fe,y.DocEventBody=Jn,y.DocEvent=dn},295:(g,y,T)=>{const{ActivateClientRequest:p,ActivateClientResponse:k,AttachDocumentRequest:S,AttachDocumentResponse:C,BroadcastRequest:O,BroadcastResponse:L,DeactivateClientRequest:B,DeactivateClientResponse:D,DetachDocumentRequest:v,DetachDocumentResponse:N,PushPullChangesRequest:I,PushPullChangesResponse:R,RemoveDocumentRequest:_,RemoveDocumentResponse:E,WatchDocumentRequest:$,WatchDocumentResponse:F}=T(176),{MethodKind:b}=T(532),z={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:p,O:k,kind:b.Unary},deactivateClient:{name:"DeactivateClient",I:B,O:D,kind:b.Unary},attachDocument:{name:"AttachDocument",I:S,O:C,kind:b.Unary},detachDocument:{name:"DetachDocument",I:v,O:N,kind:b.Unary},removeDocument:{name:"RemoveDocument",I:_,O:E,kind:b.Unary},pushPullChanges:{name:"PushPullChanges",I,O:R,kind:b.Unary},watchDocument:{name:"WatchDocument",I:$,O:F,kind:b.ServerStreaming},broadcast:{name:"Broadcast",I:O,O:L,kind:b.Unary}}};y.V=z},176:(g,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const{proto3:p}=T(532),{ChangePack:k,DocEvent:S}=T(646),C=p.makeMessageType("yorkie.v1.ActivateClientRequest",()=>[{no:1,name:"client_key",kind:"scalar",T:9}]),O=p.makeMessageType("yorkie.v1.ActivateClientResponse",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),L=p.makeMessageType("yorkie.v1.DeactivateClientRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9}]),B=p.makeMessageType("yorkie.v1.DeactivateClientResponse",[]),D=p.makeMessageType("yorkie.v1.AttachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:k}]),v=p.makeMessageType("yorkie.v1.AttachDocumentResponse",()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:k}]),N=p.makeMessageType("yorkie.v1.DetachDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]),I=p.makeMessageType("yorkie.v1.DetachDocumentResponse",()=>[{no:2,name:"change_pack",kind:"message",T:k}]),R=p.makeMessageType("yorkie.v1.WatchDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]),_=p.makeMessageType("yorkie.v1.WatchDocumentResponse",()=>[{no:1,name:"initialization",kind:"message",T:E,oneof:"body"},{no:2,name:"event",kind:"message",T:S,oneof:"body"}]),E=p.makeMessageType("yorkie.v1.WatchDocumentResponse.Initialization",()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}],{localName:"WatchDocumentResponse_Initialization"}),$=p.makeMessageType("yorkie.v1.RemoveDocumentRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k}]),F=p.makeMessageType("yorkie.v1.RemoveDocumentResponse",()=>[{no:1,name:"change_pack",kind:"message",T:k}]),b=p.makeMessageType("yorkie.v1.PushPullChangesRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:k},{no:4,name:"push_only",kind:"scalar",T:8}]),z=p.makeMessageType("yorkie.v1.PushPullChangesResponse",()=>[{no:1,name:"change_pack",kind:"message",T:k}]),q=p.makeMessageType("yorkie.v1.BroadcastRequest",()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]),Z=p.makeMessageType("yorkie.v1.BroadcastResponse",[]);y.ActivateClientRequest=C,y.ActivateClientResponse=O,y.DeactivateClientRequest=L,y.DeactivateClientResponse=B,y.AttachDocumentRequest=D,y.AttachDocumentResponse=v,y.DetachDocumentRequest=N,y.DetachDocumentResponse=I,y.WatchDocumentRequest=R,y.WatchDocumentResponse=_,y.WatchDocumentResponse_Initialization=E,y.RemoveDocumentRequest=$,y.RemoveDocumentResponse=F,y.PushPullChangesRequest=b,y.PushPullChangesResponse=z,y.BroadcastRequest=q,y.BroadcastResponse=Z},79:(g,y,T)=>{T.d(y,{Lt:()=>O,TD:()=>C,oP:()=>L});var p=T(818),k=T(120),S=T(210),C;(function(B){B[B.Varint=0]="Varint",B[B.Bit64=1]="Bit64",B[B.LengthDelimited=2]="LengthDelimited",B[B.StartGroup=3]="StartGroup",B[B.EndGroup=4]="EndGroup",B[B.Bit32=5]="Bit32"})(C||(C={}));class O{constructor(D){this.stack=[],this.textEncoder=D??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let D=0;for(let I=0;I<this.chunks.length;I++)D+=this.chunks[I].length;let v=new Uint8Array(D),N=0;for(let I=0;I<this.chunks.length;I++)v.set(this.chunks[I],N),N+=this.chunks[I].length;return this.chunks=[],v}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let D=this.finish(),v=this.stack.pop();if(!v)throw new Error("invalid state, fork stack empty");return this.chunks=v.chunks,this.buf=v.buf,this.uint32(D.byteLength),this.raw(D)}tag(D,v){return this.uint32((D<<3|v)>>>0)}raw(D){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(D),this}uint32(D){for((0,k.fp)(D);D>127;)this.buf.push(D&127|128),D=D>>>7;return this.buf.push(D),this}int32(D){return(0,k.ug)(D),(0,p.fC)(D,this.buf),this}bool(D){return this.buf.push(D?1:0),this}bytes(D){return this.uint32(D.byteLength),this.raw(D)}string(D){let v=this.textEncoder.encode(D);return this.uint32(v.byteLength),this.raw(v)}float(D){(0,k.E_)(D);let v=new Uint8Array(4);return new DataView(v.buffer).setFloat32(0,D,!0),this.raw(v)}double(D){let v=new Uint8Array(8);return new DataView(v.buffer).setFloat64(0,D,!0),this.raw(v)}fixed32(D){(0,k.fp)(D);let v=new Uint8Array(4);return new DataView(v.buffer).setUint32(0,D,!0),this.raw(v)}sfixed32(D){(0,k.ug)(D);let v=new Uint8Array(4);return new DataView(v.buffer).setInt32(0,D,!0),this.raw(v)}sint32(D){return(0,k.ug)(D),D=(D<<1^D>>31)>>>0,(0,p.fC)(D,this.buf),this}sfixed64(D){let v=new Uint8Array(8),N=new DataView(v.buffer),I=S.q.enc(D);return N.setInt32(0,I.lo,!0),N.setInt32(4,I.hi,!0),this.raw(v)}fixed64(D){let v=new Uint8Array(8),N=new DataView(v.buffer),I=S.q.uEnc(D);return N.setInt32(0,I.lo,!0),N.setInt32(4,I.hi,!0),this.raw(v)}int64(D){let v=S.q.enc(D);return(0,p._y)(v.lo,v.hi,this.buf),this}sint64(D){let v=S.q.enc(D),N=v.hi>>31,I=v.lo<<1^N,R=(v.hi<<1|v.lo>>>31)^N;return(0,p._y)(I,R,this.buf),this}uint64(D){let v=S.q.uEnc(D);return(0,p._y)(v.lo,v.hi,this.buf),this}}class L{constructor(D,v){this.varint64=p.sg,this.uint32=p.jI,this.buf=D,this.len=D.length,this.pos=0,this.view=new DataView(D.buffer,D.byteOffset,D.byteLength),this.textDecoder=v??new TextDecoder}tag(){let D=this.uint32(),v=D>>>3,N=D&7;if(v<=0||N<0||N>5)throw new Error("illegal tag: field no "+v+" wire type "+N);return[v,N]}skip(D){let v=this.pos;switch(D){case C.Varint:for(;this.buf[this.pos++]&128;);break;case C.Bit64:this.pos+=4;case C.Bit32:this.pos+=4;break;case C.LengthDelimited:let N=this.uint32();this.pos+=N;break;case C.StartGroup:let I;for(;(I=this.tag()[1])!==C.EndGroup;)this.skip(I);break;default:throw new Error("cant skip wire type "+D)}return this.assertBounds(),this.buf.subarray(v,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let D=this.uint32();return D>>>1^-(D&1)}int64(){return S.q.dec(...this.varint64())}uint64(){return S.q.uDec(...this.varint64())}sint64(){let[D,v]=this.varint64(),N=-(D&1);return D=(D>>>1|(v&1)<<31)^N,v=v>>>1^N,S.q.dec(D,v)}bool(){let[D,v]=this.varint64();return D!==0||v!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return S.q.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return S.q.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let D=this.uint32(),v=this.pos;return this.pos+=D,this.assertBounds(),this.buf.subarray(v,v+D)}string(){return this.textDecoder.decode(this.bytes())}}},465:(g,y,T)=>{T.d(y,{p:()=>k,w:()=>p});var p;(function(S){S[S.DOUBLE=1]="DOUBLE",S[S.FLOAT=2]="FLOAT",S[S.INT64=3]="INT64",S[S.UINT64=4]="UINT64",S[S.INT32=5]="INT32",S[S.FIXED64=6]="FIXED64",S[S.FIXED32=7]="FIXED32",S[S.BOOL=8]="BOOL",S[S.STRING=9]="STRING",S[S.BYTES=12]="BYTES",S[S.UINT32=13]="UINT32",S[S.SFIXED32=15]="SFIXED32",S[S.SFIXED64=16]="SFIXED64",S[S.SINT32=17]="SINT32",S[S.SINT64=18]="SINT64"})(p||(p={}));var k;(function(S){S[S.BIGINT=0]="BIGINT",S[S.STRING=1]="STRING"})(k||(k={}))},733:(g,y,T)=>{T.d(y,{I:()=>S});var p=T(561),k=T(850);class S extends p.v{constructor(O){super(),this.typeUrl="",this.value=new Uint8Array(0),k.w.util.initPartial(O,this)}toJson(O){var L;if(this.typeUrl==="")return{};const B=this.typeUrlToName(this.typeUrl),D=(L=O==null?void 0:O.typeRegistry)===null||L===void 0?void 0:L.findMessage(B);if(!D)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let N=D.fromBinary(this.value).toJson(O);return(B.startsWith("google.protobuf.")||N===null||Array.isArray(N)||typeof N!="object")&&(N={value:N}),N["@type"]=this.typeUrl,N}fromJson(O,L){var B;if(O===null||Array.isArray(O)||typeof O!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${O===null?"null":Array.isArray(O)?"array":typeof O}`);if(Object.keys(O).length==0)return this;const D=O["@type"];if(typeof D!="string"||D=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const v=this.typeUrlToName(D),N=(B=L==null?void 0:L.typeRegistry)===null||B===void 0?void 0:B.findMessage(v);if(!N)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${D} is not in the type registry`);let I;if(v.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(O,"value"))I=N.fromJson(O.value,L);else{const R=Object.assign({},O);delete R["@type"],I=N.fromJson(R,L)}return this.packFrom(I),this}packFrom(O){this.value=O.toBinary(),this.typeUrl=this.typeNameToUrl(O.getType().typeName)}unpackTo(O){return this.is(O.getType())?(O.fromBinary(this.value),!0):!1}unpack(O){if(this.typeUrl==="")return;const L=O.findMessage(this.typeUrlToName(this.typeUrl));if(L)return L.fromBinary(this.value)}is(O){if(this.typeUrl==="")return!1;const L=this.typeUrlToName(this.typeUrl);let B="";return typeof O=="string"?B=O:B=O.typeName,L===B}typeNameToUrl(O){return`type.googleapis.com/${O}`}typeUrlToName(O){if(!O.length)throw new Error(`invalid type url: ${O}`);const L=O.lastIndexOf("/"),B=L>=0?O.substring(L+1):O;if(!B.length)throw new Error(`invalid type url: ${O}`);return B}static pack(O){const L=new S;return L.packFrom(O),L}static fromBinary(O,L){return new S().fromBinary(O,L)}static fromJson(O,L){return new S().fromJson(O,L)}static fromJsonString(O,L){return new S().fromJsonString(O,L)}static equals(O,L){return k.w.util.equals(S,O,L)}}S.runtime=k.w,S.typeName="google.protobuf.Any",S.fields=k.w.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}])},818:(g,y,T)=>{T.d(y,{Ak:()=>O,CZ:()=>C,Fd:()=>L,_y:()=>k,fC:()=>I,jI:()=>R,sg:()=>p});function p(){let _=0,E=0;for(let F=0;F<28;F+=7){let b=this.buf[this.pos++];if(_|=(b&127)<<F,!(b&128))return this.assertBounds(),[_,E]}let $=this.buf[this.pos++];if(_|=($&15)<<28,E=($&112)>>4,!($&128))return this.assertBounds(),[_,E];for(let F=3;F<=31;F+=7){let b=this.buf[this.pos++];if(E|=(b&127)<<F,!(b&128))return this.assertBounds(),[_,E]}throw new Error("invalid varint")}function k(_,E,$){for(let z=0;z<28;z=z+7){const q=_>>>z,Z=!(!(q>>>7)&&E==0),V=(Z?q|128:q)&255;if($.push(V),!Z)return}const F=_>>>28&15|(E&7)<<4,b=!!(E>>3);if($.push((b?F|128:F)&255),!!b){for(let z=3;z<31;z=z+7){const q=E>>>z,Z=!!(q>>>7),V=(Z?q|128:q)&255;if($.push(V),!Z)return}$.push(E>>>31&1)}}const S=4294967296;function C(_){const E=_[0]==="-";E&&(_=_.slice(1));const $=1e6;let F=0,b=0;function z(q,Z){const V=Number(_.slice(q,Z));b*=$,F=F*$+V,F>=S&&(b=b+(F/S|0),F=F%S)}return z(-24,-18),z(-18,-12),z(-12,-6),z(-6),E?v(F,b):D(F,b)}function O(_,E){let $=D(_,E);const F=$.hi&2147483648;F&&($=v($.lo,$.hi));const b=L($.lo,$.hi);return F?"-"+b:b}function L(_,E){if({lo:_,hi:E}=B(_,E),E<=2097151)return String(S*E+_);const $=_&16777215,F=(_>>>24|E<<8)&16777215,b=E>>16&65535;let z=$+F*6777216+b*6710656,q=F+b*8147497,Z=b*2;const V=1e7;return z>=V&&(q+=Math.floor(z/V),z%=V),q>=V&&(Z+=Math.floor(q/V),q%=V),Z.toString()+N(q)+N(z)}function B(_,E){return{lo:_>>>0,hi:E>>>0}}function D(_,E){return{lo:_|0,hi:E|0}}function v(_,E){return E=~E,_?_=~_+1:E+=1,D(_,E)}const N=_=>{const E=String(_);return"0000000".slice(E.length)+E};function I(_,E){if(_>=0){for(;_>127;)E.push(_&127|128),_=_>>>7;E.push(_)}else{for(let $=0;$<9;$++)E.push(_&127|128),_=_>>7;E.push(1)}}function R(){let _=this.buf[this.pos++],E=_&127;if(!(_&128))return this.assertBounds(),E;if(_=this.buf[this.pos++],E|=(_&127)<<7,!(_&128))return this.assertBounds(),E;if(_=this.buf[this.pos++],E|=(_&127)<<14,!(_&128))return this.assertBounds(),E;if(_=this.buf[this.pos++],E|=(_&127)<<21,!(_&128))return this.assertBounds(),E;_=this.buf[this.pos++],E|=(_&15)<<28;for(let $=5;_&128&&$<10;$++)_=this.buf[this.pos++];if(_&128)throw new Error("invalid varint");return this.assertBounds(),E>>>0}},532:(g,y,T)=>{T.r(y),T.d(y,{Any:()=>Bs.I,Api:()=>Xn,BinaryReader:()=>q.oP,BinaryWriter:()=>q.Lt,BoolValue:()=>Ae,BytesValue:()=>rn,CodeGeneratorRequest:()=>St,CodeGeneratorResponse:()=>gn,CodeGeneratorResponse_Feature:()=>wr,CodeGeneratorResponse_File:()=>it,DescriptorProto:()=>Ne,DescriptorProto_ExtensionRange:()=>Be,DescriptorProto_ReservedRange:()=>ze,DoubleValue:()=>bt,Duration:()=>Vt,Edition:()=>ue,Empty:()=>je,Enum:()=>ur,EnumDescriptorProto:()=>xt,EnumDescriptorProto_EnumReservedRange:()=>Jt,EnumOptions:()=>tn,EnumValue:()=>Hn,EnumValueDescriptorProto:()=>Rt,EnumValueOptions:()=>Vn,ExtensionRangeOptions:()=>We,ExtensionRangeOptions_Declaration:()=>Ut,ExtensionRangeOptions_VerificationState:()=>_t,FeatureSet:()=>Ke,FeatureSetDefaults:()=>Wn,FeatureSetDefaults_FeatureSetEditionDefault:()=>Kn,FeatureSet_EnumType:()=>qr,FeatureSet_FieldPresence:()=>Or,FeatureSet_JsonFormat:()=>Ii,FeatureSet_MessageEncoding:()=>An,FeatureSet_RepeatedFieldEncoding:()=>vr,FeatureSet_Utf8Validation:()=>Ni,Field:()=>qn,FieldDescriptorProto:()=>wt,FieldDescriptorProto_Label:()=>fn,FieldDescriptorProto_Type:()=>Ee,FieldMask:()=>mn,FieldOptions:()=>$n,FieldOptions_CType:()=>Yr,FieldOptions_EditionDefault:()=>In,FieldOptions_JSType:()=>yr,FieldOptions_OptionRetention:()=>Ei,FieldOptions_OptionTargetType:()=>ki,Field_Cardinality:()=>Gn,Field_Kind:()=>Kt,FileDescriptorProto:()=>Ie,FileDescriptorSet:()=>ve,FileOptions:()=>fe,FileOptions_OptimizeMode:()=>Jn,FloatValue:()=>ft,GeneratedCodeInfo:()=>Oe,GeneratedCodeInfo_Annotation:()=>Ue,GeneratedCodeInfo_Annotation_Semantic:()=>Gr,Int32Value:()=>Pt,Int64Value:()=>nn,ListValue:()=>zt,LongType:()=>S.p,Message:()=>Y.v,MessageOptions:()=>dn,Method:()=>yn,MethodDescriptorProto:()=>mt,MethodIdempotency:()=>me.w,MethodKind:()=>me.t,MethodOptions:()=>zn,MethodOptions_IdempotencyLevel:()=>sr,Mixin:()=>vn,NullValue:()=>br,OneofDescriptorProto:()=>Zt,OneofOptions:()=>jn,Option:()=>Pe,ScalarType:()=>S.w,ServiceDescriptorProto:()=>en,ServiceOptions:()=>pt,SourceCodeInfo:()=>G,SourceCodeInfo_Location:()=>Ze,SourceContext:()=>At,StringValue:()=>Xe,Struct:()=>pn,Syntax:()=>Ot,Timestamp:()=>jt,Type:()=>ar,UInt32Value:()=>Je,UInt64Value:()=>Wt,UninterpretedOption:()=>gt,UninterpretedOption_NamePart:()=>Pn,Value:()=>He,Version:()=>Lt,WireType:()=>q.TD,codegenInfo:()=>ce,createDescriptorSet:()=>qi,createRegistry:()=>Dn,createRegistryFromDescriptors:()=>Ye,proto2:()=>E,proto3:()=>p.w,protoBase64:()=>z.W,protoDelimited:()=>re,protoDouble:()=>F,protoInt64:()=>b.q,toPlainMessage:()=>Qr});var p=T(850),k=T(493),S=T(465),C=T(744);function O(){return Object.assign(Object.assign({},(0,C.gY)()),{writeMessage(h,u,f){const A=h.getType();let x;try{for(x of A.fields.byNumber()){let J,j=x.repeated,ee=x.localName;if(x.oneof){const W=h[x.oneof.localName];if(W.case!==ee)continue;J=W.value}else if(J=h[ee],J===void 0&&!x.oneof&&!x.opt)throw new Error(`cannot encode field ${A.typeName}.${x.name} to binary: required field not set`);switch(x.kind){case"scalar":case"enum":let W=x.kind=="enum"?S.w.INT32:x.T;if(j)if(x.packed)(0,C.Jj)(u,W,x.no,J);else for(const oe of J)(0,C.NN)(u,W,x.no,oe,!0);else J!==void 0&&(0,C.NN)(u,W,x.no,J,!0);break;case"message":if(j)for(const oe of J)(0,C.oQ)(u,f,x,oe);else(0,C.oQ)(u,f,x,J);break;case"map":for(const[oe,ae]of Object.entries(J))(0,C.gQ)(u,f,x,oe,ae);break}}}catch(J){let j=x?`cannot encode field ${A.typeName}.${x==null?void 0:x.name} to binary`:`cannot encode message ${A.typeName} to binary`,ee=J instanceof Error?J.message:String(J);throw new Error(j+(ee.length>0?`: ${ee}`:""))}return f.writeUnknownFields&&this.writeUnknownFields(h,u),u}})}var L=T(433),B=T(501),D=T(215),v=T(504),N=T(432),I=T(120),R=T(814);function _(){return(0,R.b)((h,u)=>function(A,x,J){if(A.kind=="map"){const j={};switch(A.V.kind){case"scalar":for(const[W,oe]of Object.entries(x)){const ae=u(A.V.T,oe,!0);(0,I.hu)(ae!==void 0),j[W.toString()]=ae}break;case"message":for(const[W,oe]of Object.entries(x))j[W.toString()]=oe.toJson(J);break;case"enum":const ee=A.V.T;for(const[W,oe]of Object.entries(x)){(0,I.hu)(oe===void 0||typeof oe=="number");const ae=h(ee,oe,!0,J.enumAsInteger);(0,I.hu)(ae!==void 0),j[W.toString()]=ae}break}return J.emitDefaultValues||Object.keys(j).length>0?j:void 0}else if(A.repeated){const j=[];switch(A.kind){case"scalar":for(let ee=0;ee<x.length;ee++)j.push(u(A.T,x[ee],!0));break;case"enum":for(let ee=0;ee<x.length;ee++)j.push(h(A.T,x[ee],!0,J.enumAsInteger));break;case"message":for(let ee=0;ee<x.length;ee++)j.push(x[ee].toJson(J));break}return J.emitDefaultValues||j.length>0?j:void 0}else{if(x===void 0){if(!A.oneof&&!A.opt)throw"required field not set";return}switch(A.kind){case"scalar":return u(A.T,x,!0);case"enum":return h(A.T,x,!0,J.enumAsInteger);case"message":return(0,N.E)(A.T,x).toJson(J)}}})}const E=(0,k.F)("proto2",_(),O(),Object.assign(Object.assign({},(0,L.f)()),{newFieldList(h){return new B.i(h,$)},initFields(h){for(const u of h.getType().fields.byMember()){const f=u.localName,A=h;if(u.repeated){A[f]=[];continue}switch(u.kind){case"oneof":A[f]={case:void 0};break;case"map":A[f]={};break}}}}));function $(h){var u,f,A,x,J;const j=[];let ee;for(const W of typeof h=="function"?h():h){const oe=W;if(oe.localName=(0,v.Rz)(W.name,W.oneof!==void 0),oe.jsonName=(u=W.jsonName)!==null&&u!==void 0?u:(0,v.x1)(W.name),oe.repeated=(f=W.repeated)!==null&&f!==void 0?f:!1,W.kind=="scalar"&&(oe.L=(A=W.L)!==null&&A!==void 0?A:S.p.BIGINT),W.oneof!==void 0){const ae=typeof W.oneof=="string"?W.oneof:W.oneof.name;(!ee||ee.name!=ae)&&(ee=new D.o(ae)),oe.oneof=ee,ee.addField(oe)}W.kind=="message"&&(oe.delimited=(x=W.delimited)!==null&&x!==void 0?x:!1),oe.packed=(J=W.packed)!==null&&J!==void 0?J:!1,j.push(oe)}return j}const F={NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY};var b=T(210),z=T(236),q=T(79),Z=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=h[Symbol.asyncIterator],f;return u?u.call(h):(h=typeof __values=="function"?__values(h):h[Symbol.iterator](),f={},A("next"),A("throw"),A("return"),f[Symbol.asyncIterator]=function(){return this},f);function A(J){f[J]=h[J]&&function(j){return new Promise(function(ee,W){j=h[J](j),x(ee,W,j.done,j.value)})}}function x(J,j,ee,W){Promise.resolve(W).then(function(oe){J({value:oe,done:ee})},j)}},V=function(h){return this instanceof V?(this.v=h,this):new V(h)},Q=function(h,u,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=f.apply(h,u||[]),x,J=[];return x={},ee("next"),ee("throw"),ee("return",j),x[Symbol.asyncIterator]=function(){return this},x;function j(Re){return function(on){return Promise.resolve(on).then(Re,pe)}}function ee(Re,on){A[Re]&&(x[Re]=function(Yt){return new Promise(function(Oi,Sr){J.push([Re,Yt,Oi,Sr])>1||W(Re,Yt)})},on&&(x[Re]=on(x[Re])))}function W(Re,on){try{oe(A[Re](on))}catch(Yt){$e(J[0][3],Yt)}}function oe(Re){Re.value instanceof V?Promise.resolve(Re.value.v).then(ae,pe):$e(J[0][2],Re)}function ae(Re){W("next",Re)}function pe(Re){W("throw",Re)}function $e(Re,on){Re(on),J.shift(),J.length&&W(J[0][0],J[0][1])}};const re={enc(h,u){const f=(0,C.gY)().makeWriteOptions(u);return f.writerFactory().bytes(h.toBinary(f)).finish()},dec(h,u,f){const A=(0,C.gY)().makeReadOptions(f);return h.fromBinary(A.readerFactory(u).bytes(),A)},decStream(h,u){return Q(this,arguments,function*(){var A,x,J,j;function ee($e,Re){const on=new Uint8Array($e.byteLength+Re.byteLength);return on.set($e),on.set(Re,$e.length),on}let W=new Uint8Array(0);try{for(var oe=!0,ae=Z(u),pe;pe=yield V(ae.next()),A=pe.done,!A;oe=!0)for(j=pe.value,oe=!1,W=ee(W,j);;){const Re=re.peekSize(W);if(Re.eof||Re.offset+Re.size>W.byteLength)break;yield yield V(re.dec(h,W)),W=W.subarray(Re.offset+Re.size)}}catch($e){x={error:$e}}finally{try{!oe&&!A&&(J=ae.return)&&(yield V(J.call(ae)))}finally{if(x)throw x.error}}if(W.byteLength>0)throw new Error("incomplete data")})},peekSize(h){const u={eof:!0,size:null,offset:null};for(let f=0;f<10;f++){if(f>h.byteLength)return u;if(!(h[f]&128)){const A=new q.oP(h);let x;try{x=A.uint32()}catch(J){if(J instanceof RangeError)return u;throw J}return{eof:!1,size:x,offset:A.pos}}}throw new Error("invalid varint")}};var ne=T(781);function te(h){switch(h.typeName){case"google.protobuf.Any":{const u=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===S.w.STRING),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===S.w.BYTES);if(u&&f)return{typeName:h.typeName,typeUrl:u,value:f};break}case"google.protobuf.Timestamp":{const u=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===S.w.INT64),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===S.w.INT32);if(u&&f)return{typeName:h.typeName,seconds:u,nanos:f};break}case"google.protobuf.Duration":{const u=h.fields.find(A=>A.number==1&&A.fieldKind=="scalar"&&A.scalar===S.w.INT64),f=h.fields.find(A=>A.number==2&&A.fieldKind=="scalar"&&A.scalar===S.w.INT32);if(u&&f)return{typeName:h.typeName,seconds:u,nanos:f};break}case"google.protobuf.Struct":{const u=h.fields.find(f=>f.number==1&&!f.repeated);if((u==null?void 0:u.fieldKind)!=="map"||u.mapValue.kind!=="message"||u.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,fields:u}}case"google.protobuf.Value":{const u=h.oneofs.find(W=>W.name==="kind"),f=h.fields.find(W=>W.number==1&&W.oneof===u);if((f==null?void 0:f.fieldKind)!=="enum"||f.enum.typeName!=="google.protobuf.NullValue")return;const A=h.fields.find(W=>W.number==2&&W.fieldKind=="scalar"&&W.scalar===S.w.DOUBLE&&W.oneof===u),x=h.fields.find(W=>W.number==3&&W.fieldKind=="scalar"&&W.scalar===S.w.STRING&&W.oneof===u),J=h.fields.find(W=>W.number==4&&W.fieldKind=="scalar"&&W.scalar===S.w.BOOL&&W.oneof===u),j=h.fields.find(W=>W.number==5&&W.oneof===u);if((j==null?void 0:j.fieldKind)!=="message"||j.message.typeName!=="google.protobuf.Struct")return;const ee=h.fields.find(W=>W.number==6&&W.oneof===u);if((ee==null?void 0:ee.fieldKind)!=="message"||ee.message.typeName!=="google.protobuf.ListValue")return;if(u&&A&&x&&J)return{typeName:h.typeName,kind:u,nullValue:f,numberValue:A,stringValue:x,boolValue:J,structValue:j,listValue:ee};break}case"google.protobuf.ListValue":{const u=h.fields.find(f=>f.number==1&&f.repeated);if((u==null?void 0:u.fieldKind)!="message"||u.message.typeName!=="google.protobuf.Value")break;return{typeName:h.typeName,values:u}}case"google.protobuf.FieldMask":{const u=h.fields.find(f=>f.number==1&&f.fieldKind=="scalar"&&f.scalar===S.w.STRING&&f.repeated);if(u)return{typeName:h.typeName,paths:u};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{const u=h.fields.find(f=>f.number==1&&f.name=="value");if(!u||u.fieldKind!=="scalar")break;return{typeName:h.typeName,value:u}}}}const K="@bufbuild/protobuf",ce={packageName:"@bufbuild/protobuf",localName:v.r1,reifyWkt:te,getUnwrappedFieldType:N.w,scalarDefaultValue:ne.kY,safeIdentifier:v.GD,safeObjectProperty:v.ll,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:K},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:K},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:K},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:K},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:K},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:K},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:K},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:K},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:K},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:K},protoDouble:{typeOnly:!1,privateImportPath:"./proto-double.js",publicImportPath:K},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:K},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:K},LongType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:K},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:K},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:K},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:K}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]};var Y=T(561),me=T(328),ue;(function(h){h[h.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",h[h.EDITION_PROTO2=998]="EDITION_PROTO2",h[h.EDITION_PROTO3=999]="EDITION_PROTO3",h[h.EDITION_2023=1e3]="EDITION_2023",h[h.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",h[h.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",h[h.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",h[h.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",h[h.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY"})(ue||(ue={})),E.util.setEnumType(ue,"google.protobuf.Edition",[{no:0,name:"EDITION_UNKNOWN"},{no:998,name:"EDITION_PROTO2"},{no:999,name:"EDITION_PROTO3"},{no:1e3,name:"EDITION_2023"},{no:1,name:"EDITION_1_TEST_ONLY"},{no:2,name:"EDITION_2_TEST_ONLY"},{no:99997,name:"EDITION_99997_TEST_ONLY"},{no:99998,name:"EDITION_99998_TEST_ONLY"},{no:99999,name:"EDITION_99999_TEST_ONLY"}]);class ve extends Y.v{constructor(u){super(),this.file=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new ve().fromBinary(u,f)}static fromJson(u,f){return new ve().fromJson(u,f)}static fromJsonString(u,f){return new ve().fromJsonString(u,f)}static equals(u,f){return E.util.equals(ve,u,f)}}ve.runtime=E,ve.typeName="google.protobuf.FileDescriptorSet",ve.fields=E.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Ie,repeated:!0}]);class Ie extends Y.v{constructor(u){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ie().fromBinary(u,f)}static fromJson(u,f){return new Ie().fromJson(u,f)}static fromJsonString(u,f){return new Ie().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ie,u,f)}}Ie.runtime=E,Ie.typeName="google.protobuf.FileDescriptorProto",Ie.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:Ne,repeated:!0},{no:5,name:"enum_type",kind:"message",T:xt,repeated:!0},{no:6,name:"service",kind:"message",T:en,repeated:!0},{no:7,name:"extension",kind:"message",T:wt,repeated:!0},{no:8,name:"options",kind:"message",T:fe,opt:!0},{no:9,name:"source_code_info",kind:"message",T:G,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:14,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0}]);class Ne extends Y.v{constructor(u){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ne().fromBinary(u,f)}static fromJson(u,f){return new Ne().fromJson(u,f)}static fromJsonString(u,f){return new Ne().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ne,u,f)}}Ne.runtime=E,Ne.typeName="google.protobuf.DescriptorProto",Ne.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:wt,repeated:!0},{no:6,name:"extension",kind:"message",T:wt,repeated:!0},{no:3,name:"nested_type",kind:"message",T:Ne,repeated:!0},{no:4,name:"enum_type",kind:"message",T:xt,repeated:!0},{no:5,name:"extension_range",kind:"message",T:Be,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:Zt,repeated:!0},{no:7,name:"options",kind:"message",T:dn,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ze,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Be extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Be().fromBinary(u,f)}static fromJson(u,f){return new Be().fromJson(u,f)}static fromJsonString(u,f){return new Be().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Be,u,f)}}Be.runtime=E,Be.typeName="google.protobuf.DescriptorProto.ExtensionRange",Be.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:We,opt:!0}]);class ze extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new ze().fromBinary(u,f)}static fromJson(u,f){return new ze().fromJson(u,f)}static fromJsonString(u,f){return new ze().fromJsonString(u,f)}static equals(u,f){return E.util.equals(ze,u,f)}}ze.runtime=E,ze.typeName="google.protobuf.DescriptorProto.ReservedRange",ze.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class We extends Y.v{constructor(u){super(),this.uninterpretedOption=[],this.declaration=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new We().fromBinary(u,f)}static fromJson(u,f){return new We().fromJson(u,f)}static fromJsonString(u,f){return new We().fromJsonString(u,f)}static equals(u,f){return E.util.equals(We,u,f)}}We.runtime=E,We.typeName="google.protobuf.ExtensionRangeOptions",We.fields=E.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0},{no:2,name:"declaration",kind:"message",T:Ut,repeated:!0},{no:50,name:"features",kind:"message",T:Ke,opt:!0},{no:3,name:"verification",kind:"enum",T:E.getEnumType(_t),opt:!0,default:_t.UNVERIFIED}]);var _t;(function(h){h[h.DECLARATION=0]="DECLARATION",h[h.UNVERIFIED=1]="UNVERIFIED"})(_t||(_t={})),E.util.setEnumType(_t,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);class Ut extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Ut().fromBinary(u,f)}static fromJson(u,f){return new Ut().fromJson(u,f)}static fromJsonString(u,f){return new Ut().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ut,u,f)}}Ut.runtime=E,Ut.typeName="google.protobuf.ExtensionRangeOptions.Declaration",Ut.fields=E.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);class wt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new wt().fromBinary(u,f)}static fromJson(u,f){return new wt().fromJson(u,f)}static fromJsonString(u,f){return new wt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(wt,u,f)}}wt.runtime=E,wt.typeName="google.protobuf.FieldDescriptorProto",wt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:E.getEnumType(fn),opt:!0},{no:5,name:"type",kind:"enum",T:E.getEnumType(Ee),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:$n,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);var Ee;(function(h){h[h.DOUBLE=1]="DOUBLE",h[h.FLOAT=2]="FLOAT",h[h.INT64=3]="INT64",h[h.UINT64=4]="UINT64",h[h.INT32=5]="INT32",h[h.FIXED64=6]="FIXED64",h[h.FIXED32=7]="FIXED32",h[h.BOOL=8]="BOOL",h[h.STRING=9]="STRING",h[h.GROUP=10]="GROUP",h[h.MESSAGE=11]="MESSAGE",h[h.BYTES=12]="BYTES",h[h.UINT32=13]="UINT32",h[h.ENUM=14]="ENUM",h[h.SFIXED32=15]="SFIXED32",h[h.SFIXED64=16]="SFIXED64",h[h.SINT32=17]="SINT32",h[h.SINT64=18]="SINT64"})(Ee||(Ee={})),E.util.setEnumType(Ee,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var fn;(function(h){h[h.OPTIONAL=1]="OPTIONAL",h[h.REPEATED=3]="REPEATED",h[h.REQUIRED=2]="REQUIRED"})(fn||(fn={})),E.util.setEnumType(fn,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:3,name:"LABEL_REPEATED"},{no:2,name:"LABEL_REQUIRED"}]);class Zt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Zt().fromBinary(u,f)}static fromJson(u,f){return new Zt().fromJson(u,f)}static fromJsonString(u,f){return new Zt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Zt,u,f)}}Zt.runtime=E,Zt.typeName="google.protobuf.OneofDescriptorProto",Zt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:jn,opt:!0}]);class xt extends Y.v{constructor(u){super(),this.value=[],this.reservedRange=[],this.reservedName=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new xt().fromBinary(u,f)}static fromJson(u,f){return new xt().fromJson(u,f)}static fromJsonString(u,f){return new xt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(xt,u,f)}}xt.runtime=E,xt.typeName="google.protobuf.EnumDescriptorProto",xt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:Rt,repeated:!0},{no:3,name:"options",kind:"message",T:tn,opt:!0},{no:4,name:"reserved_range",kind:"message",T:Jt,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);class Jt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Jt().fromBinary(u,f)}static fromJson(u,f){return new Jt().fromJson(u,f)}static fromJsonString(u,f){return new Jt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Jt,u,f)}}Jt.runtime=E,Jt.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange",Jt.fields=E.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);class Rt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Rt().fromBinary(u,f)}static fromJson(u,f){return new Rt().fromJson(u,f)}static fromJsonString(u,f){return new Rt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Rt,u,f)}}Rt.runtime=E,Rt.typeName="google.protobuf.EnumValueDescriptorProto",Rt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Vn,opt:!0}]);class en extends Y.v{constructor(u){super(),this.method=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new en().fromBinary(u,f)}static fromJson(u,f){return new en().fromJson(u,f)}static fromJsonString(u,f){return new en().fromJsonString(u,f)}static equals(u,f){return E.util.equals(en,u,f)}}en.runtime=E,en.typeName="google.protobuf.ServiceDescriptorProto",en.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:mt,repeated:!0},{no:3,name:"options",kind:"message",T:pt,opt:!0}]);class mt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new mt().fromBinary(u,f)}static fromJson(u,f){return new mt().fromJson(u,f)}static fromJsonString(u,f){return new mt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(mt,u,f)}}mt.runtime=E,mt.typeName="google.protobuf.MethodDescriptorProto",mt.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:zn,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);class fe extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new fe().fromBinary(u,f)}static fromJson(u,f){return new fe().fromJson(u,f)}static fromJsonString(u,f){return new fe().fromJsonString(u,f)}static equals(u,f){return E.util.equals(fe,u,f)}}fe.runtime=E,fe.typeName="google.protobuf.FileOptions",fe.fields=E.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:E.getEnumType(Jn),opt:!0,default:Jn.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:50,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);var Jn;(function(h){h[h.SPEED=1]="SPEED",h[h.CODE_SIZE=2]="CODE_SIZE",h[h.LITE_RUNTIME=3]="LITE_RUNTIME"})(Jn||(Jn={})),E.util.setEnumType(Jn,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);class dn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new dn().fromBinary(u,f)}static fromJson(u,f){return new dn().fromJson(u,f)}static fromJsonString(u,f){return new dn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(dn,u,f)}}dn.runtime=E,dn.typeName="google.protobuf.MessageOptions",dn.fields=E.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:12,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);class $n extends Y.v{constructor(u){super(),this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new $n().fromBinary(u,f)}static fromJson(u,f){return new $n().fromJson(u,f)}static fromJsonString(u,f){return new $n().fromJsonString(u,f)}static equals(u,f){return E.util.equals($n,u,f)}}$n.runtime=E,$n.typeName="google.protobuf.FieldOptions",$n.fields=E.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:E.getEnumType(Yr),opt:!0,default:Yr.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:E.getEnumType(yr),opt:!0,default:yr.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:E.getEnumType(Ei),opt:!0},{no:19,name:"targets",kind:"enum",T:E.getEnumType(ki),repeated:!0},{no:20,name:"edition_defaults",kind:"message",T:In,repeated:!0},{no:21,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);var Yr;(function(h){h[h.STRING=0]="STRING",h[h.CORD=1]="CORD",h[h.STRING_PIECE=2]="STRING_PIECE"})(Yr||(Yr={})),E.util.setEnumType(Yr,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var yr;(function(h){h[h.JS_NORMAL=0]="JS_NORMAL",h[h.JS_STRING=1]="JS_STRING",h[h.JS_NUMBER=2]="JS_NUMBER"})(yr||(yr={})),E.util.setEnumType(yr,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var Ei;(function(h){h[h.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",h[h.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",h[h.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(Ei||(Ei={})),E.util.setEnumType(Ei,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var ki;(function(h){h[h.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",h[h.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",h[h.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",h[h.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",h[h.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",h[h.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",h[h.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",h[h.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",h[h.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",h[h.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(ki||(ki={})),E.util.setEnumType(ki,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);class In extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new In().fromBinary(u,f)}static fromJson(u,f){return new In().fromJson(u,f)}static fromJsonString(u,f){return new In().fromJsonString(u,f)}static equals(u,f){return E.util.equals(In,u,f)}}In.runtime=E,In.typeName="google.protobuf.FieldOptions.EditionDefault",In.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:2,name:"value",kind:"scalar",T:9,opt:!0}]);class jn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new jn().fromBinary(u,f)}static fromJson(u,f){return new jn().fromJson(u,f)}static fromJsonString(u,f){return new jn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(jn,u,f)}}jn.runtime=E,jn.typeName="google.protobuf.OneofOptions",jn.fields=E.util.newFieldList(()=>[{no:1,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);class tn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new tn().fromBinary(u,f)}static fromJson(u,f){return new tn().fromJson(u,f)}static fromJsonString(u,f){return new tn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(tn,u,f)}}tn.runtime=E,tn.typeName="google.protobuf.EnumOptions",tn.fields=E.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:7,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);class Vn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Vn().fromBinary(u,f)}static fromJson(u,f){return new Vn().fromJson(u,f)}static fromJsonString(u,f){return new Vn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Vn,u,f)}}Vn.runtime=E,Vn.typeName="google.protobuf.EnumValueOptions",Vn.fields=E.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"features",kind:"message",T:Ke,opt:!0},{no:3,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);class pt extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new pt().fromBinary(u,f)}static fromJson(u,f){return new pt().fromJson(u,f)}static fromJsonString(u,f){return new pt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(pt,u,f)}}pt.runtime=E,pt.typeName="google.protobuf.ServiceOptions",pt.fields=E.util.newFieldList(()=>[{no:34,name:"features",kind:"message",T:Ke,opt:!0},{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);class zn extends Y.v{constructor(u){super(),this.uninterpretedOption=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new zn().fromBinary(u,f)}static fromJson(u,f){return new zn().fromJson(u,f)}static fromJsonString(u,f){return new zn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(zn,u,f)}}zn.runtime=E,zn.typeName="google.protobuf.MethodOptions",zn.fields=E.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:E.getEnumType(sr),opt:!0,default:sr.IDEMPOTENCY_UNKNOWN},{no:35,name:"features",kind:"message",T:Ke,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:gt,repeated:!0}]);var sr;(function(h){h[h.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",h[h.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",h[h.IDEMPOTENT=2]="IDEMPOTENT"})(sr||(sr={})),E.util.setEnumType(sr,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);class gt extends Y.v{constructor(u){super(),this.name=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new gt().fromBinary(u,f)}static fromJson(u,f){return new gt().fromJson(u,f)}static fromJsonString(u,f){return new gt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(gt,u,f)}}gt.runtime=E,gt.typeName="google.protobuf.UninterpretedOption",gt.fields=E.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Pn,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);class Pn extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Pn().fromBinary(u,f)}static fromJson(u,f){return new Pn().fromJson(u,f)}static fromJsonString(u,f){return new Pn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Pn,u,f)}}Pn.runtime=E,Pn.typeName="google.protobuf.UninterpretedOption.NamePart",Pn.fields=E.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);class Ke extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Ke().fromBinary(u,f)}static fromJson(u,f){return new Ke().fromJson(u,f)}static fromJsonString(u,f){return new Ke().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ke,u,f)}}Ke.runtime=E,Ke.typeName="google.protobuf.FeatureSet",Ke.fields=E.util.newFieldList(()=>[{no:1,name:"field_presence",kind:"enum",T:E.getEnumType(Or),opt:!0},{no:2,name:"enum_type",kind:"enum",T:E.getEnumType(qr),opt:!0},{no:3,name:"repeated_field_encoding",kind:"enum",T:E.getEnumType(vr),opt:!0},{no:4,name:"utf8_validation",kind:"enum",T:E.getEnumType(Ni),opt:!0},{no:5,name:"message_encoding",kind:"enum",T:E.getEnumType(An),opt:!0},{no:6,name:"json_format",kind:"enum",T:E.getEnumType(Ii),opt:!0}]);var Or;(function(h){h[h.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",h[h.EXPLICIT=1]="EXPLICIT",h[h.IMPLICIT=2]="IMPLICIT",h[h.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Or||(Or={})),E.util.setEnumType(Or,"google.protobuf.FeatureSet.FieldPresence",[{no:0,name:"FIELD_PRESENCE_UNKNOWN"},{no:1,name:"EXPLICIT"},{no:2,name:"IMPLICIT"},{no:3,name:"LEGACY_REQUIRED"}]);var qr;(function(h){h[h.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED"})(qr||(qr={})),E.util.setEnumType(qr,"google.protobuf.FeatureSet.EnumType",[{no:0,name:"ENUM_TYPE_UNKNOWN"},{no:1,name:"OPEN"},{no:2,name:"CLOSED"}]);var vr;(function(h){h[h.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",h[h.PACKED=1]="PACKED",h[h.EXPANDED=2]="EXPANDED"})(vr||(vr={})),E.util.setEnumType(vr,"google.protobuf.FeatureSet.RepeatedFieldEncoding",[{no:0,name:"REPEATED_FIELD_ENCODING_UNKNOWN"},{no:1,name:"PACKED"},{no:2,name:"EXPANDED"}]);var Ni;(function(h){h[h.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",h[h.NONE=1]="NONE",h[h.VERIFY=2]="VERIFY"})(Ni||(Ni={})),E.util.setEnumType(Ni,"google.protobuf.FeatureSet.Utf8Validation",[{no:0,name:"UTF8_VALIDATION_UNKNOWN"},{no:1,name:"NONE"},{no:2,name:"VERIFY"}]);var An;(function(h){h[h.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",h[h.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",h[h.DELIMITED=2]="DELIMITED"})(An||(An={})),E.util.setEnumType(An,"google.protobuf.FeatureSet.MessageEncoding",[{no:0,name:"MESSAGE_ENCODING_UNKNOWN"},{no:1,name:"LENGTH_PREFIXED"},{no:2,name:"DELIMITED"}]);var Ii;(function(h){h[h.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",h[h.ALLOW=1]="ALLOW",h[h.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Ii||(Ii={})),E.util.setEnumType(Ii,"google.protobuf.FeatureSet.JsonFormat",[{no:0,name:"JSON_FORMAT_UNKNOWN"},{no:1,name:"ALLOW"},{no:2,name:"LEGACY_BEST_EFFORT"}]);class Wn extends Y.v{constructor(u){super(),this.defaults=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Wn().fromBinary(u,f)}static fromJson(u,f){return new Wn().fromJson(u,f)}static fromJsonString(u,f){return new Wn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Wn,u,f)}}Wn.runtime=E,Wn.typeName="google.protobuf.FeatureSetDefaults",Wn.fields=E.util.newFieldList(()=>[{no:1,name:"defaults",kind:"message",T:Kn,repeated:!0},{no:4,name:"minimum_edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:5,name:"maximum_edition",kind:"enum",T:E.getEnumType(ue),opt:!0}]);class Kn extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Kn().fromBinary(u,f)}static fromJson(u,f){return new Kn().fromJson(u,f)}static fromJsonString(u,f){return new Kn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Kn,u,f)}}Kn.runtime=E,Kn.typeName="google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault",Kn.fields=E.util.newFieldList(()=>[{no:3,name:"edition",kind:"enum",T:E.getEnumType(ue),opt:!0},{no:2,name:"features",kind:"message",T:Ke,opt:!0}]);class G extends Y.v{constructor(u){super(),this.location=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new G().fromBinary(u,f)}static fromJson(u,f){return new G().fromJson(u,f)}static fromJsonString(u,f){return new G().fromJsonString(u,f)}static equals(u,f){return E.util.equals(G,u,f)}}G.runtime=E,G.typeName="google.protobuf.SourceCodeInfo",G.fields=E.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Ze,repeated:!0}]);class Ze extends Y.v{constructor(u){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ze().fromBinary(u,f)}static fromJson(u,f){return new Ze().fromJson(u,f)}static fromJsonString(u,f){return new Ze().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ze,u,f)}}Ze.runtime=E,Ze.typeName="google.protobuf.SourceCodeInfo.Location",Ze.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);class Oe extends Y.v{constructor(u){super(),this.annotation=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Oe().fromBinary(u,f)}static fromJson(u,f){return new Oe().fromJson(u,f)}static fromJsonString(u,f){return new Oe().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Oe,u,f)}}Oe.runtime=E,Oe.typeName="google.protobuf.GeneratedCodeInfo",Oe.fields=E.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Ue,repeated:!0}]);class Ue extends Y.v{constructor(u){super(),this.path=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new Ue().fromBinary(u,f)}static fromJson(u,f){return new Ue().fromJson(u,f)}static fromJsonString(u,f){return new Ue().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Ue,u,f)}}Ue.runtime=E,Ue.typeName="google.protobuf.GeneratedCodeInfo.Annotation",Ue.fields=E.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:E.getEnumType(Gr),opt:!0}]);var Gr;(function(h){h[h.NONE=0]="NONE",h[h.SET=1]="SET",h[h.ALIAS=2]="ALIAS"})(Gr||(Gr={})),E.util.setEnumType(Gr,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}]);function Ro(h,u){const f=h.values.find(A=>A.name===u);return(0,I.hu)(f,`cannot parse ${h.name} default value: ${u}`),f.number}function bo(h,u){switch(h){case S.w.STRING:return u;case S.w.BYTES:{const f=Cr(u);if(f===!1)throw new Error(`cannot parse ${S.w[h]} default value: ${u}`);return f}case S.w.INT64:case S.w.SFIXED64:case S.w.SINT64:return b.q.parse(u);case S.w.UINT64:case S.w.FIXED64:return b.q.uParse(u);case S.w.DOUBLE:case S.w.FLOAT:switch(u){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(u)}case S.w.BOOL:return u==="true";case S.w.INT32:case S.w.UINT32:case S.w.SINT32:case S.w.FIXED32:case S.w.SFIXED32:return parseInt(u,10)}}function Cr(h){const u=[],f={tail:h,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(A){if(this.tail.length>=A){const x=this.tail.substring(0,A);return this.tail=this.tail.substring(A),x}return!1}};for(;f.next();)switch(f.c){case"\\":if(f.next())switch(f.c){case"\\":u.push(f.c.charCodeAt(0));break;case"b":u.push(8);break;case"f":u.push(12);break;case"n":u.push(10);break;case"r":u.push(13);break;case"t":u.push(9);break;case"v":u.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const A=f.c,x=f.take(2);if(x===!1)return!1;const J=parseInt(A+x,8);if(isNaN(J))return!1;u.push(J);break}case"x":{const A=f.c,x=f.take(2);if(x===!1)return!1;const J=parseInt(A+x,16);if(isNaN(J))return!1;u.push(J);break}case"u":{const A=f.c,x=f.take(4);if(x===!1)return!1;const J=parseInt(A+x,16);if(isNaN(J))return!1;const j=new Uint8Array(4);new DataView(j.buffer).setInt32(0,J,!0),u.push(j[0],j[1],j[2],j[3]);break}case"U":{const A=f.c,x=f.take(8);if(x===!1)return!1;const J=b.q.uEnc(A+x),j=new Uint8Array(8),ee=new DataView(j.buffer);ee.setInt32(0,J.lo,!0),ee.setInt32(4,J.hi,!0),u.push(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7]);break}}break;default:u.push(f.c.charCodeAt(0))}return new Uint8Array(u)}const hn=Wn.fromBinary(z.W.dec("ChESDAgBEAIYAiABKAEwAhjmBwoREgwIAhABGAEgAigBMAEY5wcKERIMCAEQARgBIAIoATABGOgHIOYHKOgH"));function be(h){const u=h.minimumEdition,f=h.maximumEdition;if(u===void 0||f===void 0||h.defaults.some(x=>x.edition===void 0))throw new Error("Invalid FeatureSetDefaults");const A=new Map;return(x,...J)=>{var j,ee;let W=A.get(x);if(W===void 0){if(x<u)throw new Error(`Edition ${ue[x]} is earlier than the minimum supported edition ${ue[u]}`);if(f<x)throw new Error(`Edition ${ue[x]} is later than the maximum supported edition ${ue[f]}`);let ae;for(const pe of h.defaults){const $e=(j=pe.edition)!==null&&j!==void 0?j:0;$e>x||ae!==void 0&&ae.e>$e||(ae={e:$e,f:(ee=pe.features)!==null&&ee!==void 0?ee:new Ke})}if(ae===void 0)throw new Error(`No valid default found for edition ${ue[x]}`);W=ae.f.toBinary(),A.set(x,W)}const oe=Ke.fromBinary(W);for(const ae of J)ae!==void 0&&oe.fromBinary(ae.toBinary());if(!Yi(oe))throw new Error(`Invalid FeatureSet for edition ${ue[x]}`);return oe}}function Yi(h){for(const u of Ke.fields.list()){const f=h[u.localName];if(f===void 0||u.kind=="enum"&&f===0)return!1}return!0}function qi(h,u){var f;const A={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map,resolveFeatures:be((f=u==null?void 0:u.featureSetDefaults)!==null&&f!==void 0?f:hn)},J=(h instanceof ve?h.file:h instanceof Uint8Array?ve.fromBinary(h).file:h).map(j=>On(j,A));return Object.assign({files:J},A)}function On(h,u){var f,A;(0,I.hu)(h.name,"invalid FileDescriptorProto: missing name");const x=Object.assign(Object.assign({kind:"file",proto:h,deprecated:(A=(f=h.options)===null||f===void 0?void 0:f.deprecated)!==null&&A!==void 0?A:!1},Bo(h.syntax,h.edition)),{name:h.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return ct(this.proto.sourceCodeInfo,[It.FileDescriptorProto_Syntax])},getPackageComments(){return ct(this.proto.sourceCodeInfo,[It.FileDescriptorProto_Package])},getFeatures(){var J;return u.resolveFeatures(this.edition,(J=this.proto.options)===null||J===void 0?void 0:J.features)}});u.mapEntries.clear();for(const J of h.enumType)Dr(J,x,void 0,u);for(const J of h.messageType)Ms(J,x,void 0,u);for(const J of h.service)Lo(J,x,u);Gi(x,u);for(const J of u.mapEntries.values())Ls(J,u);for(const J of x.messages)Ls(J,u),Gi(J,u);return u.mapEntries.clear(),x}function Gi(h,u){switch(h.kind){case"file":for(const f of h.proto.extension){const A=_r(f,h,void 0,u);h.extensions.push(A),u.extensions.set(A.typeName,A)}break;case"message":for(const f of h.proto.extension){const A=_r(f,h.file,h,u);h.nestedExtensions.push(A),u.extensions.set(A.typeName,A)}for(const f of h.nestedMessages)Gi(f,u);break}}function Ls(h,u){const f=h.proto.oneofDecl.map(x=>Cn(x,h,u)),A=new Set;for(const x of h.proto.field){const J=$t(x,f),j=Yn(x,h.file,h,J,u);h.fields.push(j),J===void 0?h.members.push(j):(J.fields.push(j),A.has(J)||(A.add(J),h.members.push(J)))}for(const x of f.filter(J=>A.has(J)))h.oneofs.push(x);for(const x of h.nestedMessages)Ls(x,u)}function Dr(h,u,f,A){var x,J,j;(0,I.hu)(h.name,"invalid EnumDescriptorProto: missing name");const ee={kind:"enum",proto:h,deprecated:(J=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&J!==void 0?J:!1,file:u,parent:f,name:h.name,typeName:Hr(h,f,u),values:[],sharedPrefix:(0,v.Sm)(h.name,h.value.map(W=>{var oe;return(oe=W.name)!==null&&oe!==void 0?oe:""})),toString(){return`enum ${this.typeName}`},getComments(){const W=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[It.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return ct(u.proto.sourceCodeInfo,W)},getFeatures(){var W,oe,ae;const pe=(oe=(W=this.parent)===null||W===void 0?void 0:W.getFeatures())!==null&&oe!==void 0?oe:this.file.getFeatures();return A.resolveFeatures(this.file.edition,pe,(ae=this.proto.options)===null||ae===void 0?void 0:ae.features)}};A.enums.set(ee.typeName,ee),h.value.forEach(W=>{var oe,ae;(0,I.hu)(W.name,"invalid EnumValueDescriptorProto: missing name"),(0,I.hu)(W.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),ee.values.push({kind:"enum_value",proto:W,deprecated:(ae=(oe=W.options)===null||oe===void 0?void 0:oe.deprecated)!==null&&ae!==void 0?ae:!1,parent:ee,name:W.name,number:W.number,toString(){return`enum value ${ee.typeName}.${this.name}`},declarationString(){var pe;let $e=`${this.name} = ${this.number}`;return((pe=this.proto.options)===null||pe===void 0?void 0:pe.deprecated)===!0&&($e+=" [deprecated = true]"),$e},getComments(){const pe=[...this.parent.getComments().sourcePath,It.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return ct(u.proto.sourceCodeInfo,pe)},getFeatures(){var pe;return A.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}})}),((j=f==null?void 0:f.nestedEnums)!==null&&j!==void 0?j:u.enums).push(ee)}function Ms(h,u,f,A){var x,J,j,ee;(0,I.hu)(h.name,"invalid DescriptorProto: missing name");const W={kind:"message",proto:h,deprecated:(J=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&J!==void 0?J:!1,file:u,parent:f,name:h.name,typeName:Hr(h,f,u),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){const oe=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[It.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return ct(u.proto.sourceCodeInfo,oe)},getFeatures(){var oe,ae,pe;const $e=(ae=(oe=this.parent)===null||oe===void 0?void 0:oe.getFeatures())!==null&&ae!==void 0?ae:this.file.getFeatures();return A.resolveFeatures(this.file.edition,$e,(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}};((j=h.options)===null||j===void 0?void 0:j.mapEntry)===!0?A.mapEntries.set(W.typeName,W):(((ee=f==null?void 0:f.nestedMessages)!==null&&ee!==void 0?ee:u.messages).push(W),A.messages.set(W.typeName,W));for(const oe of h.enumType)Dr(oe,u,W,A);for(const oe of h.nestedType)Ms(oe,u,W,A)}function Lo(h,u,f){var A,x;(0,I.hu)(h.name,"invalid ServiceDescriptorProto: missing name");const J={kind:"service",proto:h,deprecated:(x=(A=h.options)===null||A===void 0?void 0:A.deprecated)!==null&&x!==void 0?x:!1,file:u,name:h.name,typeName:Hr(h,void 0,u),methods:[],toString(){return`service ${this.typeName}`},getComments(){const j=[It.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return ct(u.proto.sourceCodeInfo,j)},getFeatures(){var j;return f.resolveFeatures(this.file.edition,this.file.getFeatures(),(j=this.proto.options)===null||j===void 0?void 0:j.features)}};u.services.push(J),f.services.set(J.typeName,J);for(const j of h.method)J.methods.push(Mo(j,J,f))}function Mo(h,u,f){var A,x,J;(0,I.hu)(h.name,"invalid MethodDescriptorProto: missing name"),(0,I.hu)(h.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,I.hu)(h.outputType,"invalid MethodDescriptorProto: missing output_type");let j;h.clientStreaming===!0&&h.serverStreaming===!0?j=me.t.BiDiStreaming:h.clientStreaming===!0?j=me.t.ClientStreaming:h.serverStreaming===!0?j=me.t.ServerStreaming:j=me.t.Unary;let ee;switch((A=h.options)===null||A===void 0?void 0:A.idempotencyLevel){case sr.IDEMPOTENT:ee=me.w.Idempotent;break;case sr.NO_SIDE_EFFECTS:ee=me.w.NoSideEffects;break;case sr.IDEMPOTENCY_UNKNOWN:case void 0:ee=void 0;break}const W=f.messages.get(xr(h.inputType)),oe=f.messages.get(xr(h.outputType));(0,I.hu)(W,`invalid MethodDescriptorProto: input_type ${h.inputType} not found`),(0,I.hu)(oe,`invalid MethodDescriptorProto: output_type ${h.inputType} not found`);const ae=h.name;return{kind:"rpc",proto:h,deprecated:(J=(x=h.options)===null||x===void 0?void 0:x.deprecated)!==null&&J!==void 0?J:!1,parent:u,name:ae,methodKind:j,input:W,output:oe,idempotency:ee,toString(){return`rpc ${u.typeName}.${ae}`},getComments(){const pe=[...this.parent.getComments().sourcePath,It.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return ct(u.file.proto.sourceCodeInfo,pe)},getFeatures(){var pe;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(pe=this.proto.options)===null||pe===void 0?void 0:pe.features)}}}function Cn(h,u,f){return(0,I.hu)(h.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:h,deprecated:!1,parent:u,fields:[],name:h.name,toString(){return`oneof ${u.typeName}.${this.name}`},getComments(){const A=[...this.parent.getComments().sourcePath,It.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return ct(u.file.proto.sourceCodeInfo,A)},getFeatures(){var A;return f.resolveFeatures(this.parent.file.edition,this.parent.getFeatures(),(A=this.proto.options)===null||A===void 0?void 0:A.features)}}}function Yn(h,u,f,A,x){var J,j,ee;(0,I.hu)(h.name,"invalid FieldDescriptorProto: missing name"),(0,I.hu)(h.number,"invalid FieldDescriptorProto: missing number"),(0,I.hu)(h.type,"invalid FieldDescriptorProto: missing type");const W={proto:h,deprecated:(j=(J=h.options)===null||J===void 0?void 0:J.deprecated)!==null&&j!==void 0?j:!1,name:h.name,number:h.number,parent:f,oneof:A,optional:ie(h,u.syntax),packedByDefault:lt(u,h,x.resolveFeatures),packed:_e(u,f,h,x.resolveFeatures),jsonName:h.jsonName===(0,v.x1)(h.name)?void 0:h.jsonName,scalar:void 0,longType:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,declarationString:Xr,toString(){return`field ${this.parent.typeName}.${this.name}`},getComments(){const ae=[...this.parent.getComments().sourcePath,It.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return ct(u.proto.sourceCodeInfo,ae)},getFeatures(){var ae;return x.resolveFeatures(u.edition,this.parent.getFeatures(),(ae=this.proto.options)===null||ae===void 0?void 0:ae.features)}},oe=h.label===fn.REPEATED;switch(h.type){case Ee.MESSAGE:case Ee.GROUP:{(0,I.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ae=x.mapEntries.get(xr(h.typeName));if(ae!==void 0)return(0,I.hu)(oe,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},W),{kind:"field",fieldKind:"map",repeated:!1}),Fo(ae));const pe=x.messages.get(xr(h.typeName));return(0,I.hu)(pe!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"message",repeated:oe,message:pe})}case Ee.ENUM:{(0,I.hu)(h.typeName,"invalid FieldDescriptorProto: missing type_name");const ae=x.enums.get(xr(h.typeName));return(0,I.hu)(ae!==void 0,`invalid FieldDescriptorProto: type_name ${h.typeName} not found`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"enum",getDefaultValue:Rr,repeated:oe,enum:ae})}default:{const ae=Le[h.type];return(0,I.hu)(ae,`invalid FieldDescriptorProto: unknown type ${h.type}`),Object.assign(Object.assign({},W),{kind:"field",fieldKind:"scalar",getDefaultValue:Rr,repeated:oe,scalar:ae,longType:((ee=h.options)===null||ee===void 0?void 0:ee.jstype)==yr.JS_STRING?S.p.STRING:S.p.BIGINT})}}}function _r(h,u,f,A){(0,I.hu)(h.extendee,"invalid FieldDescriptorProto: missing extendee");const x=Yn(h,u,null,void 0,A),J=A.messages.get(xr(h.extendee));return(0,I.hu)(J,`invalid FieldDescriptorProto: extendee ${h.extendee} not found`),Object.assign(Object.assign({},x),{kind:"extension",typeName:Hr(h,f,u),parent:f,file:u,extendee:J,toString(){return`extension ${this.typeName}`},getComments(){const j=this.parent?[...this.parent.getComments().sourcePath,It.DescriptorProto_Extension,this.parent.proto.extension.indexOf(h)]:[It.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(h)];return ct(u.proto.sourceCodeInfo,j)},getFeatures(){var j,ee;return A.resolveFeatures(this.file.edition,((j=this.parent)!==null&&j!==void 0?j:this.file).getFeatures(),(ee=this.proto.options)===null||ee===void 0?void 0:ee.features)}})}function Bo(h,u){let f,A;switch(h){case void 0:case"proto2":A="proto2",f=ue.EDITION_PROTO2;break;case"proto3":A="proto3",f=ue.EDITION_PROTO3;break;case"editions":switch(A="editions",u){case void 0:case ue.EDITION_1_TEST_ONLY:case ue.EDITION_2_TEST_ONLY:case ue.EDITION_99997_TEST_ONLY:case ue.EDITION_99998_TEST_ONLY:case ue.EDITION_99999_TEST_ONLY:case ue.EDITION_UNKNOWN:f=ue.EDITION_UNKNOWN;break;default:f=u;break}break;default:throw new Error(`invalid FileDescriptorProto: unsupported syntax: ${h}`)}if(h==="editions"&&u===ue.EDITION_UNKNOWN)throw new Error(`invalid FileDescriptorProto: syntax ${h} cannot have edition ${String(u)}`);return{syntax:A,edition:f}}function Hr(h,u,f){(0,I.hu)(h.name,`invalid ${h.getType().typeName}: missing name`);let A;return u?A=`${u.typeName}.${h.name}`:f.proto.package!==void 0?A=`${f.proto.package}.${h.name}`:A=`${h.name}`,A}function xr(h){return h.startsWith(".")?h.substring(1):h}function Fo(h){var u,f;(0,I.hu)((u=h.proto.options)===null||u===void 0?void 0:u.mapEntry,`invalid DescriptorProto: expected ${h.toString()} to be a map entry`),(0,I.hu)(h.fields.length===2,`invalid DescriptorProto: map entry ${h.toString()} has ${h.fields.length} fields`);const A=h.fields.find(j=>j.proto.number===1);(0,I.hu)(A,`invalid DescriptorProto: map entry ${h.toString()} is missing key field`);const x=A.scalar;(0,I.hu)(x!==void 0&&x!==S.w.BYTES&&x!==S.w.FLOAT&&x!==S.w.DOUBLE,`invalid DescriptorProto: map entry ${h.toString()} has unexpected key type ${(f=A.proto.type)!==null&&f!==void 0?f:-1}`);const J=h.fields.find(j=>j.proto.number===2);switch((0,I.hu)(J,`invalid DescriptorProto: map entry ${h.toString()} is missing value field`),J.fieldKind){case"scalar":return{mapKey:x,mapValue:Object.assign(Object.assign({},J),{kind:"scalar"})};case"message":return{mapKey:x,mapValue:Object.assign(Object.assign({},J),{kind:"message"})};case"enum":return{mapKey:x,mapValue:Object.assign(Object.assign({},J),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function $t(h,u){var f;const A=h.oneofIndex;if(A===void 0)return;let x;return h.proto3Optional!==!0&&(x=u[A],(0,I.hu)(x,`invalid FieldDescriptorProto: oneof #${A} for field #${(f=h.number)!==null&&f!==void 0?f:-1} not found`)),x}function ie(h,u){switch(u){case"proto2":return h.oneofIndex===void 0&&h.label===fn.OPTIONAL;case"proto3":return h.proto3Optional===!0;case"editions":return!1}}function lt(h,u,f){const{repeatedFieldEncoding:A}=f(h.edition);if(A!=vr.PACKED)return!1;switch(u.type){case Ee.STRING:case Ee.BYTES:case Ee.GROUP:case Ee.MESSAGE:return!1;default:return!0}}function _e(h,u,f,A){var x,J,j,ee,W,oe;switch(f.type){case Ee.STRING:case Ee.BYTES:case Ee.GROUP:case Ee.MESSAGE:return!1;default:switch(h.edition){case ue.EDITION_PROTO2:return(J=(x=f.options)===null||x===void 0?void 0:x.packed)!==null&&J!==void 0?J:!1;case ue.EDITION_PROTO3:return(ee=(j=f.options)===null||j===void 0?void 0:j.packed)!==null&&ee!==void 0?ee:!0;default:{const{repeatedFieldEncoding:ae}=A(h.edition,(W=u==null?void 0:u.getFeatures())!==null&&W!==void 0?W:h.getFeatures(),(oe=f.options)===null||oe===void 0?void 0:oe.features);return ae==vr.PACKED}}}}const Le={[Ee.DOUBLE]:S.w.DOUBLE,[Ee.FLOAT]:S.w.FLOAT,[Ee.INT64]:S.w.INT64,[Ee.UINT64]:S.w.UINT64,[Ee.INT32]:S.w.INT32,[Ee.FIXED64]:S.w.FIXED64,[Ee.FIXED32]:S.w.FIXED32,[Ee.BOOL]:S.w.BOOL,[Ee.STRING]:S.w.STRING,[Ee.GROUP]:void 0,[Ee.MESSAGE]:void 0,[Ee.BYTES]:S.w.BYTES,[Ee.UINT32]:S.w.UINT32,[Ee.ENUM]:void 0,[Ee.SFIXED32]:S.w.SFIXED32,[Ee.SFIXED64]:S.w.SFIXED64,[Ee.SINT32]:S.w.SINT32,[Ee.SINT64]:S.w.SINT64};function ct(h,u){if(!h)return{leadingDetached:[],sourcePath:u};for(const f of h.location)if(f.path.length===u.length&&!f.path.some((A,x)=>u[x]!==A))return{leadingDetached:f.leadingDetachedComments,leading:f.leadingComments,trailing:f.trailingComments,sourcePath:u};return{leadingDetached:[],sourcePath:u}}var It;(function(h){h[h.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",h[h.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",h[h.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",h[h.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",h[h.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",h[h.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",h[h.DescriptorProto_Field=2]="DescriptorProto_Field",h[h.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",h[h.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",h[h.DescriptorProto_Extension=6]="DescriptorProto_Extension",h[h.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",h[h.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",h[h.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(It||(It={}));function Xr(){var h,u,f;const A=[];this.repeated&&A.push("repeated"),this.optional&&A.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===fn.REQUIRED&&A.push("required");let J;switch(this.fieldKind){case"scalar":J=S.w[this.scalar].toLowerCase();break;case"enum":J=this.enum.typeName;break;case"message":J=this.message.typeName;break;case"map":{const W=S.w[this.mapKey].toLowerCase();let oe;switch(this.mapValue.kind){case"scalar":oe=S.w[this.mapValue.scalar].toLowerCase();break;case"enum":oe=this.mapValue.enum.typeName;break;case"message":oe=this.mapValue.message.typeName;break}J=`map<${W}, ${oe}>`;break}}A.push(`${J} ${this.name} = ${this.number}`);const j=[];((h=this.proto.options)===null||h===void 0?void 0:h.packed)!==void 0&&j.push(`packed = ${this.proto.options.packed.toString()}`);let ee=this.proto.defaultValue;return ee!==void 0&&((this.proto.type==Ee.BYTES||this.proto.type==Ee.STRING)&&(ee='"'+ee.replace('"','\\"')+'"'),j.push(`default = ${ee}`)),this.jsonName!==void 0&&j.push(`json_name = "${this.jsonName}"`),((u=this.proto.options)===null||u===void 0?void 0:u.jstype)!==void 0&&j.push(`jstype = ${yr[this.proto.options.jstype]}`),((f=this.proto.options)===null||f===void 0?void 0:f.deprecated)===!0&&j.push("deprecated = true"),j.length>0&&A.push("["+j.join(", ")+"]"),A.join(" ")}function Rr(){const h=this.proto.defaultValue;if(h!==void 0)switch(this.fieldKind){case"enum":return Ro(this.enum,h);case"scalar":return bo(this.scalar,h);default:return}}function Dn(...h){const u={},f={},A={},x={add(J){if("fields"in J){if(!this.findMessage(J.typeName)){u[J.typeName]=J;for(const j of J.fields.list())j.kind=="message"?this.add(j.T):j.kind=="map"&&j.V.kind=="message"?this.add(j.V.T):j.kind=="enum"&&this.add(j.T)}}else if("methods"in J){if(!this.findService(J.typeName)){A[J.typeName]=J;for(const j of Object.values(J.methods))this.add(j.I),this.add(j.O)}}else f[J.typeName]=J},findMessage(J){return u[J]},findEnum(J){return f[J]},findService(J){return A[J]}};for(const J of h)x.add(J);return x}class jt extends Y.v{constructor(u){super(),this.seconds=b.q.zero,this.nanos=0,p.w.util.initPartial(u,this)}fromJson(u,f){if(typeof u!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${p.w.json.debug(u)}`);const A=u.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!A)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const x=Date.parse(A[1]+"-"+A[2]+"-"+A[3]+"T"+A[4]+":"+A[5]+":"+A[6]+(A[8]?A[8]:"Z"));if(Number.isNaN(x))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(x<Date.parse("0001-01-01T00:00:00Z")||x>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=b.q.parse(x/1e3),this.nanos=0,A[7]&&(this.nanos=parseInt("1"+A[7]+"0".repeat(9-A[7].length))-1e9),this}toJson(u){const f=Number(this.seconds)*1e3;if(f<Date.parse("0001-01-01T00:00:00Z")||f>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let A="Z";if(this.nanos>0){const x=(this.nanos+1e9).toString().substring(1);x.substring(3)==="000000"?A="."+x.substring(0,3)+"Z":x.substring(6)==="000"?A="."+x.substring(0,6)+"Z":A="."+x+"Z"}return new Date(f).toISOString().replace(".000Z",A)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return jt.fromDate(new Date)}static fromDate(u){const f=u.getTime();return new jt({seconds:b.q.parse(Math.floor(f/1e3)),nanos:f%1e3*1e6})}static fromBinary(u,f){return new jt().fromBinary(u,f)}static fromJson(u,f){return new jt().fromJson(u,f)}static fromJsonString(u,f){return new jt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(jt,u,f)}}jt.runtime=p.w,jt.typeName="google.protobuf.Timestamp",jt.fields=p.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Vt extends Y.v{constructor(u){super(),this.seconds=b.q.zero,this.nanos=0,p.w.util.initPartial(u,this)}fromJson(u,f){if(typeof u!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(u)}`);const A=u.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(A===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(u)}`);const x=Number(A[1]);if(x>315576e6||x<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.w.json.debug(u)}`);if(this.seconds=b.q.parse(x),typeof A[2]=="string"){const J=A[2]+"0".repeat(9-A[2].length);this.nanos=parseInt(J),(x<0||Object.is(x,-0))&&(this.nanos=-this.nanos)}return this}toJson(u){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let f=this.seconds.toString();if(this.nanos!==0){let A=Math.abs(this.nanos).toString();A="0".repeat(9-A.length)+A,A.substring(3)==="000000"?A=A.substring(0,3):A.substring(6)==="000"&&(A=A.substring(0,6)),f+="."+A,this.nanos<0&&Number(this.seconds)==0&&(f="-"+f)}return f+"s"}static fromBinary(u,f){return new Vt().fromBinary(u,f)}static fromJson(u,f){return new Vt().fromJson(u,f)}static fromJsonString(u,f){return new Vt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Vt,u,f)}}Vt.runtime=p.w,Vt.typeName="google.protobuf.Duration",Vt.fields=p.w.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var Bs=T(733);class je extends Y.v{constructor(u){super(),p.w.util.initPartial(u,this)}static fromBinary(u,f){return new je().fromBinary(u,f)}static fromJson(u,f){return new je().fromJson(u,f)}static fromJsonString(u,f){return new je().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(je,u,f)}}je.runtime=p.w,je.typeName="google.protobuf.Empty",je.fields=p.w.util.newFieldList(()=>[]);class mn extends Y.v{constructor(u){super(),this.paths=[],p.w.util.initPartial(u,this)}toJson(u){function f(A){let x=!1;const J=[];for(let j=0;j<A.length;j++){let ee=A.charAt(j);switch(ee){case"_":x=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":J.push(ee),x=!1;break;default:x&&(x=!1,ee=ee.toUpperCase()),J.push(ee);break}}return J.join("")}return this.paths.map(A=>{if(A.match(/_[0-9]?_/g)||A.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+A+'" is irreversible');return f(A)}).join(",")}fromJson(u,f){if(typeof u!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+p.w.json.debug(u));if(u==="")return this;function A(x){if(x.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");const J=x.replace(/[A-Z]/g,j=>"_"+j.toLowerCase());return J[0]==="_"?J.substring(1):J}return this.paths=u.split(",").map(A),this}static fromBinary(u,f){return new mn().fromBinary(u,f)}static fromJson(u,f){return new mn().fromJson(u,f)}static fromJsonString(u,f){return new mn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(mn,u,f)}}mn.runtime=p.w,mn.typeName="google.protobuf.FieldMask",mn.fields=p.w.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);var br;(function(h){h[h.NULL_VALUE=0]="NULL_VALUE"})(br||(br={})),p.w.util.setEnumType(br,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);class pn extends Y.v{constructor(u){super(),this.fields={},p.w.util.initPartial(u,this)}toJson(u){const f={};for(const[A,x]of Object.entries(this.fields))f[A]=x.toJson(u);return f}fromJson(u,f){if(typeof u!="object"||u==null||Array.isArray(u))throw new Error("cannot decode google.protobuf.Struct from JSON "+p.w.json.debug(u));for(const[A,x]of Object.entries(u))this.fields[A]=He.fromJson(x);return this}static fromBinary(u,f){return new pn().fromBinary(u,f)}static fromJson(u,f){return new pn().fromJson(u,f)}static fromJsonString(u,f){return new pn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(pn,u,f)}}pn.runtime=p.w,pn.typeName="google.protobuf.Struct",pn.fields=p.w.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:He}}]);class He extends Y.v{constructor(u){super(),this.kind={case:void 0},p.w.util.initPartial(u,this)}toJson(u){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},u),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(u,f){switch(typeof u){case"number":this.kind={case:"numberValue",value:u};break;case"string":this.kind={case:"stringValue",value:u};break;case"boolean":this.kind={case:"boolValue",value:u};break;case"object":u===null?this.kind={case:"nullValue",value:br.NULL_VALUE}:Array.isArray(u)?this.kind={case:"listValue",value:zt.fromJson(u)}:this.kind={case:"structValue",value:pn.fromJson(u)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+p.w.json.debug(u))}return this}static fromBinary(u,f){return new He().fromBinary(u,f)}static fromJson(u,f){return new He().fromJson(u,f)}static fromJsonString(u,f){return new He().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(He,u,f)}}He.runtime=p.w,He.typeName="google.protobuf.Value",He.fields=p.w.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:p.w.getEnumType(br),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:pn,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:zt,oneof:"kind"}]);class zt extends Y.v{constructor(u){super(),this.values=[],p.w.util.initPartial(u,this)}toJson(u){return this.values.map(f=>f.toJson())}fromJson(u,f){if(!Array.isArray(u))throw new Error("cannot decode google.protobuf.ListValue from JSON "+p.w.json.debug(u));for(let A of u)this.values.push(He.fromJson(A));return this}static fromBinary(u,f){return new zt().fromBinary(u,f)}static fromJson(u,f){return new zt().fromJson(u,f)}static fromJsonString(u,f){return new zt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(zt,u,f)}}zt.runtime=p.w,zt.typeName="google.protobuf.ListValue",zt.fields=p.w.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:He,repeated:!0}]);var or=T(609);class bt extends Y.v{constructor(u){super(),this.value=0,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.DOUBLE,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.DOUBLE,u)}catch(A){let x='cannot decode message google.protobuf.DoubleValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new bt().fromBinary(u,f)}static fromJson(u,f){return new bt().fromJson(u,f)}static fromJsonString(u,f){return new bt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(bt,u,f)}}bt.runtime=p.w,bt.typeName="google.protobuf.DoubleValue",bt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]),bt.fieldWrapper={wrapField(h){return new bt({value:h})},unwrapField(h){return h.value}};class ft extends Y.v{constructor(u){super(),this.value=0,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.FLOAT,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.FLOAT,u)}catch(A){let x='cannot decode message google.protobuf.FloatValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new ft().fromBinary(u,f)}static fromJson(u,f){return new ft().fromJson(u,f)}static fromJsonString(u,f){return new ft().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(ft,u,f)}}ft.runtime=p.w,ft.typeName="google.protobuf.FloatValue",ft.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]),ft.fieldWrapper={wrapField(h){return new ft({value:h})},unwrapField(h){return h.value}};class nn extends Y.v{constructor(u){super(),this.value=b.q.zero,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.INT64,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.INT64,u)}catch(A){let x='cannot decode message google.protobuf.Int64Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new nn().fromBinary(u,f)}static fromJson(u,f){return new nn().fromJson(u,f)}static fromJsonString(u,f){return new nn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(nn,u,f)}}nn.runtime=p.w,nn.typeName="google.protobuf.Int64Value",nn.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]),nn.fieldWrapper={wrapField(h){return new nn({value:h})},unwrapField(h){return h.value}};class Wt extends Y.v{constructor(u){super(),this.value=b.q.zero,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.UINT64,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.UINT64,u)}catch(A){let x='cannot decode message google.protobuf.UInt64Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new Wt().fromBinary(u,f)}static fromJson(u,f){return new Wt().fromJson(u,f)}static fromJsonString(u,f){return new Wt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Wt,u,f)}}Wt.runtime=p.w,Wt.typeName="google.protobuf.UInt64Value",Wt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]),Wt.fieldWrapper={wrapField(h){return new Wt({value:h})},unwrapField(h){return h.value}};class Pt extends Y.v{constructor(u){super(),this.value=0,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.INT32,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.INT32,u)}catch(A){let x='cannot decode message google.protobuf.Int32Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new Pt().fromBinary(u,f)}static fromJson(u,f){return new Pt().fromJson(u,f)}static fromJsonString(u,f){return new Pt().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Pt,u,f)}}Pt.runtime=p.w,Pt.typeName="google.protobuf.Int32Value",Pt.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]),Pt.fieldWrapper={wrapField(h){return new Pt({value:h})},unwrapField(h){return h.value}};class Je extends Y.v{constructor(u){super(),this.value=0,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.UINT32,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.UINT32,u)}catch(A){let x='cannot decode message google.protobuf.UInt32Value from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new Je().fromBinary(u,f)}static fromJson(u,f){return new Je().fromJson(u,f)}static fromJsonString(u,f){return new Je().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Je,u,f)}}Je.runtime=p.w,Je.typeName="google.protobuf.UInt32Value",Je.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]),Je.fieldWrapper={wrapField(h){return new Je({value:h})},unwrapField(h){return h.value}};class Ae extends Y.v{constructor(u){super(),this.value=!1,p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.BOOL,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.BOOL,u)}catch(A){let x='cannot decode message google.protobuf.BoolValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new Ae().fromBinary(u,f)}static fromJson(u,f){return new Ae().fromJson(u,f)}static fromJsonString(u,f){return new Ae().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Ae,u,f)}}Ae.runtime=p.w,Ae.typeName="google.protobuf.BoolValue",Ae.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]),Ae.fieldWrapper={wrapField(h){return new Ae({value:h})},unwrapField(h){return h.value}};class Xe extends Y.v{constructor(u){super(),this.value="",p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.STRING,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.STRING,u)}catch(A){let x='cannot decode message google.protobuf.StringValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new Xe().fromBinary(u,f)}static fromJson(u,f){return new Xe().fromJson(u,f)}static fromJsonString(u,f){return new Xe().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Xe,u,f)}}Xe.runtime=p.w,Xe.typeName="google.protobuf.StringValue",Xe.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]),Xe.fieldWrapper={wrapField(h){return new Xe({value:h})},unwrapField(h){return h.value}};class rn extends Y.v{constructor(u){super(),this.value=new Uint8Array(0),p.w.util.initPartial(u,this)}toJson(u){return p.w.json.writeScalar(S.w.BYTES,this.value,!0)}fromJson(u,f){try{this.value=p.w.json.readScalar(S.w.BYTES,u)}catch(A){let x='cannot decode message google.protobuf.BytesValue from JSON"';throw A instanceof Error&&A.message.length>0&&(x+=`: ${A.message}`),new Error(x)}return this}static fromBinary(u,f){return new rn().fromBinary(u,f)}static fromJson(u,f){return new rn().fromJson(u,f)}static fromJsonString(u,f){return new rn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(rn,u,f)}}rn.runtime=p.w,rn.typeName="google.protobuf.BytesValue",rn.fields=p.w.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]),rn.fieldWrapper={wrapField(h){return new rn({value:h})},unwrapField(h){return h.value}};const Pi=[Bs.I,Vt,je,mn,pn,He,zt,jt,Vt,bt,ft,nn,Pt,Je,Wt,Ae,Xe,rn],Te=[(0,or.V3)(br)];function Ye(h,u=!0){const f=h instanceof Uint8Array||h instanceof ve?qi(h):h,A={},x={},J={};if(u){for(const j of Pi)x[j.typeName]=j;for(const j of Te)A[j.typeName]=j}return{findEnum(j){const ee=A[j];if(ee)return ee;const W=f.enums.get(j);if(!W)return;const ae=(W.file.syntax=="proto3"?p.w:E).makeEnumType(j,W.values.map(pe=>({no:pe.number,name:pe.name,localName:(0,v.r1)(pe)})),{});return A[j]=ae,ae},findMessage(j){const ee=x[j];if(ee)return ee;const W=f.messages.get(j);if(!W)return;const oe=W.file.syntax=="proto3"?p.w:E,ae=[],pe=oe.makeMessageType(j,()=>ae,{localName:(0,v.r1)(W)});x[j]=pe;for(const $e of W.fields){const Re=Hi($e,this);ae.push(Re)}return pe},findService(j){const ee=J[j];if(ee)return ee;const W=f.services.get(j);if(!W)return;const oe={};for(const ae of W.methods){const pe=this.findMessage(ae.input.typeName),$e=this.findMessage(ae.output.typeName);(0,I.hu)(pe,`message "${ae.input.typeName}" for ${ae.toString()} not found`),(0,I.hu)($e,`output message "${ae.output.typeName}" for ${ae.toString()} not found`),oe[(0,v.r1)(ae)]={name:ae.name,I:pe,O:$e,kind:ae.methodKind,idempotency:ae.idempotency}}return J[j]={typeName:W.typeName,methods:oe}}}}function Hi(h,u){switch(h.fieldKind){case"map":return Ai(h,u);case"message":return Tr(h,u);case"enum":{const f=Lr(h,u);return f.default=h.getDefaultValue(),f}case"scalar":{const f=sn(h);return f.default=h.getDefaultValue(),f}}}function Ai(h,u){const f={kind:"map",no:h.number,name:h.name,jsonName:h.jsonName,K:h.mapKey};if(h.mapValue.message){const A=u.findMessage(h.mapValue.message.typeName);return(0,I.hu)(A,`message "${h.mapValue.message.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"message",T:A}})}if(h.mapValue.enum){const A=u.findEnum(h.mapValue.enum.typeName);return(0,I.hu)(A,`enum "${h.mapValue.enum.typeName}" for ${h.toString()} not found`),Object.assign(Object.assign({},f),{V:{kind:"enum",T:A}})}return Object.assign(Object.assign({},f),{V:{kind:"scalar",T:h.mapValue.scalar}})}function sn(h){const u=h.longType==S.p.STRING?{L:S.p.STRING}:{},f=Object.assign({kind:"scalar",no:h.number,name:h.name,jsonName:h.jsonName,T:h.scalar},u);return h.repeated?Object.assign(Object.assign({},f),{repeated:!0,packed:h.packed,oneof:void 0,T:h.scalar}):h.oneof?Object.assign(Object.assign({},f),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},f),{opt:!0}):f}function Tr(h,u){const f=u.findMessage(h.message.typeName);(0,I.hu)(f,`message "${h.message.typeName}" for ${h.toString()} not found`);const A={kind:"message",no:h.number,name:h.name,jsonName:h.jsonName,T:f,delimited:h.proto.type==Ee.GROUP};return h.repeated?Object.assign(Object.assign({},A),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},A),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},A),{opt:!0}):A}function Lr(h,u){const f=u.findEnum(h.enum.typeName);(0,I.hu)(f,`enum "${h.enum.typeName}" for ${h.toString()} not found`);const A={kind:"enum",no:h.number,name:h.name,jsonName:h.jsonName,T:f};return h.repeated?Object.assign(Object.assign({},A),{repeated:!0,packed:h.packed,oneof:void 0}):h.oneof?Object.assign(Object.assign({},A),{oneof:h.oneof.name}):h.optional?Object.assign(Object.assign({},A),{opt:!0}):A}function Qr(h){if(!(h instanceof Y.v))return h;const u=h.getType(),f={};for(const A of u.fields.byMember()){const x=h[A.localName];let J;if(A.repeated)J=x.map(j=>_n(j));else if(A.kind=="map"){J={};for(const[j,ee]of Object.entries(x))J[j]=_n(ee)}else A.kind=="oneof"?J=A.findField(x.case)?{case:x.case,value:_n(x.value)}:{case:void 0}:J=_n(x);f[A.localName]=J}return f}function _n(h){if(h===void 0)return h;if(h instanceof Y.v)return Qr(h);if(h instanceof Uint8Array){const u=new Uint8Array(h.byteLength);return u.set(h),u}return h}class Lt extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new Lt().fromBinary(u,f)}static fromJson(u,f){return new Lt().fromJson(u,f)}static fromJsonString(u,f){return new Lt().fromJsonString(u,f)}static equals(u,f){return E.util.equals(Lt,u,f)}}Lt.runtime=E,Lt.typeName="google.protobuf.compiler.Version",Lt.fields=E.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);class St extends Y.v{constructor(u){super(),this.fileToGenerate=[],this.protoFile=[],this.sourceFileDescriptors=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new St().fromBinary(u,f)}static fromJson(u,f){return new St().fromJson(u,f)}static fromJsonString(u,f){return new St().fromJsonString(u,f)}static equals(u,f){return E.util.equals(St,u,f)}}St.runtime=E,St.typeName="google.protobuf.compiler.CodeGeneratorRequest",St.fields=E.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Ie,repeated:!0},{no:17,name:"source_file_descriptors",kind:"message",T:Ie,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Lt,opt:!0}]);class gn extends Y.v{constructor(u){super(),this.file=[],E.util.initPartial(u,this)}static fromBinary(u,f){return new gn().fromBinary(u,f)}static fromJson(u,f){return new gn().fromJson(u,f)}static fromJsonString(u,f){return new gn().fromJsonString(u,f)}static equals(u,f){return E.util.equals(gn,u,f)}}gn.runtime=E,gn.typeName="google.protobuf.compiler.CodeGeneratorResponse",gn.fields=E.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:it,repeated:!0}]);var wr;(function(h){h[h.NONE=0]="NONE",h[h.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL",h[h.SUPPORTS_EDITIONS=2]="SUPPORTS_EDITIONS"})(wr||(wr={})),E.util.setEnumType(wr,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"},{no:2,name:"FEATURE_SUPPORTS_EDITIONS"}]);class it extends Y.v{constructor(u){super(),E.util.initPartial(u,this)}static fromBinary(u,f){return new it().fromBinary(u,f)}static fromJson(u,f){return new it().fromJson(u,f)}static fromJsonString(u,f){return new it().fromJsonString(u,f)}static equals(u,f){return E.util.equals(it,u,f)}}it.runtime=E,it.typeName="google.protobuf.compiler.CodeGeneratorResponse.File",it.fields=E.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Oe,opt:!0}]);class At extends Y.v{constructor(u){super(),this.fileName="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new At().fromBinary(u,f)}static fromJson(u,f){return new At().fromJson(u,f)}static fromJsonString(u,f){return new At().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(At,u,f)}}At.runtime=p.w,At.typeName="google.protobuf.SourceContext",At.fields=p.w.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);var Ot;(function(h){h[h.PROTO2=0]="PROTO2",h[h.PROTO3=1]="PROTO3",h[h.EDITIONS=2]="EDITIONS"})(Ot||(Ot={})),p.w.util.setEnumType(Ot,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);class ar extends Y.v{constructor(u){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Ot.PROTO2,this.edition="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new ar().fromBinary(u,f)}static fromJson(u,f){return new ar().fromJson(u,f)}static fromJsonString(u,f){return new ar().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(ar,u,f)}}ar.runtime=p.w,ar.typeName="google.protobuf.Type",ar.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:qn,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:Pe,repeated:!0},{no:5,name:"source_context",kind:"message",T:At},{no:6,name:"syntax",kind:"enum",T:p.w.getEnumType(Ot)},{no:7,name:"edition",kind:"scalar",T:9}]);class qn extends Y.v{constructor(u){super(),this.kind=Kt.TYPE_UNKNOWN,this.cardinality=Gn.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new qn().fromBinary(u,f)}static fromJson(u,f){return new qn().fromJson(u,f)}static fromJsonString(u,f){return new qn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(qn,u,f)}}qn.runtime=p.w,qn.typeName="google.protobuf.Field",qn.fields=p.w.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:p.w.getEnumType(Kt)},{no:2,name:"cardinality",kind:"enum",T:p.w.getEnumType(Gn)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:Pe,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);var Kt;(function(h){h[h.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",h[h.TYPE_DOUBLE=1]="TYPE_DOUBLE",h[h.TYPE_FLOAT=2]="TYPE_FLOAT",h[h.TYPE_INT64=3]="TYPE_INT64",h[h.TYPE_UINT64=4]="TYPE_UINT64",h[h.TYPE_INT32=5]="TYPE_INT32",h[h.TYPE_FIXED64=6]="TYPE_FIXED64",h[h.TYPE_FIXED32=7]="TYPE_FIXED32",h[h.TYPE_BOOL=8]="TYPE_BOOL",h[h.TYPE_STRING=9]="TYPE_STRING",h[h.TYPE_GROUP=10]="TYPE_GROUP",h[h.TYPE_MESSAGE=11]="TYPE_MESSAGE",h[h.TYPE_BYTES=12]="TYPE_BYTES",h[h.TYPE_UINT32=13]="TYPE_UINT32",h[h.TYPE_ENUM=14]="TYPE_ENUM",h[h.TYPE_SFIXED32=15]="TYPE_SFIXED32",h[h.TYPE_SFIXED64=16]="TYPE_SFIXED64",h[h.TYPE_SINT32=17]="TYPE_SINT32",h[h.TYPE_SINT64=18]="TYPE_SINT64"})(Kt||(Kt={})),p.w.util.setEnumType(Kt,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var Gn;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.OPTIONAL=1]="OPTIONAL",h[h.REQUIRED=2]="REQUIRED",h[h.REPEATED=3]="REPEATED"})(Gn||(Gn={})),p.w.util.setEnumType(Gn,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);class ur extends Y.v{constructor(u){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Ot.PROTO2,this.edition="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new ur().fromBinary(u,f)}static fromJson(u,f){return new ur().fromJson(u,f)}static fromJsonString(u,f){return new ur().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(ur,u,f)}}ur.runtime=p.w,ur.typeName="google.protobuf.Enum",ur.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Hn,repeated:!0},{no:3,name:"options",kind:"message",T:Pe,repeated:!0},{no:4,name:"source_context",kind:"message",T:At},{no:5,name:"syntax",kind:"enum",T:p.w.getEnumType(Ot)},{no:6,name:"edition",kind:"scalar",T:9}]);class Hn extends Y.v{constructor(u){super(),this.name="",this.number=0,this.options=[],p.w.util.initPartial(u,this)}static fromBinary(u,f){return new Hn().fromBinary(u,f)}static fromJson(u,f){return new Hn().fromJson(u,f)}static fromJsonString(u,f){return new Hn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Hn,u,f)}}Hn.runtime=p.w,Hn.typeName="google.protobuf.EnumValue",Hn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:Pe,repeated:!0}]);class Pe extends Y.v{constructor(u){super(),this.name="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new Pe().fromBinary(u,f)}static fromJson(u,f){return new Pe().fromJson(u,f)}static fromJsonString(u,f){return new Pe().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Pe,u,f)}}Pe.runtime=p.w,Pe.typeName="google.protobuf.Option",Pe.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Bs.I}]);class Xn extends Y.v{constructor(u){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Ot.PROTO2,p.w.util.initPartial(u,this)}static fromBinary(u,f){return new Xn().fromBinary(u,f)}static fromJson(u,f){return new Xn().fromJson(u,f)}static fromJsonString(u,f){return new Xn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(Xn,u,f)}}Xn.runtime=p.w,Xn.typeName="google.protobuf.Api",Xn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:yn,repeated:!0},{no:3,name:"options",kind:"message",T:Pe,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:At},{no:6,name:"mixins",kind:"message",T:vn,repeated:!0},{no:7,name:"syntax",kind:"enum",T:p.w.getEnumType(Ot)}]);class yn extends Y.v{constructor(u){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Ot.PROTO2,p.w.util.initPartial(u,this)}static fromBinary(u,f){return new yn().fromBinary(u,f)}static fromJson(u,f){return new yn().fromJson(u,f)}static fromJsonString(u,f){return new yn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(yn,u,f)}}yn.runtime=p.w,yn.typeName="google.protobuf.Method",yn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:Pe,repeated:!0},{no:7,name:"syntax",kind:"enum",T:p.w.getEnumType(Ot)}]);class vn extends Y.v{constructor(u){super(),this.name="",this.root="",p.w.util.initPartial(u,this)}static fromBinary(u,f){return new vn().fromBinary(u,f)}static fromJson(u,f){return new vn().fromJson(u,f)}static fromJsonString(u,f){return new vn().fromJsonString(u,f)}static equals(u,f){return p.w.util.equals(vn,u,f)}}vn.runtime=p.w,vn.typeName="google.protobuf.Mixin",vn.fields=p.w.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}])},561:(g,y,T)=>{T.d(y,{v:()=>p});class p{equals(S){return this.getType().runtime.util.equals(this.getType(),this,S)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(S,C){const O=this.getType(),L=O.runtime.bin,B=L.makeReadOptions(C);return L.readMessage(this,B.readerFactory(S),S.byteLength,B),this}fromJson(S,C){const O=this.getType(),L=O.runtime.json,B=L.makeReadOptions(C);return L.readMessage(O,S,B,this),this}fromJsonString(S,C){let O;try{O=JSON.parse(S)}catch(L){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${L instanceof Error?L.message:String(L)}`)}return this.fromJson(O,C)}toBinary(S){const C=this.getType(),O=C.runtime.bin,L=O.makeWriteOptions(S),B=L.writerFactory();return O.writeMessage(this,B,L),B.finish()}toJson(S){const C=this.getType(),O=C.runtime.json,L=O.makeWriteOptions(S);return O.writeMessage(this,L)}toJsonString(S){var C;const O=this.toJson(S);return JSON.stringify(O,null,(C=S==null?void 0:S.prettySpaces)!==null&&C!==void 0?C:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}},120:(g,y,T)=>{T.d(y,{E_:()=>v,fp:()=>D,hu:()=>p,ug:()=>B});function p(N,I){if(!N)throw new Error(I)}const k=34028234663852886e22,S=-34028234663852886e22,C=4294967295,O=2147483647,L=-2147483648;function B(N){if(typeof N!="number")throw new Error("invalid int 32: "+typeof N);if(!Number.isInteger(N)||N>O||N<L)throw new Error("invalid int 32: "+N)}function D(N){if(typeof N!="number")throw new Error("invalid uint 32: "+typeof N);if(!Number.isInteger(N)||N>C||N<0)throw new Error("invalid uint 32: "+N)}function v(N){if(typeof N!="number")throw new Error("invalid float 32: "+typeof N);if(Number.isFinite(N)&&(N>k||N<S))throw new Error("invalid float 32: "+N)}},744:(g,y,T)=>{T.d(y,{Jj:()=>Z,NN:()=>q,gQ:()=>b,gY:()=>R,oQ:()=>z});var p=T(79),k=T(561),S=T(465),C=T(432),O=T(781),L=T(120);const B=Symbol("@bufbuild/protobuf/unknown-fields"),D={readUnknownFields:!0,readerFactory:V=>new p.oP(V)},v={writeUnknownFields:!0,writerFactory:()=>new p.Lt};function N(V){return V?Object.assign(Object.assign({},D),V):D}function I(V){return V?Object.assign(Object.assign({},v),V):v}function R(){return{makeReadOptions:N,makeWriteOptions:I,listUnknownFields(V){var Q;return(Q=V[B])!==null&&Q!==void 0?Q:[]},discardUnknownFields(V){delete V[B]},writeUnknownFields(V,Q){const ne=V[B];if(ne)for(const te of ne)Q.tag(te.no,te.wireType).raw(te.data)},onUnknownField(V,Q,re,ne){const te=V;Array.isArray(te[B])||(te[B]=[]),te[B].push({no:Q,wireType:re,data:ne})},readMessage(V,Q,re,ne,te){const K=V.getType(),ce=te?Q.len:Q.pos+re;let Y,me;for(;Q.pos<ce&&([Y,me]=Q.tag(),me!=p.TD.EndGroup);){const ue=K.fields.find(Y);if(!ue){const Be=Q.skip(me);ne.readUnknownFields&&this.onUnknownField(V,Y,me,Be);continue}let ve=V,Ie=ue.repeated,Ne=ue.localName;switch(ue.oneof&&(ve=ve[ue.oneof.localName],ve.case!=Ne&&delete ve.value,ve.case=Ne,Ne="value"),ue.kind){case"scalar":case"enum":const Be=ue.kind=="enum"?S.w.INT32:ue.T;let ze=F;if(ue.kind=="scalar"&&ue.L>0&&(ze=$),Ie){let wt=ve[Ne];if(me==p.TD.LengthDelimited&&Be!=S.w.STRING&&Be!=S.w.BYTES){let Ee=Q.uint32()+Q.pos;for(;Q.pos<Ee;)wt.push(ze(Q,Be))}else wt.push(ze(Q,Be))}else ve[Ne]=ze(Q,Be);break;case"message":const We=ue.T;Ie?ve[Ne].push(_(Q,new We,ne,ue)):ve[Ne]instanceof k.v?_(Q,ve[Ne],ne,ue):(ve[Ne]=_(Q,new We,ne,ue),We.fieldWrapper&&!ue.oneof&&!ue.repeated&&(ve[Ne]=We.fieldWrapper.unwrapField(ve[Ne])));break;case"map":let[_t,Ut]=E(ue,Q,ne);ve[Ne][_t]=Ut;break}}if(te&&(me!=p.TD.EndGroup||Y!==re))throw new Error("invalid end group tag")}}}function _(V,Q,re,ne){const te=Q.getType().runtime.bin,K=ne==null?void 0:ne.delimited;return te.readMessage(Q,V,K?ne==null?void 0:ne.no:V.uint32(),re,K),Q}function E(V,Q,re){const ne=Q.uint32(),te=Q.pos+ne;let K,ce;for(;Q.pos<te;){let[Y]=Q.tag();switch(Y){case 1:K=F(Q,V.K);break;case 2:switch(V.V.kind){case"scalar":ce=F(Q,V.V.T);break;case"enum":ce=Q.int32();break;case"message":ce=_(Q,new V.V.T,re,void 0);break}break}}if(K===void 0){let Y=(0,O.kY)(V.K,S.p.BIGINT);K=V.K==S.w.BOOL?Y.toString():Y}if(typeof K!="string"&&typeof K!="number"&&(K=K.toString()),ce===void 0)switch(V.V.kind){case"scalar":ce=(0,O.kY)(V.V.T,S.p.BIGINT);break;case"enum":ce=0;break;case"message":ce=new V.V.T;break}return[K,ce]}function $(V,Q){const re=F(V,Q);return typeof re=="bigint"?re.toString():re}function F(V,Q){switch(Q){case S.w.STRING:return V.string();case S.w.BOOL:return V.bool();case S.w.DOUBLE:return V.double();case S.w.FLOAT:return V.float();case S.w.INT32:return V.int32();case S.w.INT64:return V.int64();case S.w.UINT64:return V.uint64();case S.w.FIXED64:return V.fixed64();case S.w.BYTES:return V.bytes();case S.w.FIXED32:return V.fixed32();case S.w.SFIXED32:return V.sfixed32();case S.w.SFIXED64:return V.sfixed64();case S.w.SINT64:return V.sint64();case S.w.UINT32:return V.uint32();case S.w.SINT32:return V.sint32()}}function b(V,Q,re,ne,te){V.tag(re.no,p.TD.LengthDelimited),V.fork();let K=ne;switch(re.K){case S.w.INT32:case S.w.FIXED32:case S.w.UINT32:case S.w.SFIXED32:case S.w.SINT32:K=Number.parseInt(ne);break;case S.w.BOOL:(0,L.hu)(ne=="true"||ne=="false"),K=ne=="true";break}switch(q(V,re.K,1,K,!0),re.V.kind){case"scalar":q(V,re.V.T,2,te,!0);break;case"enum":q(V,S.w.INT32,2,te,!0);break;case"message":V.tag(2,p.TD.LengthDelimited).bytes(te.toBinary(Q));break}V.join()}function z(V,Q,re,ne){if(ne!==void 0){const te=(0,C.E)(re.T,ne);re!=null&&re.delimited?V.tag(re.no,p.TD.StartGroup).raw(te.toBinary(Q)).tag(re.no,p.TD.EndGroup):V.tag(re.no,p.TD.LengthDelimited).bytes(te.toBinary(Q))}}function q(V,Q,re,ne,te){let[K,ce,Y]=(0,O.T1)(Q,ne);(!Y||te)&&V.tag(re,K)[ce](ne)}function Z(V,Q,re,ne){if(!ne.length)return;V.tag(re,p.TD.LengthDelimited).fork();let[,te]=(0,O.T1)(Q);for(let K=0;K<ne.length;K++)V[te](ne[K]);V.join()}},609:(g,y,T)=>{T.d(y,{V3:()=>S,be:()=>O,ut:()=>L,zg:()=>C});var p=T(120);const k=Symbol("@bufbuild/protobuf/enum-type");function S(D){const v=D[k];return(0,p.hu)(v,"missing enum type on enum object"),v}function C(D,v,N,I){D[k]=O(v,N.map(R=>({no:R.no,name:R.name,localName:D[R.no]})))}function O(D,v,N){const I=Object.create(null),R=Object.create(null),_=[];for(const E of v){const $=B(E);_.push($),I[E.name]=$,R[E.no]=$}return{typeName:D,values:_,findName(E){return I[E]},findNumber(E){return R[E]}}}function L(D,v,N){const I={};for(const R of v){const _=B(R);I[_.localName]=_.no,I[_.no]=_.localName}return C(I,D,v),I}function B(D){return"localName"in D?D:Object.assign(Object.assign({},D),{localName:D.name})}},501:(g,y,T)=>{T.d(y,{i:()=>p});class p{constructor(S,C){this._fields=S,this._normalizer=C}findJsonName(S){if(!this.jsonNames){const C={};for(const O of this.list())C[O.jsonName]=C[O.name]=O;this.jsonNames=C}return this.jsonNames[S]}find(S){if(!this.numbers){const C={};for(const O of this.list())C[O.no]=O;this.numbers=C}return this.numbers[S]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((S,C)=>S.no-C.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const S=this.members;let C;for(const O of this.list())O.oneof?O.oneof!==C&&(C=O.oneof,S.push(C)):S.push(O)}return this.members}}},432:(g,y,T)=>{T.d(y,{E:()=>S,w:()=>C});var p=T(561),k=T(465);function S(L,B){return B instanceof p.v||!L.fieldWrapper?B:L.fieldWrapper.wrapField(B)}function C(L){if(L.fieldKind==="message"&&!L.repeated&&L.oneof==null)return O[L.message.typeName]}const O={"google.protobuf.DoubleValue":k.w.DOUBLE,"google.protobuf.FloatValue":k.w.FLOAT,"google.protobuf.Int64Value":k.w.INT64,"google.protobuf.UInt64Value":k.w.UINT64,"google.protobuf.Int32Value":k.w.INT32,"google.protobuf.UInt32Value":k.w.UINT32,"google.protobuf.BoolValue":k.w.BOOL,"google.protobuf.StringValue":k.w.STRING,"google.protobuf.BytesValue":k.w.BYTES}},215:(g,y,T)=>{T.d(y,{o:()=>S});var p=T(504),k=T(120);class S{constructor(O){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=O,this.localName=(0,p.uA)(O)}addField(O){(0,k.hu)(O.oneof===this,`field ${O.name} not one of ${this.name}`),this.fields.push(O)}findField(O){if(!this._lookup){this._lookup=Object.create(null);for(let L=0;L<this.fields.length;L++)this._lookup[this.fields[L].localName]=this.fields[L]}return this._lookup[O]}}},814:(g,y,T)=>{T.d(y,{b:()=>N});var p=T(561),k=T(465),S=T(120),C=T(210),O=T(236);const L={ignoreUnknownFields:!1},B={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function D(F){return F?Object.assign(Object.assign({},L),F):L}function v(F){return F?Object.assign(Object.assign({},B),F):B}function N(F){const b=F(E,$);return{makeReadOptions:D,makeWriteOptions:v,readMessage(z,q,Z,V){if(q==null||Array.isArray(q)||typeof q!="object")throw new Error(`cannot decode message ${z.typeName} from JSON: ${this.debug(q)}`);V=V??new z;const Q={};for(const[re,ne]of Object.entries(q)){const te=z.fields.findJsonName(re);if(!te){if(!Z.ignoreUnknownFields)throw new Error(`cannot decode message ${z.typeName} from JSON: key "${re}" is unknown`);continue}let K=te.localName,ce=V;if(te.oneof){if(ne===null&&te.kind=="scalar")continue;const Y=Q[te.oneof.localName];if(Y)throw new Error(`cannot decode message ${z.typeName} from JSON: multiple keys for oneof "${te.oneof.name}" present: "${Y}", "${re}"`);Q[te.oneof.localName]=re,ce=ce[te.oneof.localName]={case:K},K="value"}if(te.repeated){if(ne===null)continue;if(!Array.isArray(ne))throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`);const Y=ce[K];for(const me of ne){if(me===null)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(me)}`);let ue;switch(te.kind){case"message":ue=te.T.fromJson(me,Z);break;case"enum":if(ue=_(te.T,me,Z.ignoreUnknownFields),ue===void 0)continue;break;case"scalar":try{ue=R(te.T,me,te.L)}catch(ve){let Ie=`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(me)}`;throw ve instanceof Error&&ve.message.length>0&&(Ie+=`: ${ve.message}`),new Error(Ie)}break}Y.push(ue)}}else if(te.kind=="map"){if(ne===null)continue;if(Array.isArray(ne)||typeof ne!="object")throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`);const Y=ce[K];for(const[me,ue]of Object.entries(ne)){if(ue===null)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: map value null`);let ve;switch(te.V.kind){case"message":ve=te.V.T.fromJson(ue,Z);break;case"enum":if(ve=_(te.V.T,ue,Z.ignoreUnknownFields),ve===void 0)continue;break;case"scalar":try{ve=R(te.V.T,ue,k.p.BIGINT)}catch(Ie){let Ne=`cannot decode map value for field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw Ie instanceof Error&&Ie.message.length>0&&(Ne+=`: ${Ie.message}`),new Error(Ne)}break}try{Y[R(te.K,te.K==k.w.BOOL?me=="true"?!0:me=="false"?!1:me:me,k.p.BIGINT).toString()]=ve}catch(Ie){let Ne=`cannot decode map key for field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw Ie instanceof Error&&Ie.message.length>0&&(Ne+=`: ${Ie.message}`),new Error(Ne)}}}else switch(te.kind){case"message":const Y=te.T;if(ne===null&&Y.typeName!="google.protobuf.Value"){if(te.oneof)throw new Error(`cannot decode field ${z.typeName}.${te.name} from JSON: null is invalid for oneof field "${re}"`);continue}ce[K]instanceof p.v?ce[K].fromJson(ne,Z):(ce[K]=Y.fromJson(ne,Z),Y.fieldWrapper&&!te.oneof&&(ce[K]=Y.fieldWrapper.unwrapField(ce[K])));break;case"enum":const me=_(te.T,ne,Z.ignoreUnknownFields);me!==void 0&&(ce[K]=me);break;case"scalar":try{ce[K]=R(te.T,ne,te.L)}catch(ue){let ve=`cannot decode field ${z.typeName}.${te.name} from JSON: ${this.debug(ne)}`;throw ue instanceof Error&&ue.message.length>0&&(ve+=`: ${ue.message}`),new Error(ve)}break}}return V},writeMessage(z,q){const Z=z.getType(),V={};let Q;try{for(const re of Z.fields.byMember()){let ne;if(re.kind=="oneof"){const te=z[re.localName];if(te.value===void 0)continue;if(Q=re.findField(te.case),!Q)throw"oneof case not found: "+te.case;ne=b(Q,te.value,q)}else Q=re,ne=b(Q,z[Q.localName],q);ne!==void 0&&(V[q.useProtoFieldName?Q.name:Q.jsonName]=ne)}}catch(re){const ne=Q?`cannot encode field ${Z.typeName}.${Q.name} to JSON`:`cannot encode message ${Z.typeName} to JSON`,te=re instanceof Error?re.message:String(re);throw new Error(ne+(te.length>0?`: ${te}`:""))}return V},readScalar:R,writeScalar:$,debug:I}}function I(F){if(F===null)return"null";switch(typeof F){case"object":return Array.isArray(F)?"array":"object";case"string":return F.length>100?"string":`"${F.split('"').join('\\"')}"`;default:return String(F)}}function R(F,b,z){switch(F){case k.w.DOUBLE:case k.w.FLOAT:if(b===null)return 0;if(b==="NaN")return Number.NaN;if(b==="Infinity")return Number.POSITIVE_INFINITY;if(b==="-Infinity")return Number.NEGATIVE_INFINITY;if(b===""||typeof b=="string"&&b.trim().length!==b.length||typeof b!="string"&&typeof b!="number")break;const q=Number(b);if(Number.isNaN(q)||!Number.isFinite(q))break;return F==k.w.FLOAT&&(0,S.E_)(q),q;case k.w.INT32:case k.w.FIXED32:case k.w.SFIXED32:case k.w.SINT32:case k.w.UINT32:if(b===null)return 0;let Z;if(typeof b=="number"?Z=b:typeof b=="string"&&b.length>0&&b.trim().length===b.length&&(Z=Number(b)),Z===void 0)break;return F==k.w.UINT32?(0,S.fp)(Z):(0,S.ug)(Z),Z;case k.w.INT64:case k.w.SFIXED64:case k.w.SINT64:if(b===null)return C.q.zero;if(typeof b!="number"&&typeof b!="string")break;const V=C.q.parse(b);return z?V.toString():V;case k.w.FIXED64:case k.w.UINT64:if(b===null)return C.q.zero;if(typeof b!="number"&&typeof b!="string")break;const Q=C.q.uParse(b);return z?Q.toString():Q;case k.w.BOOL:if(b===null)return!1;if(typeof b!="boolean")break;return b;case k.w.STRING:if(b===null)return"";if(typeof b!="string")break;try{encodeURIComponent(b)}catch{throw new Error("invalid UTF8")}return b;case k.w.BYTES:if(b===null||b==="")return new Uint8Array(0);if(typeof b!="string")break;return O.W.dec(b)}throw new Error}function _(F,b,z){if(b===null)return 0;switch(typeof b){case"number":if(Number.isInteger(b))return b;break;case"string":const q=F.findName(b);if(q||z)return q==null?void 0:q.no;break}throw new Error(`cannot decode enum ${F.typeName} from JSON: ${I(b)}`)}function E(F,b,z,q){var Z;if(b===void 0)return b;if(b===0&&!z)return;if(q)return b;if(F.typeName=="google.protobuf.NullValue")return null;const V=F.findNumber(b);return(Z=V==null?void 0:V.name)!==null&&Z!==void 0?Z:b}function $(F,b,z){if(b!==void 0)switch(F){case k.w.INT32:case k.w.SFIXED32:case k.w.SINT32:case k.w.FIXED32:case k.w.UINT32:return(0,S.hu)(typeof b=="number"),b!=0||z?b:void 0;case k.w.FLOAT:case k.w.DOUBLE:return(0,S.hu)(typeof b=="number"),Number.isNaN(b)?"NaN":b===Number.POSITIVE_INFINITY?"Infinity":b===Number.NEGATIVE_INFINITY?"-Infinity":b!==0||z?b:void 0;case k.w.STRING:return(0,S.hu)(typeof b=="string"),b.length>0||z?b:void 0;case k.w.BOOL:return(0,S.hu)(typeof b=="boolean"),b||z?b:void 0;case k.w.UINT64:case k.w.FIXED64:case k.w.INT64:case k.w.SFIXED64:case k.w.SINT64:return(0,S.hu)(typeof b=="bigint"||typeof b=="string"||typeof b=="number"),z||b!=0?b.toString(10):void 0;case k.w.BYTES:return(0,S.hu)(b instanceof Uint8Array),z||b.byteLength>0?O.W.enc(b):void 0}}},504:(g,y,T)=>{T.d(y,{GD:()=>E,Rz:()=>k,Sm:()=>O,ll:()=>_,r1:()=>p,uA:()=>S,x1:()=>C});function p($){switch($.kind){case"field":return k($.name,$.oneof!==void 0);case"oneof":return S($.name);case"enum":case"message":case"service":{const F=$.file.proto.package,b=F===void 0?0:F.length+1,z=$.typeName.substring(b).replace(/\./g,"_");return _(E(z))}case"enum_value":{const F=$.parent.sharedPrefix;if(F===void 0)return $.name;const b=$.name.substring(F.length);return _(b)}case"rpc":{let F=$.name;return F.length==0?F:(F=F[0].toLowerCase()+F.substring(1),_(F))}}}function k($,F){const b=B($);return F?b:_(R(b))}function S($){return k($,!1)}const C=B;function O($,F){const b=L($)+"_";for(const z of F){if(!z.toLowerCase().startsWith(b))return;const q=z.substring(b.length);if(q.length==0||/^\d/.test(q))return}return b}function L($){return($.substring(0,1)+$.substring(1).replace(/[A-Z]/g,F=>"_"+F)).toLowerCase()}function B($){let F=!1;const b=[];for(let z=0;z<$.length;z++){let q=$.charAt(z);switch(q){case"_":F=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b.push(q),F=!1;break;default:F&&(F=!1,q=q.toUpperCase()),b.push(q);break}}return b.join("")}const D=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),v=new Set(["constructor","toString","toJSON","valueOf"]),N=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),I=$=>`${$}$`,R=$=>N.has($)?I($):$,_=$=>v.has($)?I($):$,E=$=>D.has($)?I($):$},493:(g,y,T)=>{T.d(y,{F:()=>C});var p=T(609),k=T(561);function S(O,L,B,D){var v;const N=(v=D==null?void 0:D.localName)!==null&&v!==void 0?v:L.substring(L.lastIndexOf(".")+1),I={[N]:function(R){O.util.initFields(this),O.util.initPartial(R,this)}}[N];return Object.setPrototypeOf(I.prototype,new k.v),Object.assign(I,{runtime:O,typeName:L,fields:O.util.newFieldList(B),fromBinary(R,_){return new I().fromBinary(R,_)},fromJson(R,_){return new I().fromJson(R,_)},fromJsonString(R,_){return new I().fromJsonString(R,_)},equals(R,_){return O.util.equals(I,R,_)}}),I}function C(O,L,B,D){return{syntax:O,json:L,bin:B,util:D,makeMessageType(v,N,I){return S(this,v,N,I)},makeEnum:p.ut,makeEnumType:p.be,getEnumType:p.V3}}},781:(g,y,T)=>{T.d(y,{AA:()=>C,T1:()=>L,kY:()=>O});var p=T(465),k=T(79),S=T(210);function C(B,D,v){if(D===v)return!0;if(B==p.w.BYTES){if(!(D instanceof Uint8Array)||!(v instanceof Uint8Array)||D.length!==v.length)return!1;for(let N=0;N<D.length;N++)if(D[N]!==v[N])return!1;return!0}switch(B){case p.w.UINT64:case p.w.FIXED64:case p.w.INT64:case p.w.SFIXED64:case p.w.SINT64:return D==v}return!1}function O(B,D){switch(B){case p.w.BOOL:return!1;case p.w.UINT64:case p.w.FIXED64:case p.w.INT64:case p.w.SFIXED64:case p.w.SINT64:return D==0?S.q.zero:"0";case p.w.DOUBLE:case p.w.FLOAT:return 0;case p.w.BYTES:return new Uint8Array(0);case p.w.STRING:return"";default:return 0}}function L(B,D){const v=D===void 0;let N=k.TD.Varint,I=D===0;switch(B){case p.w.STRING:I=v||!D.length,N=k.TD.LengthDelimited;break;case p.w.BOOL:I=D===!1;break;case p.w.DOUBLE:N=k.TD.Bit64;break;case p.w.FLOAT:N=k.TD.Bit32;break;case p.w.INT64:I=v||D==0;break;case p.w.UINT64:I=v||D==0;break;case p.w.FIXED64:I=v||D==0,N=k.TD.Bit64;break;case p.w.BYTES:I=v||!D.byteLength,N=k.TD.LengthDelimited;break;case p.w.FIXED32:N=k.TD.Bit32;break;case p.w.SFIXED32:N=k.TD.Bit32;break;case p.w.SFIXED64:I=v||D==0,N=k.TD.Bit64;break;case p.w.SINT64:I=v||D==0;break}const R=p.w[B].toLowerCase();return[N,R,v||I]}},433:(g,y,T)=>{T.d(y,{f:()=>O});var p=T(609),k=T(561),S=T(465),C=T(781);function O(){return{setEnumType:p.zg,initPartial(D,v){if(D===void 0)return;const N=v.getType();for(const I of N.fields.byMember()){const R=I.localName,_=v,E=D;if(E[R]!==void 0)switch(I.kind){case"oneof":const $=E[R].case;if($===void 0)continue;const F=I.findField($);let b=E[R].value;F&&F.kind=="message"&&!(b instanceof F.T)?b=new F.T(b):F&&F.kind==="scalar"&&F.T===S.w.BYTES&&(b=B(b)),_[R]={case:$,value:b};break;case"scalar":case"enum":let z=E[R];I.T===S.w.BYTES&&(z=I.repeated?z.map(B):B(z)),_[R]=z;break;case"map":switch(I.V.kind){case"scalar":case"enum":if(I.V.T===S.w.BYTES)for(const[V,Q]of Object.entries(E[R]))_[R][V]=B(Q);else Object.assign(_[R],E[R]);break;case"message":const Z=I.V.T;for(const V of Object.keys(E[R])){let Q=E[R][V];Z.fieldWrapper||(Q=new Z(Q)),_[R][V]=Q}break}break;case"message":const q=I.T;if(I.repeated)_[R]=E[R].map(Z=>Z instanceof q?Z:new q(Z));else if(E[R]!==void 0){const Z=E[R];q.fieldWrapper?q.typeName==="google.protobuf.BytesValue"?_[R]=B(Z):_[R]=Z:_[R]=Z instanceof q?Z:new q(Z)}break}}},equals(D,v,N){return v===N?!0:!v||!N?!1:D.fields.byMember().every(I=>{const R=v[I.localName],_=N[I.localName];if(I.repeated){if(R.length!==_.length)return!1;switch(I.kind){case"message":return R.every((E,$)=>I.T.equals(E,_[$]));case"scalar":return R.every((E,$)=>(0,C.AA)(I.T,E,_[$]));case"enum":return R.every((E,$)=>(0,C.AA)(S.w.INT32,E,_[$]))}throw new Error(`repeated cannot contain ${I.kind}`)}switch(I.kind){case"message":return I.T.equals(R,_);case"enum":return(0,C.AA)(S.w.INT32,R,_);case"scalar":return(0,C.AA)(I.T,R,_);case"oneof":if(R.case!==_.case)return!1;const E=I.findField(R.case);if(E===void 0)return!0;switch(E.kind){case"message":return E.T.equals(R.value,_.value);case"enum":return(0,C.AA)(S.w.INT32,R.value,_.value);case"scalar":return(0,C.AA)(E.T,R.value,_.value)}throw new Error(`oneof cannot contain ${E.kind}`);case"map":const $=Object.keys(R).concat(Object.keys(_));switch(I.V.kind){case"message":const F=I.V.T;return $.every(z=>F.equals(R[z],_[z]));case"enum":return $.every(z=>(0,C.AA)(S.w.INT32,R[z],_[z]));case"scalar":const b=I.V.T;return $.every(z=>(0,C.AA)(b,R[z],_[z]))}break}})},clone(D){const v=D.getType(),N=new v,I=N;for(const R of v.fields.byMember()){const _=D[R.localName];let E;if(R.repeated)E=_.map(L);else if(R.kind=="map"){E=I[R.localName];for(const[$,F]of Object.entries(_))E[$]=L(F)}else R.kind=="oneof"?E=R.findField(_.case)?{case:_.case,value:L(_.value)}:{case:void 0}:E=L(_);I[R.localName]=E}return N}}}function L(D){if(D===void 0)return D;if(D instanceof k.v)return D.clone();if(D instanceof Uint8Array){const v=new Uint8Array(D.byteLength);return v.set(D),v}return D}function B(D){return D instanceof Uint8Array?D:new Uint8Array(D)}},236:(g,y,T)=>{T.d(y,{W:()=>S});let p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),k=[];for(let C=0;C<p.length;C++)k[p[C].charCodeAt(0)]=C;k["-".charCodeAt(0)]=p.indexOf("+"),k["_".charCodeAt(0)]=p.indexOf("/");const S={dec(C){let O=C.length*3/4;C[C.length-2]=="="?O-=2:C[C.length-1]=="="&&(O-=1);let L=new Uint8Array(O),B=0,D=0,v,N=0;for(let I=0;I<C.length;I++){if(v=k[C.charCodeAt(I)],v===void 0)switch(C[I]){case"=":D=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(D){case 0:N=v,D=1;break;case 1:L[B++]=N<<2|(v&48)>>4,N=v,D=2;break;case 2:L[B++]=(N&15)<<4|(v&60)>>2,N=v,D=3;break;case 3:L[B++]=(N&3)<<6|v,D=0;break}}if(D==1)throw Error("invalid base64 string.");return L.subarray(0,B)},enc(C){let O="",L=0,B,D=0;for(let v=0;v<C.length;v++)switch(B=C[v],L){case 0:O+=p[B>>2],D=(B&3)<<4,L=1;break;case 1:O+=p[D|B>>4],D=(B&15)<<2,L=2;break;case 2:O+=p[D|B>>6],O+=p[B&63],L=0;break}return L&&(O+=p[D],O+="=",L==1&&(O+="=")),O}}},210:(g,y,T)=>{T.d(y,{q:()=>C});var p=T(120),k=T(818);function S(){const O=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof O.getBigInt64=="function"&&typeof O.getBigUint64=="function"&&typeof O.setBigInt64=="function"&&typeof O.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const v=BigInt("-9223372036854775808"),N=BigInt("9223372036854775807"),I=BigInt("0"),R=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(_){const E=typeof _=="bigint"?_:BigInt(_);if(E>N||E<v)throw new Error(`int64 invalid: ${_}`);return E},uParse(_){const E=typeof _=="bigint"?_:BigInt(_);if(E>R||E<I)throw new Error(`uint64 invalid: ${_}`);return E},enc(_){return O.setBigInt64(0,this.parse(_),!0),{lo:O.getInt32(0,!0),hi:O.getInt32(4,!0)}},uEnc(_){return O.setBigInt64(0,this.uParse(_),!0),{lo:O.getInt32(0,!0),hi:O.getInt32(4,!0)}},dec(_,E){return O.setInt32(0,_,!0),O.setInt32(4,E,!0),O.getBigInt64(0,!0)},uDec(_,E){return O.setInt32(0,_,!0),O.setInt32(4,E,!0),O.getBigUint64(0,!0)}}}const B=v=>(0,p.hu)(/^-?[0-9]+$/.test(v),`int64 invalid: ${v}`),D=v=>(0,p.hu)(/^[0-9]+$/.test(v),`uint64 invalid: ${v}`);return{zero:"0",supported:!1,parse(v){return typeof v!="string"&&(v=v.toString()),B(v),v},uParse(v){return typeof v!="string"&&(v=v.toString()),D(v),v},enc(v){return typeof v!="string"&&(v=v.toString()),B(v),(0,k.CZ)(v)},uEnc(v){return typeof v!="string"&&(v=v.toString()),D(v),(0,k.CZ)(v)},dec(v,N){return(0,k.Ak)(v,N)},uDec(v,N){return(0,k.Fd)(v,N)}}}const C=S()},850:(g,y,T)=>{T.d(y,{w:()=>E});var p=T(493),k=T(465),S=T(744);function C(){return Object.assign(Object.assign({},(0,S.gY)()),{writeMessage(F,b,z){const q=F.getType();for(const Z of q.fields.byNumber()){let V,Q=Z.repeated,re=Z.localName;if(Z.oneof){const ne=F[Z.oneof.localName];if(ne.case!==re)continue;V=ne.value}else V=F[re];switch(Z.kind){case"scalar":case"enum":let ne=Z.kind=="enum"?k.w.INT32:Z.T;if(Q)if(Z.packed)(0,S.Jj)(b,ne,Z.no,V);else for(const te of V)(0,S.NN)(b,ne,Z.no,te,!0);else V!==void 0&&(0,S.NN)(b,ne,Z.no,V,!!Z.oneof||Z.opt);break;case"message":if(Q)for(const te of V)(0,S.oQ)(b,z,Z,te);else(0,S.oQ)(b,z,Z,V);break;case"map":for(const[te,K]of Object.entries(V))(0,S.gQ)(b,z,Z,te,K);break}}return z.writeUnknownFields&&this.writeUnknownFields(F,b),b}})}var O=T(432),L=T(120),B=T(814);function D(){return(0,B.b)((F,b)=>function(q,Z,V){if(q.kind=="map"){const Q={};switch(q.V.kind){case"scalar":for(const[ne,te]of Object.entries(Z)){const K=b(q.V.T,te,!0);(0,L.hu)(K!==void 0),Q[ne.toString()]=K}break;case"message":for(const[ne,te]of Object.entries(Z))Q[ne.toString()]=te.toJson(V);break;case"enum":const re=q.V.T;for(const[ne,te]of Object.entries(Z)){(0,L.hu)(te===void 0||typeof te=="number");const K=F(re,te,!0,V.enumAsInteger);(0,L.hu)(K!==void 0),Q[ne.toString()]=K}break}return V.emitDefaultValues||Object.keys(Q).length>0?Q:void 0}else if(q.repeated){const Q=[];switch(q.kind){case"scalar":for(let re=0;re<Z.length;re++)Q.push(b(q.T,Z[re],!0));break;case"enum":for(let re=0;re<Z.length;re++)Q.push(F(q.T,Z[re],!0,V.enumAsInteger));break;case"message":for(let re=0;re<Z.length;re++)Q.push((0,O.E)(q.T,Z[re]).toJson(V));break}return V.emitDefaultValues||Q.length>0?Q:void 0}else switch(q.kind){case"scalar":return b(q.T,Z,!!q.oneof||q.opt||V.emitDefaultValues);case"enum":return F(q.T,Z,!!q.oneof||q.opt||V.emitDefaultValues,V.enumAsInteger);case"message":return Z!==void 0?(0,O.E)(q.T,Z).toJson(V):void 0}})}var v=T(433),N=T(501),I=T(781),R=T(215),_=T(504);const E=(0,p.F)("proto3",D(),C(),Object.assign(Object.assign({},(0,v.f)()),{newFieldList(F){return new N.i(F,$)},initFields(F){for(const b of F.getType().fields.byMember()){if(b.opt)continue;const z=b.localName,q=F;if(b.repeated){q[z]=[];continue}switch(b.kind){case"oneof":q[z]={case:void 0};break;case"enum":q[z]=0;break;case"map":q[z]={};break;case"scalar":q[z]=(0,I.kY)(b.T,b.L);break}}}}));function $(F){var b,z,q,Z;const V=[];let Q;for(const re of typeof F=="function"?F():F){const ne=re;if(ne.localName=(0,_.Rz)(re.name,re.oneof!==void 0),ne.jsonName=(b=re.jsonName)!==null&&b!==void 0?b:(0,_.x1)(re.name),ne.repeated=(z=re.repeated)!==null&&z!==void 0?z:!1,re.kind=="scalar"&&(ne.L=(q=re.L)!==null&&q!==void 0?q:k.p.BIGINT),re.oneof!==void 0){const te=typeof re.oneof=="string"?re.oneof:re.oneof.name;(!Q||Q.name!=te)&&(Q=new R.o(te)),ne.oneof=Q,Q.addField(ne)}re.kind=="message"&&(ne.delimited=!1),ne.packed=(Z=re.packed)!==null&&Z!==void 0?Z:re.kind=="enum"||re.kind=="scalar"&&re.T!=k.w.BYTES&&re.T!=k.w.STRING,V.push(ne)}return V}},328:(g,y,T)=>{T.d(y,{t:()=>p,w:()=>k});var p;(function(S){S[S.Unary=0]="Unary",S[S.ServerStreaming=1]="ServerStreaming",S[S.ClientStreaming=2]="ClientStreaming",S[S.BiDiStreaming=3]="BiDiStreaming"})(p||(p={}));var k;(function(S){S[S.NoSideEffects=1]="NoSideEffects",S[S.Idempotent=2]="Idempotent"})(k||(k={}))}},o={};function c(g){var y=o[g];if(y!==void 0)return y.exports;var T=o[g]={exports:{}};return i[g](T,T.exports,c),T.exports}c.d=(g,y)=>{for(var T in y)c.o(y,T)&&!c.o(g,T)&&Object.defineProperty(g,T,{enumerable:!0,get:y[T]})},c.o=(g,y)=>Object.prototype.hasOwnProperty.call(g,y),c.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var d={};return(()=>{c.r(d),c.d(d,{Change:()=>Ci,Client:()=>hf,ClientEventType:()=>Qn,ClientStatus:()=>ti,Counter:()=>Wo,Devtools:()=>g,DocEventType:()=>we,Document:()=>ff,DocumentSyncResultType:()=>is,EventSourceDevPanel:()=>uf,EventSourceSDK:()=>lf,Primitive:()=>Ye,StreamConnectionStatus:()=>rs,SyncMode:()=>Rn,Text:()=>zo,TimeTicket:()=>je,Tree:()=>Ko,converter:()=>yt,default:()=>xp,setLogLevel:()=>p});var g={};c.r(g);var y;(function(a){a[a.Trivial=0]="Trivial",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"})(y||(y={}));let T=y.Info;function p(a){T=a}const k={trivial:(...a)=>{T>y.Trivial||typeof console<"u"&&console.log("YORKIE T:",...a)},debug:(...a)=>{T>y.Debug||typeof console<"u"&&console.log("YORKIE D:",...a)},info:(...a)=>{T>y.Info||typeof console<"u"&&console.log("YORKIE I:",...a)},warn:(...a)=>{T>y.Warn||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...a):console.log("YORKIE W:",...a))},error:(...a)=>{T>y.Error||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...a):console.log("YORKIE E:",...a))},fatal:(a,...t)=>{throw typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...t):console.log("YORKIE F:",...t)),new Error(`YORKIE F: ${a}`)},isEnabled:a=>T<=a};function S(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,a=>{const t=Math.random()*16|0;return(a==="x"?t:t&3|8).toString(16)})}const C=()=>{};class O{constructor(t){this.finalized=!1,this.observers=[];try{t(this)}catch(r){this.error(r)}}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let l;t||k.fatal("missing observer"),this.finalized&&k.fatal("observable is finalized due to previous error"),typeof t=="object"?l=t:l={next:t,error:r,complete:s},l.next===void 0&&(l.next=C),l.error===void 0&&(l.error=C),l.complete===void 0&&(l.complete=C);const m=S(),w=this.unsubscribeOne.bind(this,m);if(this.observers.push({subscriptionID:m,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(P){k.warn(P)}return w}unsubscribeOne(t){var r;this.observers=(r=this.observers)===null||r===void 0?void 0:r.filter(s=>s.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t].observer)}catch(s){k.error(s)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function L(a){const t=new O(a);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}var B=c(328);function D(a,t){const r={};for(const[s,l]of Object.entries(a.methods)){const m=t(Object.assign(Object.assign({},l),{localName:s,service:a}));m!=null&&(r[s]=m)}return r}var v;(function(a){a[a.Canceled=1]="Canceled",a[a.Unknown=2]="Unknown",a[a.InvalidArgument=3]="InvalidArgument",a[a.DeadlineExceeded=4]="DeadlineExceeded",a[a.NotFound=5]="NotFound",a[a.AlreadyExists=6]="AlreadyExists",a[a.PermissionDenied=7]="PermissionDenied",a[a.ResourceExhausted=8]="ResourceExhausted",a[a.FailedPrecondition=9]="FailedPrecondition",a[a.Aborted=10]="Aborted",a[a.OutOfRange=11]="OutOfRange",a[a.Unimplemented=12]="Unimplemented",a[a.Internal=13]="Internal",a[a.Unavailable=14]="Unavailable",a[a.DataLoss=15]="DataLoss",a[a.Unauthenticated=16]="Unauthenticated"})(v||(v={}));var N=c(561);function I(a){const t=v[a];return typeof t!="string"?a.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class R extends Error{constructor(t,r=v.Unknown,s,l,m){super(_(t,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=r,this.metadata=new Headers(s??{}),this.details=l??[],this.cause=m}static from(t,r=v.Unknown){return t instanceof R?t:t instanceof Error?t.name=="AbortError"?new R(t.message,v.Canceled):new R(t.message,r,void 0,void 0,t):new R(String(t),r,void 0,void 0,t)}findDetails(t){const r="typeName"in t?{findMessage:l=>l===t.typeName?t:void 0}:t,s=[];for(const l of this.details){if(l instanceof N.v){r.findMessage(l.getType().typeName)&&s.push(l);continue}const m=r.findMessage(l.type);if(m)try{s.push(m.fromBinary(l.value))}catch{}}return s}}function _(a,t){return a.length?`[${I(t)}] ${a}`:`[${I(t)}]`}var E=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],r;return t?t.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(m){r[m]=a[m]&&function(w){return new Promise(function(P,U){w=a[m](w),l(P,U,w.done,w.value)})}}function l(m,w,P,U){Promise.resolve(U).then(function(M){m({value:M,done:P})},w)}},$=function(a){return this instanceof $?(this.v=a,this):new $(a)},F=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),l,m=[];return l={},w("next"),w("throw"),w("return"),l[Symbol.asyncIterator]=function(){return this},l;function w(X){s[X]&&(l[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||P(X,he)})})}function P(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof $?Promise.resolve(X.value.v).then(M,H):le(m[0][2],X)}function M(X){P("next",X)}function H(X){P("throw",X)}function le(X,he){X(he),m.shift(),m.length&&P(m[0][0],m[0][1])}},b=function(a){var t,r;return t={},s("next"),s("throw",function(l){throw l}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(l,m){t[l]=a[l]?function(w){return(r=!r)?{value:$(a[l](w)),done:!1}:m?m(w):w}:m}};function z(a){return F(this,arguments,function*(){yield $(yield*b(E(a)))})}var q=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],r;return t?t.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(m){r[m]=a[m]&&function(w){return new Promise(function(P,U){w=a[m](w),l(P,U,w.done,w.value)})}}function l(m,w,P,U){Promise.resolve(U).then(function(M){m({value:M,done:P})},w)}},Z=function(a){return this instanceof Z?(this.v=a,this):new Z(a)},V=function(a){var t,r;return t={},s("next"),s("throw",function(l){throw l}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(l,m){t[l]=a[l]?function(w){return(r=!r)?{value:Z(a[l](w)),done:!1}:m?m(w):w}:m}},Q=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),l,m=[];return l={},w("next"),w("throw"),w("return"),l[Symbol.asyncIterator]=function(){return this},l;function w(X){s[X]&&(l[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||P(X,he)})})}function P(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof Z?Promise.resolve(X.value.v).then(M,H):le(m[0][2],X)}function M(X){P("next",X)}function H(X){P("throw",X)}function le(X,he){X(he),m.shift(),m.length&&P(m[0][0],m[0][1])}};function re(a,t){return D(a,r=>{switch(r.kind){case B.t.Unary:return ne(t,a,r);case B.t.ServerStreaming:return te(t,a,r);case B.t.ClientStreaming:return K(t,a,r);case B.t.BiDiStreaming:return ce(t,a,r);default:return null}})}function ne(a,t,r){return async function(s,l){var m,w;const P=await a.unary(t,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,s,l==null?void 0:l.contextValues);return(m=l==null?void 0:l.onHeader)===null||m===void 0||m.call(l,P.header),(w=l==null?void 0:l.onTrailer)===null||w===void 0||w.call(l,P.trailer),P.message}}function te(a,t,r){return function(s,l){return Y(a.stream(t,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,z([s]),l==null?void 0:l.contextValues),l)}}function K(a,t,r){return async function(s,l){var m,w,P,U,M,H;const le=await a.stream(t,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,s,l==null?void 0:l.contextValues);(M=l==null?void 0:l.onHeader)===null||M===void 0||M.call(l,le.header);let X;try{for(var he=!0,Se=q(le.message),ke;ke=await Se.next(),m=ke.done,!m;he=!0)U=ke.value,he=!1,X=U}catch(Ce){w={error:Ce}}finally{try{!he&&!m&&(P=Se.return)&&await P.call(Se)}finally{if(w)throw w.error}}if(!X)throw new R("protocol error: missing response message",v.Internal);return(H=l==null?void 0:l.onTrailer)===null||H===void 0||H.call(l,le.trailer),X}}function ce(a,t,r){return function(s,l){return Y(a.stream(t,r,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,s,l==null?void 0:l.contextValues),l)}}function Y(a,t){const r=function(){var s,l;return Q(this,arguments,function*(){const m=yield Z(a);(s=t==null?void 0:t.onHeader)===null||s===void 0||s.call(t,m.header),yield Z(yield*V(q(m.message))),(l=t==null?void 0:t.onTrailer)===null||l===void 0||l.call(t,m.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function me(){return{get(a){return a.id in this?this[a.id]:a.defaultValue},set(a,t){return this[a.id]=t,this},delete(a){return delete this[a.id],this}}}function ue(a){var t;const r=Object.assign({},a);return(t=r.ignoreUnknownFields)!==null&&t!==void 0||(r.ignoreUnknownFields=!0),r}function ve(a,t,r,s){const l=t?Ie(a.I,s):Ne(a.I,r);return{parse:(t?Ie(a.O,s):Ne(a.O,r)).parse,serialize:l.serialize}}function Ie(a,t){return{parse(r){try{return a.fromBinary(r,t)}catch(s){const l=s instanceof Error?s.message:String(s);throw new R(`parse binary: ${l}`,v.InvalidArgument)}},serialize(r){try{return r.toBinary(t)}catch(s){const l=s instanceof Error?s.message:String(s);throw new R(`serialize binary: ${l}`,v.Internal)}}}}function Ne(a,t){var r,s;const l=(r=t==null?void 0:t.textEncoder)!==null&&r!==void 0?r:new TextEncoder,m=(s=t==null?void 0:t.textDecoder)!==null&&s!==void 0?s:new TextDecoder,w=ue(t);return{parse(P){try{const U=m.decode(P);return a.fromJsonString(U,w)}catch(U){throw R.from(U,v.InvalidArgument)}},serialize(P){try{const U=P.toJsonString(w);return l.encode(U)}catch(U){throw R.from(U,v.Internal)}}}}function Be(...a){const t=new AbortController,r=a.filter(l=>l!==void 0).concat(t.signal);for(const l of r){if(l.aborted){s.apply(l);break}l.addEventListener("abort",s)}function s(){t.signal.aborted||t.abort(We(this));for(const l of r)l.removeEventListener("abort",s)}return t}function ze(a){const t=new AbortController,r=()=>{t.abort(new R("the operation timed out",v.DeadlineExceeded))};let s;return a!==void 0&&(a<=0?r():s=setTimeout(r,a)),{signal:t.signal,cleanup:()=>clearTimeout(s)}}function We(a){if(!a.aborted)return;if(a.reason!==void 0)return a.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function _t(a,t){return t instanceof N.v?t:new a(t)}function Ut(a,t){function r(s){return s.done===!0?s:{done:s.done,value:_t(a,s.value)}}return{[Symbol.asyncIterator](){const s=t[Symbol.asyncIterator](),l={next:()=>s.next().then(r)};return s.throw!==void 0&&(l.throw=m=>s.throw(m).then(r)),s.return!==void 0&&(l.return=m=>s.return(m).then(r)),l}}}function wt(a){const t=Zt(a.next,a.interceptors),[r,s,l]=fn(a),m=Object.assign(Object.assign({},a.req),{message:_t(a.req.method.I,a.req.message),signal:r});return t(m).then(w=>(l(),w),s)}function Ee(a){const t=Zt(a.next,a.interceptors),[r,s,l]=fn(a),m=Object.assign(Object.assign({},a.req),{message:Ut(a.req.method.I,a.req.message),signal:r});let w=!1;return r.addEventListener("abort",function(){var P,U;const M=a.req.message[Symbol.asyncIterator]();w||(P=M.throw)===null||P===void 0||P.call(M,this.reason).catch(()=>{}),(U=M.return)===null||U===void 0||U.call(M).catch(()=>{})}),t(m).then(P=>Object.assign(Object.assign({},P),{message:{[Symbol.asyncIterator](){const U=P.message[Symbol.asyncIterator]();return{next(){return U.next().then(M=>(M.done==!0&&(w=!0,l()),M),s)}}}}}),s)}function fn(a){const{signal:t,cleanup:r}=ze(a.timeoutMs),s=Be(a.signal,t);return[s.signal,function(m){const w=R.from(t.aborted?We(t):m);return s.abort(w),r(),Promise.reject(w)},function(){r(),s.abort()}]}function Zt(a,t){var r;return(r=t==null?void 0:t.concat().reverse().reduce((s,l)=>l(s),a))!==null&&r!==void 0?r:a}function xt(a,t,r){const s=typeof t=="string"?t:t.typeName,l=typeof r=="string"?r:r.name;return a.toString().replace(/\/?$/,`/${s}/${l}`)}function Jt(a){let t,r=new Uint8Array(0);function s(l){const m=new Uint8Array(r.length+l.length);m.set(r),m.set(l,r.length),r=m}return new ReadableStream({start(){t=a.getReader()},async pull(l){let m;for(;;){if(m===void 0&&r.byteLength>=5){let U=0;for(let M=1;M<5;M++)U=(U<<8)+r[M];m={flags:r[0],length:U}}if(m!==void 0&&r.byteLength>=m.length+5)break;const P=await t.read();if(P.done)break;s(P.value)}if(m===void 0){if(r.byteLength==0){l.close();return}l.error(new R("premature end of stream",v.DataLoss));return}const w=r.subarray(5,5+m.length);r=r.subarray(5+m.length),l.enqueue({flags:m.flags,data:w})}})}function Rt(a,t){const r=new Uint8Array(t.length+5);r.set(t,5);const s=new DataView(r.buffer,r.byteOffset,r.byteLength);return s.setUint8(0,a),s.setUint32(1,t.length),r}const en="Content-Type",mt="Grpc-Timeout",fe="Grpc-Status",Jn="Grpc-Message",dn="Grpc-Status-Details-Bin",$n="User-Agent",Yr="X-User-Agent",yr="X-Grpc-Web",Ei="application/grpc-web+proto",ki="application/grpc-web+json";function In(a,t,r,s){const l=new Headers(r??{});return l.set(en,a?Ei:ki),l.set(yr,"1"),l.set(Yr,"connect-es/1.2.0"),s&&l.set($n,"connect-es/1.2.0"),t!==void 0&&l.set(mt,`${t}m`),l}function jn(a){switch(a){case 400:return v.Internal;case 401:return v.Unauthenticated;case 403:return v.PermissionDenied;case 404:return v.Unimplemented;case 429:return v.Unavailable;case 502:return v.Unavailable;case 503:return v.Unavailable;case 504:return v.Unavailable;default:return v.Unknown}}var tn=c(850),Vn=c(733);class pt extends N.v{constructor(t){super(),this.code=0,this.message="",this.details=[],tn.w.util.initPartial(t,this)}static fromBinary(t,r){return new pt().fromBinary(t,r)}static fromJson(t,r){return new pt().fromJson(t,r)}static fromJsonString(t,r){return new pt().fromJsonString(t,r)}static equals(t,r){return tn.w.util.equals(pt,t,r)}}pt.runtime=tn.w,pt.typeName="google.rpc.Status",pt.fields=tn.w.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Vn.I,repeated:!0}]);var zn=c(236);function sr(a,t,r){try{const s=zn.W.dec(a);return t?t.fromBinary(s,r):s}catch(s){throw R.from(s,v.DataLoss)}}const gt="0";function Pn(a){var t;const r=a.get(dn);if(r!=null){const l=sr(r,pt);if(l.code==0)return;const m=new R(l.message,l.code,a);return m.details=l.details.map(w=>({type:w.typeUrl.substring(w.typeUrl.lastIndexOf("/")+1),value:w.value})),m}const s=a.get(fe);if(s!=null){if(s===gt)return;const l=parseInt(s,10);return l in v?new R(decodeURIComponent((t=a.get(Jn))!==null&&t!==void 0?t:""),l,a):new R(`invalid grpc-status: ${s}`,v.Internal,a)}}function Ke(a,t){var r;if(a>=200&&a<300){const s=Pn(t);if(s)throw s;return{foundStatus:t.has(fe)}}throw new R(decodeURIComponent((r=t.get(Jn))!==null&&r!==void 0?r:`HTTP ${a}`),jn(a),t)}const Or=128;function qr(a){const t=new Headers,r=new TextDecoder().decode(a).split(`\r
`);for(const s of r){if(s==="")continue;const l=s.indexOf(":");if(l>0){const m=s.substring(0,l).trim(),w=s.substring(l+1).trim();t.append(m,w)}}return t}function vr(a,t){const r=Pn(a);if(r)throw t.forEach((s,l)=>{r.metadata.append(l,s)}),r}function Ni(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var An=function(a){return this instanceof An?(this.v=a,this):new An(a)},Ii=function(a,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(a,t||[]),l,m=[];return l={},w("next"),w("throw"),w("return"),l[Symbol.asyncIterator]=function(){return this},l;function w(X){s[X]&&(l[X]=function(he){return new Promise(function(Se,ke){m.push([X,he,Se,ke])>1||P(X,he)})})}function P(X,he){try{U(s[X](he))}catch(Se){le(m[0][3],Se)}}function U(X){X.value instanceof An?Promise.resolve(X.value.v).then(M,H):le(m[0][2],X)}function M(X){P("next",X)}function H(X){P("throw",X)}function le(X,he){X(he),m.shift(),m.length&&P(m[0][0],m[0][1])}};function Wn(a){var t;Ni();const r=(t=a.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(s,l,m,w,P,U,M){var H;const{serialize:le,parse:X}=ve(l,r,a.jsonOptions,a.binaryOptions);return w=w===void 0?a.defaultTimeoutMs:w<=0?void 0:w,await wt({interceptors:a.interceptors,signal:m,timeoutMs:w,req:{stream:!1,service:s,method:l,url:xt(a.baseUrl,s,l),init:{method:"POST",credentials:(H=a.credentials)!==null&&H!==void 0?H:"same-origin",redirect:"error",mode:"cors"},header:In(r,w,P,!1),contextValues:M??me(),message:U},next:async he=>{var Se;const Ce=await((Se=a.fetch)!==null&&Se!==void 0?Se:globalThis.fetch)(he.url,Object.assign(Object.assign({},he.init),{headers:he.header,signal:he.signal,body:Rt(0,le(he.message))}));if(Ke(Ce.status,Ce.headers),!Ce.body)throw"missing response body";const Et=Jt(Ce.body).getReader();let De,ot;for(;;){const et=await Et.read();if(et.done)break;const{flags:vt,data:_i}=et.value;if(vt===Or){if(De!==void 0)throw"extra trailer";De=qr(_i);continue}if(ot!==void 0)throw"extra message";ot=X(_i)}if(De===void 0)throw"missing trailer";if(vr(De,Ce.headers),ot===void 0)throw"missing message";return{stream:!1,header:Ce.headers,message:ot,trailer:De}}})},async stream(s,l,m,w,P,U,M){var H;const{serialize:le,parse:X}=ve(l,r,a.jsonOptions,a.binaryOptions);function he(ke,Ce,Et,De){return Ii(this,arguments,function*(){const et=Jt(ke).getReader();if(Ce){if(!(yield An(et.read())).done)throw"extra data for trailers-only";return yield An(void 0)}let vt=!1;for(;;){const _i=yield An(et.read());if(_i.done)break;const{flags:ss,data:js}=_i.value;if((ss&Or)===Or){if(vt)throw"extra trailer";vt=!0;const mf=qr(js);vr(mf,De),mf.forEach((Rp,bp)=>Et.set(bp,Rp));continue}if(vt)throw"extra message";yield yield An(X(js))}if(!vt)throw"missing trailer"})}async function Se(ke){if(l.kind!=B.t.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Ce=await ke[Symbol.asyncIterator]().next();if(Ce.done==!0)throw"missing request message";return Rt(0,le(Ce.value))}return w=w===void 0?a.defaultTimeoutMs:w<=0?void 0:w,Ee({interceptors:a.interceptors,signal:m,timeoutMs:w,req:{stream:!0,service:s,method:l,url:xt(a.baseUrl,s,l),init:{method:"POST",credentials:(H=a.credentials)!==null&&H!==void 0?H:"same-origin",redirect:"error",mode:"cors"},header:In(r,w,P,!1),contextValues:M??me(),message:U},next:async ke=>{var Ce;const De=await((Ce=a.fetch)!==null&&Ce!==void 0?Ce:globalThis.fetch)(ke.url,Object.assign(Object.assign({},ke.init),{headers:ke.header,signal:ke.signal,body:await Se(ke.message)})),{foundStatus:ot}=Ke(De.status,De.headers);if(!De.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},ke),{header:De.headers,trailer:et,message:he(De.body,ot,et,De.headers)})}})}}}var Kn=c(295),G=c(646);/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Ze=null;try{Ze=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Oe(a,t,r){this.low=a|0,this.high=t|0,this.unsigned=!!r}Oe.prototype.__isLong__,Object.defineProperty(Oe.prototype,"__isLong__",{value:!0});function Ue(a){return(a&&a.__isLong__)===!0}function Gr(a){var t=Math.clz32(a&-a);return a?31-t:t}Oe.isLong=Ue;var Ro={},bo={};function Cr(a,t){var r,s,l;return t?(a>>>=0,(l=0<=a&&a<256)&&(s=bo[a],s)?s:(r=be(a,0,!0),l&&(bo[a]=r),r)):(a|=0,(l=-128<=a&&a<128)&&(s=Ro[a],s)?s:(r=be(a,a<0?-1:0,!1),l&&(Ro[a]=r),r))}Oe.fromInt=Cr;function hn(a,t){if(isNaN(a))return t?Yn:Cn;if(t){if(a<0)return Yn;if(a>=Ms)return Fo}else{if(a<=-Lo)return $t;if(a+1>=Lo)return xr}return a<0?hn(-a,t).neg():be(a%Dr|0,a/Dr|0,t)}Oe.fromNumber=hn;function be(a,t,r){return new Oe(a,t,r)}Oe.fromBits=be;var Yi=Math.pow;function qi(a,t,r){if(a.length===0)throw Error("empty string");if(typeof t=="number"?(r=t,t=!1):t=!!t,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return t?Yn:Cn;if(r=r||10,r<2||36<r)throw RangeError("radix");var s;if((s=a.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return qi(a.substring(1),t,r).neg();for(var l=hn(Yi(r,8)),m=Cn,w=0;w<a.length;w+=8){var P=Math.min(8,a.length-w),U=parseInt(a.substring(w,w+P),r);if(P<8){var M=hn(Yi(r,P));m=m.mul(M).add(hn(U))}else m=m.mul(l),m=m.add(hn(U))}return m.unsigned=t,m}Oe.fromString=qi;function On(a,t){return typeof a=="number"?hn(a,t):typeof a=="string"?qi(a,t):be(a.low,a.high,typeof t=="boolean"?t:a.unsigned)}Oe.fromValue=On;var Gi=65536,Ls=1<<24,Dr=Gi*Gi,Ms=Dr*Dr,Lo=Ms/2,Mo=Cr(Ls),Cn=Cr(0);Oe.ZERO=Cn;var Yn=Cr(0,!0);Oe.UZERO=Yn;var _r=Cr(1);Oe.ONE=_r;var Bo=Cr(1,!0);Oe.UONE=Bo;var Hr=Cr(-1);Oe.NEG_ONE=Hr;var xr=be(-1,2147483647,!1);Oe.MAX_VALUE=xr;var Fo=be(-1,-1,!0);Oe.MAX_UNSIGNED_VALUE=Fo;var $t=be(0,-2147483648,!1);Oe.MIN_VALUE=$t;var ie=Oe.prototype;ie.toInt=function(){return this.unsigned?this.low>>>0:this.low},ie.toNumber=function(){return this.unsigned?(this.high>>>0)*Dr+(this.low>>>0):this.high*Dr+(this.low>>>0)},ie.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq($t)){var r=hn(t),s=this.div(r),l=s.mul(r).sub(this);return s.toString(t)+l.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var m=hn(Yi(t,6),this.unsigned),w=this,P="";;){var U=w.div(m),M=w.sub(U.mul(m)).toInt()>>>0,H=M.toString(t);if(w=U,w.isZero())return H+P;for(;H.length<6;)H="0"+H;P=""+H+P}},ie.getHighBits=function(){return this.high},ie.getHighBitsUnsigned=function(){return this.high>>>0},ie.getLowBits=function(){return this.low},ie.getLowBitsUnsigned=function(){return this.low>>>0},ie.getNumBitsAbs=function(){if(this.isNegative())return this.eq($t)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,r=31;r>0&&!(t&1<<r);r--);return this.high!=0?r+33:r+1},ie.isZero=function(){return this.high===0&&this.low===0},ie.eqz=ie.isZero,ie.isNegative=function(){return!this.unsigned&&this.high<0},ie.isPositive=function(){return this.unsigned||this.high>=0},ie.isOdd=function(){return(this.low&1)===1},ie.isEven=function(){return(this.low&1)===0},ie.equals=function(t){return Ue(t)||(t=On(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},ie.eq=ie.equals,ie.notEquals=function(t){return!this.eq(t)},ie.neq=ie.notEquals,ie.ne=ie.notEquals,ie.lessThan=function(t){return this.comp(t)<0},ie.lt=ie.lessThan,ie.lessThanOrEqual=function(t){return this.comp(t)<=0},ie.lte=ie.lessThanOrEqual,ie.le=ie.lessThanOrEqual,ie.greaterThan=function(t){return this.comp(t)>0},ie.gt=ie.greaterThan,ie.greaterThanOrEqual=function(t){return this.comp(t)>=0},ie.gte=ie.greaterThanOrEqual,ie.ge=ie.greaterThanOrEqual,ie.compare=function(t){if(Ue(t)||(t=On(t)),this.eq(t))return 0;var r=this.isNegative(),s=t.isNegative();return r&&!s?-1:!r&&s?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ie.comp=ie.compare,ie.negate=function(){return!this.unsigned&&this.eq($t)?$t:this.not().add(_r)},ie.neg=ie.negate,ie.add=function(t){Ue(t)||(t=On(t));var r=this.high>>>16,s=this.high&65535,l=this.low>>>16,m=this.low&65535,w=t.high>>>16,P=t.high&65535,U=t.low>>>16,M=t.low&65535,H=0,le=0,X=0,he=0;return he+=m+M,X+=he>>>16,he&=65535,X+=l+U,le+=X>>>16,X&=65535,le+=s+P,H+=le>>>16,le&=65535,H+=r+w,H&=65535,be(X<<16|he,H<<16|le,this.unsigned)},ie.subtract=function(t){return Ue(t)||(t=On(t)),this.add(t.neg())},ie.sub=ie.subtract,ie.multiply=function(t){if(this.isZero())return this;if(Ue(t)||(t=On(t)),Ze){var r=Ze.mul(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Yn:Cn;if(this.eq($t))return t.isOdd()?$t:Cn;if(t.eq($t))return this.isOdd()?$t:Cn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Mo)&&t.lt(Mo))return hn(this.toNumber()*t.toNumber(),this.unsigned);var s=this.high>>>16,l=this.high&65535,m=this.low>>>16,w=this.low&65535,P=t.high>>>16,U=t.high&65535,M=t.low>>>16,H=t.low&65535,le=0,X=0,he=0,Se=0;return Se+=w*H,he+=Se>>>16,Se&=65535,he+=m*H,X+=he>>>16,he&=65535,he+=w*M,X+=he>>>16,he&=65535,X+=l*H,le+=X>>>16,X&=65535,X+=m*M,le+=X>>>16,X&=65535,X+=w*U,le+=X>>>16,X&=65535,le+=s*H+l*M+m*U+w*P,le&=65535,be(he<<16|Se,le<<16|X,this.unsigned)},ie.mul=ie.multiply,ie.divide=function(t){if(Ue(t)||(t=On(t)),t.isZero())throw Error("division by zero");if(Ze){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?Ze.div_u:Ze.div_s)(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Yn:Cn;var s,l,m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Yn;if(t.gt(this.shru(1)))return Bo;m=Yn}else{if(this.eq($t)){if(t.eq(_r)||t.eq(Hr))return $t;if(t.eq($t))return _r;var w=this.shr(1);return s=w.div(t).shl(1),s.eq(Cn)?t.isNegative()?_r:Hr:(l=this.sub(t.mul(s)),m=s.add(l.div(t)),m)}else if(t.eq($t))return this.unsigned?Yn:Cn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();m=Cn}for(l=this;l.gte(t);){s=Math.max(1,Math.floor(l.toNumber()/t.toNumber()));for(var P=Math.ceil(Math.log(s)/Math.LN2),U=P<=48?1:Yi(2,P-48),M=hn(s),H=M.mul(t);H.isNegative()||H.gt(l);)s-=U,M=hn(s,this.unsigned),H=M.mul(t);M.isZero()&&(M=_r),m=m.add(M),l=l.sub(H)}return m},ie.div=ie.divide,ie.modulo=function(t){if(Ue(t)||(t=On(t)),Ze){var r=(this.unsigned?Ze.rem_u:Ze.rem_s)(this.low,this.high,t.low,t.high);return be(r,Ze.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},ie.mod=ie.modulo,ie.rem=ie.modulo,ie.not=function(){return be(~this.low,~this.high,this.unsigned)},ie.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ie.clz=ie.countLeadingZeros,ie.countTrailingZeros=function(){return this.low?Gr(this.low):Gr(this.high)+32},ie.ctz=ie.countTrailingZeros,ie.and=function(t){return Ue(t)||(t=On(t)),be(this.low&t.low,this.high&t.high,this.unsigned)},ie.or=function(t){return Ue(t)||(t=On(t)),be(this.low|t.low,this.high|t.high,this.unsigned)},ie.xor=function(t){return Ue(t)||(t=On(t)),be(this.low^t.low,this.high^t.high,this.unsigned)},ie.shiftLeft=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):be(0,this.low<<t-32,this.unsigned)},ie.shl=ie.shiftLeft,ie.shiftRight=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):be(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ie.shr=ie.shiftRight,ie.shiftRightUnsigned=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?be(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?be(this.high,0,this.unsigned):be(this.high>>>t-32,0,this.unsigned)},ie.shru=ie.shiftRightUnsigned,ie.shr_u=ie.shiftRightUnsigned,ie.rotateLeft=function(t){var r;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?be(this.high,this.low,this.unsigned):t<32?(r=32-t,be(this.low<<t|this.high>>>r,this.high<<t|this.low>>>r,this.unsigned)):(t-=32,r=32-t,be(this.high<<t|this.low>>>r,this.low<<t|this.high>>>r,this.unsigned))},ie.rotl=ie.rotateLeft,ie.rotateRight=function(t){var r;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?be(this.high,this.low,this.unsigned):t<32?(r=32-t,be(this.high<<r|this.low>>>t,this.low<<r|this.high>>>t,this.unsigned)):(t-=32,r=32-t,be(this.low<<r|this.high>>>t,this.high<<r|this.low>>>t,this.unsigned))},ie.rotr=ie.rotateRight,ie.toSigned=function(){return this.unsigned?be(this.low,this.high,!1):this},ie.toUnsigned=function(){return this.unsigned?this:be(this.low,this.high,!0)},ie.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ie.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},ie.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},Oe.fromBytes=function(t,r,s){return s?Oe.fromBytesLE(t,r):Oe.fromBytesBE(t,r)},Oe.fromBytesLE=function(t,r){return new Oe(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},Oe.fromBytesBE=function(t,r){return new Oe(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)};const lt=Oe;var _e;(function(a){a.Ok="ok",a.ClientNotActive="client-not-active",a.Unimplemented="unimplemented",a.Unsupported="unsupported",a.DocumentNotAttached="document-not-attached",a.DocumentNotDetached="document-not-detached",a.DocumentRemoved="document-removed",a.InvalidObjectKey="invalid-object-key",a.InvalidArgument="invalid-argument"})(_e||(_e={}));class Le extends Error{constructor(t,r){super(r),this.code=t,this.message=r,this.name="YorkieError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}function ct(a){if(a instanceof Map){const t=Array.from(a);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(a))}const It=a=>a?Object.entries(a).length===0:!0,Xr=a=>{const t={};for(const[r,s]of Object.entries(a))t[r]=JSON.stringify(s);return t},Rr=a=>{const t={};for(const[r,s]of Object.entries(a))t[r]=JSON.parse(s);return t};var Dn;(function(a){a.Put="put",a.Clear="clear"})(Dn||(Dn={}));class jt{constructor(t,r){this.context=t,this.presence=r}set(t,r){for(const s of Object.keys(t))this.presence[s]=t[s];this.context.setPresenceChange({type:Dn.Put,presence:ct(this.presence)}),this.context.setReversePresence(t,r)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:Dn.Clear})}}const Vt="000000000000000000000000",Bs="FFFFFFFFFFFFFFFFFFFFFFFF";class je{constructor(t,r,s){this.lamport=t,this.delimiter=r,this.actorID=s}static of(t,r,s){return new je(t,r,s)}static fromStruct(t){return je.of(lt.fromString(t.lamport,!0),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new je(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport.greaterThan(t.lamport))return 1;if(t.lamport.greaterThan(this.lamport))return-1;const r=this.actorID.localeCompare(t.actorID);return r!==0?r:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const mn=0,br=4294967295,pn=lt.MAX_VALUE,He=new je(lt.fromNumber(0),mn,Vt);new je(lt.fromNumber(1),mn+1,Vt);const zt=new je(pn,br,Bs);function or(a){return a.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class bt{constructor(t){this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}}class ft extends bt{constructor(t){super(t)}}class nn extends bt{}class Wt{constructor(t,r){this.strKey=t,this.value=r}static of(t,r){return new Wt(t,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class Pt{constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Pt}set(t,r,s){let l;const m=this.nodeMapByKey.get(t);m!=null&&!m.isRemoved()&&m.remove(s)&&(l=m.getValue());const w=Wt.of(t,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),w),(m==null||s.after(m.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,w),r.setMovedAt(s)),l}delete(t,r){this.nodeMapByCreatedAt.has(t.toIDString())||k.fatal(`fail to find ${t.toIDString()}`);const s=this.nodeMapByCreatedAt.get(t.toIDString());return s.remove(r),s.getValue()}subPathOf(t){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(r)return r.getStrKey()}purge(t){const r=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!r){k.fatal(`fail to find ${t.getCreatedAt().toIDString()}`);return}const s=this.nodeMapByKey.get(r.getStrKey());r===s&&this.nodeMapByKey.delete(s.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(t,r){const s=this.nodeMapByKey.get(t);if(s!=null&&s.remove(r))return s.getValue()}has(t){const r=this.nodeMapByKey.get(t);return r==null?!1:!r.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const r=this.nodeMapByKey.get(t);if(!(!r||r.isRemoved()))return r}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class Je extends ft{constructor(t,r){super(t),this.memberNodes=r}static create(t,r){if(!r)return new Je(t,Pt.create());const s=Pt.create();for(const[l,m]of Object.entries(r))s.set(l,m.deepcopy(),m.getCreatedAt());return new Je(t,s)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,r,s){return this.memberNodes.set(t,r,s)}delete(t,r){return this.memberNodes.delete(t,r)}deleteByKey(t,r){return this.memberNodes.deleteByKey(t,r)}get(t){const r=this.memberNodes.get(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.memberNodes.getByID(t);return r==null?void 0:r.getValue()}has(t){return this.memberNodes.has(t)}toJSON(){const t=[];for(const[r,s]of this)t.push(`"${or(r)}":${s.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[r,s]of this){const{createdAt:l,value:m,type:w}=s.toJSForTest();t[r]={key:r,createdAt:l,value:m,type:w}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[r]of this)t.push(r);return t}toSortedJSON(){var t;const r=Array();for(const[l]of this)r.push(l);const s=[];for(const l of r.sort()){const m=(t=this.memberNodes.get(l))===null||t===void 0?void 0:t.getValue();s.push(`"${or(l)}":${m.toSortedJSON()}`)}return`{${s.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=Je.create(this.getCreatedAt());for(const r of this.memberNodes)t.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return t.remove(this.getRemovedAt()),t}getDescendants(t){for(const r of this.memberNodes){const s=r.getValue();if(t(s,this))return;s instanceof ft&&s.getDescendants(t)}}*[Symbol.iterator](){const t=new Set;for(const r of this.memberNodes)t.has(r.getStrKey())||(t.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Ae;(function(a){a.Local="local",a.Remote="remote",a.UndoRedo="undoredo"})(Ae||(Ae={}));class Xe{constructor(t,r){this.parentCreatedAt=t,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new Error("executedAt has not been set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class rn{constructor(t){this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class Pi{constructor(t){this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&t<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<t)t-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{t-=r.getLeftWeight();break}return t>r.getLength()&&k.fatal(`out of index range: pos: ${t} > node.length: ${r.getLength()}`),[r,t]}indexOf(t){if(!t||t!==this.root&&!t.hasLinks())return-1;let r=0,s=t,l;for(;s;)(!l||l===s.getRight())&&(r+=s.getLength()+(s.hasLeft()?s.getLeftWeight():0)),l=s,s=s.getParent();return r-t.getLength()}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,r){return t?(this.splayNode(t),this.root=r,r.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(r),r.setLeft(t),t.setParent(r),t.setRight(),this.updateWeight(t),this.updateWeight(r),r):(this.root=r,r)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const r=new Pi(t.getLeft());r.root&&r.root.setParent();const s=new Pi(t.getRight());if(s.root&&s.root.setParent(),r.root){const l=r.getRightmost();r.splayNode(l),r.root.setRight(s.root),s.root&&s.root.setParent(r.root),this.root=r.root}else this.root=s.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,r){if(!r){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(r),r.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const r=[];this.traversePostorder(t.getRight(),r);for(const s of r)s.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const r of t)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,r){t&&(this.traverseInorder(t.getLeft(),r),r.push(t),this.traverseInorder(t.getRight(),r))}traversePostorder(t,r){t&&(this.traversePostorder(t.getLeft(),r),this.traversePostorder(t.getRight(),r),r.push(t))}rotateLeft(t){const r=t.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(t):r.getParent().setRight(t):this.root=t,t.setParent(r.getParent()),r.setRight(t.getLeft()),r.hasRight()&&r.getRight().setParent(r),t.setLeft(r),t.getLeft().setParent(t),this.updateWeight(r),this.updateWeight(t)}rotateRight(t){const r=t.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(t):r.getParent().setRight(t):this.root=t,t.setParent(r.getParent()),r.setLeft(t.getRight()),r.hasLeft()&&r.getLeft().setParent(r),t.setRight(r),t.getRight().setParent(t),this.updateWeight(r),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}var Te;(function(a){a[a.Null=0]="Null",a[a.Boolean=1]="Boolean",a[a.Integer=2]="Integer",a[a.Long=3]="Long",a[a.Double=4]="Double",a[a.String=5]="String",a[a.Bytes=6]="Bytes",a[a.Date=7]="Date"})(Te||(Te={}));class Ye extends bt{constructor(t,r){super(r),this.valueType=Ye.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,r){return new Ye(t,r)}static valueFromBytes(t,r){switch(t){case Te.Null:return null;case Te.Boolean:return!!r[0];case Te.Integer:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case Te.Double:{const s=new DataView(r.buffer);return r.forEach(function(l,m){s.setUint8(m,l)}),s.getFloat64(0,!0)}case Te.String:return new TextDecoder("utf-8").decode(r);case Te.Long:return lt.fromBytesLE(Array.from(r));case Te.Bytes:return r;case Te.Date:return new Date(lt.fromBytesLE(Array.from(r),!0).toNumber());default:throw new Le(_e.Unimplemented,`unimplemented type: ${t}`)}}toJSON(){return this.valueType===Te.String?`"${or(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=Ye.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return Te.Null;case"boolean":return Te.Boolean;case"number":return this.isInteger(t)?Te.Integer:Te.Double;case"string":return Te.String;case"object":if(t===null)return Te.Null;if(t instanceof lt)return Te.Long;if(t instanceof Uint8Array)return Te.Bytes;if(t instanceof Date)return Te.Date}}static isSupport(t){return Ye.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===Te.Integer||t===Te.Long||t===Te.Double}getValue(){return this.value}toBytes(){switch(this.valueType){case Te.Null:return new Uint8Array;case Te.Boolean:return this.value?new Uint8Array([1]):new Uint8Array([0]);case Te.Integer:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case Te.Double:{const t=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}case Te.String:return new TextEncoder().encode(this.value);case Te.Long:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case Te.Bytes:return this.value;case Te.Date:{const t=this.value,r=lt.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new Le(_e.Unimplemented,`unimplemented type: ${this.valueType}`)}}}class Hi extends rn{constructor(t){super(t),this.value=t}static createAfter(t,r){const s=new Hi(r),l=t.next;return t.next=s,s.prev=t,s.next=l,l&&(l.prev=s),s}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Ai{constructor(){const t=Ye.of(0,He);t.setRemovedAt(He),this.dummyHead=new Hi(t),this.last=this.dummyHead,this.nodeMapByIndex=new Pi,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Ai}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,r){let s=this.nodeMapByCreatedAt.get(t.toIDString());for(s||k.fatal(`cant find the given node: ${t.toIDString()}`);s.getNext()&&s.getNext().getPositionedAt().after(r);)s=s.getNext();return s}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,r,s=r.getCreatedAt()){const l=this.findNextBeforeExecutedAt(t,s),m=Hi.createAfter(l,r);l===this.last&&(this.last=m),this.nodeMapByIndex.insertAfter(l,m),this.nodeMapByCreatedAt.set(m.getCreatedAt().toIDString(),m)}moveAfter(t,r,s){const l=this.nodeMapByCreatedAt.get(t.toIDString());l||k.fatal(`cant find the given node: ${t.toIDString()}`);const m=this.nodeMapByCreatedAt.get(r.toIDString());m||k.fatal(`cant find the given node: ${r.toIDString()}`),l!==m&&(!m.getValue().getMovedAt()||s.after(m.getValue().getMovedAt()))&&(this.release(m),this.insertAfter(l.getCreatedAt(),m.getValue(),s),m.getValue().setMovedAt(s))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(t){const r=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());r||k.fatal(`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`),this.release(r)}getByIndex(t){if(t>=this.length)return;const[r,s]=this.nodeMapByIndex.find(t);let l=r;if(t===0&&r===this.dummyHead||s>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(t){let r=this.nodeMapByCreatedAt.get(t.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(t,r){const s=this.nodeMapByCreatedAt.get(t.toIDString()),l=s.isRemoved();return s.remove(r)&&!l&&this.nodeMapByIndex.splayNode(s),s.getValue()}deleteByIndex(t,r){const s=this.getByIndex(t);if(s)return s.remove(r)&&this.nodeMapByIndex.splayNode(s),s.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const r of this){const s=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?t.push(`{${s}}`):t.push(`[${s}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class sn extends ft{constructor(t,r){super(t),this.elements=r}static create(t,r){if(!r)return new sn(t,Ai.create());const s=Ai.create();for(const l of r)s.insertAfter(s.getLastCreatedAt(),l.deepcopy());return new sn(t,s)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,r){this.elements.insertAfter(t,r)}moveAfter(t,r,s){this.elements.moveAfter(t,r,s)}get(t){const r=this.elements.getByIndex(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.elements.getByID(t);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,r){return this.elements.delete(t,r)}deleteByIndex(t,r){return this.elements.deleteByIndex(t,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const r of this.elements){const s=r.getValue();if(t(s,this))return;s instanceof ft&&s.getDescendants(t)}}toJSON(){const t=[];for(const r of this)t.push(r.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let r=0;r<this.length;r++){const{createdAt:s,value:l,type:m}=this.get(r).toJSForTest();t[r]={key:String(r),createdAt:s,value:l,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=sn.create(this.getCreatedAt());for(const r of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),r.getValue().deepcopy());return t.remove(this.getRemovedAt()),t}}class Tr extends Xe{constructor(t,r,s){super(t,s),this.createdAt=r}static create(t,r,s){return new Tr(t,r,s)}execute(t,r){var s;const l=t.findByCreatedAt(this.getParentCreatedAt());if(l||k.fatal(`fail to find ${this.getParentCreatedAt()}`),l instanceof ft||k.fatal(`only object and array can execute remove: ${l}`),r===Ae.UndoRedo){let M=l.getByID(this.createdAt);for(;M;){if(M.getRemovedAt())return;M=(s=t.findElementPairByCreatedAt(M.getCreatedAt()))===null||s===void 0?void 0:s.parent}}const m=l.subPathOf(this.createdAt),w=this.toReverseOperation(l),P=l.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(P),{opInfos:l instanceof sn?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(m)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:m}],reverseOp:w}}toReverseOperation(t){if(t instanceof Je){const r=t.subPathOf(this.createdAt);if(r!==void 0){const s=t.get(r);if(s!==void 0)return Lr.create(r,s.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Lr extends Xe{constructor(t,r,s,l){super(s,l),this.key=t,this.value=r}static create(t,r,s,l){return new Lr(t,r,s,l)}execute(t,r){var s;const l=t.findByCreatedAt(this.getParentCreatedAt());if(l||k.fatal(`fail to find ${this.getParentCreatedAt()}`),l instanceof Je||k.fatal("fail to execute, only object can execute set"),r===Ae.UndoRedo){let M=l;for(;M;){if(M.getRemovedAt())return;M=(s=t.findElementPairByCreatedAt(M.getCreatedAt()))===null||s===void 0?void 0:s.parent}}const m=l.get(this.key),w=this.toReverseOperation(m),P=this.value.deepcopy(),U=l.set(this.key,P,this.getExecutedAt());return r===Ae.UndoRedo&&t.findByCreatedAt(P.getCreatedAt())&&t.deregisterElement(P),t.registerElement(P,l),U&&t.registerRemovedElement(U),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:w}}toReverseOperation(t){let r=Tr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(r=Lr.create(this.key,t.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Qr extends Xe{constructor(t,r,s,l){super(t,l),this.prevCreatedAt=r,this.value=s}static create(t,r,s,l){return new Qr(t,r,s,l)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof sn||k.fatal("fail to execute, only array can execute add");const s=r,l=this.value.deepcopy();return s.insertAfter(this.prevCreatedAt,l),t.registerElement(l,s),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(s.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class _n extends Xe{constructor(t,r,s,l){super(t,l),this.prevCreatedAt=r,this.createdAt=s}static create(t,r,s,l){return new _n(t,r,s,l)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof sn||k.fatal("fail to execute, only array can execute move");const s=r,l=Number(s.subPathOf(this.createdAt));s.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const m=Number(s.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:m,previousIndex:l}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Lt{constructor(t,r,s,l){this.key=t,this.value=r,this.updatedAt=s,this._isRemoved=l}static of(t,r,s,l){return new Lt(t,r,s,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}}class St{constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new St}set(t,r,s){const l=this.nodeMapByKey.get(t);if(l===void 0||s.after(l.getUpdatedAt())){l!==void 0&&!l.isRemoved()&&(this.numberOfRemovedElement-=1);const m=Lt.of(t,r,s,!1);this.nodeMapByKey.set(t,m)}}remove(t,r){const s=this.nodeMapByKey.get(t);if(s===void 0||r.after(s.getUpdatedAt())){if(s===void 0){this.numberOfRemovedElement+=1;const w=Lt.of(t,"",r,!0);return this.nodeMapByKey.set(t,w),""}const l=s.isRemoved();l||(this.numberOfRemovedElement+=1);const m=Lt.of(t,s.getValue(),r,!0);return this.nodeMapByKey.set(t,m),l?"":s.getValue()}return""}has(t){if(this.nodeMapByKey.has(t)){const r=this.nodeMapByKey.get(t);return r!==void 0&&!r.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new St;for(const[,r]of this.nodeMapByKey)t.set(r.getKey(),r.getValue(),r.getUpdatedAt());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[r,s]of this.nodeMapByKey)s.isRemoved()||t.push(`"${or(r)}":"${or(s.getValue())}"`);return`{${t.join(",")}}`}toXML(){return this.size()?` ${[...this.nodeMapByKey].filter(([,r])=>r instanceof Lt&&!r.isRemoved()).sort((r,s)=>r[0].localeCompare(s[0])).map(([r,s])=>`${r}="${JSON.parse(s.getValue())}"`).join(" ")}`:""}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[r,s]of this.nodeMapByKey)s.isRemoved()||(t[r]=s.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}var gn;(function(a){a.Content="content",a.Style="style"})(gn||(gn={}));class wr{constructor(t){this.attributes=St.create(),this.content=t}static create(t){return new wr(t)}get length(){return this.content.length}substring(t,r){const s=new wr(this.content.substring(t,r));return s.attributes=this.attributes.deepcopy(),s}setAttr(t,r,s){this.attributes.set(t,r,s)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const t=or(this.content),r=this.attributes.toObject(),s=[];for(const[l,m]of Object.entries(r)){const w=JSON.parse(m),P=typeof w=="string"?`"${or(l)}":"${or(w)}"`:`"${or(l)}":${String(w)}`;s.push(P)}return s.sort(),s.length===0?`{"val":"${t}"}`:`{"attrs":{${s.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}}class it extends nn{constructor(t,r){super(r),this.rgaTreeSplit=t}static create(t,r){return new it(t,r)}edit(t,r,s,l,m){const w=r?wr.create(r):void 0;if(w&&l)for(const[le,X]of Object.entries(l))w.setAttr(le,X,s);const[P,U,M]=this.rgaTreeSplit.edit(t,s,w,m),H=M.map(le=>({...le,value:le.value?{attributes:Rr(le.value.getAttributes()),content:le.value.getContent()}:{attributes:void 0,content:""},type:gn.Content}));return[U,H,[P,P]]}setStyle(t,r,s,l){const[,m]=this.rgaTreeSplit.findNodeWithSplit(t[1],s),[,w]=this.rgaTreeSplit.findNodeWithSplit(t[0],s),P=[],U=this.rgaTreeSplit.findBetween(w,m),M=new Map,H=[];for(const le of U){const X=le.getCreatedAt().getActorID(),he=l!=null&&l.size?l.has(X)?l.get(X):He:zt;if(le.canStyle(s,he)){const Se=M.get(X),ke=le.getCreatedAt();(!Se||ke.after(Se))&&M.set(X,ke),H.push(le)}}for(const le of H){if(le.isRemoved())continue;const[X,he]=this.rgaTreeSplit.findIndexesFromRange(le.createPosRange());P.push({type:gn.Style,actor:s.getActorID(),from:X,to:he,value:{attributes:Rr(r)}});for(const[Se,ke]of Object.entries(r))le.getValue().setAttr(Se,ke,s)}return[M,P]}indexRangeToPosRange(t,r){const s=this.rgaTreeSplit.indexToPos(t);return t===r?[s,s]:[s,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}checkWeight(){return this.rgaTreeSplit.checkWeight()}toJSON(){const t=[];for(const r of this.rgaTreeSplit)r.isRemoved()||t.push(r.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const s=r.getValue();t.push({attributes:Rr(s.getAttributes()),content:s.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}getRemovedNodesLen(){return this.rgaTreeSplit.getRemovedNodesLen()}purgeRemovedNodesBefore(t){return this.rgaTreeSplit.purgeRemovedNodesBefore(t)}deepcopy(){const t=new it(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.remove(this.getRemovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}}class At extends Xe{constructor(t,r,s,l,m,w,P){super(t,P),this.fromPos=r,this.toPos=s,this.maxCreatedAtMapByActor=l,this.content=m,this.attributes=w}static create(t,r,s,l,m,w,P){return new At(t,r,s,l,m,w,P)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof it||k.fatal("fail to execute, only Text can execute edit");const s=r,[,l]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||t.registerElementHasRemovedNodes(s),{opInfos:l.map(({from:m,to:w,value:P})=>({type:"edit",from:m,to:w,value:P,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),l=this.content;return`${t}.EDIT(${r},${s},${l})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Ot extends Xe{constructor(t,r,s,l,m,w){super(t,w),this.fromPos=r,this.toPos=s,this.maxCreatedAtMapByActor=l,this.attributes=m}static create(t,r,s,l,m,w){return new Ot(t,r,s,l,m,w)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof it||k.fatal("fail to execute, only Text can execute edit");const s=r,[,l]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);return{opInfos:l.map(({from:m,to:w,value:P})=>({type:"style",from:m,to:w,value:P,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),l=this.attributes;return`${t}.STYL(${r},${s},${JSON.stringify(l)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const ar=2,qn="root",Kt="text";function Gn(a,t){let r=0;const s=a.children;for(let l=0;l<t;l++){const m=s[l];!m||m.isRemoved||(r+=m.paddedSize)}return r}class ur{constructor(t,r=[]){if(this.type=t,this.size=0,this._children=r,this.isText&&this._children.length>0)throw new Error(`Text node cannot have children: ${this.type}`)}updateAncestorsSize(){let t=this.parent;const r=this.isRemoved?-1:1;for(;t;)t.size+=this.paddedSize*r,t=t.parent}get isText(){return this.type===Kt}get paddedSize(){return this.size+(this.isText?0:ar)}isAncestorOf(t){return Hn(this,t)}get nextSibling(){const t=this.parent.findOffset(this),r=this.parent.children[t+1];if(r)return r}splitText(t,r){if(t===0||t===this.size)return;const s=this.value.slice(0,t),l=this.value.slice(t);if(!l.length)return;this.value=s;const m=this.cloneText(t+r);return m.value=l,this.parent.insertAfterInternal(m,this),m}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new Error("Text node cannot have children");this._children.push(...t);for(const r of t)r.parent=this,r.updateAncestorsSize()}prepend(...t){if(this.isText)throw new Error("Text node cannot have children");this._children.unshift(...t);for(const r of t)r.parent=this,r.isRemoved||r.updateAncestorsSize()}insertBefore(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s),t.updateAncestorsSize()}insertAfter(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s+1),t.updateAncestorsSize()}insertAt(t,r){if(this.isText)throw new Error("Text node cannot have children");this.insertAtInternal(t,r),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new Error("Text node cannot have children");const r=this._children.indexOf(t);if(r===-1)throw new Error("child not found");this._children.splice(r,1),t.parent=void 0}splitElement(t,r){const s=this.cloneElement(r);this.parent.insertAfterInternal(s,this),s.updateAncestorsSize();const l=this.children.slice(0,t),m=this.children.slice(t);this._children=l,s._children=m,this.size=this._children.reduce((w,P)=>w+P.paddedSize,0),s.size=s._children.reduce((w,P)=>w+P.paddedSize,0);for(const w of s._children)w.parent=s;return s}insertAfterInternal(t,r){if(this.isText)throw new Error("Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new Error("child not found");this.insertAtInternal(t,s+1)}insertAtInternal(t,r){if(this.isText)throw new Error("Text node cannot have children");this._children.splice(r,0,t),t.parent=this}findOffset(t){if(this.isText)throw new Error("Text node cannot have children");if(t.isRemoved){const r=this._children.indexOf(t);return this.allChildren.splice(0,r).filter(l=>!l.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new Error("Text node cannot have children");let r=t;for(;r;){const s=this._children.indexOf(r);if(s!==-1)return s;r=r.parent}return-1}}function Hn(a,t){if(a===t)return!1;for(;t.parent;){if(t.parent===a)return!0;t=t.parent}return!1}var Pe;(function(a){a.Start="Start",a.End="End",a.Text="Text"})(Pe||(Pe={}));function Xn(a,t,r,s){if(t>r)throw new Error(`from is greater than to: ${t} > ${r}`);if(t>a.size)throw new Error(`from is out of range: ${t} > ${a.size}`);if(r>a.size)throw new Error(`to is out of range: ${r} > ${a.size}`);if(t===r)return;let l=0;for(const m of a.children){if(t-m.paddedSize<l&&l<r){const w=m.isText?t-l:t-l-1,P=m.isText?r-l:r-l-1,U=!m.isText&&w<0,M=!m.isText&&P>m.size;(m.isText||U)&&s([m,m.isText?Pe.Text:Pe.Start],M),Xn(m,Math.max(0,w),Math.min(P,m.size),s),M&&s([m,Pe.End],M)}l+=m.paddedSize}}function yn(a,t,r=0){for(const s of a.children)yn(s,t,r+1);t(a,r)}function vn(a,t,r=0){for(const s of a._children)vn(s,t,r+1);t(a,r)}function h(a,t,r=!0){if(t>a.size)throw new Error(`index is out of range: ${t} > ${a.size}`);if(a.isText)return{node:a,offset:t};let s=0,l=0;for(const m of a.children){if(r&&m.isText&&m.size>=t-l)return h(m,t-l,r);if(t===l)return{node:a,offset:s};if(!r&&m.paddedSize===t-l)return{node:a,offset:s+1};if(m.paddedSize>t-l)return h(m,t-l-1,r);l+=m.paddedSize,s+=1}return{node:a,offset:s}}function u(a){return a.isText||a.children.length===0?a:u(a.children[0])}function f(a,t){if(a.size<t)throw new Error("unacceptable path");for(let r=0;r<a.children.length;r++){const s=a.children[r];if(s.size<t)t-=s.size;else{a=s;break}}return{node:a,offset:t}}class A{constructor(t){this.root=t}tokensBetween(t,r,s){Xn(this.root,t,r,s)}traverse(t){yn(this.root,t,0)}traverseAll(t){vn(this.root,t,0)}findTreePos(t,r=!0){return h(this.root,t,r)}treePosToPath(t){const r=[];let s=t.node;if(s.isText){const l=s.parent.findOffset(s);if(l===-1)throw new Error("invalid treePos");const m=Gn(s.parent,l);r.push(m+t.offset),s=s.parent}else if(s.hasTextChild()){const l=Gn(s,t.offset);r.push(l)}else r.push(t.offset);for(;s.parent;){const l=s.parent.findOffset(s);if(l===-1)throw new Error("invalid treePos");r.push(l),s=s.parent}return r.reverse()}pathToIndex(t){const r=this.pathToTreePos(t);return this.indexOf(r)}pathToTreePos(t){if(!t.length)throw new Error("unacceptable path");let r=this.root;for(let s=0;s<t.length-1;s++){const l=t[s];if(r=r.children[l],!r)throw new Error("unacceptable path")}if(r.hasTextChild())return f(r,t[t.length-1]);if(r.children.length<t[t.length-1])throw new Error("unacceptable path");return{node:r,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:r,offset:s}=t;if(r.isText){if(r.size===s){const l=r.nextSibling;return l||r.parent}return r}return r.children.length===s?r:u(r.children[s])}indexOf(t){let{node:r}=t;const{offset:s}=t;let l=0,m=1;if(r.isText){l+=s;const w=r.parent,P=w.findOffset(r);if(P===-1)throw new Error("invalid pos");l+=Gn(w,P),r=r.parent}else l+=Gn(r,s);for(;r!=null&&r.parent;){const w=r.parent,P=w.findOffset(r);if(P===-1)throw new Error("invalid pos");l+=Gn(w,P),m++,r=r.parent}return l+m-1}indexToPath(t){const r=this.findTreePos(t);return this.treePosToPath(r)}}const x=(a,t)=>a===t?0:a<t?-1:1;class J{constructor(t,r,s){this.key=t,this.value=r,this.isRed=s}}class j{constructor(t){this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class ee{constructor(t){this.comparator=typeof t<"u"?t:x,this.counter=0}put(t,r){return this.root=this.putInternal(t,r,this.root),this.root.isRed=!1,r}get(t){const r=this.getInternal(t,this.root);return r?r.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new j(this.root)}values(){const t=[];for(const r of this.getIterator().stack)t.push(r.value);return t}floorEntry(t){let r=this.root;for(;r;){const s=this.comparator(t,r.key);if(s>0)if(r.right)r.right.parent=r,r=r.right;else return r;else if(s<0)if(r.left)r.left.parent=r,r=r.left;else{let l=r.parent,m=r;for(;l&&m===l.left;)m=l,l=l.parent;return l}else return r}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,r){for(;r;){const s=this.comparator(t,r.key);if(s===0)return r;s<0?r=r.left:s>0&&(r=r.right)}}putInternal(t,r,s){if(!s)return this.counter+=1,new J(t,r,!0);const l=this.comparator(t,s.key);return l<0?s.left=this.putInternal(t,r,s.left):l>0?s.right=this.putInternal(t,r,s.right):s.value=r,this.isRed(s.right)&&!this.isRed(s.left)&&(s=this.rotateLeft(s)),this.isRed(s.left)&&this.isRed(s.left.left)&&(s=this.rotateRight(s)),this.isRed(s.left)&&this.isRed(s.right)&&this.flipColors(s),s}removeInternal(t,r){if(this.comparator(r,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,r);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(r,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(r,t.key)===0){this.counter-=1;const s=this.min(t.right);t.value=s.value,t.key=s.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,r)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const r=t.right;return t.right=r.left,r.left=t,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(t){const r=t.left;return t.left=r.right,r.right=t,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}var W;(function(a){a.Content="content",a.Style="style",a.RemoveStyle="removeStyle"})(W||(W={}));class oe{constructor(t,r){this.parentID=t,this.leftSiblingID=r}static of(t,r){return new oe(t,r)}static fromTreePos(t){const{offset:r}=t;let{node:s}=t,l;return s.isText?(s.parent.children[0]===s&&r===0?l=s.parent:l=s,s=s.parent):r===0?l=s:l=s.children[r-1],oe.of(s.id,ae.of(l.getCreatedAt(),l.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(t){return oe.of(ae.of(je.fromStruct(t.parentID.createdAt),t.parentID.offset),ae.of(je.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodes(t){const r=this.getParentID(),s=this.getLeftSiblingID(),l=t.findFloorNode(r);let m=t.findFloorNode(s);if(!l||!m)throw new Error(`cannot find node at ${this}`);return!s.equals(r)&&s.getOffset()>0&&s.getOffset()===m.id.getOffset()&&m.insPrevID&&(m=t.findFloorNode(m.insPrevID)),[l,m]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class ae{constructor(t,r){this.createdAt=t,this.offset=r}static of(t,r){return new ae(t,r)}static fromStruct(t){return ae.of(je.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,r)=>{const s=t.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:t.getOffset()>r.getOffset()?1:t.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class pe extends ur{constructor(t,r,s,l,m){super(r),this._value="",this.id=t,this.removedAt=m,l&&(this.attrs=l),typeof s=="string"?this.value=s:Array.isArray(s)&&(this._children=s)}static create(t,r,s,l){return new pe(t,r,s,l)}deepcopy(){var t;const r=new pe(this.id,this.type);return r.removedAt=this.removedAt,r._value=this._value,r.size=this.size,r.attrs=(t=this.attrs)===null||t===void 0?void 0:t.deepcopy(),r._children=this._children.map(s=>{const l=s.deepcopy();return l.parent=r,l}),r.insPrevID=this.insPrevID,r.insNextID=this.insNextID,r}get value(){if(!this.isText)throw new Error(`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new Error(`cannot set value of element node: ${this.type}`);this._value=t,this.size=t.length}get isRemoved(){return!!this.removedAt}remove(t){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(t)>0)&&(this.removedAt=t),r&&(this.parent.removedAt?this.parent.size-=this.paddedSize:this.updateAncestorsSize())}cloneText(t){return new pe(ae.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new pe(ae.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,r,s){const l=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,s);if(l){if(l.insPrevID=this.id,this.insNextID){const m=t.findFloorNode(this.insNextID);m.insPrevID=l.id,l.insNextID=this.insNextID}this.insNextID=l.id,t.registerNode(l)}return l}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}}function $e(a){var t;if(a.isText){const r=a;return{type:r.type,value:r.value}}return{type:a.type,children:a.children.map($e),attributes:a.attrs?Rr((t=a.attrs)===null||t===void 0?void 0:t.toObject()):void 0}}function Re(a){var t;return a.isText?a.value:`<${a.type}${((t=a.attrs)===null||t===void 0?void 0:t.toXML())||""}>${a.children.map(r=>Re(r)).join("")}</${a.type}>`}function on(a){if(a.isText){const t=a;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:a.type,children:a.children.map(on),size:a.size,isRemoved:a.isRemoved}}class Yt extends nn{constructor(t,r){super(r),this.indexTree=new A(t),this.nodeMapByID=new ee(ae.createComparator()),this.removedNodeMap=new Map,this.indexTree.traverse(s=>{this.nodeMapByID.put(s.id,s)})}static create(t,r){return new Yt(t,r)}findFloorNode(t){const r=this.nodeMapByID.floorEntry(t);if(!(!r||!r.key.getCreatedAt().equals(t.getCreatedAt())))return r.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,r){const[s,l]=t.toTreeNodes(this);let m=l;const w=s===m,P=m.parent&&!w?m.parent:s;if(m.isText&&m.split(this,t.getLeftSiblingID().getOffset()-m.id.getOffset()),r){const U=P.allChildren,M=w?0:U.indexOf(m)+1;for(let H=M;H<U.length;H++){const le=U[H];if(!le.id.getCreatedAt().after(r))break;m=le}}return[P,m]}style(t,r,s){const[l,m]=this.findNodesAndSplitText(t[0],s),[w,P]=this.findNodesAndSplitText(t[1],s),U=[],M=r?Rr(r):void 0;return this.traverseInPosRange(l,m,w,P,([H])=>{if(!H.isRemoved&&!H.isText&&r){H.attrs||(H.attrs=new St);for(const[le,X]of Object.entries(r))H.attrs.set(le,X,s);U.push({type:W.Style,from:this.toIndex(l,m),to:this.toIndex(w,P),fromPath:this.toPath(l,m),toPath:this.toPath(w,P),actor:s.getActorID(),value:M})}}),U}removeStyle(t,r,s){const[l,m]=this.findNodesAndSplitText(t[0],s),[w,P]=this.findNodesAndSplitText(t[1],s),U=[],M=r||void 0;return this.traverseInPosRange(l,m,w,P,([H])=>{if(!H.isRemoved&&!H.isText&&r){H.attrs||(H.attrs=new St);for(const le of r)H.attrs.remove(le,s);U.push({type:W.RemoveStyle,from:this.toIndex(l,m),to:this.toIndex(w,P),fromPath:this.toPath(l,m),toPath:this.toPath(w,P),actor:s.getActorID(),value:M})}}),U}edit(t,r,s,l,m,w){const[P,U]=this.findNodesAndSplitText(t[0],l),[M,H]=this.findNodesAndSplitText(t[1],l),le=this.toIndex(P,U),X=this.toPath(P,U),he=[],Se=[],ke=[],Ce=new Map;this.traverseInPosRange(P,U,M,H,([De,ot],et)=>{if(ot===Pe.Start&&!et)for(const ss of De.children)ke.push(ss);const vt=De.getCreatedAt().getActorID(),_i=w?w.has(vt)?w.get(vt):He:zt;if(De.canDelete(l,_i)||he.includes(De.parent)){const ss=Ce.get(vt),js=De.getCreatedAt();(!ss||js.after(ss))&&Ce.set(vt,js),(ot===Pe.Text||ot===Pe.Start)&&he.push(De),Se.push([De,ot])}});const Et=this.makeDeletionChanges(Se,l);for(const De of he)De.remove(l),De.isRemoved&&this.removedNodeMap.set(De.id.toIDString(),De);for(const De of ke)De.removedAt||P.append(De);if(s>0){let De=0,ot=P,et=U;for(;De<s;)ot.split(this,ot.findOffset(et)+1,m),et=ot,ot=ot.parent,De++;Et.push({type:W.Content,from:le,to:le,fromPath:X,toPath:X,actor:l.getActorID()})}if(r!=null&&r.length){const De=[];let ot=U;for(const et of r)ot===P?P.insertAt(et,0):P.insertAfter(et,ot),ot=et,vn(et,vt=>{P.isRemoved&&(vt.remove(l),this.removedNodeMap.set(vt.id.toIDString(),vt)),this.nodeMapByID.put(vt.id,vt)}),et.isRemoved||De.push(et);if(De.length){const et=De.map(vt=>$e(vt));Et.length&&Et[Et.length-1].from===le?Et[Et.length-1].value=et:Et.push({type:W.Content,from:le,to:le,fromPath:X,toPath:X,actor:l.getActorID(),value:et})}}return[Et,Ce]}editT(t,r,s,l,m){const w=this.findPos(t[0]),P=this.findPos(t[1]);this.edit([w,P],r,s,l,m)}move(t,r,s){throw new Error(`not implemented: ${t}, ${r}, ${s}`)}purgeRemovedNodesBefore(t){var r;const s=new Set;let l=0;for(const[,m]of this.removedNodeMap)m.removedAt&&t.compare(m.removedAt)>=0&&(s.add(m),l++);for(const m of s)(r=m.parent)===null||r===void 0||r.removeChild(m),this.nodeMapByID.remove(m.id),this.purge(m),this.removedNodeMap.delete(m.id.toIDString());return l}purge(t){const r=t.insPrevID,s=t.insNextID;if(r){const l=this.findFloorNode(r);l.insNextID=s}if(s){const l=this.findFloorNode(s);l.insPrevID=r}t.insPrevID=void 0,t.insNextID=void 0}findPos(t,r=!0){const s=this.indexTree.findTreePos(t,r);return oe.fromTreePos(s)}getRemovedNodesLen(){return this.removedNodeMap.size}pathToPosRange(t){const r=this.pathToIndex(t);return[this.findPos(r),this.findPos(r+1)]}pathToPos(t){const r=this.indexTree.pathToIndex(t);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getIndexTree(){return this.indexTree}toXML(){return Re(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),r=(s,l=void 0,m=void 0,w=0)=>{var P,U,M,H;let le,X,he;const Se=s.isText?{node:s,offset:0}:l&&m?this.toTreePos(l,m):null;Se&&(le=this.indexTree.indexOf(Se),X=this.indexTree.treePosToPath(Se),he=oe.fromTreePos(Se).toStruct());const ke={type:s.type,parent:l==null?void 0:l.id.toTestString(),size:s.size,id:s.id.toTestString(),removedAt:(P=s.removedAt)===null||P===void 0?void 0:P.toTestString(),insPrev:(U=s.insPrevID)===null||U===void 0?void 0:U.toTestString(),insNext:(M=s.insNextID)===null||M===void 0?void 0:M.toTestString(),value:s.isText?s.value:void 0,isRemoved:s.isRemoved,children:[],depth:w,attributes:s.attrs?Rr((H=s.attrs)===null||H===void 0?void 0:H.toObject()):void 0,index:le,path:X,pos:he};for(let Ce=0;Ce<s.children.length;Ce++){const Et=Ce===0?s:s.children[Ce-1];ke.children.push(r(s.children[Ce],s,Et,w+1))}return ke};return r(t)}getRootTreeNode(){return $e(this.indexTree.getRoot())}toTestTreeNode(){return on(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot();return new Yt(t.deepcopy(),this.getCreatedAt())}toPath(t,r){const s=this.toTreePos(t,r);return s?this.indexTree.treePosToPath(s):[]}toIndex(t,r){const s=this.toTreePos(t,r);return s?this.indexTree.indexOf(s):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const r=this.findPos(t[0]);return t[0]===t[1]?[r,r]:[r,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[r,s]=t,l=this.findPos(r);return r===s?[l.toStruct(),l.toStruct()]:[l.toStruct(),this.findPos(s).toStruct()]}posRangeToPathRange(t){const[r,s]=this.findNodesAndSplitText(t[0]),[l,m]=this.findNodesAndSplitText(t[1]);return[this.toPath(r,s),this.toPath(l,m)]}posRangeToIndexRange(t){const[r,s]=this.findNodesAndSplitText(t[0]),[l,m]=this.findNodesAndSplitText(t[1]);return[this.toIndex(r,s),this.toIndex(l,m)]}traverseInPosRange(t,r,s,l,m){const w=this.toIndex(t,r),P=this.toIndex(s,l);return this.indexTree.tokensBetween(w,P,m)}toTreePos(t,r){if(!t||!r)return;if(t.isRemoved){let l;for(;t.isRemoved;)l=t,t=l.parent;const m=t.findOffset(l);return{node:t,offset:m}}if(t===r)return{node:t,offset:0};let s=t.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};s++}return{node:t,offset:s}}makeDeletionChanges(t,r){const s=[],l=[];let m=null,w=null;for(let P=0;P<t.length;P++){const U=t[P],M=t[P+1];m||(m=U),w=U;const H=this.findRightToken(U);(!H||!M||H[0]!==M[0]||H[1]!==M[1])&&(l.push([m,w]),m=null,w=null)}for(const P of l){const[U,M]=P,[H,le]=this.findLeftToken(U),[X,he]=M,Se=le===Pe.Start?H:H.parent,ke=he===Pe.Start?X:X.parent,Ce=this.toIndex(Se,H),Et=this.toIndex(ke,X);Ce<Et&&(s.length>0&&Ce===s[s.length-1].to?(s[s.length-1].to=Et,s[s.length-1].toPath=this.toPath(ke,X)):s.push({type:W.Content,from:Ce,to:Et,fromPath:this.toPath(Se,H),toPath:this.toPath(ke,X),actor:r.getActorID()}))}return s.reverse()}findRightToken([t,r]){if(r===Pe.Start){const P=t.allChildren;return P.length>0?[P[0],P[0].isText?Pe.Text:Pe.Start]:[t,Pe.End]}const s=t.parent,l=s.allChildren,m=l.indexOf(t);if(s&&m===l.length-1)return[s,Pe.End];const w=l[m+1];return[w,w.isText?Pe.Text:Pe.Start]}findLeftToken([t,r]){if(r===Pe.End){const P=t.allChildren;if(P.length>0){const U=P[P.length-1];return[U,U.isText?Pe.Text:Pe.End]}return[t,Pe.Start]}const s=t.parent,l=s.allChildren,m=l.indexOf(t);if(s&&m===0)return[s,Pe.Start];const w=l[m-1];return[w,w.isText?Pe.Text:Pe.End]}}class Oi extends Xe{constructor(t,r,s,l,m,w,P){super(t,P),this.fromPos=r,this.toPos=s,this.contents=l,this.splitLevel=m,this.maxCreatedAtMapByActor=w}static create(t,r,s,l,m,w,P){return new Oi(t,r,s,l,m,w,P)}execute(t){var r;const s=t.findByCreatedAt(this.getParentCreatedAt());s||k.fatal(`fail to find ${this.getParentCreatedAt()}`),s instanceof Yt||k.fatal("fail to execute, only Tree can execute edit");const l=this.getExecutedAt(),m=s,[w]=m.edit([this.fromPos,this.toPos],(r=this.contents)===null||r===void 0?void 0:r.map(P=>P.deepcopy()),this.splitLevel,l,(()=>{let P=l.getDelimiter();return this.contents!==void 0&&(P+=this.contents.length),()=>je.of(l.getLamport(),++P,l.getActorID())})(),this.maxCreatedAtMapByActor);return this.fromPos.equals(this.toPos)||t.registerElementHasRemovedNodes(m),{opInfos:w.map(({from:P,to:U,value:M,splitLevel:H,fromPath:le,toPath:X})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:P,to:U,value:M,splitLevel:H,fromPath:le,toPath:X}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,l=this.contents||[];return`${t}.EDIT(${r},${s},${l.map(m=>Re(m)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Sr{constructor(t,r,s){this.clientSeq=t,this.lamport=r,this.actor=s}static of(t,r,s){return new Sr(t,r,s)}next(){return new Sr(this.clientSeq+1,this.lamport.add(1),this.actor)}syncLamport(t){return t.greaterThan(this.lamport)?new Sr(this.clientSeq,t,this.actor):new Sr(this.clientSeq,this.lamport.add(1),this.actor)}createTimeTicket(t){return je.of(this.lamport,t,this.actor)}setActor(t){return new Sr(this.clientSeq,this.lamport,t)}getClientSeq(){return this.clientSeq}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Jm=new Sr(0,lt.fromInt(0,!0),Vt);class Ci{constructor({id:t,operations:r,presenceChange:s,message:l}){this.id=t,this.operations=r||[],this.presenceChange=s,this.message=l}static create({id:t,operations:r,presenceChange:s,message:l}){return new Ci({id:t,operations:r,presenceChange:s,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const r of this.operations)r.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,r,s){const l=[],m=[];for(const w of this.operations){const P=w.execute(t,s);if(!P)continue;const{opInfos:U,reverseOp:M}=P;l.push(...U),M&&m.unshift(M)}return this.presenceChange&&(this.presenceChange.type===Dn.Put?r.set(this.id.getActorID(),ct(this.presenceChange.presence)):r.delete(this.id.getActorID())),{opInfos:l,reverseOps:m}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:yt.bytesToHex(yt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>yt.bytesToHex(yt.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:r,operations:s,presenceChange:l,message:m}=t;return Ci.create({id:yt.bytesToChangeID(yt.hexToBytes(r)),operations:s==null?void 0:s.map(w=>yt.bytesToOperation(yt.hexToBytes(w))),presenceChange:l,message:m})}}class Uo{constructor(t,r,s,l,m,w){this.documentKey=t,this.checkpoint=r,this.isRemoved=s,this.changes=l,this.snapshot=m,this.minSyncedTicket=w}static create(t,r,s,l,m,w){return new Uo(t,r,s,l,m,w)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class Xi{constructor(t,r){this.serverSeq=t,this.clientSeq=r}static of(t,r){return new Xi(t,r)}increaseClientSeq(t){return t===0?this:new Xi(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const r=this.serverSeq.greaterThan(t.serverSeq)?this.serverSeq:t.serverSeq,s=Math.max(this.clientSeq,t.clientSeq);return Xi.of(r,s)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq.equals(t.serverSeq)}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const $m=new Xi(lt.fromInt(0,!0),0);class Er{constructor(t,r){this.createdAt=t,this.offset=r}static of(t,r){return new Er(t,r)}static fromStruct(t){return Er.of(je.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Er(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const jm=Er.of(He,0);class lr{constructor(t,r){this.id=t,this.relativeOffset=r}static of(t,r){return new lr(t,r)}static fromStruct(t){const r=Er.fromStruct(t.id);return lr.of(r,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Er.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Zr extends rn{constructor(t,r,s){super(r),this.id=t,this.removedAt=s}static create(t,r){return new Zr(t,r)}static createComparator(){return(t,r)=>{const s=t.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:t.getOffset()>r.getOffset()?1:t.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new Zr(this.id.split(t),this.splitValue(t),this.removedAt)}canDelete(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}canStyle(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}remove(t){this.removedAt=t}createPosRange(){return[lr.of(this.id,0),lr.of(this.id,this.getLength())]}deepcopy(){return new Zr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const r=this.value;return this.value=r.substring(0,t),r.substring(t,r.length)}}class Qi{constructor(){this.head=Zr.create(jm),this.treeByIndex=new Pi,this.treeByID=new ee(Zr.createComparator()),this.removedNodeMap=new Map,this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Qi}edit(t,r,s,l){const[m,w]=this.findNodeWithSplit(t[1],r),[P,U]=this.findNodeWithSplit(t[0],r),M=this.findBetween(U,w),[H,le,X]=this.deleteNodes(M,r,l),he=w?w.getID():m.getID();let Se=lr.of(he,0);if(s){const ke=this.posToIndex(P.createPosRange()[1],!0),Ce=this.insertAfter(P,Zr.create(Er.of(r,0),s));H.length&&H[H.length-1].from===ke?H[H.length-1].value=s:H.push({actor:r.getActorID(),from:ke,to:ke,value:s}),Se=lr.of(Ce.getID(),Ce.getContentLength())}for(const[ke,Ce]of X)this.removedNodeMap.set(ke,Ce);return[Se,le,H]}indexToPos(t){const[r,s]=this.treeByIndex.find(t),l=r;return lr.of(l.getID(),s)}findIndexesFromRange(t){const[r,s]=t;return[this.posToIndex(r,!1),this.posToIndex(s,!0)]}posToIndex(t,r){const s=t.getAbsoluteID(),l=r?this.findFloorNodePreferToLeft(s):this.findFloorNode(s);l||k.fatal(`the node of the given id should be found: ${s.toTestString()}`);const m=this.treeByIndex.indexOf(l),w=l.isRemoved()?0:s.getOffset()-l.getID().getOffset();return m+w}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}checkWeight(){return this.treeByIndex.checkWeight()}toString(){const t=[];for(const r of this)r.isRemoved()||t.push(r.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new Qi;let r=this.head.getNext(),s=t.head,l;for(;r;){if(l=t.insertAfter(s,r.deepcopy()),r.hasInsPrev()){const m=t.findNode(r.getInsPrevID());l.setInsPrev(m)}s=l,r=r.getNext()}return t}toTestString(){const t=[];let r=this.head;for(;r;)r.isRemoved()?t.push(`{${r.toTestString()}}`):t.push(`[${r.toTestString()}]`),r=r.getNext();return t.join("")}insertAfter(t,r){const s=t.getNext();return r.setPrev(t),s&&s.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(t,r),r}findNodeWithSplit(t,r){const s=t.getAbsoluteID();let l=this.findFloorNodePreferToLeft(s);const m=s.getOffset()-l.getID().getOffset();for(this.splitNode(l,m);l.hasNext()&&l.getNext().getCreatedAt().after(r);)l=l.getNext();return[l,l.getNext()]}findFloorNodePreferToLeft(t){let r=this.findFloorNode(t);if(r||k.fatal(`the node of the given id should be found: ${t.toTestString()}`),t.getOffset()>0&&r.getID().getOffset()==t.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(t){const r=this.treeByID.floorEntry(t);if(r&&!(!r.key.equals(t)&&!r.key.hasSameCreatedAt(t)))return r.value}findBetween(t,r){const s=[];let l=t;for(;l&&l!==r;)s.push(l),l=l.getNext();return s}splitNode(t,r){if(r>t.getContentLength()&&k.fatal("offset should be less than or equal to length"),r===0)return t;if(r===t.getContentLength())return t.getNext();const s=t.split(r);this.treeByIndex.updateWeight(s),this.insertAfter(t,s);const l=t.getInsNext();return l&&l.setInsPrev(s),s.setInsPrev(t),s}deleteNodes(t,r,s){if(!t.length)return[[],new Map,new Map];const[l,m]=this.filterNodes(t,r,s),w=new Map,P=new Map,U=this.makeChanges(m,r);for(const M of l){const H=M.getCreatedAt().getActorID();(!w.has(H)||M.getID().getCreatedAt().after(w.get(H)))&&w.set(H,M.getID().getCreatedAt()),P.set(M.getID().toIDString(),M),M.remove(r)}return this.deleteIndexNodes(m),[U,w,P]}filterNodes(t,r,s){const l=!!s,m=[],w=[],[P,U]=this.findEdgesOfCandidates(t);w.push(P);for(const M of t){const H=M.getCreatedAt().getActorID(),le=l?s.has(H)?s.get(H):He:zt;M.canDelete(r,le)?m.push(M):w.push(M)}return w.push(U),[m,w]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,r){const s=[];let l,m;for(let w=0;w<t.length-1;w++){const P=t[w],U=t[w+1];P.getNext()!=U&&([l]=this.findIndexesFromRange(P.getNext().createPosRange()),U?[,m]=this.findIndexesFromRange(U.getPrev().createPosRange()):m=this.treeByIndex.length,l<m&&s.push({actor:r.getActorID(),from:l,to:m}))}return s.reverse()}deleteIndexNodes(t){for(let r=0;r<t.length-1;r++){const s=t[r],l=t[r+1];s.getNext()!=l&&this.treeByIndex.deleteRange(s,l)}}getRemovedNodesLen(){return this.removedNodeMap.size}purgeRemovedNodesBefore(t){let r=0;for(const[,s]of this.removedNodeMap)s.getRemovedAt()&&t.compare(s.getRemovedAt())>=0&&(this.treeByIndex.delete(s),this.purge(s),this.treeByID.remove(s.getID()),this.removedNodeMap.delete(s.getID().toIDString()),r++);return r}purge(t){const r=t.getPrev(),s=t.getNext(),l=t.getInsPrev(),m=t.getInsNext();r&&r.setNext(s),s&&s.setPrev(r),t.setPrev(void 0),t.setNext(void 0),l&&l.setInsNext(m),m&&m.setInsPrev(l),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Lc=a=>a<0?Math.ceil(a):Math.floor(a);var dt;(function(a){a[a.IntegerCnt=0]="IntegerCnt",a[a.LongCnt=1]="LongCnt"})(dt||(dt={}));class xn extends bt{constructor(t,r,s){switch(super(s),this.valueType=t,t){case dt.IntegerCnt:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=lt.fromNumber(r).toInt():this.value=Lc(r):this.value=r.toInt();break;case dt.LongCnt:typeof r=="number"?this.value=lt.fromNumber(r):this.value=r;break;default:throw new Le(_e.Unimplemented,`unimplemented type: ${t}`)}}static create(t,r,s){return new xn(t,r,s)}static valueFromBytes(t,r){switch(t){case dt.IntegerCnt:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case dt.LongCnt:return lt.fromBytesLE(Array.from(r));default:throw new Le(_e.Unimplemented,`unimplemented type: ${t}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=xn.create(this.valueType,this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof lt?dt.LongCnt:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?dt.LongCnt:dt.IntegerCnt;default:return}}static isSupport(t){return!!xn.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===dt.IntegerCnt||t===dt.LongCnt}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case dt.IntegerCnt:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case dt.LongCnt:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new Le(_e.Unimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function r(s){if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`)}return r(this),r(t),this.valueType===dt.LongCnt?this.value=this.value.add(t.getValue()):t.getType()===Te.Long?this.value=this.value+t.getValue().toInt():this.value=lt.fromNumber(this.value+Lc(t.getValue())).toInt(),this}}class Zi extends Xe{constructor(t,r,s){super(t,s),this.value=r}static create(t,r,s){return new Zi(t,r,s)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof xn||k.fatal("fail to execute, only Counter can execute increase");const s=r,l=this.value.deepcopy();return s.increase(l),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:l.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),s=t.getType()===Te.Long?t.getValue().multiply(-1):t.getValue()*-1;return Zi.create(this.getParentCreatedAt(),Ye.of(s,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Mr extends Xe{constructor(t,r,s,l,m,w){super(t,w),this.fromPos=r,this.toPos=s,this.attributes=l,this.attributesToRemove=m}static create(t,r,s,l,m){return new Mr(t,r,s,l,new Array,m)}static createTreeRemoveStyleOperation(t,r,s,l,m){return new Mr(t,r,s,new Map,l,m)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());r||k.fatal(`fail to find ${this.getParentCreatedAt()}`),r instanceof Yt||k.fatal("fail to execute, only Tree can execute edit");const s=r;let l;if(this.attributes.size){const m={};[...this.attributes].forEach(([w,P])=>m[w]=P),l=s.style([this.fromPos,this.toPos],m,this.getExecutedAt())}else{const m=this.attributesToRemove;l=s.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt())}return{opInfos:l.map(({from:m,to:w,value:P,fromPath:U})=>({type:"tree-style",from:m,to:w,value:P,fromPath:U,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${r},${s},${Object.entries(this.attributes||{}).map(([l,m])=>`${l}:"${m}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function Vm(a){const t=new G.Presence,r=t.data;for(const[s,l]of Object.entries(a))r[s]=JSON.stringify(l);return t}function zm(a){if(a.type===Dn.Put)return new G.PresenceChange({type:G.PresenceChange_ChangeType.PUT,presence:Vm(a.presence)});if(a.type===Dn.Clear)return new G.PresenceChange({type:G.PresenceChange_ChangeType.CLEAR});throw new Le(_e.Unimplemented,"unimplemented type")}function Wm(a){return new G.Checkpoint({serverSeq:a.getServerSeqAsString(),clientSeq:a.getClientSeq()})}function Mc(a){return new G.ChangeID({clientSeq:a.getClientSeq(),lamport:a.getLamportAsString(),actorId:yu(a.getActorID())})}function ge(a){if(a)return new G.TimeTicket({lamport:a.getLamportAsString(),delimiter:a.getDelimiter(),actorId:yu(a.getActorID())})}function Bc(a){switch(a){case Te.Null:return G.ValueType.NULL;case Te.Boolean:return G.ValueType.BOOLEAN;case Te.Integer:return G.ValueType.INTEGER;case Te.Long:return G.ValueType.LONG;case Te.Double:return G.ValueType.DOUBLE;case Te.String:return G.ValueType.STRING;case Te.Bytes:return G.ValueType.BYTES;case Te.Date:return G.ValueType.DATE;default:throw new Le(_e.Unsupported,`unsupported type: ${a}`)}}function Fc(a){switch(a){case dt.IntegerCnt:return G.ValueType.INTEGER_CNT;case dt.LongCnt:return G.ValueType.LONG_CNT;default:throw new Le(_e.Unsupported,`unsupported type: ${a}`)}}function fu(a){if(a instanceof Je)return new G.JSONElementSimple({type:G.ValueType.JSON_OBJECT,createdAt:ge(a.getCreatedAt()),value:Zc(a)});if(a instanceof sn)return new G.JSONElementSimple({type:G.ValueType.JSON_ARRAY,createdAt:ge(a.getCreatedAt()),value:vp(a)});if(a instanceof it)return new G.JSONElementSimple({type:G.ValueType.TEXT,createdAt:ge(a.getCreatedAt())});if(a instanceof Ye)return new G.JSONElementSimple({type:Bc(a.getType()),createdAt:ge(a.getCreatedAt()),value:a.toBytes()});if(a instanceof xn)return new G.JSONElementSimple({type:Fc(a.getType()),createdAt:ge(a.getCreatedAt()),value:a.toBytes()});if(a instanceof Yt)return new G.JSONElementSimple({type:G.ValueType.TREE,createdAt:ge(a.getCreatedAt()),value:wp(a)});throw new Le(_e.Unimplemented,"unimplemented element")}function Km(a){return new G.TextNodeID({createdAt:ge(a.getCreatedAt()),offset:a.getOffset()})}function Jo(a){return new G.TextNodePos({createdAt:ge(a.getID().getCreatedAt()),offset:a.getID().getOffset(),relativeOffset:a.getRelativeOffset()})}function $o(a){return new G.TreePos({parentId:Fs(a.getParentID()),leftSiblingId:Fs(a.getLeftSiblingID())})}function Fs(a){return new G.TreeNodeID({createdAt:ge(a.getCreatedAt()),offset:a.getOffset()})}function Uc(a){const t=new G.Operation;if(a instanceof Lr){const r=a,s=new G.Operation_Set;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.key=r.getKey(),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="set",t.body.value=s}else if(a instanceof Qr){const r=a,s=new G.Operation_Add;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.prevCreatedAt=ge(r.getPrevCreatedAt()),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="add",t.body.value=s}else if(a instanceof _n){const r=a,s=new G.Operation_Move;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.prevCreatedAt=ge(r.getPrevCreatedAt()),s.createdAt=ge(r.getCreatedAt()),s.executedAt=ge(r.getExecutedAt()),t.body.case="move",t.body.value=s}else if(a instanceof Tr){const r=a,s=new G.Operation_Remove;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.createdAt=ge(r.getCreatedAt()),s.executedAt=ge(r.getExecutedAt()),t.body.case="remove",t.body.value=s}else if(a instanceof At){const r=a,s=new G.Operation_Edit;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=Jo(r.getFromPos()),s.to=Jo(r.getToPos());const l=s.createdAtMapByActor;for(const[w,P]of r.getMaxCreatedAtMapByActor())l[w]=ge(P);s.content=r.getContent();const m=s.attributes;for(const[w,P]of r.getAttributes())m[w]=P;s.executedAt=ge(r.getExecutedAt()),t.body.case="edit",t.body.value=s}else if(a instanceof Ot){const r=a,s=new G.Operation_Style;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=Jo(r.getFromPos()),s.to=Jo(r.getToPos());const l=s.createdAtMapByActor;for(const[w,P]of r.getMaxCreatedAtMapByActor())l[w]=ge(P);const m=s.attributes;for(const[w,P]of r.getAttributes())m[w]=P;s.executedAt=ge(r.getExecutedAt()),t.body.case="style",t.body.value=s}else if(a instanceof Zi){const r=a,s=new G.Operation_Increase;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.value=fu(r.getValue()),s.executedAt=ge(r.getExecutedAt()),t.body.case="increase",t.body.value=s}else if(a instanceof Oi){const r=a,s=new G.Operation_TreeEdit,l=s.createdAtMapByActor;for(const[m,w]of r.getMaxCreatedAtMapByActor())l[m]=ge(w);s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=$o(r.getFromPos()),s.to=$o(r.getToPos()),s.contents=Zm(r.getContents()),s.splitLevel=r.getSplitLevel(),s.executedAt=ge(r.getExecutedAt()),t.body.case="treeEdit",t.body.value=s}else if(a instanceof Mr){const r=a,s=new G.Operation_TreeStyle;s.parentCreatedAt=ge(r.getParentCreatedAt()),s.from=$o(r.getFromPos()),s.to=$o(r.getToPos());const l=r.getAttributesToRemove();if(l.length>0)s.attributesToRemove=l;else{const m=s.attributes;for(const[w,P]of r.getAttributes())m[w]=P}s.executedAt=ge(r.getExecutedAt()),t.body.case="treeStyle",t.body.value=s}else throw new Le(_e.Unimplemented,"unimplemented operation");return t}function Ym(a){const t=[];for(const r of a)t.push(Uc(r));return t}function qm(a){const t=new G.Change({id:Mc(a.getID()),message:a.getMessage()});return a.hasOperations()&&(t.operations=Ym(a.getOperations())),a.hasPresenceChange()&&(t.presenceChange=zm(a.getPresenceChange())),t}function Gm(a){const t=[];for(const r of a)t.push(qm(r));return t}function Hm(a){const t=[];for(const r of a)t.push(new G.RHTNode({key:r.getStrKey(),element:du(r.getValue())}));return t}function Xm(a){const t=[];for(const r of a)t.push(new G.RGANode({element:du(r.getValue())}));return t}function Qm(a){const t=[];for(const r of a){const s=new G.TextNode;s.id=Km(r.getID()),s.value=r.getValue().getContent(),s.removedAt=ge(r.getRemovedAt());const l=s.attributes,m=r.getValue().getAttrs();for(const w of m){const P=new G.NodeAttr;P.value=w.getValue(),P.updatedAt=ge(w.getUpdatedAt()),l[w.getKey()]=P}t.push(s)}return t}function Zm(a){const t=[];if(!a||!a.length)return t;for(const r of a)t.push(new G.TreeNodes({content:Jc(r)}));return t}function Jc(a){if(!a)return[];const t=[];return yn(a,(r,s)=>{const l=new G.TreeNode({id:Fs(r.id),type:r.type,removedAt:ge(r.removedAt),depth:s});if(r.isText&&(l.value=r.value),r.insPrevID&&(l.insPrevId=Fs(r.insPrevID)),r.insNextID&&(l.insNextId=Fs(r.insNextID)),r.attrs)for(const m of r.attrs)l.attributes[m.getKey()]=new G.NodeAttr({value:m.getValue(),updatedAt:ge(m.getUpdatedAt())});t.push(l)}),t}function ep(a){const t=new G.JSONElement;return t.body.case="jsonObject",t.body.value=new G.JSONElement_JSONObject({nodes:Hm(a.getRHT()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function $c(a){const t=new G.JSONElement;return t.body.case="jsonArray",t.body.value=new G.JSONElement_JSONArray({nodes:Xm(a.getElements()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function tp(a){const t=new G.JSONElement;return t.body.case="primitive",t.body.value=new G.JSONElement_Primitive({type:Bc(a.getType()),value:a.toBytes(),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function np(a){const t=new G.JSONElement;return t.body.case="text",t.body.value=new G.JSONElement_Text({nodes:Qm(a.getRGATreeSplit()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function rp(a){const t=new G.JSONElement;return t.body.case="counter",t.body.value=new G.JSONElement_Counter({type:Fc(a.getType()),value:a.toBytes(),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function jc(a){const t=new G.JSONElement;return t.body.case="tree",t.body.value=new G.JSONElement_Tree({nodes:Jc(a.getRoot()),createdAt:ge(a.getCreatedAt()),movedAt:ge(a.getMovedAt()),removedAt:ge(a.getRemovedAt())}),t}function du(a){if(a instanceof Je)return ep(a);if(a instanceof sn)return $c(a);if(a instanceof Ye)return tp(a);if(a instanceof it)return np(a);if(a instanceof xn)return rp(a);if(a instanceof Yt)return jc(a);throw new Le(_e.Unimplemented,"unimplemented element")}function ip(a){return new G.ChangePack({documentKey:a.getDocumentKey(),checkpoint:Wm(a.getCheckpoint()),isRemoved:a.getIsRemoved(),changes:Gm(a.getChanges()),snapshot:a.getSnapshot(),minSyncedTicket:ge(a.getMinSyncedTicket())})}function Vc(a){return Sr.of(a.clientSeq,lt.fromString(a.lamport,!0),gu(a.actorId))}function ye(a){if(a)return je.of(lt.fromString(a.lamport,!0),a.delimiter,gu(a.actorId))}function hu(a){const t={};return Object.entries(a.data).forEach(([r,s])=>{t[r]=JSON.parse(s)}),t}function sp(a){const t=a.type;if(t===G.PresenceChange_ChangeType.PUT){const r=hu(a.presence);return{type:Dn.Put,presence:r}}if(t===G.PresenceChange_ChangeType.CLEAR)return{type:Dn.Clear};throw new Le(_e.Unsupported,`unsupported type: ${t}`)}function op(a){const t=new Map;return Object.entries(a).forEach(([r,s])=>{t.set(r,hu(s))}),t}function zc(a){switch(a){case G.ValueType.NULL:return Te.Null;case G.ValueType.BOOLEAN:return Te.Boolean;case G.ValueType.INTEGER:return Te.Integer;case G.ValueType.LONG:return Te.Long;case G.ValueType.DOUBLE:return Te.Double;case G.ValueType.STRING:return Te.String;case G.ValueType.BYTES:return Te.Bytes;case G.ValueType.DATE:return Te.Date}throw new Le(_e.Unimplemented,`unimplemented value type: ${a}`)}function jo(a){switch(a){case G.ValueType.INTEGER_CNT:return dt.IntegerCnt;case G.ValueType.LONG_CNT:return dt.LongCnt}throw new Le(_e.Unimplemented,`unimplemented value type: ${a}`)}function mu(a){switch(a.type){case G.ValueType.JSON_OBJECT:return a.value?Qc(a.value):Je.create(ye(a.createdAt));case G.ValueType.JSON_ARRAY:return a.value?yp(a.value):sn.create(ye(a.createdAt));case G.ValueType.TEXT:return it.create(Qi.create(),ye(a.createdAt));case G.ValueType.TREE:return Tp(a.value);case G.ValueType.NULL:case G.ValueType.BOOLEAN:case G.ValueType.INTEGER:case G.ValueType.LONG:case G.ValueType.DOUBLE:case G.ValueType.STRING:case G.ValueType.BYTES:case G.ValueType.DATE:return Ye.of(Ye.valueFromBytes(zc(a.type),a.value),ye(a.createdAt));case G.ValueType.INTEGER_CNT:case G.ValueType.LONG_CNT:return xn.create(jo(a.type),xn.valueFromBytes(jo(a.type),a.value),ye(a.createdAt))}}function Vo(a){return lr.of(Er.of(ye(a.createdAt),a.offset),a.relativeOffset)}function Wc(a){return Er.of(ye(a.createdAt),a.offset)}function ap(a){const t=wr.create(a.value);Object.entries(a.attributes).forEach(([s,l])=>{t.setAttr(s,l.value,ye(l.updatedAt))});const r=Zr.create(Wc(a.id),t);return r.remove(ye(a.removedAt)),r}function es(a){return oe.of(Us(a.parentId),Us(a.leftSiblingId))}function Us(a){return ae.of(ye(a.createdAt),a.offset)}function up(a){if(!a.length)return;const t=[];return a.forEach(r=>{const s=Kc(r.content);t.push(s)}),t}function Kc(a){if(a.length===0)return;const t=[];for(const s of a)t.push(lp(s));const r=t[t.length-1];for(let s=t.length-2;s>=0;s--){let l;for(let m=s+1;m<t.length;m++)if(a[s].depth-1===a[m].depth){l=t[m];break}l.prepend(t[s])}return Yt.create(r,He).getRoot()}function lp(a){const t=Us(a.id),r=pe.create(t,a.type);if(r.isText)r.value=a.value;else{const s=St.create();Object.entries(a.attributes).forEach(([l,m])=>{s.set(l,m.value,ye(m.updatedAt))}),r.attrs=s}return a.insPrevId&&(r.insPrevID=Us(a.insPrevId)),a.insNextId&&(r.insNextID=Us(a.insNextId)),r.removedAt=ye(a.removedAt),r}function Yc(a){if(a.body.case==="set"){const t=a.body.value;return Lr.create(t.key,mu(t.value),ye(t.parentCreatedAt),ye(t.executedAt))}else if(a.body.case==="add"){const t=a.body.value;return Qr.create(ye(t.parentCreatedAt),ye(t.prevCreatedAt),mu(t.value),ye(t.executedAt))}else if(a.body.case==="move"){const t=a.body.value;return _n.create(ye(t.parentCreatedAt),ye(t.prevCreatedAt),ye(t.createdAt),ye(t.executedAt))}else if(a.body.case==="remove"){const t=a.body.value;return Tr.create(ye(t.parentCreatedAt),ye(t.createdAt),ye(t.executedAt))}else if(a.body.case==="edit"){const t=a.body.value,r=new Map;Object.entries(t.createdAtMapByActor).forEach(([l,m])=>{r.set(l,ye(m))});const s=new Map;return Object.entries(t.attributes).forEach(([l,m])=>{s.set(l,m)}),At.create(ye(t.parentCreatedAt),Vo(t.from),Vo(t.to),r,t.content,s,ye(t.executedAt))}else if(a.body.case==="style"){const t=a.body.value,r=new Map;Object.entries(t.createdAtMapByActor).forEach(([l,m])=>{r.set(l,ye(m))});const s=new Map;return Object.entries(t.attributes).forEach(([l,m])=>{s.set(l,m)}),Ot.create(ye(t.parentCreatedAt),Vo(t.from),Vo(t.to),r,s,ye(t.executedAt))}else{if(a.body.case==="select")return;if(a.body.case==="increase"){const t=a.body.value;return Zi.create(ye(t.parentCreatedAt),mu(t.value),ye(t.executedAt))}else if(a.body.case==="treeEdit"){const t=a.body.value,r=new Map;return Object.entries(t.createdAtMapByActor).forEach(([s,l])=>{r.set(s,ye(l))}),Oi.create(ye(t.parentCreatedAt),es(t.from),es(t.to),up(t.contents),t.splitLevel,r,ye(t.executedAt))}else if(a.body.case==="treeStyle"){const t=a.body.value,r=new Map,s=t.attributesToRemove;return s.length>0?Mr.createTreeRemoveStyleOperation(ye(t.parentCreatedAt),es(t.from),es(t.to),s,ye(t.executedAt)):(Object.entries(t.attributes).forEach(([l,m])=>{r.set(l,m)}),Mr.create(ye(t.parentCreatedAt),es(t.from),es(t.to),r,ye(t.executedAt)))}else throw new Le(_e.Unimplemented,"unimplemented operation")}}function cp(a){const t=[];for(const r of a){const s=Yc(r);s&&t.push(s)}return t}function qc(a){const t=[];for(const r of a)t.push(Ci.create({id:Vc(r.id),operations:cp(r.operations),presenceChange:r.presenceChange?sp(r.presenceChange):void 0,message:r.message}));return t}function fp(a){return Xi.of(lt.fromString(a.serverSeq,!0),a.clientSeq)}function dp(a){return Uo.create(a.documentKey,fp(a.checkpoint),a.isRemoved,qc(a.changes),a.snapshot,ye(a.minSyncedTicket))}function Gc(a){const t=new Pt;for(const s of a.nodes){const l=pu(s.element);t.set(s.key,l,l.getPositionedAt())}const r=new Je(ye(a.createdAt),t);return r.setMovedAt(ye(a.movedAt)),r.setRemovedAt(ye(a.removedAt)),r}function Hc(a){const t=new Ai;for(const s of a.nodes)t.insert(pu(s.element));const r=new sn(ye(a.createdAt),t);return r.setMovedAt(ye(a.movedAt)),r.setRemovedAt(ye(a.removedAt)),r}function hp(a){const t=Ye.of(Ye.valueFromBytes(zc(a.type),a.value),ye(a.createdAt));return t.setMovedAt(ye(a.movedAt)),t.setRemovedAt(ye(a.removedAt)),t}function mp(a){const t=new Qi;let r=t.getHead();for(const l of a.nodes){const m=t.insertAfter(r,ap(l));l.insPrevId&&m.setInsPrev(t.findNode(Wc(l.insPrevId))),r=m}const s=new it(t,ye(a.createdAt));return s.setMovedAt(ye(a.movedAt)),s.setRemovedAt(ye(a.removedAt)),s}function pp(a){const t=xn.create(jo(a.type),xn.valueFromBytes(jo(a.type),a.value),ye(a.createdAt));return t.setMovedAt(ye(a.movedAt)),t.setRemovedAt(ye(a.removedAt)),t}function Xc(a){const t=Kc(a.nodes);return Yt.create(t,ye(a.createdAt))}function pu(a){if(a.body.case==="jsonObject")return Gc(a.body.value);if(a.body.case==="jsonArray")return Hc(a.body.value);if(a.body.case==="primitive")return hp(a.body.value);if(a.body.case==="text")return mp(a.body.value);if(a.body.case==="counter")return pp(a.body.value);if(a.body.case==="tree")return Xc(a.body.value);throw new Le(_e.Unimplemented,"unimplemented element")}function gp(a){if(!a)return{root:Je.create(He),presences:new Map};const t=G.Snapshot.fromBinary(a);return{root:pu(t.root),presences:op(t.presences)}}function Qc(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Gc(t.body.value)}function Zc(a){return du(a).toBinary()}function yp(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Hc(t.body.value)}function vp(a){return $c(a).toBinary()}function Tp(a){if(!a)throw new Error("bytes is empty");const t=G.JSONElement.fromBinary(a);return Xc(t.body.value)}function wp(a){return jc(a).toBinary()}function ef(a){return a?Array.from(a).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function gu(a){return ef(a)}function tf(a){return new Uint8Array(a.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function yu(a){return tf(a)}function Sp(a){const t=G.ChangeID.fromBinary(a);return Vc(t)}function Ep(a){const t=G.Operation.fromBinary(a);return Yc(t)}const yt={fromPresence:hu,toChangePack:ip,fromChangePack:dp,fromChanges:qc,objectToBytes:Zc,bytesToObject:Qc,bytesToSnapshot:gp,bytesToHex:ef,hexToBytes:tf,toHexString:gu,toUint8Array:yu,toOperation:Uc,toChangeID:Mc,PbChangeID:G.ChangeID,bytesToChangeID:Sp,bytesToOperation:Ep};class kp{constructor(t,r,s,l){this.reconnectStreamDelay=t,this.doc=r,this.docID=s,this.syncMode=l,this.remoteChangeEventReceived=!1}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Rn.RealtimeSyncOff?!1:this.syncMode!==Rn.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay)})}catch{}};await r()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}class ts{constructor(t,r,s,l){this.id=t,this.delimiter=mn,this.root=r,this.operations=[],this.previousPresence=ct(s),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(t,r,s,l){return new ts(t,r,s,l)}push(t){this.operations.push(t)}registerElement(t,r){this.root.registerElement(t,r)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerElementHasRemovedNodes(t){this.root.registerElementHasRemovedNodes(t)}getChange(){return Ci.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,r){for(const s of Object.keys(t))r!=null&&r.addToHistory?this.reversePresenceKeys.add(s):this.reversePresenceKeys.delete(s)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const r of this.reversePresenceKeys)t[r]=this.previousPresence[r];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Js{constructor(t){this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.removedElementSetByCreatedAt=new Set,this.elementHasRemovedNodesSetByCreatedAt=new Set,this.registerElement(t,void 0)}static create(){return new Js(Je.create(He))}findByCreatedAt(t){const r=this.elementPairMapByCreatedAt.get(t.toIDString());if(r)return r.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let r=this.elementPairMapByCreatedAt.get(t.toIDString());if(!r)return[];const s=[];for(;r.parent;){const l=r.element.getCreatedAt(),m=r.parent.subPathOf(l);m===void 0&&k.fatal(`cant find the given element: ${l.toIDString()}`),s.unshift(m),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return s.unshift("$"),s}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,r){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:r,element:t}),t instanceof ft&&t.getDescendants((s,l)=>(this.registerElement(s,l),!1))}deregisterElement(t){let r=0;const s=l=>{const m=l.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(m),this.removedElementSetByCreatedAt.delete(m),r++};return s(t),t instanceof ft&&t.getDescendants(l=>(s(l),!1)),r}registerRemovedElement(t){this.removedElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerElementHasRemovedNodes(t){this.elementHasRemovedNodesSetByCreatedAt.add(t.getCreatedAt().toIDString())}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getRemovedElementSetSize(){return this.removedElementSetByCreatedAt.size}getObject(){return this.rootObject}getGarbageLen(){let t=0;const r=new Set;for(const s of this.removedElementSetByCreatedAt){r.add(s);const l=this.elementPairMapByCreatedAt.get(s);l.element instanceof ft&&l.element.getDescendants(m=>(r.add(m.getCreatedAt().toIDString()),!1))}t+=r.size;for(const s of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(s).element;t+=m.getRemovedNodesLen()}return t}deepcopy(){return new Js(this.rootObject.deepcopy())}garbageCollect(t){let r=0;for(const s of this.removedElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(s);l.element.getRemovedAt()&&t.compare(l.element.getRemovedAt())>=0&&(l.parent.purge(l.element),r+=this.deregisterElement(l.element))}for(const s of this.elementHasRemovedNodesSetByCreatedAt){const m=this.elementPairMapByCreatedAt.get(s).element,w=m.purgeRemovedNodesBefore(t);w>0&&this.elementHasRemovedNodesSetByCreatedAt.delete(m.getCreatedAt().toIDString()),r+=w}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function nf(a,t){const r=new $s(a);return new Proxy(t,r.getHandlers())}class $s{constructor(t){this.context=t,this.handlers={set:(r,s,l)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]=${JSON.stringify(l)}`),$s.setInternal(t,r,s,l),!0),get:(r,s)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]`),s==="getID"?()=>r.getCreatedAt():s==="toJSON"||s==="toString"?()=>r.toJSON():s==="toJS"?()=>r.toJS():s==="toJSForTest"?()=>r.toJSForTest():Di(t,r.get(s))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,s)=>(k.isEnabled(y.Trivial)&&k.trivial(`obj[${s}]`),$s.deleteInternal(t,r,s),!0)}}static setInternal(t,r,s,l){if(s.includes("."))throw new Le(_e.InvalidObjectKey,"key must not contain the '.'.");const m=t.issueTimeTicket(),w=Yo(t,l,m),P=r.set(s,w,m);t.registerElement(w,r),P&&t.registerRemovedElement(P),t.push(Lr.create(s,w.deepcopy(),r.getCreatedAt(),m))}static buildObjectMembers(t,r){const s={};for(const[l,m]of Object.entries(r)){if(l.includes("."))throw new Le(_e.InvalidObjectKey,"key must not contain the '.'.");const w=t.issueTimeTicket(),P=Yo(t,m,w);s[l]=P}return s}static deleteInternal(t,r,s){const l=t.issueTimeTicket(),m=r.deleteByKey(s,l);m&&(t.push(Tr.create(r.getCreatedAt(),m.getCreatedAt(),l)),t.registerRemovedElement(m))}getHandlers(){return this.handlers}}function Np(a,t){const r=new st(a,t);return new Proxy(t,r.getHandlers())}function Ip(a){return typeof a=="string"||a instanceof String?!isNaN(a):!1}function Pp(a){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(a)}class st{constructor(t,r){this.context=t,this.array=r,this.handlers={get:(s,l,m)=>l==="getID"?()=>s.getCreatedAt():l==="getElementByID"?w=>{const P=s.getByID(w);if(!(!P||P.isRemoved()))return ei(t,P)}:l==="getElementByIndex"?w=>{const P=s.get(w);return ei(t,P)}:l==="getLast"?()=>ei(t,s.getLast()):l==="deleteByID"?w=>{const P=st.deleteInternalByID(t,s,w);return ei(t,P)}:l==="insertAfter"?(w,P)=>{const U=st.insertAfterInternal(t,s,w,P);return ei(t,U)}:l==="insertBefore"?(w,P)=>{const U=st.insertBeforeInternal(t,s,w,P);return ei(t,U)}:l==="moveBefore"?(w,P)=>{st.moveBeforeInternal(t,s,w,P)}:l==="moveAfter"?(w,P)=>{st.moveAfterInternal(t,s,w,P)}:l==="moveFront"?w=>{st.moveFrontInternal(t,s,w)}:l==="moveLast"?w=>{st.moveLastInternal(t,s,w)}:Ip(l)?Di(t,s.get(Number(l))):l==="push"?w=>st.pushInternal(t,s,w):l==="splice"?(w,P,...U)=>st.splice(t,s,w,P,...U):l==="length"?s.length:typeof l=="symbol"&&l===Symbol.iterator?st.iteratorInternal.bind(this,t,s):l==="includes"?(w,P)=>st.includes(t,s,w,P):l==="indexOf"?(w,P)=>st.indexOf(t,s,w,P):l==="lastIndexOf"?(w,P)=>st.lastIndexOf(t,s,w,P):l==="toJSForTest"?()=>s.toJSForTest():l==="toTestString"?()=>st.toTestString(s):typeof l=="string"&&Pp(l)?(...w)=>{const P=Array.from(s).map(U=>Di(t,U));return Array.prototype[l].apply(P,w)}:Reflect.get(s,l,m),deleteProperty:(s,l)=>(k.isEnabled(y.Trivial)&&k.trivial(`array[${l}]`),st.deleteInternalByIndex(t,s,Number.parseInt(l)),!0)}}static*iteratorInternal(t,r){for(const s of r)yield ei(t,s)}static buildArrayElements(t,r){const s=[];for(const l of r){const m=t.issueTimeTicket(),w=Yo(t,l,m);s.push(w)}return s}static pushInternal(t,r,s){return st.insertAfterInternal(t,r,r.getLastCreatedAt(),s),r.length}static moveBeforeInternal(t,r,s,l){const m=t.issueTimeTicket(),w=r.getPrevCreatedAt(s);r.moveAfter(w,l,m),t.push(_n.create(r.getCreatedAt(),w,l,m))}static moveAfterInternal(t,r,s,l){const m=t.issueTimeTicket();r.moveAfter(s,l,m),t.push(_n.create(r.getCreatedAt(),s,l,m))}static moveFrontInternal(t,r,s){const l=t.issueTimeTicket(),m=r.getHead();r.moveAfter(m.getCreatedAt(),s,l),t.push(_n.create(r.getCreatedAt(),m.getCreatedAt(),s,l))}static moveLastInternal(t,r,s){const l=t.issueTimeTicket(),m=r.getLastCreatedAt();r.moveAfter(m,s,l),t.push(_n.create(r.getCreatedAt(),m,s,l))}static insertAfterInternal(t,r,s,l){const m=t.issueTimeTicket(),w=Yo(t,l,m);return r.insertAfter(s,w),t.registerElement(w,r),t.push(Qr.create(r.getCreatedAt(),s,w.deepcopy(),m)),w}static insertBeforeInternal(t,r,s,l){return st.insertAfterInternal(t,r,r.getPrevCreatedAt(s),l)}static deleteInternalByIndex(t,r,s){const l=t.issueTimeTicket(),m=r.deleteByIndex(s,l);if(m)return t.push(Tr.create(r.getCreatedAt(),m.getCreatedAt(),l)),t.registerRemovedElement(m),m}static deleteInternalByID(t,r,s){const l=t.issueTimeTicket(),m=r.delete(s,l);return t.push(Tr.create(r.getCreatedAt(),m.getCreatedAt(),l)),t.registerRemovedElement(m),m}static splice(t,r,s,l,...m){const w=r.length,P=s>=0?Math.min(s,w):Math.max(w+s,0),U=l===void 0?w:l<0?P:Math.min(P+l,w),M=[];for(let H=P;H<U;H++){const le=st.deleteInternalByIndex(t,r,P);if(le){const X=le.deepcopy();X.setRemovedAt(),M.push(Di(t,X))}}if(m){let H=P===0?r.getHead().getID():r.get(P-1).getID();for(const le of m)H=st.insertAfterInternal(t,r,H,le).getID()}return M}static includes(t,r,s,l){var m;const w=r.length,P=l===void 0?0:l<0?Math.max(l+w,0):l;if(P>=w)return!1;if(Ye.isSupport(s))return Array.from(r).map(M=>Di(t,M)).includes(s,P);for(let U=P;U<w;U++)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return!0;return!1}static indexOf(t,r,s,l){var m;const w=r.length,P=l===void 0?0:l<0?Math.max(l+w,0):l;if(P>=w)return-1;if(Ye.isSupport(s))return Array.from(r).map(M=>Di(t,M)).indexOf(s,P);for(let U=P;U<w;U++)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return U;return-1}static lastIndexOf(t,r,s,l){var m;const w=r.length,P=l===void 0||l>=w?w-1:l<0?l+w:l;if(P<0)return-1;if(Ye.isSupport(s))return Array.from(r).map(M=>Di(t,M)).lastIndexOf(s,P);for(let U=P;U>0;U--)if(((m=r.get(U))===null||m===void 0?void 0:m.getID())===s.getID())return U;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class zo{constructor(t,r){this.context=t,this.text=r}initialize(t,r){this.context=t,this.text=r}getID(){return this.text.getID()}edit(t,r,s,l){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}if(t>r){k.fatal("from should be less than or equal to to");return}const m=this.text.indexRangeToPosRange(t,r);k.isEnabled(y.Debug)&&k.debug(`EDIT: f:${t}->${m[0].toTestString()}, t:${r}->${m[1].toTestString()} c:${s}`);const w=l?Xr(l):void 0,P=this.context.issueTimeTicket(),[U,,M]=this.text.edit(m,s,P,w);return this.context.push(new At(this.text.getCreatedAt(),m[0],m[1],U,s,w?new Map(Object.entries(w)):new Map,P)),m[0].equals(m[1])||this.context.registerElementHasRemovedNodes(this.text),this.text.findIndexesFromRange(M)}delete(t,r){return this.edit(t,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,r,s){if(!this.context||!this.text)return k.fatal("it is not initialized yet"),!1;if(t>r)return k.fatal("from should be less than or equal to to"),!1;const l=this.text.indexRangeToPosRange(t,r);k.isEnabled(y.Debug)&&k.debug(`STYL: f:${t}->${l[0].toTestString()}, t:${r}->${l[1].toTestString()} a:${JSON.stringify(s)}`);const m=Xr(s),w=this.context.issueTimeTicket(),[P]=this.text.setStyle(l,m,w);return this.context.push(new Ot(this.text.getCreatedAt(),l[0],l[1],P,new Map(Object.entries(m)),w)),!0}indexRangeToPosRange(t){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}const r=this.text.indexRangeToPosRange(t[0],t[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}const r=this.text.findIndexesFromRange([lr.fromStruct(t[0]),lr.fromStruct(t[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.toTestString()}values(){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.values()}get length(){return this.text.length}checkWeight(){return this.text.checkWeight()}toString(){return!this.context||!this.text?(k.fatal("it is not initialized yet"),""):this.text.toString()}toJSForTest(){if(!this.context||!this.text)throw new Error("it is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,r){if(!this.context||!this.text){k.fatal("it is not initialized yet");return}return this.text.indexRangeToPosRange(t,r)}}class Wo{constructor(t,r){this.valueType=t,this.value=r}initialize(t,r){this.valueType=r.getValueType(),this.context=t,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter){k.fatal("it is not initialized yet");return}const r=this.context.issueTimeTicket(),s=Ye.of(t,r);if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`);return this.counter.increase(s),this.context.push(Zi.create(this.counter.getCreatedAt(),s,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new Error("it is not initialized yet");return this.counter.toJSForTest()}}function vu(a,t,r){const{type:s}=a,l=r.issueTimeTicket();if(s===Kt){rf(a);const{value:m}=a,w=pe.create(ae.of(l,0),s,m);t.append(w)}else{const{children:m=[]}=a;let{attributes:w}=a,P;if(typeof w=="object"&&!It(w)){w=Xr(w),P=new St;for(const[M,H]of Object.entries(w))P.set(M,H,l)}const U=pe.create(ae.of(l,0),s,void 0,P);t.append(U);for(const M of m)vu(M,U,r)}}function Ap(a,t){const{type:r}=t,s=a.issueTimeTicket();let l;if(t.type===Kt){const{value:m}=t;l=pe.create(ae.of(s,0),r,m)}else if(t){const{children:m=[]}=t;let{attributes:w}=t,P;if(typeof w=="object"&&!It(w)){w=Xr(w),P=new St;for(const[U,M]of Object.entries(w))P.set(U,M,s)}l=pe.create(ae.of(a.issueTimeTicket(),0),r,void 0,P);for(const U of m)vu(U,l,a)}return l}function rf(a){if(!a.value.length)throw new Error("text node cannot have empty value");return!0}function sf(a){if(!a.length)return!0;if(a[0].type===Kt)for(const r of a){const{type:s}=r;if(s!==Kt)throw new Error("element node and text node cannot be passed together");rf(r)}else for(const r of a){const{type:s}=r;if(s===Kt)throw new Error("element node and text node cannot be passed together")}return!0}class Ko{constructor(t){this.initialRoot=t}initialize(t,r){this.context=t,this.tree=r}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return pe.create(ae.of(t.issueTimeTicket(),0),qn);const r=pe.create(ae.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const s of this.initialRoot.children)vu(s,r,t);return r}getSize(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getSize()}getIndexTree(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,r){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(!t.length)throw new Error("path should not be empty");const[s,l]=this.tree.pathToPosRange(t),m=this.context.issueTimeTicket(),w=r?Xr(r):void 0;this.tree.style([s,l],w,m),this.context.push(Mr.create(this.tree.getCreatedAt(),s,l,w?new Map(Object.entries(w)):new Map,m))}style(t,r,s){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const l=this.tree.findPos(t),m=this.tree.findPos(r),w=this.context.issueTimeTicket(),P=s?Xr(s):void 0;this.tree.style([l,m],P,w),this.context.push(Mr.create(this.tree.getCreatedAt(),l,m,P?new Map(Object.entries(P)):new Map,w))}removeStyle(t,r,s){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const l=this.tree.findPos(t),m=this.tree.findPos(r),w=this.context.issueTimeTicket();this.tree.removeStyle([l,m],s,w),this.context.push(Mr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,m,s,w))}editInternal(t,r,s,l=0){var m;if(s.length!==0&&s[0]&&(sf(s),s[0].type!==Kt))for(const M of s){const{children:H=[]}=M;sf(H)}const w=this.context.getLastTimeTicket();let P=new Array;if(((m=s[0])===null||m===void 0?void 0:m.type)===Kt){let M="";for(const H of s){const{value:le}=H;M+=le}P.push(pe.create(ae.of(this.context.issueTimeTicket(),0),Kt,M))}else P=s.map(M=>M&&Ap(this.context,M)).filter(M=>M);const[,U]=this.tree.edit([t,r],P.length?P.map(M=>M==null?void 0:M.deepcopy()):void 0,l,w,()=>this.context.issueTimeTicket());return this.context.push(Oi.create(this.tree.getCreatedAt(),t,r,P.length?P:void 0,l,U,w)),t.equals(r)||this.context.registerElementHasRemovedNodes(this.tree),!0}editByPath(t,r,s,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t.length!==r.length)throw new Error("path length should be equal");if(!t.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(t),w=this.tree.pathToPos(r);return this.editInternal(m,w,s?[s]:[],l)}editBulkByPath(t,r,s,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t.length!==r.length)throw new Error("path length should be equal");if(!t.length||!r.length)throw new Error("path should not be empty");const m=this.tree.pathToPos(t),w=this.tree.pathToPos(r);return this.editInternal(m,w,s,l)}edit(t,r,s,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(t),w=this.tree.findPos(r);return this.editInternal(m,w,s?[s]:[],l)}editBulk(t,r,s,l=0){if(!this.context||!this.tree)throw new Error("it is not initialized yet");if(t>r)throw new Error("from should be less than or equal to to");const m=this.tree.findPos(t),w=this.tree.findPos(r);return this.editInternal(m,w,s,l)}toXML(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new Error("it is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],s=this.tree.indexRangeToPosRange(r);return[s[0].toStruct(),s[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[oe.fromStruct(t[0]),oe.fromStruct(t[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(t){if(!this.context||!this.tree){k.fatal("it is not initialized yet");return}const r=[oe.fromStruct(t[0]),oe.fromStruct(t[1])];return this.tree.posRangeToPathRange(r)}}function of(a,t){return nf(a,t)}function ei(a,t){if(t){if(t instanceof Ye)return t;if(t instanceof Je)return nf(a,t);if(t instanceof sn)return Np(a,t);if(t instanceof it)return new zo(a,t);if(t instanceof xn){const r=new Wo(dt.IntegerCnt,0);return r.initialize(a,t),r}else if(t instanceof Yt){const r=new Ko;return r.initialize(a,t),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Di(a,t){const r=ei(a,t);return r instanceof Ye?r.getValue():r}function Yo(a,t,r){let s;if(Ye.isSupport(t))s=Ye.of(t,r);else if(Array.isArray(t))s=sn.create(r,st.buildArrayElements(a,t));else if(typeof t=="object")t instanceof zo?(s=it.create(Qi.create(),r),t.initialize(a,s)):t instanceof Wo?(s=xn.create(t.getValueType(),t.getValue(),r),t.initialize(a,s)):t instanceof Ko?(s=Yt.create(t.buildRoot(a),r),t.initialize(a,s)):s=Je.create(r,$s.buildObjectMembers(a,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return s}const af=50;class Op{constructor(){this.undoStack=[],this.redoStack=[]}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=af&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=af&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const uf="yorkie-devtools-panel",lf="yorkie-devtools-sdk";let ns="disconnected";const cf=new Map,Tu=new Map;function qo(a,t){(t!=null&&t.force||ns!=="disconnected")&&window.postMessage({source:lf,...a},"*")}function Cp(a){if(!a.isEnableDevtools()||cf.has(a.getKey()))return;Tu.set(a.getKey(),[]);const t=a.subscribe("all",r=>{Tu.get(a.getKey()).push(r),ns==="synced"&&qo({msg:"doc::sync::partial",docKey:a.getKey(),event:r})});cf.set(a.getKey(),[t]),qo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{var s;if(((s=r.data)===null||s===void 0?void 0:s.source)!==uf)return;switch(r.data.msg){case"devtools::connect":if(ns!=="disconnected")break;ns="connected",qo({msg:"doc::available",docKey:a.getKey()}),k.info(`[YD] Devtools connected. Doc: ${a.getKey()}`);break;case"devtools::disconnect":ns="disconnected",k.info(`[YD] Devtools disconnected. Doc: ${a.getKey()}`);break;case"devtools::subscribe":ns="synced",qo({msg:"doc::sync::full",docKey:a.getKey(),events:Tu.get(a.getKey())}),k.info(`[YD] Devtools subscribed. Doc: ${a.getKey()}`);break}})}var qt;(function(a){a.Detached="detached",a.Attached="attached",a.Removed="removed"})(qt||(qt={}));var we;(function(a){a.StatusChanged="status-changed",a.Snapshot="snapshot",a.LocalChange="local-change",a.RemoteChange="remote-change",a.Initialized="initialized",a.Watched="watched",a.Unwatched="unwatched",a.PresenceChanged="presence-changed"})(we||(we={}));class ff{constructor(t,r){this.opts=r||{},this.key=t,this.status=qt.Detached,this.root=Js.create(),this.changeID=Jm,this.checkpoint=$m,this.localChanges=[],this.eventStream=L(s=>{this.eventStreamObserver=s}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Op,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Cp(this)}update(t,r){if(this.getStatus()===qt.Removed)throw new Le(_e.DocumentRemoved,`${this.key} is removed`);this.ensureClone();const s=this.changeID.getActorID(),l=ts.create(this.changeID.next(),this.clone.root,this.clone.presences.get(s)||{},r);try{const m=of(l,this.clone.root.getObject());this.presences.has(s)||this.clone.presences.set(s,{}),this.isUpdating=!0,t(m,new jt(l,this.clone.presences.get(s)))}catch(m){throw this.clone=void 0,k.error(m),m}finally{this.isUpdating=!1}if(l.hasChange()){k.isEnabled(y.Trivial)&&k.trivial(`trying to update a local change: ${this.toJSON()}`);const m=l.getChange(),{opInfos:w,reverseOps:P}=m.execute(this.root,this.presences,Ae.Local),U=l.getReversePresence();U&&P.push({type:"presence",value:U}),this.localChanges.push(m),P.length>0&&this.internalHistory.pushUndo(P),w.length>0&&this.internalHistory.clearRedo(),this.changeID=m.getID();const M=[];w.length>0&&M.push({type:we.LocalChange,source:Ae.Local,value:{message:m.getMessage()||"",operations:w,actor:s},rawChange:this.isEnableDevtools()?m.toStruct():void 0}),m.hasPresenceChange()&&M.push({type:we.PresenceChanged,source:Ae.Local,value:{clientID:s,presence:this.getPresence(s)}}),this.publish(M),k.isEnabled(y.Trivial)&&k.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,r,s,l){if(typeof t=="string"){if(typeof r!="function")throw new Error("Second argument must be a callback function");if(t==="presence"){const P=r;return this.eventStream.subscribe(U=>{for(const M of U)M.type!==we.Initialized&&M.type!==we.Watched&&M.type!==we.Unwatched&&M.type!==we.PresenceChanged||P(M)},s,l)}if(t==="my-presence"){const P=r;return this.eventStream.subscribe(U=>{for(const M of U)M.type!==we.Initialized&&M.type!==we.Watched&&M.type!==we.Unwatched&&M.type!==we.PresenceChanged||M.type!==we.Initialized&&M.value.clientID!==this.changeID.getActorID()||P(M)},s,l)}if(t==="others"){const P=r;return this.eventStream.subscribe(U=>{for(const M of U)M.type!==we.Watched&&M.type!==we.Unwatched&&M.type!==we.PresenceChanged||M.value.clientID!==this.changeID.getActorID()&&P(M)},s,l)}if(t==="all"){const P=r;return this.eventStream.subscribe(P,s,l)}const m=t,w=r;return this.eventStream.subscribe(P=>{for(const U of P){if(U.type!==we.Snapshot&&U.type!==we.LocalChange&&U.type!==we.RemoteChange)continue;if(U.type===we.Snapshot){m==="$"&&w(U);continue}const M=[];for(const H of U.value.operations)this.isSameElementOrChildOf(H.path,m)&&M.push(H);M.length&&w({...U,value:{...U.value,operations:M}})}},s,l)}if(typeof t=="function"){const m=t,w=r,P=s;return this.eventStream.subscribe(U=>{for(const M of U)M.type!==we.Snapshot&&M.type!==we.LocalChange&&M.type!==we.RemoteChange||m(M)},w,P)}throw new Error(`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,r){if(r===t)return!0;const s=t.split(".");return r.split(".").every((m,w)=>m===s[w])}applyChangePack(t){for(t.hasSnapshot()?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getSnapshot()):t.hasChanges()&&this.applyChanges(t.getChanges(),Ae.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t.getCheckpoint().getClientSeq());)this.localChanges.shift();this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),this.garbageCollect(t.getMinSyncedTicket()),t.getIsRemoved()&&this.applyStatus(qt.Removed),k.isEnabled(y.Trivial)&&k.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:ct(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(t.length);return Uo.create(this.key,r,!1,t)}setActor(t){for(const r of this.localChanges)r.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=ts.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return of(t,this.clone.root.getObject())}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,r){const{root:s,presences:l}=yt.bytesToSnapshot(r);this.root=new Js(s),this.presences=l,this.changeID=this.changeID.syncLamport(t),this.clone=void 0,this.publish([{type:we.Snapshot,source:Ae.Remote,value:{snapshot:this.isEnableDevtools()?yt.bytesToHex(r):void 0,serverSeq:t.toString()}}])}applyChanges(t,r){k.isEnabled(y.Debug)&&k.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getRemovedElementSetSize()}`),k.isEnabled(y.Trivial)&&k.trivial(t.map(s=>`${s.getID().toTestString()}	${s.toTestString()}`).join(`
`));for(const s of t)this.applyChange(s,r);k.isEnabled(y.Debug)&&k.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getRemovedElementSetSize()}`)}applyChange(t,r){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,r);const s=[],l=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(l)){const w=t.getPresenceChange();switch(w.type){case Dn.Put:s.push(this.presences.has(l)?{type:we.PresenceChanged,source:r,value:{clientID:l,presence:w.presence}}:{type:we.Watched,source:Ae.Remote,value:{clientID:l,presence:w.presence}});break;case Dn.Clear:s.push({type:we.Unwatched,source:Ae.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:m}=t.execute(this.root,this.presences,r);if(this.changeID=this.changeID.syncLamport(t.getID().getLamport()),m.length>0){const w=this.isEnableDevtools()?t.toStruct():void 0;s.push(r===Ae.Remote?{type:we.RemoteChange,source:r,value:{actor:l,message:t.getMessage()||"",operations:m},rawChange:w}:{type:we.LocalChange,source:r,value:{actor:l,message:t.getMessage()||"",operations:m},rawChange:w})}s.length>0&&this.publish(s)}applyWatchStream(t){if(t.body.case==="initialization"){const r=t.body.value.clientIds,s=new Set;for(const l of r)s.add(l);this.setOnlineClients(s),this.publish([{type:we.Initialized,source:Ae.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:r,publisher:s}=t.body.value,l=[];if(r===G.DocEventType.DOCUMENT_WATCHED)this.addOnlineClient(s),this.hasPresence(s)&&l.push({type:we.Watched,source:Ae.Remote,value:{clientID:s,presence:this.getPresence(s)}});else if(r===G.DocEventType.DOCUMENT_UNWATCHED){const m=this.getPresence(s);this.removeOnlineClient(s),m&&l.push({type:we.Unwatched,source:Ae.Remote,value:{clientID:s,presence:m}})}l.length>0&&this.publish(l)}}applyStatus(t){this.status=t,t===qt.Detached&&this.setActor(Vt),this.publish([{source:t===qt.Removed?Ae.Remote:Ae.Local,type:we.StatusChanged,value:t===qt.Attached?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEvent(t){if(t.type===we.StatusChanged){this.applyStatus(t.value.status),t.value.status===qt.Attached&&this.setActor(t.value.actorID);return}if(t.type===we.Snapshot){const{snapshot:r,serverSeq:s}=t.value;if(!r)return;this.applySnapshot(lt.fromString(s),yt.hexToBytes(r));return}if(t.type===we.LocalChange||t.type===we.RemoteChange){if(!t.rawChange)return;const r=Ci.fromStruct(t.rawChange);this.applyChange(r,t.source)}if(t.type===we.Initialized){const r=new Set;for(const{clientID:s,presence:l}of t.value)r.add(s),this.presences.set(s,l);this.setOnlineClients(r);return}if(t.type===we.Watched){const{clientID:r,presence:s}=t.value;this.addOnlineClient(r),this.presences.set(r,s);return}if(t.type===we.Unwatched){const{clientID:r}=t.value;this.removeOnlineClient(r),this.presences.delete(r)}if(t.type===we.PresenceChanged){const{clientID:r,presence:s}=t.value;this.presences.set(r,s)}}applyTransactionEvent(t){for(const r of t)this.applyDocEvent(r)}getValueByPath(t){if(!t.startsWith("$"))throw new Le(_e.InvalidArgument,'path must start with "$"');const r=t.split(".");r.shift();let s=this.getRoot();for(const l of r)if(s=s[l],s===void 0)return;return s}setOnlineClients(t){this.onlineClients=t}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!==qt.Attached)return{};const t=this.presences.get(this.changeID.getActorID());return t?ct(t):{}}getPresence(t){if(!this.onlineClients.has(t))return;const r=this.presences.get(t);return r?ct(r):void 0}getPresenceForTest(t){const r=this.presences.get(t);return r?ct(r):void 0}getPresences(){const t=[];for(const r of this.onlineClients)this.presences.has(r)&&t.push({clientID:r,presence:ct(this.presences.get(r))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==t).sort((r,s)=>r.clientID>s.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new Error("Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new Error("There is no operation to be undone");this.ensureClone();const r=ts.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const M of t){if(!(M instanceof Xe)){new jt(r,ct(this.clone.presences.get(this.changeID.getActorID()))).set(M.value,{addToHistory:!0});continue}const H=r.issueTimeTicket();M.setExecutedAt(H),r.push(M)}const s=r.getChange();s.execute(this.clone.root,this.clone.presences,Ae.UndoRedo);const{opInfos:l,reverseOps:m}=s.execute(this.root,this.presences,Ae.UndoRedo),w=r.getReversePresence();if(w&&m.push({type:"presence",value:w}),m.length>0&&this.internalHistory.pushRedo(m),!s.hasPresenceChange()&&l.length===0)return;this.localChanges.push(s),this.changeID=s.getID();const P=this.changeID.getActorID(),U=[];l.length>0&&U.push({type:we.LocalChange,source:Ae.UndoRedo,value:{message:s.getMessage()||"",operations:l,actor:P},rawChange:this.isEnableDevtools()?s.toStruct():void 0}),s.hasPresenceChange()&&U.push({type:we.PresenceChanged,source:Ae.UndoRedo,value:{clientID:P,presence:this.getPresence(P)}}),this.publish(U)}redo(){if(this.isUpdating)throw new Error("Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new Error("There is no operation to be redone");this.ensureClone();const r=ts.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const M of t){if(!(M instanceof Xe)){new jt(r,ct(this.clone.presences.get(this.changeID.getActorID()))).set(M.value,{addToHistory:!0});continue}const H=r.issueTimeTicket();M.setExecutedAt(H),r.push(M)}const s=r.getChange();s.execute(this.clone.root,this.clone.presences,Ae.UndoRedo);const{opInfos:l,reverseOps:m}=s.execute(this.root,this.presences,Ae.UndoRedo),w=r.getReversePresence();if(w&&m.push({type:"presence",value:w}),m.length>0&&this.internalHistory.pushUndo(m),!s.hasPresenceChange()&&l.length===0)return;this.localChanges.push(s),this.changeID=s.getID();const P=this.changeID.getActorID(),U=[];l.length>0&&U.push({type:we.LocalChange,source:Ae.UndoRedo,value:{message:s.getMessage()||"",operations:l,actor:P},rawChange:this.isEnableDevtools()?s.toStruct():void 0}),s.hasPresenceChange()&&U.push({type:we.PresenceChanged,source:Ae.UndoRedo,value:{clientID:P,presence:this.getPresence(P)}}),this.publish(U)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}}function Dp(a,t){return r=>async s=>(a&&s.header.set("x-api-key",a),t&&s.header.set("authorization",t),await r(s))}const df=JSON.parse('{"u2":"yorkie-js-sdk","i8":"0.4.18"}');function _p(){return a=>async t=>(t.header.set("x-yorkie-user-agent",df.u2+"/"+df.i8),await a(t))}var Rn;(function(a){a.Manual="manual",a.Realtime="realtime",a.RealtimePushOnly="realtime-pushonly",a.RealtimeSyncOff="realtime-syncoff"})(Rn||(Rn={}));var ti;(function(a){a.Deactivated="deactivated",a.Activated="activated"})(ti||(ti={}));var rs;(function(a){a.Connected="connected",a.Disconnected="disconnected"})(rs||(rs={}));var is;(function(a){a.Synced="synced",a.SyncFailed="sync-failed"})(is||(is={}));var Qn;(function(a){a.StatusChanged="status-changed",a.DocumentChanged="document-changed",a.StreamConnectionStatusChanged="stream-connection-status-changed",a.DocumentSynced="document-synced"})(Qn||(Qn={}));const Go={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3};class hf{constructor(t,r){r=r||Go,this.key=r.key?r.key:S(),this.status=ti.Deactivated,this.attachmentMap=new Map,this.apiKey=r.apiKey||"",this.syncLoopDuration=r.syncLoopDuration||Go.syncLoopDuration,this.reconnectStreamDelay=r.reconnectStreamDelay||Go.reconnectStreamDelay,this.retrySyncLoopDelay=r.retrySyncLoopDelay||Go.retrySyncLoopDelay,this.rpcClient=re(Kn.V,Wn({baseUrl:t,interceptors:[Dp(r.apiKey,r.token),_p()]})),this.eventStream=L(s=>{this.eventStreamObserver=s})}activate(){return this.isActive()?Promise.resolve():this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(t=>{this.id=t.clientId,this.status=ti.Activated,this.runSyncLoop(),this.eventStreamObserver.next({type:Qn.StatusChanged,value:this.status}),k.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(t=>{throw k.error(`[AC] c:"${this.getKey()}" err :`,t),t})}deactivate(){if(this.status===ti.Deactivated)return Promise.resolve();for(const[t]of this.attachmentMap)this.detachInternal(t);return this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.status=ti.Deactivated,this.eventStreamObserver.next({type:Qn.StatusChanged,value:this.status}),k.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(t=>{throw k.error(`[DC] c:"${this.getKey()}" err :`,t),t})}attach(t,r={}){var s;if(!this.isActive())throw new Le(_e.ClientNotActive,`${this.key} is not active`);if(t.getStatus()!==qt.Detached)throw new Le(_e.DocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((m,w)=>w.set(r.initialPresence||{}));const l=(s=r.syncMode)!==null&&s!==void 0?s:Rn.Realtime;return this.rpcClient.attachDocument({clientId:this.id,changePack:yt.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(async m=>{const w=yt.fromChangePack(m.changePack);return t.applyChangePack(w),t.getStatus()===qt.Removed||(t.applyStatus(qt.Attached),this.attachmentMap.set(t.getKey(),new kp(this.reconnectStreamDelay,t,m.documentId,l)),l!==Rn.Manual&&await this.runWatchLoop(t.getKey()),k.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`)),t}).catch(m=>{throw k.error(`[AD] c:"${this.getKey()}" err :`,m),m})}detach(t,r={}){var s;if(!this.isActive())throw new Le(_e.ClientNotActive,`${this.key} is not active`);const l=this.attachmentMap.get(t.getKey());if(!l)throw new Le(_e.DocumentNotAttached,`${t.getKey()} is not attached`);return t.update((m,w)=>w.clear()),this.rpcClient.detachDocument({clientId:this.id,documentId:l.docID,changePack:yt.toChangePack(t.createChangePack()),removeIfNotAttached:(s=r.removeIfNotAttached)!==null&&s!==void 0?s:!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(m=>{const w=yt.fromChangePack(m.changePack);return t.applyChangePack(w),t.getStatus()!==qt.Removed&&t.applyStatus(qt.Detached),this.detachInternal(t.getKey()),k.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}).catch(m=>{throw k.error(`[DD] c:"${this.getKey()}" err :`,m),m})}async changeSyncMode(t,r){if(!this.isActive())throw new Le(_e.ClientNotActive,`${this.key} is not active`);const s=this.attachmentMap.get(t.getKey());if(!s)throw new Le(_e.DocumentNotAttached,`${t.getKey()} is not attached`);const l=s.syncMode;return l===r?t:(s.changeSyncMode(r),r===Rn.Manual?(s.cancelWatchStream(),t):(r===Rn.Realtime&&(s.remoteChangeEventReceived=!0),l===Rn.Manual&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new Le(_e.ClientNotActive,`${this.key} is not active`);const r=[];if(t){const s=this.attachmentMap.get(t.getKey());if(!s)throw new Le(_e.DocumentNotAttached,`${t.getKey()} is not attached`);r.push(this.syncInternal(s,Rn.Realtime))}else this.attachmentMap.forEach(s=>{r.push(this.syncInternal(s,s.syncMode))});return Promise.all(r).catch(s=>{throw this.eventStreamObserver.next({type:Qn.DocumentSynced,value:is.SyncFailed}),s})}remove(t){if(!this.isActive())throw new Le(_e.ClientNotActive,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new Le(_e.DocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const s=yt.toChangePack(t.createChangePack());return s.isRemoved=!0,this.rpcClient.removeDocument({clientId:this.id,documentId:r.docID,changePack:s},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(l=>{const m=yt.fromChangePack(l.changePack);t.applyChangePack(m),this.detachInternal(t.getKey()),k.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}).catch(l=>{throw k.error(`[RD] c:"${this.getKey()}" err :`,l),l})}subscribe(t,r,s){return this.eventStream.subscribe(t,r,s)}getID(){return this.id}getKey(){return this.key}isActive(){return this.status===ti.Activated}getStatus(){return this.status}runSyncLoop(){const t=()=>{if(!this.isActive()){k.debug(`[SL] c:"${this.getKey()}" exit sync loop`);return}const r=[];for(const[,s]of this.attachmentMap)s.needRealtimeSync()&&(s.remoteChangeEventReceived=!1,r.push(this.syncInternal(s,s.syncMode)));Promise.all(r).then(()=>setTimeout(t,this.syncLoopDuration)).catch(s=>{k.error(`[SL] c:"${this.getKey()}" sync failed:`,s),this.eventStreamObserver.next({type:Qn.DocumentSynced,value:is.SyncFailed}),setTimeout(t,this.retrySyncLoopDelay)})};k.debug(`[SL] c:"${this.getKey()}" run sync loop`),t()}async runWatchLoop(t){const r=this.attachmentMap.get(t);if(!r)throw new Le(_e.DocumentNotAttached,`${t} is not attached`);return r.runWatchLoop(s=>{if(!this.isActive())return Promise.reject(new Le(_e.ClientNotActive,`${this.key} is not active`));const l=new AbortController,m=this.rpcClient.watchDocument({clientId:this.id,documentId:r.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:l.signal});return this.eventStreamObserver.next({type:Qn.StreamConnectionStatusChanged,value:rs.Connected}),k.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((w,P)=>{(async()=>{try{for await(const M of m)this.handleWatchDocumentsResponse(r,M),M.body.case==="initialization"&&w([m,l])}catch(M){this.eventStreamObserver.next({type:Qn.StreamConnectionStatusChanged,value:rs.Disconnected}),k.debug(`[WD] c:"${this.getKey()}" unwatches`),s(),P(M)}})()})})}handleWatchDocumentsResponse(t,r){if(r.body.case==="event"&&r.body.value.type===G.DocEventType.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0,this.eventStreamObserver.next({type:Qn.DocumentChanged,value:[t.doc.getKey()]});return}t.doc.applyWatchStream(r)}detachInternal(t){const r=this.attachmentMap.get(t);r&&(r.cancelWatchStream(),k.debug(`[WD] c:"${this.getKey()}" unwatches`),this.eventStreamObserver.next({type:Qn.StreamConnectionStatusChanged,value:rs.Disconnected}),this.attachmentMap.delete(t))}syncInternal(t,r){const{doc:s,docID:l}=t,m=s.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:yt.toChangePack(m),pushOnly:r===Rn.RealtimePushOnly},{headers:{"x-shard-key":`${this.apiKey}/${s.getKey()}`}}).then(w=>{const P=yt.fromChangePack(w.changePack);if(P.hasChanges()&&t.syncMode===Rn.RealtimePushOnly)return s;s.applyChangePack(P),this.eventStreamObserver.next({type:Qn.DocumentSynced,value:is.Synced}),s.getStatus()===qt.Removed&&this.detachInternal(s.getKey());const U=s.getKey(),M=P.getChangeSize();return k.info(`[PP] c:"${this.getKey()}" sync d:"${U}", push:${m.getChangeSize()} pull:${M} cp:${P.getCheckpoint().toTestString()}`),s}).catch(w=>{throw k.error(`[PP] c:"${this.getKey()}" err :`,w),w})}}const xp={Client:hf,Document:ff,Primitive:Ye,Text:zo,Counter:Wo,Tree:Ko,IntType:dt.IntegerCnt,LongType:dt.LongCnt}})(),d})())})(Fm);var uv=Fm.exports;const Um=Mp(uv);class lv{constructor(n,i){this.x=n,this.y=i,this.lifetime=0}}const cv=({xPos:e,yPos:n})=>{const[i,o]=wn.useState([]),c=wn.useRef(null),[d,g]=wn.useState([]),y=(T,p)=>{const k=new lv(T,p);d.push(k),g(d),i.push(k),o(i)};return wn.useEffect(()=>{const p=c.current.getContext("2d"),k=()=>{p.clearRect(0,0,p.canvas.width,p.canvas.height);const S=.7*(1*4e3)/60;for(let C=0;C<d.length;++C){const O=d[C];let L;if(d[C-1]!==void 0?L=d[C-1]:L=O,O.lifetime+=1,O.lifetime>S)d.shift();else{p.lineWidth=5,p.lineJoin="round";const B=0,D=0,v=0;p.strokeStyle=`rgb(${B},${D},${v})`,p.beginPath(),p.moveTo(L.x,L.y),p.lineTo(O.x,O.y),p.stroke(),p.closePath()}}requestAnimationFrame(k)};k()},[d]),wn.useEffect(()=>{y(e,n)},[e,n]),ut.jsx("canvas",{className:"pen-cursor-canvas",ref:c,width:document.body.clientWidth,height:document.body.clientHeight})},fv="_goUp0_1lnal_1",dv="_goUpAnimation0_1lnal_1",hv="_fadeOut_1lnal_1",mv="_goUp1_1lnal_16",pv="_goUpAnimation1_1lnal_1",gv="_goUp2_1lnal_31",yv="_goUpAnimation2_1lnal_1",vv="_leftRight0_1lnal_46",Tv="_leftRightAnimation0_1lnal_1",wv="_leftRight1_1lnal_60",Sv="_leftRightAnimation1_1lnal_1",Ev="_leftRight2_1lnal_74",kv="_leftRightAnimation2_1lnal_1",Ku={goUp0:fv,goUpAnimation0:dv,fadeOut:hv,goUp1:mv,goUpAnimation1:pv,goUp2:gv,goUpAnimation2:yv,leftRight0:vv,leftRightAnimation0:Tv,leftRight1:wv,leftRightAnimation1:Sv,leftRight2:Ev,leftRightAnimation2:kv};function Nv({x:e,y:n,timestamp:i,selectedCursorShape:o}){return ut.jsx("div",{className:"single-animation-container",children:ut.jsx("div",{className:`absolute select-none pointer-events-none ${Ku.disappear} text-${i%5+2}xl ${Ku["goUp"+i%3]}`,style:{left:e,top:n},children:ut.jsx("div",{className:Ku["leftRight"+i%3],children:ut.jsx("div",{className:"transform -translate-x-1/2 -translate-y-1/2",children:ut.jsx("img",{src:`./icons/icon_${o}.svg`})})})})})}function Nd(e,n){const i=wn.useRef(e);wn.useEffect(()=>{i.current=e},[e]),wn.useEffect(()=>{function o(){i.current()}if(n!==null){let c=setInterval(o,n);return()=>clearInterval(c)}},[n])}const Iv=({pointerDown:e,xPos:n,yPos:i,selectedCursorShape:o})=>{const[c,d]=wn.useState([]),g=100;return Nd(()=>{d(y=>y.filter(T=>T.timestamp>Date.now()-4e3))},1e3),Nd(()=>{e&&d(y=>y.concat([{point:{x:n,y:i},timestamp:Date.now()}]))},g),ut.jsx("div",{style:{transform:`translateX(${n}px) translateY(${i}px)`},children:c.map(y=>ut.jsx(Nv,{x:y.point.x,y:y.point.y,timestamp:y.timestamp,selectedCursorShape:o},y.timestamp.toString()))})},Pv=({selectedCursorShape:e,x:n,y:i,pointerDown:o})=>ut.jsxs(ut.Fragment,{children:[ut.jsx("img",{src:`./icons/icon_${e}.svg`,className:`${e}-cursor`,style:{transform:`translate3d(${n}px, ${i}px, 0)`}}),(e==="heart"||e==="thumbs")&&ut.jsx(Iv,{pointerDown:o,xPos:n,yPos:i,selectedCursorShape:e}),e==="pen"&&o&&ut.jsx(cv,{xPos:n,yPos:i})]}),Av=({handleCursorShapeSelect:e,clientsLength:n})=>{const[i,o]=wn.useState("cursor"),c=["heart","thumbs","pen","cursor"];return ut.jsxs("div",{className:"cursor-selector-container",children:[ut.jsx("div",{className:"cursor-selections-container",children:c.map(d=>ut.jsx("img",{onClick:()=>{e(d),o(d)},className:`${i===d?"cursor-shape-selected":"cursor-shape-not-selected"}`,src:`./icons/icon_${d}.svg`},d))}),ut.jsx("div",{className:"num-users-container",children:ut.jsx("p",{children:n!==1?`${n} users are here`:"1 user here"})})]})};const Yu=new Um.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"}),xi=new Um.Document("simultaneous-cursors"),Ov=()=>{const[e,n]=wn.useState([]),i=o=>{xi.update((c,d)=>{d.set({cursorShape:o})})};return wn.useEffect(()=>{(async()=>{await Yu.activate(),xi.subscribe("presence",y=>{n(xi.getPresences())}),await Yu.attach(xi,{initialPresence:{cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1}}),window.addEventListener("beforeunload",()=>{Yu.deactivate()})})();const c=()=>{xi.update((y,T)=>{T.set({pointerDown:!1})})},d=()=>{xi.update((y,T)=>{T.set({pointerDown:!0})})},g=y=>{xi.update((T,p)=>{p.set({cursor:{xPos:y.clientX,yPos:y.clientY}})})};return window.addEventListener("mousedown",d),window.addEventListener("mouseup",c),window.addEventListener("mousemove",g),()=>{window.removeEventListener("mousedown",d),window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",g)}},[]),ut.jsxs("div",{className:"general-container",children:[e.map(({clientID:o,presence:{cursorShape:c,cursor:d,pointerDown:g}})=>ut.jsx(Pv,{selectedCursorShape:c,x:d.xPos,y:d.yPos,pointerDown:g},o)),ut.jsx(Av,{handleCursorShapeSelect:i,clientsLength:e.length})]})};qu.createRoot(document.getElementById("root")).render(ut.jsx(Ov,{}));
